globalsconstant real E=0.03125constant real F=2088.0constant real G=500.0boolean array evboolean array xvboolean array rvdialog iv=DialogCreate()button Rv=nullbutton dv=nullbutton fv=nullbutton gv=nullbutton hv=nullbutton Hv=nullunit jv=nullhashtable Jvunit qv=nullunit sv=nullunit tv=nullunitpool uv=nullitem Uv=nullitempool Be=nullattacktype fe=ATTACK_TYPE_NORMALdamagetype ex=DAMAGE_TYPE_NORMALweapontype ix=WEAPON_TYPE_WHOKNOWSreal ax=0real nx=0real Ox=0real Rx=0string array Ixtrigger array Nxinteger array bxinteger Bx=0integer array Cxinteger array Dxinteger array Fxinteger array gxinteger Gx='hpea'integer array hxboolean Hx=trueconstant integer jx=4integer array Jxinteger array Kxgroup lxreal array Lxgamecache mxboolean Mx=falsetrigger px=nulltrigger array Pxinteger qx=0item Sx=nulltrigger tx=nulltrigger array Txinteger ux=0region wxinteger Wx=3integer array Yxinteger array zxinteger array Zxboolean Xostring array vaitem ra=nulltrigger array iainteger aa=0constant integer Ea=4integer Oa=0boolexpr Ia=nullrect Na=nullinteger Calocation fa=Location(0.0,0.0)integer Fainteger Gainteger Hainteger Kainteger lainteger array Lainteger array mainteger array patrigger array Patrigger Qatrigger Tatrigger Watrigger yatrigger Zatrigger vVtimer eVinteger xVinteger oV=0group rV=nullgroup iV=nullreal aV=0real nV=0real VV=0real EV=0real XV=0real OV=0integer RV=0integer IV=0integer array AVinteger array NVboolean array bVtrigger BV=nulltrigger cV=nulltrigger CV=nulltrigger dV=nulltrigger DV=nulltrigger fV=nulltrigger FV=nulltrigger gV=nulltrigger GV=nulltrigger hV=nulltrigger HV=nulltrigger jV=nulltrigger JV=nulltrigger kV=nulltrigger KV=nulltrigger lV=nullunit LV=nullunit mV=nullunit MV=nullunit pV=nullunit PV=nullunit qV=nullstring array QVstring array sVstring array SVstring array tVstring array TVstring array uVunit array UVstring array wVinteger WV=0integer yV=0string YVstring array zVtrigger array ZVplayer vEinteger eEinteger xEinteger oEinteger rEinteger iEboolean aEboolean nEboolean XEboolean AEboolean dEboolean array DEboolean fEboolean gEdialog array GEbutton array hEreal jEreal JEreal array kEregion mEgroup array MEgroup pEgroup PEquest array qEtimer sEtexttag array tEweathereffect array uEinteger array UEboolean array wEunit yE=nullunit zE=nullunit vX=nullunit eX=nullboolean xX=falseboolean oX=falseboolean rX=falseboolean iX=falseboolean aX=falseboolean nX=falseboolean VX=falseboolean EX=falseinteger array XXitem OXunit w=nullunit z=nullunit A=nullunitpool B=nullreal H=0real I=0real l=0real J=0unit RX=nullunit IX=nullunit AX=nullunit NX=nullunit bX=nullunit BX=nullinteger array cXinteger array CXinteger array dXboolean array DXboolean array fXinteger FX=0integer gX=0boolean GX=falseboolean hX=falseboolean HX=falseboolean jX=falseboolean JX=falseboolean kX=falsedialog KX=nullbutton lX=nullbutton LX=nullbutton mX=nullbutton MX=nulldialog pX=nullbutton PX=nullbutton qX=nullbutton QX=nullbutton sX=nullbutton SX=nullbutton tX=nullinteger TX=0integer uX=0integer UX=0integer wX=0integer array WXinteger array yXinteger array YXinteger array zXinteger array ZXinteger array vOinteger array iOinteger array nOinteger array XOinteger array ROinteger array IOinteger array BOinteger array cOtrigger array Kinteger array Linteger M=0integer array Pinteger array Qinteger array Sinteger array Tinteger U=1752196449integer array Vboolean W=trueinteger array Xinteger array Yinteger array dOforce Zitem d4group e4group FO=nulltrigger f4=nulltrigger array g4integer h4=0item i4=nulltrigger array k4integer m4=0region gOconstant timer o4=CreateTimer()integer p4integer q4integer r4integer s4integer t4integer array u4integer array v4integer array w4trigger array x4integer array hOinteger array jOinteger array KOinteger array MOinteger array POtrigger y4trigger z4trigger A4trigger a4trigger B4trigger b4timer C4integer c4integer array qOreal array QOreal array tOreal array uOreal array UOreal array wOreal array zOreal array xRlocation oR=nullunit array K4unit array L4boolean array rRboolean array aRboolean array VRunit array ERinteger O4=0unit array P4location Q4=nulldialog array R4button array S4button array T4button array U4button array V4button array W4button array X4integer array Y4integer array XRinteger array bRinteger array cRinteger array fRinteger array HRinteger array JRgroup i7=nullinteger array kRinteger k7=0location array m7integer MR=0integer o7=0integer PR=0integer array q7unit array r7integer s7=0integer SR=0integer array u7location array v7group w7=nullinteger x7=0integer array y7timerdialog array z7timer array A7boolean uR=falseinteger B7=0unit array b7unit array C7integer c7=0real array D7effect array E7integer array F7integer array G7integer H7=0integer array I7button array l7button array J7button array zRbutton array ZRbutton array aIbutton array nIdialog array K7dialog VIinteger array L7integer EI=0integer N7=0integer array O7integer array P7timer array OItimerdialog array R7integer array S7real T7=0real U7=0real array NIstring array CIinteger array X7integer array Y7integer array Z7integer array d8integer array e8integer array dIinteger array g8integer array h8integer array i8integer array j8unit array k8unit array gIboolean array m8boolean array o8unit array p8integer array q8unit array r8player s8=nullboolean t8=falseinteger array HIdialog array v8button array w8button array x8button array y8button array z8button array A8button array a8button array B8boolean array b8boolean array C8boolean array c8dialog array D8integer E8=0boolean array F8boolean array jIboolean array G8boolean array H8boolean array I8boolean array l8integer array J8integer array JIinteger array KIinteger array N8integer array O8integer array P8integer array Q8integer array R8integer array S8integer array LIinteger array MIinteger array PIinteger array SIinteger array tIinteger array wIinteger array YIinteger array vAinteger array eAinteger array xAinteger array oAinteger array rAboolean array iAboolean array aAboolean array nAboolean array OAboolean array IAboolean array AAboolean array bAboolean array Z8boolean array d9boolean array e9timer array f9timerdialog array g9boolean array h9integer array i9group j9=nullgroup k9=nullreal m9=0real n9=0location array o9integer p9=0unit array q9group r9=nullgroup s9=nulllocation array t9integer u9=0boolean array v9boolean array w9boolean array x9boolean array y9integer array z9integer array A9item array a9location array B9unit array b9unit C9=nulllocation c9=nullunit D9=nulllightning array E9integer F9=0integer array G9integer array H9integer array I9integer array l9integer array BAunit array J9unit array dAunit array DAreal array fAreal array FAinteger array gAreal array hAreal array jAinteger array JAinteger array LAreal array pAinteger S9=0boolean array T9integer array qAinteger array QAinteger array sAinteger array SAinteger array tAinteger array uAinteger array UAtimer array Z9timerdialog array ddboolean array edtimer array fdtimerdialog array gdboolean hd=falseinteger array jdinteger array kdinteger array wAinteger array ndinteger array odinteger array pdinteger array qdinteger array rdinteger array udeffect array vdinteger array WAinteger array xdinteger array ydinteger zd=0boolean array Adinteger ad=0boolean array Bdunit array bdinteger array Cdboolean array cdinteger array Ddinteger array Edgroup array Fdreal array Gdtimer array Hdinteger array Idinteger array ldinteger array Jdinteger array Kdinteger array Ldinteger array Mdinteger array Ndinteger array Odinteger array Pdinteger array Qdboolean array Rdinteger array Sdinteger array Tdinteger array Udinteger array Vdinteger array Wdinteger array yAinteger Xd=0integer Yd=0integer Zd=0boolean de=falsetexttag array eeinteger array YAboolean array geboolean array heinteger ie=0dialog array jebutton array kebutton array mebutton array nebutton array oebutton array pebutton array qebutton array rebutton array zAbutton array nNbutton array XNbutton array ONbutton array seinteger array teinteger ue=0integer array veinteger array xeinteger array yeinteger array zeinteger array Aeinteger ae=0integer array RNinteger array BNinteger array cNinteger array Ceinteger array ceboolean array Deboolean array Eegroup Fe=nullrect dN=nullrect FN=nullrect gN=nullrect jN=nullrect Ge=nullrect He=nullrect Ie=nullrect le=nullrect Je=nullrect Ke=nullrect Le=nullrect Me=nullrect Ne=nullrect Oe=nullrect Pe=nullrect JN=nullrect Qe=nullrect Re=nullrect Se=nullrect Te=nullrect Ue=nullrect Ve=nullrect We=nullrect Xe=nullrect Ye=nullrect Ze=nullrect df=nullrect KN=nullrect ef=nullrect ff=nullrect gf=nullrect hf=nullrect jf=nullrect kf=nullrect mf=nullrect nf=nullrect of=nullrect pf=nullrect qf=nullrect rf=nullrect sf=nullrect tf=nullrect uf=nullrect vf=nullrect wf=nullrect xf=nullrect yf=nullrect zf=nullrect Af=nullrect af=nullrect Bf=nullrect bf=nullrect Cf=nullrect cf=nullrect Df=nullrect Ef=nullrect Ff=nullrect Gf=nullrect Hf=nullrect If=nullrect lf=nullrect Jf=nullrect Kf=nullrect Lf=nullrect Mf=nullrect Nf=nullrect Of=nullrect Pf=nullrect Qf=nullrect Rf=nullrect Sf=nullrect Tf=nullrect Uf=nullrect Vf=nullrect Wf=nullrect Xf=nullrect Yf=nullrect Zf=nullrect dg=nullrect eg=nullrect fg=nullrect gg=nullrect hg=nullrect ig=nullrect jg=nullrect kg=nullrect mg=nullrect ng=nullrect og=nullrect pg=nullrect qg=nullrect rg=nullrect sg=nullrect tg=nullrect ug=nullrect vg=nullrect wg=nullrect xg=nullrect yg=nullrect zg=nullrect Ag=nullrect ag=nullrect Bg=nullrect bg=nullrect Cg=nullrect cg=nullrect Dg=nullrect Eg=nullrect Fg=nullrect Gg=nullrect Hg=nullrect Ig=nullrect lg=nullrect Jg=nullrect Kg=nullrect Lg=nullrect Mg=nullrect Ng=nullrect Og=nullrect Pg=nullrect Qg=nullrect Rg=nullrect Sg=nullrect Ug=nullrect Vg=nullrect Wg=nullrect Xg=nullrect Yg=nullrect Zg=nullrect dh=nullrect eh=nullrect fh=nullrect gh=nullrect hh=nullrect lN=nullrect jh=nullrect kh=nullrect mh=nullrect nh=nullrect oh=nullrect ph=nullrect qh=nullrect rh=nullrect sh=nullrect th=nullrect uh=nullrect vh=nullsound wh=nullstring xh="war3mapImported\\yanmenguanqian4.mp3"string yh="war3mapImported\\wulindahui3.mp3"string zh="Sound\\Music\\mp3Music\\War2IntroMusic.mp3"sound Ah=nullsound ah=nullsound Bh=nullsound bh=nullsound Ch=nullsound Dh=nullsound Eh=nullsound Fh=nullsound Gh=nullsound Hh=nullsound Ih=nulltrigger lh=nulltrigger Jh=nulltrigger Lh=nulltrigger Mh=nulltrigger Nh=nulltrigger Oh=nulltrigger Ph=nulltrigger Qh=nulltrigger Rh=nulltrigger Sh=nulltrigger Th=nulltrigger Uh=nulltrigger Vh=nulltrigger Wh=nulltrigger Xh=nulltrigger Yh=nulltrigger Zh=nulltrigger ei=nulltrigger fi=nulltrigger gi=nulltrigger hi=nulltrigger ii=nulltrigger ji=nulltrigger ki=nulltrigger mi=nulltrigger ni=nulltrigger oi=nulltrigger pi=nulltrigger ri=nulltrigger si=nulltrigger zi=nulltrigger Ai=nulltrigger ai=nulltrigger Bi=nulltrigger bi=nulltrigger li=nulltrigger Ji=nulltrigger Ki=nulltrigger Li=nulltrigger Pi=nulltrigger Vi=nulltrigger Wi=nulltrigger Xi=nulltrigger Yi=nulltrigger Zi=nulltrigger dj=nulltrigger ej=nulltrigger fj=nulltrigger gj=nulltrigger hj=nulltrigger ij=nulltrigger jj=nulltrigger kj=nulltrigger mj=nulltrigger nj=nulltrigger oj=nulltrigger pj=nulltrigger qj=nulltrigger rj=nulltrigger sj=nulltrigger tj=nulltrigger uj=nulltrigger vj=nulltrigger wj=nulltrigger xj=nulltrigger yj=nulltrigger zj=nulltrigger Aj=nulltrigger aj=nulltrigger Bj=nulltrigger bj=nulltrigger Cj=nulltrigger cj=nulltrigger fk=nulltrigger pk=nulltrigger qk=nulltrigger rk=nulltrigger sk=nulltrigger tk=nulltrigger uk=nulltrigger vk=nulltrigger wk=nulltrigger xk=nulltrigger yk=nulltrigger zk=nulltrigger Ak=nulltrigger ak=nulltrigger Bk=nulltrigger bk=nulltrigger Ck=nulltrigger ck=nulltrigger Dk=nulltrigger Ek=nulltrigger Fk=nulltrigger Gk=nulltrigger Hk=nulltrigger Ik=nulltrigger Jk=nulltrigger Kk=nulltrigger Lk=nulltrigger Mk=nulltrigger Nk=nulltrigger Ok=nulltrigger Pk=nulltrigger Qk=nulltrigger Rk=nulltrigger Sk=nulltrigger Tk=nulltrigger Uk=nulltrigger Vk=nulltrigger Wk=nulltrigger Xk=nulltrigger Yk=nulltrigger Zk=nulltrigger im=nulltrigger jm=nulltrigger km=nulltrigger mm=nulltrigger nm=nulltrigger om=nulltrigger pm=nulltrigger qm=nulltrigger rm=nulltrigger sm=nulltrigger um=nulltrigger vm=nulltrigger wm=nulltrigger xm=nulltrigger ym=nulltrigger zm=nulltrigger Am=nulltrigger am=nulltrigger Bm=nulltrigger bm=nulltrigger Cm=nulltrigger cm=nulltrigger Dm=nulltrigger Em=nulltrigger Fm=nulltrigger Gm=nulltrigger Hm=nulltrigger Im=nulltrigger lm=nulltrigger Jm=nulltrigger Km=nulltrigger Lm=nulltrigger Mm=nulltrigger Nm=nulltrigger Om=nulltrigger Pm=nulltrigger Qm=nulltrigger Rm=nulltrigger Sm=nulltrigger Tm=nulltrigger Um=nulltrigger Vm=nulltrigger Wm=nulltrigger Xm=nulltrigger Ym=nulltrigger Zm=nulltrigger dn=nulltrigger en=nulltrigger fn=nulltrigger gn=nulltrigger hn=nulltrigger in=nulltrigger jn=nulltrigger kn=nulltrigger mn=nulltrigger nn=nulltrigger on=nulltrigger pn=nulltrigger qn=nulltrigger sn=nulltrigger tn=nulltrigger un=nulltrigger vn=nulltrigger wn=nulltrigger xn=nulltrigger yn=nulltrigger zn=nulltrigger An=nulltrigger an=nulltrigger Bn=nulltrigger bn=nulltrigger Cn=nulltrigger cn=nulltrigger Dn=nulltrigger En=nulltrigger Fn=nulltrigger In=nulltrigger Jn=nulltrigger Kn=nulltrigger Ln=nulltrigger Mn=nulltrigger Nn=nulltrigger Tn=nulltrigger Un=nulltrigger Vn=nulltrigger Wn=nulltrigger Xn=nulltrigger Yn=nulltrigger Zn=nulltrigger do=nulltrigger eo=nulltrigger fo=nulltrigger go=nulltrigger ho=nulltrigger io=nulltrigger jo=nulltrigger ko=nulltrigger mo=nulltrigger no=nulltrigger oo=nulltrigger po=nulltrigger qo=nulltrigger ro=nulltrigger so=nulltrigger to=nulltrigger uo=nulltrigger vo=nulltrigger wo=nulltrigger xo=nulltrigger yo=nulltrigger zo=nulltrigger Ao=nulltrigger ao=nulltrigger Bo=nulltrigger bo=nulltrigger Co=nulltrigger co=nulltrigger Do=nulltrigger Eo=nulltrigger Fo=nulltrigger Go=nulltrigger Ho=nulltrigger Io=nulltrigger lo=nulltrigger Jo=nulltrigger Ko=nulltrigger Lo=nulltrigger Mo=nulltrigger No=nulltrigger Oo=nulltrigger Po=nulltrigger Qo=nulltrigger Ro=nulltrigger So=nulltrigger To=nulltrigger Uo=nulltrigger Vo=nulltrigger Wo=nulltrigger Yo=nulltrigger Zo=nulltrigger dp=nulltrigger ep=nulltrigger fp=nulltrigger gp=nulltrigger hp=nulltrigger jp=nulltrigger kp=nulltrigger mp=nulltrigger np=nulltrigger op=nulltrigger pp=nulltrigger qp=nulltrigger sp=nulltrigger tp=nulltrigger vp=nulltrigger wp=nulltrigger xp=nulltrigger yp=nulltrigger zp=nulltrigger ap=nulltrigger Bp=nulltrigger bp=nulltrigger Cp=nulltrigger cp=nulltrigger Dp=nulltrigger Ep=nulltrigger Fp=nulltrigger Gp=nulltrigger Hp=nulltrigger Ip=nulltrigger Jp=nulltrigger Kp=nulltrigger Lp=nulltrigger Mp=nulltrigger Np=nulltrigger Op=nulltrigger Pp=nulltrigger Qp=nulltrigger Rp=nulltrigger Sp=nulltrigger Tp=nulltrigger Up=nulltrigger Vp=nulltrigger Wp=nulltrigger Xp=nulltrigger Zp=nulltrigger dq=nulltrigger eq=nulltrigger fq=nulltrigger gq=nulltrigger hq=nulltrigger jq=nulltrigger kq=nulltrigger mq=nulltrigger oq=nulltrigger pq=nulltrigger qq=nulltrigger rq=nulltrigger sq=nulltrigger tq=nulltrigger uq=nulltrigger vq=nulltrigger xq=nulltrigger yq=nulltrigger zq=nulltrigger Aq=nulltrigger aq=nulltrigger Bq=nulltrigger bq=nulltrigger Cq=nulltrigger cq=nulltrigger Dq=nulltrigger Eq=nulltrigger Fq=nulltrigger Gq=nulltrigger Hq=nulltrigger Iq=nulltrigger lq=nulltrigger Jq=nulltrigger Kq=nulltrigger Lq=nulltrigger Mq=nulltrigger Nq=nulltrigger Oq=nulltrigger Pq=nulltrigger Qq=nulltrigger Rq=nulltrigger Sq=nulltrigger Tq=nulltrigger Uq=nulltrigger Wq=nulltrigger kr=nulltrigger mr=nulltrigger nr=nulltrigger pr=nulltrigger qr=nulltrigger tr=nulltrigger ur=nulltrigger vr=nulltrigger wr=nulltrigger xr=nulltrigger yr=nulltrigger zr=nulltrigger Ar=nulltrigger ar=nulltrigger Br=nulltrigger br=nulltrigger Cr=nulltrigger cr=nulltrigger Dr=nulltrigger Er=nulltrigger Fr=nulltrigger Gr=nulltrigger Hr=nulltrigger Ir=nulltrigger lr=nulltrigger Jr=nulltrigger Kr=nulltrigger Lr=nulltrigger Mr=nulltrigger Nr=nulltrigger Pr=nulltrigger Qr=nulltrigger Rr=nulltrigger Sr=nulltrigger Tr=nulltrigger Ur=nulltrigger Vr=nulltrigger Wr=nulltrigger Xr=nulltrigger Yr=nulltrigger Zr=nulltrigger ds=nulltrigger es=nulltrigger fs=nulltrigger gs=nulltrigger hs=nulltrigger is=nulltrigger js=nulltrigger ks=nulltrigger ms=nulltrigger ns=nulltrigger os=nulltrigger ps=nulltrigger qs=nulltrigger rs=nulltrigger ss=nulltrigger ts=nulltrigger us=nulltrigger vs=nulltrigger ws=nulltrigger xs=nulltrigger ys=nulltrigger zs=nulltrigger As=nulltrigger as=nulltrigger Bs=nulltrigger Cs=nulltrigger cs=nulltrigger Ds=nulltrigger Es=nulltrigger Fs=nulltrigger Gs=nulltrigger Ks=nullunit Ls=nullunit LN=nullunit Ns=nullunit Os=nullunit Ps=nullunit Qs=nullunit Rs=nullunit qN=nullunit tN=nullunit Ss=nullunit Ts=nullunit Us=nullunit Vs=nullunit Ws=nullunit Xs=nullunit Ys=nullunit Zs=nullunit ft=nullunit gt=nullunit ht=nullunit jt=nullunit kt=nullunit nt=nullunit ot=nullunit ut=nullunit vt=nullunit xt=nullunit yt=nullunit zt=nullunit At=nullunit Bt=nullunit Ct=nullunit ct=nullunit Dt=nullunit Et=nullunit Ft=nulldestructable Gt=nulltrigger Ht=nulltrigger It=nulltrigger Jt=nullinteger Kt=0integer Lt=0integer array Mtinteger array Ntinteger Ot=0unit array Ptunit array Qtreal array Rtreal array Streal array Ttreal array Utreal array Vtreal array Wtreal array Xtreal array Ytreal array Ztreal fu=.0real gu=.0boolexpr ju=nulleffect array UNboolean wNreal zNdialog vb=DialogCreate()button array ebinteger array xbinteger array obinteger array rbunit ibtrigger ab=nulltrigger nb=nulleffect Vb=nullunit Ebunit Xbunit Obboolean Rbboolean Ibboolean Abinteger array Nbstring array bbinteger array Bbinteger array cbboolean array Cbboolean array dbreal array Dbunit array fbunit array Fbreal array gbtimer Gb=CreateTimer()integer hb=0integer array Hbinteger array jbunit array Jbreal array kbreal array Kbreal array Lbboolean array Mbreal pbreal Pbreal qbreal Qbreal sbreal Sbinteger tb=0integer Tb=0integer array ubinteger Ubinteger wb=1integer array Wbstring array ybinteger array Ybinteger zbinteger Zb=1string array vBinteger array xBstring array oBstring array rBinteger array iBboolean array aBinteger VB=0integer EB=0integer array XBinteger array OBconstant integer RB=8integer array IBinteger array ABinteger array NBinteger array bBstring array BBinteger cB=0integer CB=0integer array DBreal array fBreal array FBreal array gBinteger GB=0integer hB=0integer array HBinteger array JBinteger array kBinteger array KBunit array lBunit array LBunit array MBreal array pBreal array PBreal array qBreal array QBreal array sBinteger array SBinteger array tBinteger array TBinteger array uBinteger array UBinteger array wBstring array WBstring array yBstring array YBstring array zBboolean array ZBboolean array vcboolean array ocgroup array ictimer array ncinteger Vc=0integer Ic=0integer array Ncinteger array bcinteger array dcboolean array Dcinteger hc=0integer jc=0integer array kcinteger array Kcinteger array mcreal array pcreal array Qcinteger Tc=0integer Uc=0integer array Wcinteger array ycinteger array Zcinteger array eCinteger array oCinteger array rCstring array iCinteger array nCtrigger array XCinteger array OCtrigger array RCtrigger bCtrigger dCtrigger DCtrigger fCtrigger gCtrigger GCtrigger array hCinteger jCinteger kCinteger lCinteger LCinteger mCunit pCreal qCinteger sCstring tCinteger UCreal md=0.real wd=0.boolexpr OD=nullendglobalsfunction AD takes location bD,real DD,real fD returns locationreturn Location(GetLocationX(bD)+DD*Cos(fD*bj_DEGTORAD),GetLocationY(bD)+DD*Sin(fD*bj_DEGTORAD))endfunctionfunction GD takes nothing returns booleanlocal destructable d=GetFilterDestructable()local real dx=GetDestructableX(d)-mdlocal real dy=GetDestructableY(d)-wdreturn(dx*dx+dy*dy<=bj_enumDestructableRadius)endfunctionfunction kD takes itemtype lD,integer LD returns nothinglocal group gset bj_stockPickedItemType=lDset bj_stockPickedItemLevel=LDset g=CreateGroup()call GroupEnumUnitsOfType(g,"marketplace",OD)call ForGroup(g,function UpdateEachStockBuildingEnum)call DestroyGroup(g)set g=nullendfunctionfunction pD takes nothing returns nothinglocal integer pickedItemIdlocal itemtype sDlocal integer UD=0local integer vF=0local integer LDset LD=1loopif(bj_stockAllowedPermanent[LD])thenset vF=vF+1if(GetRandomInt(1,vF)==1)thenset sD=ITEM_TYPE_PERMANENTset UD=LDendifendifif(bj_stockAllowedCharged[LD])thenset vF=vF+1if(GetRandomInt(1,vF)==1)thenset sD=ITEM_TYPE_CHARGEDset UD=LDendifendifif(bj_stockAllowedArtifact[LD])thenset vF=vF+1if(GetRandomInt(1,vF)==1)thenset sD=ITEM_TYPE_ARTIFACTset UD=LDendifendifset LD=LD+1exitwhen LD>bj_MAX_ITEM_LEVELendloopif(vF==0)thenset sD=nullreturnendifcall kD(sD,UD)set sD=nullendfunctionfunction xF takes nothing returns nothingcall pD()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function pD)endfunctionfunction iF takes nothing returns nothinglocal integer LDset LD=0loopset bj_stockAllowedPermanent[LD]=falseset bj_stockAllowedCharged[LD]=falseset bj_stockAllowedArtifact[LD]=falseset LD=LD+1exitwhen LD>bj_MAX_ITEM_LEVELendloopcall SetAllItemTypeSlots(bj_MAX_STOCK_ITEM_SLOTS)call SetAllUnitTypeSlots(bj_MAX_STOCK_UNIT_SLOTS)set bj_stockUpdateTimer=CreateTimer()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function xF)set bj_stockItemPurchased=CreateTrigger()call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player(PLAYER_NEUTRAL_PASSIVE),EVENT_PLAYER_UNIT_SELL_ITEM,null)call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)endfunctionfunction VF takes nothing returns booleanreturn trueendfunctionfunction IF takes nothing returns nothinglocal integer NFlocal integer BFlocal version vset OD=Filter(function VF)set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)set filterEnumDestructablesInCircleBJ=Filter(function GD)set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)set NF=0loopexitwhen NF==bj_MAX_PLAYER_SLOTSset bj_FORCE_PLAYER[NF]=CreateForce()call ForceAddPlayer(bj_FORCE_PLAYER[NF],Player(NF))set NF=NF+1endloopset bj_FORCE_ALL_PLAYERS=CreateForce()call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)set bj_cineModePriorSpeed=GetGameSpeed()set bj_cineModePriorFogSetting=IsFogEnabled()set bj_cineModePriorMaskSetting=IsFogMaskEnabled()set NF=0loopexitwhen NF>=bj_MAX_QUEUED_TRIGGERSset bj_queuedExecTriggers[NF]=nullset bj_queuedExecUseConds[NF]=falseset NF=NF+1endloopset bj_isSinglePlayer=falseset BF=0set NF=0loopexitwhen NF>=bj_MAX_PLAYERSif(GetPlayerController(Player(NF))==MAP_CONTROL_USER and GetPlayerSlotState(Player(NF))==PLAYER_SLOT_STATE_PLAYING)thenset BF=BF+1endifset NF=NF+1endloopset bj_isSinglePlayer=(BF==1)set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,10000,10000)set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,10000,10000)set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,10000,10000)set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,10000,10000)set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,10000,10000)set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,10000,10000)set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,10000,10000)set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)call DelayedSuspendDecayCreate()set v=VersionGet()if(v==VERSION_REIGN_OF_CHAOS)thenset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0elseset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1endifendfunctionfunction cF takes nothing returns nothingcall ConfigureNeutralVictim()call IF()call InitQueuedTriggers()call InitRescuableBehaviorBJ()call InitDNCSounds()call InitMapRects()call InitSummonableCaps()call iF()call DetectGameStarted()endfunctionfunction fF takes integer FF,integer KF,integer mF,integer pF,integer sF returns integerset jC=FFset kC=KFset lC=mFset LC=pFset mC=sFcall TriggerEvaluate(gC)return UCendfunctionfunction SF takes nothing returns integerlocal integer wF=Tcif(wF!=0)thenset Tc=Wc[wF]elseset Uc=Uc+1set wF=Ucendifif(wF>8190)thenreturn 0endifset iC[wF]="自创武功"set Wc[wF]=-1return wFendfunctionfunction YF takes integer wF returns stringlocal string s=""set s=s+"+"+GetAbilityName(Kc[wF])+"："if mc[wF]!=2 thenset s=s+"伤害+"+I2S(R2I(Qc[wF]*100))+"%"elseif R2I(Qc[wF])==1 thenset s=s+"几率造成内伤"elseif R2I(Qc[wF])==2 thenset s=s+"几率造成走火入魔"elseif R2I(Qc[wF])==3 thenset s=s+"几率造成流血"elseif R2I(Qc[wF])==4 thenset s=s+"几率造成混乱"elseif R2I(Qc[wF])==5 thenset s=s+"几率造成昏迷"elseif R2I(Qc[wF])==6 thenset s=s+"几率造成重伤"elseif R2I(Qc[wF])==7 thenset s=s+"几率造成血流不止"elseif R2I(Qc[wF])==8 thenset s=s+"几率造成麻痹"elseif R2I(Qc[wF])==9 thenset s=s+"几率造成破防"elseif R2I(Qc[wF])==10 thenset s=s+"几率造成神经错乱"elseif R2I(Qc[wF])==11 thenset s=s+"几率造成封穴"elseif R2I(Qc[wF])==12 thenset s=s+"几率造成穴位全封"elseif R2I(Qc[wF])==13 thenset s=s+"几率造成中毒"endifendifreturn sendfunctionfunction zF takes nothing returns integerlocal integer wF=hcif(wF!=0)thenset hc=kc[wF]elseset jc=jc+1set wF=jcendifif(wF>8190)thenreturn 0endifset pc[wF]=0.set kc[wF]=-1return wFendfunctionfunction Tg takes nothing returns integerlocal integer wF=Vcif(wF!=0)thenset Vc=Nc[wF]elseset Ic=Ic+1set wF=Icendifif(wF>8190)thenreturn 0endifset Dc[wF]=falseset Nc[wF]=-1return wFendfunctionfunction xG takes nothing returns integerlocal integer wF=tbif(wF!=0)thenset tb=ub[wF]elseset Tb=Tb+1set wF=Tbendifif(wF>8190)thenreturn 0endifset nC[wF]=2set ub[wF]=-1return wFendfunctionfunction rG takes nothing returns integerlocal integer wF=xG()local integer XGif(wF==0)thenreturn 0endifset nC[wF]=3set XG=wFreturn wFendfunctionfunction RG takes nothing returns integerlocal integer wF=GBif(wF!=0)thenset GB=HB[wF]elseset hB=hB+1set wF=hBendifif(wF>8190)thenreturn 0endifset OC[wF]=10set HB[wF]=-1return wFendfunctionfunction AG takes integer wF returns nothingif wF==null thenreturnelseif(HB[wF]!=-1)thenreturnendifset sC=wFcall TriggerEvaluate(RC[OC[wF]])set HB[wF]=GBset GB=wFendfunctionfunction bG takes nothing returns integerlocal integer wF=cBif(wF!=0)thenset cB=DB[wF]elseset CB=CB+1set wF=CBendifif(wF>8190)thenreturn 0endifset DB[wF]=-1return wFendfunctionfunction DG takes integer wF returns nothingif wF==null thenreturnelseif(DB[wF]!=-1)thenreturnendifset DB[wF]=cBset cB=wFendfunctionfunction hG takes nothing returns integerlocal integer wF=VBif(wF!=0)thenset VB=XB[wF]elseset EB=EB+1set wF=EBendifif(wF>1022)thenreturn 0endifset IB[wF]=(wF-1)*8set NB[wF]=(wF-1)*8set bB[wF]=7set XB[wF]=-1return wFendfunctionfunction kG takes nothing returns integerlocal integer wF=RG()local integer XGif(wF==0)thenreturn 0endifset OC[wF]=13set XG=wFreturn wFendfunctionfunction lG takes nothing returns integerlocal integer wF=RG()local integer XGif(wF==0)thenreturn 0endifset OC[wF]=11set XG=wFreturn wFendfunctionfunction LG takes nothing returns integerlocal integer wF=RG()local integer XGif(wF==0)thenreturn 0endifset OC[wF]=12set XG=wFreturn wFendfunctionfunction uG takes integer i,unit a1,real a2 returns nothingset pC=a1set qC=a2call TriggerEvaluate(hC[i])endfunctionfunction ih takes unit a0,real a1 returns nothingcall uG(1,a0,a1)call SetUnitMoveSpeed(a0,a1)endfunctionfunction aH takes integer wF returns nothingset Lb[wF]=0.if(jb[wF]!=0)thenset Hb[jb[wF]]=Hb[wF]endifset jb[Hb[wF]]=jb[wF]set Hb[wF]=Hb[(0)]set Hb[(0)]=wFif(jb[(0)]==0)thencall PauseTimer(Gb)endifendfunctionfunction EH takes integer wF returns booleanreturn GetUnitAbilityLevel(Jb[wF],'BSTN')<1 and GetUnitAbilityLevel(Jb[wF],'BPSE')<1 and GetUnitMoveSpeed(Jb[wF])>521.0 and not IsUnitPaused(Jb[wF])and not Mb[wF]endfunctionfunction XH takes integer wF returns nothingif(not EH(wF))thenreturnendifset pb=GetUnitX(Jb[wF])set Pb=GetUnitY(Jb[wF])set qb=pb-kb[wF]set Qb=Pb-Kb[wF]set kb[wF]=pbset Kb[wF]=Pbset sb=SquareRoot(qb*qb+Qb*Qb)/ Eif(sb>=G and sb<=F)thenset Sb=(Lb[wF]-522.)/ sbset kb[wF]=pb+qb*Sbset Kb[wF]=Pb+Qb*Sbcall SetUnitX(Jb[wF],kb[wF])call SetUnitY(Jb[wF],Kb[wF])endifendfunctionfunction NH takes nothing returns nothinglocal integer wF=(0)loopset wF=jb[wF]exitwhen(wF==0)if(GetWidgetLife(Jb[wF])<0.405)thencall aH(wF)elsecall XH(wF)endifendloopendfunctionfunction CH takes unit u returns integerlocal integer wF=(0)loopset wF=jb[wF]exitwhen wF==0if Jb[wF]==u thenreturn wFendifendloopreturn(0)endfunctionfunction mH takes unit u returns reallocal integer wF=CH(u)if(wF>0 and GetUnitMoveSpeed(u)>521.0)thenreturn Lb[wF]endifreturn GetUnitMoveSpeed(u)endfunctionfunction pH takes unit u,real QH returns nothinglocal integer wFif(u==null or GetWidgetLife(u)<0.405)thenreturnendifset wF=CH(u)if(QH<523.)thenif(wF>0)thencall aH(wF)endifreturnelseif(wF==0)thenif(Hb[(0)]==0)thenset hb=hb+1set wF=hbelseset wF=Hb[(0)]set Hb[(0)]=Hb[Hb[(0)]]endifif(jb[(0)]==0)thencall TimerStart(Gb,E,true,function NH)elseset Hb[jb[(0)]]=wFendifset jb[wF]=jb[(0)]set jb[(0)]=wFset Hb[wF]=(0)set Jb[wF]=uendifset QH=RMinBJ(QH,F)set kb[wF]=GetUnitX(u)set Kb[wF]=GetUnitY(u)set Lb[wF]=QHendfunctionfunction sH takes nothing returns booleanlocal player p=GetOwningPlayer(GetTriggerUnit())local integer i=1+GetPlayerId(p)if GetItemTypeId(GetManipulatedItem())=='I09O' and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))thenreturn trueendifreturn falseendfunctionfunction UH takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if jv!=null thencall DisplayTimedTextToPlayer(p,0,0,15,"|cFFFFFF00挑战场正在使用中，请耐心等待")call AdjustPlayerStateBJ(100000,p,PLAYER_STATE_RESOURCE_GOLD)elseif(GetPlayerController(p)==MAP_CONTROL_USER)and(GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING)thencall DialogClear(iv)call DialogSetMessage(iv,"请选择要挑战的对象")if xv[i]==false and GetUnitLevel(u)>=90 thenset Rv=DialogAddButtonBJ(iv,"|cFF00CC00独孤求败")endifif ev[i]==false and GetUnitLevel(u)>=90 thenset dv=DialogAddButtonBJ(iv,"|cFFCC0066血刀老祖")endifif rv[i]==false and GetUnitLevel(u)>=90 thenset hv=DialogAddButtonBJ(iv,"|cFFCC0066达摩祖师")endifset fv=DialogAddButtonBJ(iv,"|cFFFF6600冯默风")if GetUnitLevel(u)>=90 thenset gv=DialogAddButtonBJ(iv,"|cFFFF0000朱聪")endifset Hv=DialogAddButtonBJ(iv,"|cFFFFFF00取消")call DialogDisplayBJ(true,iv,p)endifendifset u=nullset p=nullendfunctionfunction yH takes nothing returns nothinglocal location vJ=Location(12156,-12021)local player p=GetTriggerPlayer()local unit u=ER[1+GetPlayerId(p)]if GetClickedButton()==Rv thencall CreateNUnitsAtLoc(1,'n005',Player(12),vJ,bj_UNIT_FACING)set jv=bj_lastCreatedUnitcall SetUnitPosition(u,11459,-12021)call PanCameraToTimedForPlayer(p,11459,-12021,0)endifif GetClickedButton()==dv thencall CreateNUnitsAtLoc(1,'o01W',Player(12),vJ,bj_UNIT_FACING)set jv=bj_lastCreatedUnitcall SetUnitPosition(u,11459,-12021)call PanCameraToTimedForPlayer(p,11459,-12021,0)endifif GetClickedButton()==hv thencall CreateNUnitsAtLoc(1,'o024',Player(12),vJ,bj_UNIT_FACING)set jv=bj_lastCreatedUnitcall SetUnitPosition(u,11459,-12021)call PanCameraToTimedForPlayer(p,11459,-12021,0)endifif GetClickedButton()==fv thencall CreateNUnitsAtLoc(1,'o01V',Player(12),vJ,bj_UNIT_FACING)set jv=bj_lastCreatedUnitcall SetUnitPosition(u,11459,-12021)call PanCameraToTimedForPlayer(p,11459,-12021,0)endifif GetClickedButton()==gv thencall CreateNUnitsAtLoc(1,'n006',Player(12),vJ,bj_UNIT_FACING)set jv=bj_lastCreatedUnitcall SetUnitPosition(u,11459,-12021)call PanCameraToTimedForPlayer(p,11459,-12021,0)endifif GetClickedButton()==Hv thencall AdjustPlayerStateBJ(100000,p,PLAYER_STATE_RESOURCE_GOLD)endifcall RemoveLocation(vJ)set vJ=nullset u=nullset p=nullendfunctionfunction iJ takes nothing returns booleanreturn IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))and(GetUnitTypeId(GetTriggerUnit())=='n005' or GetUnitTypeId(GetTriggerUnit())=='o01W' or GetUnitTypeId(GetTriggerUnit())=='o01V' or GetUnitTypeId(GetTriggerUnit())=='n006' or GetUnitTypeId(GetTriggerUnit())=='o024')endfunctionfunction aJ takes nothing returns nothinglocal location vJ=GetUnitLoc(GetTriggerUnit())local integer i=0if GetUnitTypeId(GetTriggerUnit())=='n005' thencall CreateItemLoc('I09Q',vJ)call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cFF00CC00"+GetPlayerName(GetOwningPlayer(GetKillingUnit()))+"杀死了独孤求败，获得了武魂石")set i=1loopexitwhen i>=6set xv[i]=trueset i=i+1endloopset jv=nullelseif GetUnitTypeId(GetTriggerUnit())=='o01W' thencall CreateItemLoc('I098',vJ)call SaveInteger(Jv,GetHandleId(bj_lastCreatedItem),0,25000)set ev[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=trueset jv=nullelseif GetUnitTypeId(GetTriggerUnit())=='o024' thencall CreateItemLoc('I0AL',vJ)set rv[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=trueset jv=nullelseif GetUnitTypeId(GetTriggerUnit())=='o01V' thencall CreateItemLoc('I09P',vJ)set jv=nullelseif GetUnitTypeId(GetTriggerUnit())=='n006' thenif GetRandomInt(0,100)<=30 thencall CreateItemLoc('I09Z',vJ)elsecall CreateItemLoc('I06K',vJ)endifset jv=nullendifcall RemoveLocation(vJ)set vJ=nullendfunctionfunction VJ takes nothing returns nothinglocal trigger t=CreateTrigger()local integer i=0set i=1loopexitwhen i>=6set ev[i]=falseset xv[i]=falseset rv[i]=falseset i=i+1endloopcall TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function sH))call TriggerAddAction(t,function UH)set t=CreateTrigger()call TriggerRegisterDialogEvent(t,iv)call TriggerAddAction(t,function yH)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function iJ))call TriggerAddAction(t,function aJ)set t=nullendfunctionfunction EJ takes integer CJ returns integerif CJ=='I04F' thenreturn 3elseif CJ=='I00P' thenreturn 5elseif CJ=='I00Q' thenreturn 5elseif CJ=='I01L' thenreturn 2elseif CJ=='I01N' thenreturn 2elseif CJ=='I00X' thenreturn 4elseif CJ=='I00C' thenreturn 6elseif CJ=='I00D' thenreturn 6elseif CJ=='I00B' thenreturn 6elseif CJ=='I01F' thenreturn 1elseif CJ=='I01S' thenreturn 1elseif CJ=='I020' thenreturn 0elseif CJ=='I01E' thenreturn 2elseif CJ=='I021' thenreturn 0elseif CJ=='I016' thenreturn 2elseif CJ=='I013' thenreturn 4elseif CJ=='I08V' thenreturn 7elseif CJ=='I097' thenreturn 7elseif CJ=='I098' thenreturn 7elseif CJ=='I099' thenreturn 5elseif CJ=='I09A' thenreturn 5elseif CJ=='I09B' thenreturn 7elseif CJ=='I09C' thenreturn 7elseif CJ=='I09D' thenreturn 7endifreturn-1endfunctionfunction fJ takes unit u,unit uc,integer CJ returns nothinglocal real r=0.local integer HJ=EJ(CJ)if HJ==0 thenset r=7.0elseif HJ==1 thenset r=6.0elseif HJ==2 thenset r=5.0elseif HJ==3 thenset r=4.5elseif HJ==4 thenset r=4.0elseif HJ==5 thenset r=3.0elseif HJ==6 thenset r=2.5elseif HJ==7 thenset r=2.0endifif LoadReal(Jv,GetHandleId(GetOwningPlayer(u)),CJ)<3000.*(1+EJ(CJ))or(LoadReal(Jv,GetHandleId(GetOwningPlayer(u)),CJ)<5000.*(1+EJ(CJ))and Ce[1+GetPlayerId(GetOwningPlayer(u))]==3)thenif(ModuloInteger(GetUnitPointValue(uc),50)!=0)and(GetUnitPointValue(uc)/ 100==1 or GetUnitPointValue(uc)/ 100>=5)thencall SaveReal(Jv,GetHandleId(GetOwningPlayer(u)),CJ,LoadReal(Jv,GetHandleId(GetOwningPlayer(u)),CJ)+r*200*xR[1+GetPlayerId(GetOwningPlayer(u))]*WA[1+GetPlayerId(GetOwningPlayer(u))])elsecall SaveReal(Jv,GetHandleId(GetOwningPlayer(u)),CJ,LoadReal(Jv,GetHandleId(GetOwningPlayer(u)),CJ)+r*2*xR[1+GetPlayerId(GetOwningPlayer(u))]*WA[1+GetPlayerId(GetOwningPlayer(u))])endifendifif OA[1+GetPlayerId(GetOwningPlayer(u))]==true and LoadReal(Jv,GetHandleId(GetOwningPlayer(u)),CJ)<10000.*(1+EJ(CJ))thencall SaveReal(Jv,GetHandleId(GetOwningPlayer(u)),CJ,LoadReal(Jv,GetHandleId(GetOwningPlayer(u)),CJ)+r*6*xR[1+GetPlayerId(GetOwningPlayer(u))]*WA[1+GetPlayerId(GetOwningPlayer(u))])endifendfunctionfunction JJ takes item it returns integerlocal integer HJ=EJ(GetItemTypeId(it))local integer i=0if HJ==0 thenset i=400elseif HJ==1 thenset i=800elseif HJ==2 thenset i=1600elseif HJ==3 thenset i=2400elseif HJ==4 thenset i=3200elseif HJ==5 thenset i=4400elseif HJ==6 thenset i=5400elseif HJ==7 thenset i=10000endifreturn iendfunctionfunction mJ takes nothing returns booleanreturn IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER and GetPlayerSlotState(GetOwningPlayer(GetKillingUnit()))==PLAYER_SLOT_STATE_PLAYINGendfunctionfunction MJ takes nothing returns nothinglocal unit u=GetKillingUnit()local player p=GetOwningPlayer(u)local integer j=1+GetPlayerId(p)local integer i=0local item it=nullset i=1loopexitwhen i>6if(GetItemType(UnitItemInSlotBJ(GetKillingUnit(),i))==ITEM_TYPE_ARTIFACT)thenset it=UnitItemInSlotBJ(GetKillingUnit(),i)if GetItemTypeId(it)=='I02S' thencall SaveReal(Jv,GetHandleId(GetOwningPlayer(u)),GetItemTypeId(it),2000)elseif GetItemTypeId(it)=='I02M' thencall SaveReal(Jv,GetHandleId(GetOwningPlayer(u)),GetItemTypeId(it),6000)elseif GetItemTypeId(it)=='I02Q' thencall SaveReal(Jv,GetHandleId(GetOwningPlayer(u)),GetItemTypeId(it),10000)elseif GetItemTypeId(it)=='I02R' thencall SaveReal(Jv,GetHandleId(GetOwningPlayer(u)),GetItemTypeId(it),14000)elseif GetItemTypeId(it)=='I02P' thencall SaveReal(Jv,GetHandleId(GetOwningPlayer(u)),GetItemTypeId(it),20000)endifif GetItemTypeId(it)!='I02S' and GetItemTypeId(it)!='I02M' and GetItemTypeId(it)!='I02Q' and GetItemTypeId(it)!='I02R' and GetItemTypeId(it)!='I02P' thencall fJ(u,GetTriggerUnit(),GetItemTypeId(it))if OA[j]==false and Ce[j]==3 thenif LoadBoolean(Jv,GetHandleId(GetOwningPlayer(u)),GetItemTypeId(it))==false and LoadReal(Jv,GetHandleId(GetOwningPlayer(u)),GetItemTypeId(it))>=5000.*(1+EJ(GetItemTypeId(it)))thencall SaveBoolean(Jv,GetHandleId(GetOwningPlayer(u)),GetItemTypeId(it),true)call DisplayTextToPlayer(p,0,0,"|CFF66FF00恭喜您炼成了第"+I2S(xA[j])+"把武器，您需要炼成3把武器才能获得兵器大师哦")endifendifif LoadInteger(Jv,GetHandleId(it),0)>0 thenif Ce[1+GetPlayerId(GetOwningPlayer(u))]!=3 thencall SaveInteger(Jv,GetHandleId(it),0,LoadInteger(Jv,GetHandleId(it),0)-1)endifendifendifendifset i=i+1endloopset u=nullset it=nullendfunctionfunction pJ takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())=='I01F' or GetItemTypeId(GetManipulatedItem())=='I016' or GetItemTypeId(GetManipulatedItem())=='I013'endfunctionfunction PJ takes nothing returns nothingif LoadInteger(Jv,GetHandleId(GetManipulatedItem()),0)==0 thencall SaveInteger(Jv,GetHandleId(GetManipulatedItem()),0,JJ(GetManipulatedItem())/ 2)endifendfunctionfunction sJ takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function mJ))call TriggerAddAction(t,function MJ)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function pJ))call TriggerAddAction(t,function PJ)set t=nullendfunctionfunction SJ takes integer id,location vJ returns itemlocal item it=nullset it=CreateItemLoc(id,vJ)if GetItemType(it)==ITEM_TYPE_ARTIFACT thencall SaveInteger(Jv,GetHandleId(it),0,JJ(it))endifset it=nullreturn bj_lastCreatedItemendfunctionfunction yJ takes integer id,real x,real y returns itemlocal item it=nullset it=CreateItem(id,x,y)if GetItemType(it)==ITEM_TYPE_ARTIFACT thencall SaveInteger(Jv,GetHandleId(it),0,JJ(it))endifset it=nullreturn bj_lastCreatedItemendfunctionfunction YJ takes integer eK,unit xK returns itemlocal item it=nullset it=UnitAddItemByIdSwapped(eK,xK)if GetItemType(it)==ITEM_TYPE_ARTIFACT thencall SaveInteger(Jv,GetHandleId(it),0,JJ(it))endifset it=nullreturn bj_lastCreatedItemendfunctionfunction oK takes nothing returns nothingset Jv=InitHashtable()endfunctionfunction YDWEFlushAllData takes nothing returns nothingcall FlushParentHashtable(Jv)endfunctionfunction rK takes unit a,unit b returns realreturn SquareRoot((GetUnitX(a)-GetUnitX(b))*(GetUnitX(a)-GetUnitX(b))+(GetUnitY(a)-GetUnitY(b))*(GetUnitY(a)-GetUnitY(b)))endfunctionfunction XK takes unit OK,unit RK returns realreturn bj_RADTODEG*Atan2(GetUnitY(RK)-GetUnitY(OK),GetUnitX(RK)-GetUnitX(OK))endfunctionfunction AK takes unit u returns nothingcall UnitAddAbility(u,'Amrf')call UnitRemoveAbility(u,'Amrf')endfunctionfunction GetLastAbilityCastingUnit takes nothing returns unitreturn qvendfunctionfunction GetLastAbilityTargetUnit takes nothing returns unitreturn svendfunctionfunction lK takes unit LK,integer NF returns nothinglocal integer i=0loopexitwhen i>=Bxif bx[i]==NF thenset qv=LKif Nx[i]!=null and TriggerEvaluate(Nx[i])and IsTriggerEnabled(Nx[i])thencall TriggerExecute(Nx[i])endifendifset i=i+1endloopendfunctionfunction YDWECreateUnitPool takes nothing returns nothingset uv=CreateUnitPool()endfunctionfunction YDWEGetLastUnitPool takes nothing returns unitpoolreturn uvendfunctionfunction YDWEGetLastPoolAbstractedUnit takes nothing returns unitreturn tvendfunctionfunction YDWECreateItemPool takes nothing returns nothingset Be=CreateItemPool()endfunctionfunction YDWEGetLastItemPool takes nothing returns itempoolreturn Beendfunctionfunction YDWEGetLastPoolAbstractedItem takes nothing returns itemreturn Uvendfunctionfunction MK takes nothing returns booleancall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,30,"|cFF1E90FF当前编辑器版本为： |r|cFF00FF00YDWE 1.28.7.1100")return falseendfunctionfunction uK takes nothing returns nothinglocal trigger t=CreateTrigger()local integer i=0loopexitwhen i==12call TriggerRegisterPlayerChatEvent(t,Player(i),"YDWE Version",true)set i=i+1endloopcall TriggerAddCondition(t,Condition(function MK))set t=nullendfunctionfunction UK takes nothing returns nothingset nx=GetCameraBoundMinX()-GetCameraMargin(CAMERA_MARGIN_LEFT)set Rx=GetCameraBoundMinY()-GetCameraMargin(CAMERA_MARGIN_BOTTOM)set ax=GetCameraBoundMaxX()+GetCameraMargin(CAMERA_MARGIN_RIGHT)set Ox=GetCameraBoundMaxY()+GetCameraMargin(CAMERA_MARGIN_TOP)set Ix[0]="|cFFFF0303"set Ix[1]="|cFF0042FF"set Ix[2]="|cFF1CE6B9"set Ix[3]="|cFF540081"set Ix[4]="|cFFFFFC01"set Ix[5]="|cFFFE8A0E"set Ix[6]="|cFF20C000"set Ix[7]="|cFFE55BB0"set Ix[8]="|cFF959697"set Ix[9]="|cFF7EBFF1"set Ix[10]="|cFF106246"set Ix[11]="|cFF4E2A04"set Ix[12]="|cFF282828"set Ix[13]="|cFF282828"set Ix[14]="|cFF282828"set Ix[15]="|cFF282828"call uK()endfunctionfunction YDWEGeneralBounsSystem___DisplayAllAbilityId takes nothing returns nothinglocal integer vl=0set vl='YDl0'set vl='YDl1'set vl='YDl2'set vl='YDl3'set vl='YDl4'set vl='YDl5'set vl='YDl6'set vl='YDl7'set vl='YDl8'set vl='YDl9'set vl='YDla'set vl='YDlb'set vl='YDlc'set vl='YDld'set vl='YDle'set vl='YDlf'set vl='YDm0'set vl='YDm1'set vl='YDm2'set vl='YDm3'set vl='YDm4'set vl='YDm5'set vl='YDm6'set vl='YDm7'set vl='YDm8'set vl='YDm9'set vl='YDma'set vl='YDmb'set vl='YDmc'set vl='YDmd'set vl='YDme'set vl='YDmf'set vl='YDc0'set vl='YDc1'set vl='YDc2'set vl='YDc3'set vl='YDc4'set vl='YDc5'set vl='YDc6'set vl='YDc7'set vl='YDc8'set vl='YDc9'set vl='YDca'set vl='YDcb'set vl='YDcc'set vl='YDb0'set vl='YDb1'set vl='YDb2'set vl='YDb3'set vl='YDb4'set vl='YDb5'set vl='YDb6'set vl='YDb7'set vl='YDb8'set vl='YDb9'set vl='YDba'set vl='YDbb'set vl='YDbc'set vl='YDbd'set vl='YDbe'set vl='YDbg'set vl='YDbh'set vl='YDbi'set vl='YDbj'set vl='YDbk'set vl='YDbl'set vl='YDbm'set vl='YDbn'endfunctionfunction el takes unit u,integer xl returns nothinglocal integer i=Cx[xl+1]-1loopexitwhen i<Cx[xl]call UnitRemoveAbility(u,Fx[i])set i=i-1endloopcall SaveInteger(Jv,StringHash((I2S((GetHandleId((u)))))),StringHash(("bonusType"+I2S(xl))),(0))endfunctionfunction ol takes unit u,integer xl,real rl returns booleanlocal integer v=R2I(rl)local integer s=0local integer o=0local unitstate nllocal integer i=Cx[xl+1]-2local integer a=Dx[xl]if rl>65535 or rl<=0 thenreturn falseendifif xl==0 thenset nl=UNIT_STATE_MAX_LIFEelseif xl==1 thenset nl=UNIT_STATE_MAX_MANAelsereturn falseendifset v=v-R2I(GetUnitState(u,nl))call SaveInteger(Jv,StringHash((I2S((GetHandleId((u)))))),StringHash(("bonusType"+I2S(xl))),(v))if v>0 thenset o=3elseif v<0 thenset o=2set v=-velsereturn falseendifloopexitwhen i<Cx[xl]if v>=gx[i]thencall UnitAddAbility(u,Fx[i])call SetUnitAbilityLevel(u,Fx[i],o)call UnitRemoveAbility(u,Fx[i])set v=v-gx[i]endifset i=i-1endloopreturn trueendfunctionfunction Vl takes unit u,integer xl,integer El returns booleanlocal integer iif El==0 thencall el(u,xl)return falseendifif El<Kx[xl]or El>Jx[xl]thenreturn falseelseif xl<0 or xl>=jx thenreturn falseendifcall SaveInteger(Jv,StringHash((I2S((GetHandleId((u)))))),StringHash(("bonusType"+I2S(xl))),(El))if El<0 thenset El=Jx[xl]+El+1call UnitAddAbility(u,Fx[Cx[xl+1]-1])call UnitMakeAbilityPermanent(u,true,Fx[Cx[xl+1]-1])elsecall UnitRemoveAbility(u,Fx[Cx[xl+1]-1])endifset i=Cx[xl+1]-2loopexitwhen i<Cx[xl]if El>=gx[i]thencall UnitAddAbility(u,Fx[i])call UnitMakeAbilityPermanent(u,true,Fx[i])set El=El-gx[i]elsecall UnitRemoveAbility(u,Fx[i])endifset i=i-1endloopreturn trueendfunctionfunction Al takes unit u,integer xl,real rl returns booleanlocal unitstate nlif xl==0 thenset nl=UNIT_STATE_MAX_LIFEelseif xl==1 thenset nl=UNIT_STATE_MAX_MANAelsereturn falseendifreturn ol(u,xl,rl+GetUnitState(u,nl))endfunctionfunction Cl takes unit u,integer xl,integer El returns booleanreturn Vl(u,xl,(LoadInteger(Jv,StringHash((I2S((GetHandleId(((u))))))),StringHash(("bonusType"+I2S((xl))))))+El)endfunctionfunction Dl takes unit u,integer xl,integer El returns nothingif xl==0 or xl==1 thencall ol(u,xl,El)elsecall Vl(u,xl,El)endifendfunctionfunction hl takes unit u,integer xl,integer El returns nothingif xl==0 or xl==1 thencall Al(u,xl,El)elsecall Cl(u,xl,El)endifendfunctionfunction Hl takes unit u,integer xl,integer Jl,integer El returns nothingif Jl==0 thencall hl(u,xl,El)elseif Jl==1 thencall hl(u,xl,0-El)elsecall Dl(u,xl,El)endifendfunctionfunction kl takes nothing returns nothinglocal integer i=0local integer m=0set Cx[0]=0set Cx[1]=15set Cx[2]=30set Cx[3]=43set Cx[4]=67set Dx[0]=15set Dx[1]=15set Dx[2]=13set Dx[3]=24loopexitwhen i>9set hx[i]='0'+mset m=m+1set i=i+1endloopset m=0loopexitwhen i>26set hx[i]='a'+mset m=m+1set i=i+1endloopset i=0set m=0loopexitwhen m>(Dx[0]-1)set Fx[i]='YDl0'-'0'+hx[m]set i=i+1set m=m+1endloopset m=0loopexitwhen m>(Dx[1]-1)set Fx[i]='YDm0'-'0'+hx[m]set i=i+1set m=m+1endloopset m=0loopexitwhen m>(Dx[2]-1)set Fx[i]='YDc0'-'0'+hx[m]set i=i+1set m=m+1endloopset m=0loopexitwhen m>(Dx[3]-1)set Fx[i]='YDb0'-'0'+hx[m]set i=i+1set m=m+1endloopendfunctionfunction ml takes nothing returns nothinglocal integer i=1local unit ulocal integer n=0local integer Ml=0call kl()loopset i=1set gx[Ml]=1loopset gx[Ml+1]=gx[Ml]*2set Ml=Ml+1set i=i+1exitwhen i==Dx[n]endloopset Jx[n]=gx[Ml]-1set Kx[n]=-gx[Ml]set Ml=Ml+1set n=n+1exitwhen n>=4endloopif Hx thenset u=CreateUnit(Player(15),Gx,0,0,0)set i=0loopexitwhen i==Cx[5]call UnitAddAbility(u,Fx[i])set i=i+1endloopcall RemoveUnit(u)set u=nullendifendfunctionfunction pl takes real Pl,location ql,boolexpr sl returns grouplocal group g=CreateGroup()call GroupEnumUnitsInRangeOfLoc(g,ql,Pl,sl)call DestroyBoolExpr(sl)set lx=gset g=nullreturn lxendfunctionfunction Sl takes real x returns reallocal real tl=0.local real x2local real ullocal real wl=1.if x>0 thenset x=(x-1.)/(x+1.)set x2=x*xloopset ul=tl+x*2./ wlexitwhen tl>=ul and tl<=ulset tl=ulset x=x*x2set wl=wl+2.endloopendifreturn tlendfunctionfunction yl takes real x returns reallocal real Yl=0.local real zl=1.local real i=64.local real HJ=32.local real nLlocal real VLlocal real BL=0.local integer cL=6if x>0 and(x<1 or x>1)thenif x<1 thenset zl=-1.set x=1./ xendifif x>=2. thenset nL=Lx[7]loopset VL=x/ nLexitwhen VL>=1. and VL<2.if x<nL thenset i=i-HJset nL=nL/ Lx[cL]elseset i=i+HJset nL=nL*Lx[cL]endifset HJ=HJ/ 2.set cL=cL-1endloopset BL=iset x=VLendifif x>1.4142135 thenset x=x/ 1.4142135set BL=BL+.5endifset Yl=zl*(BL+Sl(x)*1.442695)endifreturn Ylendfunctionfunction dL takes nothing returns nothingset Lx[1]=2.set Lx[2]=4.set Lx[3]=16.set Lx[4]=256.set Lx[5]=65536.set Lx[6]=65536.*65536.set Lx[7]=Lx[6]*Lx[6]endfunctionfunction FL takes real gL returns nothinglocal timer tlocal real GLif(gL>0)thenset t=CreateTimer()call TimerStart(t,gL,false,null)loopset GL=TimerGetRemaining(t)exitwhen GL<=0if(GL>bj_POLLED_WAIT_SKIP_THRESHOLD)thencall TriggerSleepAction(0.1*GL)elsecall TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)endifendloopcall DestroyTimer(t)endifset t=nullendfunctionfunction HL takes player p returns booleanreturn(GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(p)==MAP_CONTROL_USER)endfunctionfunction YDWESync___GetLivingfPlayer takes nothing returns playerlocal integer i=0loopexitwhen HL(Player(i))or i>=11set i=i+1endloopreturn Player(i)endfunctionfunction jL takes nothing returns nothingloopif not Mx thenset Mx=truereturnendifcall TriggerSleepAction(0.2)endloopendfunctionfunction YDWESync_Unlock takes nothing returns nothingset Mx=falseendfunctionfunction JL takes player p returns nothingif GetLocalPlayer()==p thencall StoreInteger(mx,"-","-",'YDWE')endifcall TriggerSyncStart()if GetLocalPlayer()==p thencall SyncStoredInteger(mx,"-","-")endifcall StoreInteger(mx,"-","-",0)call TriggerSyncReady()loopif'YDWE'==GetStoredInteger(mx,"-","-")thenreturnendifcall TriggerSleepAction(0.2)endloopendfunctionfunction YDWESync_Start takes nothing returns nothingcall TriggerSyncStart()endfunctionfunction YDWESync_Ready takes nothing returns nothingcall TriggerSyncReady()endfunctionfunction ML takes nothing returns nothingcall FlushGameCache(InitGameCache("@"))set mx=InitGameCache("@")endfunctionfunction PL takes nothing returns nothinglocal integer i=0loopexitwhen i>=qxif Px[i]!=null and IsTriggerEnabled(Px[i])and TriggerEvaluate(Px[i])thencall TriggerExecute(Px[i])endifset i=i+1endloopendfunctionfunction qL takes nothing returns booleanif GetUnitAbilityLevel(GetFilterUnit(),'Aloc')<=0 thencall TriggerRegisterUnitEvent(px,GetFilterUnit(),EVENT_UNIT_DAMAGED)endifreturn falseendfunctionfunction SL takes nothing returns nothinglocal trigger t=CreateTrigger()local region r=CreateRegion()local group g=CreateGroup()call RegionAddRect(r,GetWorldBounds())call TriggerRegisterEnterRegion(t,r,Condition(function qL))call GroupEnumUnitsInRect(g,GetWorldBounds(),Condition(function qL))call DestroyGroup(g)set r=nullset t=nullset g=nullendfunctionfunction tL takes trigger wL returns nothingif wL==null thenreturnendifif qx==0 thenset px=CreateTrigger()call TriggerAddAction(px,function PL)call SL()endifset Px[qx]=wLset qx=qx+1endfunctionfunction YL takes nothing returns nothinglocal integer i=0if GetIssuedOrderId()>=852002 and GetIssuedOrderId()<=852007 thenset Sx=GetOrderTargetItem()loopexitwhen i>=uxif Tx[i]!=null and IsTriggerEnabled(Tx[i])and TriggerEvaluate(Tx[i])thencall TriggerExecute(Tx[i])endifset i=i+1endloopendifendfunctionfunction GetLastMovedItemInItemSlot takes nothing returns itemreturn Sxendfunctionfunction zL takes trigger eM,rect r returns eventlocal region xM=CreateRegion()call RegionAddRect(xM,r)set wx=xMset xM=nullreturn TriggerRegisterLeaveRegion(eM,wx,null)endfunctionfunction oM takes unit rM,integer eK returns booleanlocal integer NF=0if eK!=0 thenloopif GetItemTypeId(UnitItemInSlot(rM,NF))==eK thenreturn trueendifset NF=NF+1exitwhen NF>=bj_MAX_INVENTORYendloopendifreturn falseendfunctionfunction XM takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit LK=((LoadUnitHandle(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("Hero")))))local real fD=(LoadReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("Angle"))))local integer OM=(LoadInteger(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("steeps"))))local integer RM=(LoadInteger(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("steepsMax"))))local real AM=(LoadReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("heightMax"))))local real DD=(LoadReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("dist"))))local real NM=(LoadReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("dheig"))))local real bM=(LoadReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("OriginHeight"))))local real x=(LoadReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("X"))))local real y=(LoadReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("Y"))))local real x1=0local real y1=0local real DM=0local integer fM=Wxlocal integer gM=(LoadInteger(Jv,StringHash((I2S((GetHandleId((LK)))))),StringHash(("lvUnitMove"))))if OM<RM and fM>=gM thenset x1=x+OM*DD*Cos(fD*3.14159/ 180.0)set y1=y+OM*DD*Sin(fD*3.14159/ 180.0)set x1=(RMinBJ(RMaxBJ(((x1)*1.0),nx),ax))set y1=(RMinBJ(RMaxBJ(((y1)*1.0),Rx),Ox))call SetUnitX(LK,x1)call SetUnitY(LK,y1)set OM=OM+1call SaveInteger(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("steeps")),(OM))set DM=(-(2*I2R(OM)*NM-1)*(2*I2R(OM)*NM-1)+1)*AM+bMcall SetUnitFlyHeight(LK,DM,99999)call SetUnitFacing(LK,fD)elsecall SetUnitFlyHeight(LK,bM,99999)call SetUnitPathing(LK,true)call DestroyTimer(t)call FlushChildHashtable(Jv,StringHash((I2S((GetHandleId((t)))))))call SaveInteger(Jv,StringHash((I2S((GetHandleId((LK)))))),StringHash(("lvUnitMove")),(0))call lK(LK,2)endifset t=nullset LK=nullendfunctionfunction GM takes unit LK,real fD,real hM,real kM,real lM,real AM returns nothinglocal timer t=nulllocal real x=GetUnitX(LK)local real y=GetUnitY(LK)local integer RM=R2I(kM/ lM)local integer OM=0local real DD=hM/ RMlocal real NM=1.0/ RMlocal real bM=GetUnitFlyHeight(LK)local integer gM=(LoadInteger(Jv,StringHash((I2S((GetHandleId((LK)))))),StringHash(("lvUnitMove"))))if Wx<=gM thenreturnendifset t=CreateTimer()call SaveInteger(Jv,StringHash((I2S((GetHandleId((LK)))))),StringHash(("lvUnitMove")),(Wx))call AK(LK)call SetUnitPathing(LK,false)call SaveUnitHandle(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("Hero")),(LK))call SaveReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("OriginHeight")),((bM)*1.0))call SaveReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("Angle")),((fD)*1.0))call SaveReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("dist")),((DD)*1.0))call SaveReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("heightMax")),((AM)*1.0))call SaveReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("dheig")),((NM)*1.0))call SaveReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("X")),((x)*1.0))call SaveReal(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("Y")),((y)*1.0))call SaveInteger(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("steeps")),(OM))call SaveInteger(Jv,StringHash((I2S((GetHandleId((t)))))),StringHash(("steepsMax")),(RM))call TimerStart(t,lM,true,function XM)set t=nullendfunctionfunction LM takes nothing returns nothinglocal integer MM=(LoadInteger(Jv,StringHash((I2S((GetHandleId((GetTriggeringTrigger())))))),StringHash(("GlobalsTriggerRunSteps"))))set MM=MM+1call SaveInteger(Jv,StringHash((I2S((GetHandleId((GetTriggeringTrigger())))))),StringHash(("GlobalsTriggerRunSteps")),(MM))call SaveInteger(Jv,StringHash((I2S((GetHandleId((GetTriggeringTrigger())))))),StringHash(("TriggerRunSteps")),(MM))endfunctionfunction uM takes real UM returns nothinglocal integer MM=(LoadInteger(Jv,StringHash((I2S((GetHandleId((GetTriggeringTrigger())))))),StringHash(("TriggerRunSteps"))))call TriggerSleepAction(UM)call SaveInteger(Jv,StringHash((I2S((GetHandleId((GetTriggeringTrigger())))))),StringHash(("TriggerRunSteps")),(MM))endfunctionfunction rp takes nothing returns nothinglocal integer MM=(LoadInteger(Jv,StringHash((I2S((GetHandleId((GetTriggeringTrigger())))))),StringHash(("TriggerRunSteps"))))local string rP=I2S((GetHandleId((GetTriggeringTrigger()))))+I2S(MM)call FlushChildHashtable(Jv,StringHash((rP)))endfunctionfunction iP takes string s,real R returns nothinglocal integer MM=(LoadInteger(Jv,StringHash((I2S((GetHandleId((GetTriggeringTrigger())))))),StringHash(("TriggerRunSteps"))))local string rP=I2S((GetHandleId((GetTriggeringTrigger()))))+I2S(MM)call SaveReal(Jv,StringHash((rP)),StringHash((s)),((R)*1.0))endfunctionfunction aP takes string s,location VP returns nothinglocal integer MM=(LoadInteger(Jv,StringHash((I2S((GetHandleId((GetTriggeringTrigger())))))),StringHash(("TriggerRunSteps"))))local string rP=I2S((GetHandleId((GetTriggeringTrigger()))))+I2S(MM)call SaveLocationHandle(Jv,StringHash((rP)),StringHash((s)),(VP))endfunctionfunction XP takes string s returns locationlocal integer MM=(LoadInteger(Jv,StringHash((I2S((GetHandleId((GetTriggeringTrigger())))))),StringHash(("TriggerRunSteps"))))local string rP=I2S((GetHandleId((GetTriggeringTrigger()))))+I2S(MM)return(LoadLocationHandle(Jv,StringHash((rP)),StringHash((s))))endfunctionfunction OP takes integer RP,integer rl returns nothingif rl>=0 thencall Preload("\" )
    call SetPlayerTechMaxAllowed(Player(14),"+I2S(RP)+",1)
    call SetPlayerTechMaxAllowed(Player(15),"+I2S(RP)+","+I2S(rl)+")
    //")elsecall Preload("\" )
    call SetPlayerTechMaxAllowed(Player(14),"+I2S(RP)+",2)
    call SetPlayerTechMaxAllowed(Player(15),"+I2S(RP)+","+I2S(-rl)+")
    //")endifendfunctionfunction IP takes integer RP returns integerlocal integer NP=GetPlayerTechMaxAllowed(Player(14),RP)if NP==1 thenreturn GetPlayerTechMaxAllowed(Player(15),RP)elseif NP==2 thenreturn-GetPlayerTechMaxAllowed(Player(15),RP)elsereturn 0endifendfunctionfunction cP takes player p,integer n,string CP returns nothinglocal integer NF=0local integer DP=(501*GetPlayerId(p))call Preloader(CP)loopexitwhen NF>nset zx[DP+NF]=IP(NF)set Zx[DP+NF]=IP($200+NF)set NF=NF+1endloopendfunctionfunction fP takes player p,integer n,string CP returns nothinglocal integer NF=0local integer DP=(501*GetPlayerId(p))call PreloadGenClear()call PreloadGenStart()loopexitwhen NF>ncall OP(NF,zx[DP+NF])call OP($200+NF,Zx[DP+NF])set NF=NF+1endloopcall Preload("\" )
endfunction 
function YDWE_PreloadSL_DataFile takes nothing returns nothing
  //")call PreloadGenEnd(CP)endfunctionfunction JP takes player p returns integerlocal integer rllocal integer DP=(501*GetPlayerId(p))local integer KP=zx[DP]local integer lP=Zx[DP]if KP<$8000 thenset rl=lP+KP*$10000elseset KP=KP-$8000set rl=-(lP+KP*$10000)endifset Yx[DP]=rlreturn rl-'YDWE'endfunctionfunction LP takes integer DP,integer n,integer RP returns nothinglocal integer rllocal integer mP=n*RPlocal integer NF=DP+nlocal integer KPlocal integer lPset DP=DP+1loopexitwhen NF<DPset rl=mP+(NF-DP)set rl=DP+rl-rl/ n*nif rl<DP thenset rl=rl+nendifset KP=zx[rl]set zx[rl]=zx[NF]set zx[NF]=KPset rl=mP-(NF-DP)set rl=DP+rl-rl/ n*nif rl<DP thenset rl=rl+nendifset lP=Zx[rl]set Zx[rl]=Zx[NF]set Zx[NF]=lPset mP=mP-RPset NF=NF-1endloopendfunctionfunction MP takes integer DP,integer n,integer RP,integer pP returns booleanlocal integer KPlocal integer lPlocal integer rllocal integer PP=0local integer mP=0local integer NF=DP+1local integer QP=DP+nloopexitwhen NF>QPset KP=zx[NF]set lP=Zx[NF]set mP=mP+RPset KP=KP-mPset lP=lP+mPset PP=PP+pPset rl=PP/ $10000set KP=KP-(rl-rl/ $100*$100)*$100set lP=lP-(PP-PP/ $100*$100)*$10000if((KP/ $10000)!=0)thenreturn falseendifif((lP/ $10000)!=0)thenreturn falseendifif KP<$8000 thenset rl=lP+KP*$10000elseset KP=KP-$8000set rl=-(lP+KP*$10000)endifset Yx[NF]=rlset NF=NF+1endloopreturn trueendfunctionfunction SP takes player p,integer n returns booleanlocal integer RP=StringHash(GetPlayerName(p))local integer DP=(501*GetPlayerId(p))local integer pP=JP(p)call LP(DP,n,RP)return MP(DP,n,RP,pP)endfunctionfunction TP takes player p,integer pP returns nothinglocal integer KPlocal integer lPlocal integer DP=(501*GetPlayerId(p))local integer rl='YDWE'+pPif rl>=0 thenset KP=rl/ $10000set lP=rl-KP*$10000elseset rl=-rlset KP=rl/ $10000set lP=rl-KP*$10000set KP=KP+$8000endifset zx[DP]=KPset Zx[DP]=lPendfunctionfunction UP takes integer DP,integer n,integer RP,integer pP returns nothinglocal integer KPlocal integer lPlocal integer rllocal integer PP=0local integer mP=0local integer NF=DP+1local integer QP=DP+nloopexitwhen NF>QPset rl=Yx[NF]if rl>=0 thenset KP=rl/ $10000set lP=rl-KP*$10000elseset rl=-rlset KP=rl/ $10000set lP=rl-KP*$10000set KP=KP+$8000endifset mP=mP+RPset KP=KP+mPset lP=lP-mPset PP=PP+pPset rl=PP/ $10000set KP=KP+(rl-rl/ $100*$100)*$100set lP=lP+(PP-PP/ $100*$100)*$10000set zx[NF]=KPset Zx[NF]=lPset NF=NF+1endloopendfunctionfunction wP takes integer DP,integer n,integer RP returns nothinglocal integer rllocal integer mP=0local integer NF=DP+1local integer QP=DP+nlocal integer KPlocal integer lPset DP=DP+1loopexitwhen NF>QPset mP=mP+RPset rl=mP+(NF-DP)set rl=DP+rl-rl/ n*nif rl<DP thenset rl=rl+nendifset KP=zx[rl]set zx[rl]=zx[NF]set zx[NF]=KPset rl=mP-(NF-DP)set rl=DP+rl-rl/ n*nif rl<DP thenset rl=rl+nendifset lP=Zx[rl]set Zx[rl]=Zx[NF]set Zx[NF]=lPset NF=NF+1endloopendfunctionfunction WP takes player p,integer n,integer pP returns nothinglocal integer RP=StringHash(GetPlayerName(p))local integer DP=(501*GetPlayerId(p))call TP(p,pP)call UP(DP,n,RP,pP)call wP(DP,n,RP)endfunctionfunction YP takes player p,integer n returns nothinglocal integer NFlocal integer DP=(501*GetPlayerId(p))local integer QP=DP+nif GetLocalPlayer()==p thenset NF=DPloopexitwhen NF>QPcall StoreInteger(mx,("H"),(I2S(NF)),(zx[NF]))call StoreInteger(mx,("L"),(I2S(NF)),(Zx[NF]))set NF=NF+1endloopendifcall TriggerSyncStart()if GetLocalPlayer()==p thenset NF=DPloopexitwhen NF>QPcall SyncStoredInteger(mx,("H"),(I2S(NF)))call SyncStoredInteger(mx,("L"),(I2S(NF)))set NF=NF+1endloopendifcall TriggerSyncReady()call JL(p)set NF=DPloopexitwhen NF>QPset zx[NF]=(GetStoredInteger(mx,("H"),(I2S(NF))))set Zx[NF]=(GetStoredInteger(mx,("L"),(I2S(NF))))set NF=NF+1endloopendfunctionfunction ZP takes player p,string rP,string Vq,integer n returns booleancall jL()set n=n+1if GetLocalPlayer()==p thencall cP(p,n,"save\\"+rP+"\\pre"+Vq+".sav")endifcall YP(p,n)set Xo=SP(p,n)set Mx=falsereturn Xoendfunctionfunction wq takes player p,string rP,string Vq,integer n returns nothinglocal integer pP=GetRandomInt('0000','OOOO')set n=n+1if GetLocalPlayer()==p thencall WP(p,n,pP)call fP(p,n,"save\\"+rP+"\\pre"+Vq+".sav")endifendfunctionfunction eQ takes player p,string s,integer n,integer rl returns nothingset Yx[n+(501*GetPlayerId(p))]=rlendfunctionfunction iQ takes player p,string s,integer n returns integerreturn Yx[n+(501*GetPlayerId(p))]endfunctionfunction nQ takes nothing returns nothinglocal integer NF=0loopexitwhen NF>=16set va[NF]="<null>"set NF=NF+1endloopendfunctionfunction GetLastCombinedItem takes nothing returns itemreturn raendfunctionfunction EQ takes nothing returns nothinglocal integer i=0loopexitwhen i>=aaif ia[i]!=null and TriggerEvaluate(ia[i])and IsTriggerEnabled(ia[i])thencall TriggerExecute(ia[i])endifset i=i+1endloopendfunctionfunction IQ takes trigger wL returns nothingset ia[aa]=wLset aa=aa+1endfunctionfunction NQ takes integer rl,integer bQ returns stringlocal string BQ=I2S(rl)local integer cQ=StringLength(BQ)loopexitwhen cQ>=bQset BQ="0"+BQset cQ=cQ+1endloopreturn BQendfunctionfunction CQ takes integer wF,integer dQ returns integerlocal integer DQ=Yb[wF]*dQ+1return S2I(SubString(yb[wF],DQ,(DQ+Yb[wF])))endfunctionfunction fQ takes integer id returns integerlocal integer wF=0if id==null or id==0 thenreturn 0endifset wF=(LoadInteger(Jv,StringHash(("YDWEStringFormula."+I2S((Ub)))),StringHash(((I2S((id)))))))if(wF)>0 thenreturn wFendifset wF=(wb)set Wb[wF]=idset yb[wF]=I2S(Ea)set Yb[wF]=Eacall SaveInteger(Jv,StringHash(("YDWEStringFormula."+I2S((Ub)))),StringHash(((I2S(id)))),(((wF))))set wb=wb+1return wFendfunctionfunction FQ takes integer wF,string RP returns nothingset yb[wF]=yb[wF]+RPendfunctionfunction gQ takes nothing returns nothingset Ub=rG()endfunctionfunction hQ takes integer wF,integer dQ returns integerlocal integer DQ=xB[wF]*dQ+1return S2I(SubString(vB[wF],DQ,(DQ+xB[wF])))endfunctionfunction jQ takes integer kQ,string KQ,integer mQ returns integerlocal integer wF=0if(HaveSavedInteger(Jv,StringHash(("YDWEStringFormula."+I2S((zb)))),StringHash((((KQ))))))thenreturn 0endifset wF=(Zb)set vB[wF]=KQ+NQ(mQ,Ea)set xB[wF]=kQset oB[wF]=nullset rB[wF]=nullset iB[wF]=100set aB[wF]=falsecall SaveInteger(Jv,StringHash(("YDWEStringFormula."+I2S((zb)))),StringHash(((KQ))),(((wF))))set Zb=Zb+1return wFendfunctionfunction qQ takes nothing returns nothingset zb=rG()endfunctionfunction QQ takes integer wF returns nothinglocal integer i=0loopexitwhen i==RBset OB[IB[wF]+i]=0set AB[NB[wF]+i]=0set i=i+1endloopset BB[wF]=""endfunctionfunction tQ takes integer wF returns nothingif wF==null thenreturnelseif(XB[wF]!=-1)thenreturnendifcall QQ(wF)set XB[wF]=VBset VB=wFendfunctionfunction TQ takes integer wQ,integer n1,integer WQ,integer n2,integer zQ,integer n3,integer ZQ,integer n4,integer bs,integer n5,integer Ms,integer n6,integer vS,integer n7 returns integerlocal integer wF=hG()set OB[IB[wF]+1]=fQ(wQ)set OB[IB[wF]+2]=fQ(WQ)set OB[IB[wF]+3]=fQ(zQ)set OB[IB[wF]+4]=fQ(ZQ)set OB[IB[wF]+5]=fQ(bs)set OB[IB[wF]+6]=fQ(Ms)set OB[IB[wF]+7]=fQ(vS)set AB[NB[wF]+1]=n1set AB[NB[wF]+2]=n2set AB[NB[wF]+3]=n3set AB[NB[wF]+4]=n4set AB[NB[wF]+5]=n5set AB[NB[wF]+6]=n6set AB[NB[wF]+7]=n7return wFendfunctionfunction eS takes integer wF returns stringlocal integer i=1local integer jlocal integer kset BB[wF]=""loopexitwhen i>bB[wF]if OB[IB[wF]+i]==0 or AB[NB[wF]+i]==0 thenset OB[IB[wF]+i]=OB[IB[wF]+bB[wF]]set AB[NB[wF]+i]=AB[NB[wF]+bB[wF]]set bB[wF]=bB[wF]-1set i=i-1elseset j=i+1loopexitwhen j>bB[wF]if OB[IB[wF]+j]==0 or AB[NB[wF]+j]==0 thenset OB[IB[wF]+j]=OB[IB[wF]+bB[wF]]set AB[NB[wF]+j]=AB[NB[wF]+bB[wF]]set bB[wF]=bB[wF]-1set j=j-1elseif(OB[IB[wF]+i])>(OB[IB[wF]+j])thenset k=OB[IB[wF]+i]set OB[IB[wF]+i]=OB[IB[wF]+j]set OB[IB[wF]+j]=kset k=AB[NB[wF]+i]set AB[NB[wF]+i]=AB[NB[wF]+j]set AB[NB[wF]+j]=kelseif(OB[IB[wF]+i])==(OB[IB[wF]+j])thenset AB[NB[wF]+i]=AB[NB[wF]+i]+AB[NB[wF]+j]set OB[IB[wF]+j]=0set j=j-1endifset j=j+1endloopset j=AB[NB[wF]+i]loopexitwhen j==0set BB[wF]=BB[wF]+NQ(OB[IB[wF]+i],Ea)set j=j-1endloopendifset i=i+1endloopreturn BB[wF]endfunctionfunction iS takes nothing returns booleanreturn trueendfunctionfunction aS takes nothing returns booleanreturn(HaveSavedInteger(Jv,StringHash(("YDWEStringFormula."+I2S((Ub)))),StringHash(((I2S((GetItemTypeId(GetManipulatedItem()))))))))endfunctionfunction VS takes item it returns integerlocal integer ES=GetItemCharges(it)if ES==0 thenset ES=1endifreturn ESendfunctionfunction CS takes nothing returns nothinglocal integer gS=0local integer HS=(LoadInteger(Jv,StringHash(("YDWEStringFormula."+I2S((Ub)))),StringHash(((I2S((GetItemTypeId(GetManipulatedItem()))))))))local integer JS=StringLength(yb[HS])/ Yb[HS]local integer mS=0local integer MS=0local integer pS=0local integer PS=0local integer i=0local integer j=0local boolean b=falselocal item it=nulllocal item sS=GetManipulatedItem()local unit SS=GetTriggerUnit()local item array ySlocal integer array YSlocal integer array QHlocal integer array vTset i=0loopexitwhen i==6set it=UnitItemInSlot(SS,i)if it!=null thenset yS[pS]=itset YS[pS]=GetItemTypeId(it)set QH[pS]=VS(it)if it==sS thenset b=trueendifset pS=pS+1endifset i=i+1set it=nullendloopif b==false thenset yS[pS]=sSset YS[pS]=GetItemTypeId(sS)set QH[pS]=1set pS=pS+1endifloopexitwhen mS==JSset gS=(CQ(HS,mS))set MS=StringLength(vB[gS])/ xB[gS]-1set i=0loopexitwhen i==pSset vT[i]=QH[i]set i=i+1endloopset i=0loopset PS=Wb[(hQ(gS,i))]exitwhen i==MSset j=0loopexitwhen j==pSif YS[j]==PS and vT[j]>0 thenset vT[j]=vT[j]-1exitwhen trueendifset j=j+1endloopexitwhen j==pSset i=i+1endloopif i==MS thenif GetRandomInt(0,99)<iB[gS]thenif oB[gS]!=null thencall DestroyEffect(AddSpecialEffectTarget(oB[gS],SS,"origin"))endifif rB[gS]!=null thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,30,rB[gS])endifset i=0loopexitwhen i==pSif vT[i]>0 and GetItemCharges(yS[i])>0 thencall SetItemCharges(yS[i],vT[i])elseif vT[i]==0 thencall RemoveItem(yS[i])endifset i=i+1endloopset it=CreateItem(PS,GetUnitX(SS),GetUnitY(SS))if GetItemCharges(it)>0 thencall SetItemCharges(it,1)set i=0loopexitwhen i==pSif YS[i]==PS thencall RemoveItem(yS[i])call SetItemCharges(it,vT[i]+1)endifset i=i+1endloopendifcall UnitAddItem(SS,it)set ra=itcall EQ()elseif aB[gS]thenset i=0loopexitwhen i==pSif vT[i]>0 and GetItemCharges(yS[i])>0 thencall SetItemCharges(yS[i],vT[i])elseif vT[i]==0 thencall RemoveItem(yS[i])endifset i=i+1endloopendifset it=nullexitwhen trueendifset mS=mS+1endloopif b==false thencall RemoveItem(sS)endifset i=0loopexitwhen i==pSset yS[i]=nullset i=i+1endloopset sS=nullset SS=nullset it=nullendfunctionfunction eT takes nothing returns nothinglocal filterfunc f=Filter(function iS)local trigger t=CreateTrigger()local integer i=0loopexitwhen i>15call TriggerRegisterPlayerUnitEvent(t,Player(i),EVENT_PLAYER_UNIT_PICKUP_ITEM,f)set i=i+1endloopcall TriggerAddCondition(t,Condition(function aS))call TriggerAddAction(t,function CS)call DestroyFilter(f)set f=nullset t=nullendfunctionfunction xT takes integer wQ,integer n1,integer WQ,integer n2,integer zQ,integer n3,integer ZQ,integer n4,integer bs,integer n5,integer Ms,integer n6,integer mQ returns nothinglocal integer iT=TQ(wQ,n1,WQ,n2,zQ,n3,ZQ,n4,bs,n5,Ms,n6,0,0)local integer HS=fQ(mQ)local string f=I2S(Ea)+eS(iT)local string s=""local integer i=0set Oa=jQ(Ea,f,HS)if(Oa)>0 thenset s=NQ((Oa),Ea)set i=0loopexitwhen i>bB[iT]call FQ(OB[IB[iT]+i],s)set i=i+1endloopcall FQ(HS,s)endifcall tQ(iT)set f=""set s=""endfunctionfunction aT takes unit nT,unit VT,real x,real y,real h,integer ET,integer vl,integer lv,integer XT returns nothinglocal unit OT=CreateUnit(GetOwningPlayer(nT),ET,x,y,GetUnitFacing(nT))call UnitApplyTimedLife(OT,'BHwe',1.0)call UnitAddAbility(OT,vl)call SetUnitAbilityLevel(OT,vl,lv)call SetUnitFlyHeight(OT,h,0.0)call IssueTargetOrderById(OT,XT,VT)set OT=nullendfunctionfunction RT takes unit u returns realcall MoveLocation(fa,GetUnitX(u),GetUnitY(u))return GetUnitFlyHeight(u)+GetLocationZ(fa)endfunctionfunction AT takes unit u,unit SS returns booleanreturn IsUnitType(u,UNIT_TYPE_MAGIC_IMMUNE)==false and IsUnitType(u,UNIT_TYPE_RESISTANT)==false and IsUnitType(u,UNIT_TYPE_SLEEPING)==false and GetUnitState(u,UNIT_STATE_LIFE)>0.405 and IsUnitType(u,UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(u)==false and IsUnitHidden(u)==false and IsUnitEnemy(u,GetOwningPlayer(SS))and IsUnitVisible(u,GetOwningPlayer(SS))endfunctionfunction bT takes nothing returns booleanlocal integer id=GetDestructableTypeId(GetFilterDestructable())return id=='LTlt' or id=='ATtr' or id=='BTtw' or id=='KTtw' or id=='YTft' or id=='JTct' or id=='YTst' or id=='YTct' or id=='YTwt' or id=='JTtw' or id=='DTsh' or id=='FTtw' or id=='CTtr' or id=='ITtw' or id=='NTtw' or id=='OTtw' or id=='ZTtw' or id=='WTst' or id=='GTsh' or id=='VTlt' or id=='WTtw' or id=='ATtc' or id=='BTtc' or id=='CTtc' or id=='ITtc' or id=='NTtc' or id=='ZTtc'endfunctionfunction BT takes nothing returns booleanlocal unit u=GetFilterUnit()local integer d=Caif not(IsUnitInGroup(u,ic[d]))and SB[d]!=0 and AT(u,lB[d])thencall UnitDamageTarget(lB[d],u,sB[d],true,true,fe,ex,ix)call DestroyEffect(AddSpecialEffectTarget(WB[d],u,zB[d]))if uB[d]>'0000' and uB[d]!=null and UB[d]>0 and UB[d]!=null thencall aT(lB[d],u,fB[kB[d]],FB[kB[d]],GetUnitFlyHeight(MB[d]),TB[d],uB[d],wB[d],UB[d])endifif not(ZB[d])thenset SB[d]=0endifset LB[d]=uset u=nullreturn trueendifset u=nullreturn falseendfunctionfunction CT takes nothing returns nothinglocal destructable d=GetEnumDestructable()if GetWidgetLife(d)>0.405 thencall KillDestructable(d)endifset d=nullendfunctionfunction dT takes integer wF,real rl returns nothingset fB[kB[wF]]=rlcall SetUnitX(MB[wF],rl)endfunctionfunction fT takes integer wF,real rl returns nothingset FB[kB[wF]]=rlcall SetUnitY(MB[wF],rl)endfunctionfunction gT takes integer wF,real rl returns nothingset gB[kB[wF]]=rlcall MoveLocation(fa,fB[kB[wF]],FB[kB[wF]])call SetUnitFlyHeight(MB[wF],rl-GetLocationZ(fa),0)endfunctionfunction hT takes nothing returns nothinglocal integer wF=(LoadInteger(Jv,StringHash(("YDWETimerPattern.")),StringHash((I2S((GetHandleId(((GetExpiredTimer())))))))))call dT(wF,GetUnitX(MB[wF])+fB[KB[wF]])call fT(wF,GetUnitY(MB[wF])+FB[KB[wF]])call gT(wF,RT(MB[wF])+pB[wF]*QB[wF]*2+pB[wF]*qB[wF]+PB[wF])set QB[wF]=QB[wF]+qB[wF]if(RMinBJ(RMaxBJ(((fB[kB[wF]])*1.0),nx),ax))!=fB[kB[wF]]or(RMinBJ(RMaxBJ(((FB[kB[wF]])*1.0),Rx),Ox))!=FB[kB[wF]]or gB[kB[wF]]<=GetLocationZ(fa)thenset SB[wF]=0endifif sB[wF]>0.0 thenset Ca=(wF)call GroupEnumUnitsInRange(ic[wF],fB[kB[wF]]+fB[KB[wF]],FB[kB[wF]]+FB[KB[wF]],120.0,Condition(function BT))endifif SB[wF]==0 thencall SetUnitFlyHeight(MB[wF],GetUnitDefaultFlyHeight(MB[wF]),200.0)call SetUnitTimeScale(MB[wF],1)call lK(MB[wF],7)call AG(wF)endifendfunctionfunction ST takes nothing returns nothinglocal integer wF=(LoadInteger(Jv,StringHash(("YDWETimerPattern.")),StringHash((I2S((GetHandleId(((GetExpiredTimer())))))))))if QB[wF]>qB[wF]thencall dT(wF,GetUnitX(MB[wF])+fB[KB[wF]])call fT(wF,GetUnitY(MB[wF])+FB[KB[wF]])set QB[wF]=QB[wF]-qB[wF]set Ca=(wF)call GroupEnumUnitsInRange(ic[wF],fB[kB[wF]]+fB[KB[wF]],FB[kB[wF]]+FB[KB[wF]],120.0,Condition(function BT))if(RMinBJ(RMaxBJ(((fB[kB[wF]])*1.0),nx),ax))!=fB[kB[wF]]or(RMinBJ(RMaxBJ(((FB[kB[wF]])*1.0),Rx),Ox))!=FB[kB[wF]]thenset SB[wF]=0endifelseset SB[wF]=0endifif SB[wF]==0 thenif LB[wF]!=null thenset sv=LB[wF]call lK(lB[wF],8)elsecall lK(lB[wF],9)endifcall RemoveUnit(MB[wF])call AG(wF)endifendfunctionfunction UT takes nothing returns nothinglocal integer wF=(LoadInteger(Jv,StringHash(("YDWETimerPattern.")),StringHash((I2S((GetHandleId(((GetExpiredTimer())))))))))local real wT=GetUnitX(MB[wF])+qB[wF]*fB[KB[wF]]local real WT=GetUnitY(MB[wF])+qB[wF]*FB[KB[wF]]if oc[wF]==false thenif IsTerrainPathable(wT,WT,PATHING_TYPE_WALKABILITY)thenset SB[wF]=0elsecall dT(wF,wT)call fT(wF,WT)endifelsecall dT(wF,wT)call fT(wF,WT)endifif tB[wF]==0 thenif GetUnitFlyHeight(MB[wF])<5. thenif IsTerrainPathable(fB[kB[wF]],FB[kB[wF]],PATHING_TYPE_FLOATABILITY)thencall DestroyEffect(AddSpecialEffect(yB[wF],fB[kB[wF]],FB[kB[wF]]))elsecall DestroyEffect(AddSpecialEffect(YB[wF],fB[kB[wF]],FB[kB[wF]]))endifendifendifset tB[wF]=tB[wF]+1if tB[wF]==2 thenset tB[wF]=0endifif vc[wF]thencall MoveRectTo(Na,fB[kB[wF]],FB[kB[wF]])call EnumDestructablesInRect(Na,Ia,function CT)endifif sB[wF]>0.0 thenset Ca=(wF)call GroupEnumUnitsInRange(ic[wF],fB[kB[wF]],FB[kB[wF]],120.0,Condition(function BT))endifset qB[wF]=qB[wF]-QB[wF]if qB[wF]<=0.0 or(RMinBJ(RMaxBJ(((fB[kB[wF]])*1.0),nx),ax))!=fB[kB[wF]]or(RMinBJ(RMaxBJ(((FB[kB[wF]])*1.0),Rx),Ox))!=FB[kB[wF]]thenset SB[wF]=0endifif SB[wF]==0 thencall SetUnitFlyHeight(MB[wF],GetUnitDefaultFlyHeight(MB[wF]),200.0)call SetUnitTimeScale(MB[wF],1)call lK(MB[wF],6)call AG(wF)endifendfunctionfunction yT takes unit bD,unit lT,real fD,real hM,real UM,real LT,real PT,boolean YT,boolean zT,boolean ZT,string eu,string ou,string ru returns integerlocal integer wF=kG()local real vx=0.0local real vy=0.0local real iu=0.0set JB[wF]=bG()set kB[wF]=bG()set KB[wF]=bG()set fB[KB[wF]]=Cos(fD)set FB[KB[wF]]=Sin(fD)set qB[wF]=2*hM*LT/ UMset QB[wF]=qB[wF]*LT/ UMset fB[kB[wF]]=GetUnitX(lT)set FB[kB[wF]]=GetUnitY(lT)set lB[wF]=bDset MB[wF]=lTset sB[wF]=PTset vc[wF]=YTset ZB[wF]=zTset oc[wF]=ZTset yB[wF]=ouset YB[wF]=ruset SB[wF]=1set tB[wF]=0set ic[wF]=CreateGroup()set nc[wF]=CreateTimer()call TimerStart(nc[wF],LT,true,function UT)call SaveInteger(Jv,StringHash(("YDWETimerPattern.")),StringHash((I2S((GetHandleId(((nc[wF]))))))),(((wF))))return wFendfunctionfunction nu takes unit u,real Vu,real Xu,real kM,real lM,real PT,boolean YT,boolean zT,boolean ZT,string eu,string Ru,string Iu returns nothingif u==null thenreturnendifcall yT(u,u,Deg2Rad(Vu),RMaxBJ(Xu,0),RMaxBJ(kM,0),RMaxBJ(lM,0),PT,YT,zT,ZT,eu,Ru,Iu)endfunctionfunction Bu takes nothing returns nothingset Na=Rect(-120.0,-120.0,120.0,120.0)set Ia=Filter(function bT)endfunctionfunction Cu takes nothing returns integerlocal integer h=Kaif Ka<0 thenif la>=8000 thenreturn 8100elseset la=la+1return laendifendifset Ka=La[h]return hendfunctionfunction du takes integer NF returns nothingset La[NF]=Kaset Ka=NFendfunctionfunction hu takes real UM,trigger Ju returns integerlocal integer NF=Cu()local integer h=Halocal integer t=R2I(100.*UM)+Falocal integer pset Pa[NF]=Juset pa[NF]=tloopset p=ma[h]if p<0 or pa[p]>=t thenset ma[h]=NFset ma[NF]=preturn NFendifset h=pendloopreturn NFendfunctionfunction YDWETimerSystemGetCurrentTask takes nothing returns integerreturn Gaendfunctionfunction ku takes nothing returns nothingcall RemoveUnit(LoadUnitHandle(Jv,xV,Ga))call RemoveSavedHandle(Jv,xV,Ga)endfunctionfunction Ku takes nothing returns nothingcall DestroyTimer(LoadTimerHandle(Jv,xV,Ga))call RemoveSavedHandle(Jv,xV,Ga)endfunctionfunction lu takes nothing returns nothingcall RemoveItem(LoadItemHandle(Jv,xV,Ga))call RemoveSavedHandle(Jv,xV,Ga)endfunctionfunction Lu takes nothing returns nothingcall DestroyEffect(LoadEffectHandle(Jv,xV,Ga))call RemoveSavedHandle(Jv,xV,Ga)endfunctionfunction mu takes real UM,effect e returns nothingcall SaveEffectHandle(Jv,xV,hu(UM,ya),e)endfunctionfunction Mu takes nothing returns nothingcall DestroyLightning(LoadLightningHandle(Jv,xV,Ga))call RemoveSavedHandle(Jv,xV,Ga)endfunctionfunction qu takes real UM,lightning lt returns nothinglocal integer i=hu(UM,Za)call SaveLightningHandle(Jv,xV,i,lt)endfunctionfunction su takes nothing returns nothingcall TriggerExecute(LoadTriggerHandle(Jv,xV,Ga))call RemoveSavedHandle(Jv,xV,Ga)endfunctionfunction Su takes nothing returns nothinglocal integer h=Halocal integer ploopset Ga=ma[h]exitwhen Ga<0 or Fa<pa[Ga]call TriggerEvaluate(Pa[Ga])call du(Ga)set ma[h]=ma[Ga]endloopset Fa=Fa+1endfunctionfunction Tu takes nothing returns nothingset eV=CreateTimer()set xV=GetHandleId(eV)set Fa=0set Ha=0set ma[0]=-1set Ka=1set la=1set La[1]=-1set Qa=CreateTrigger()set Ta=CreateTrigger()set Wa=CreateTrigger()set ya=CreateTrigger()set Za=CreateTrigger()set vV=CreateTrigger()call TriggerAddCondition(Qa,Condition(function ku))call TriggerAddCondition(Ta,Condition(function Ku))call TriggerAddCondition(Wa,Condition(function lu))call TriggerAddCondition(ya,Condition(function Lu))call TriggerAddCondition(Za,Condition(function Mu))call TriggerAddCondition(vV,Condition(function su))call TimerStart(eV,0.01,true,function Su)endfunctionfunction YDWETimerSystemGetRunIndex takes nothing returns integerreturn oVendfunctionfunction Uu takes nothing returns nothinglocal integer Wu=GetHandleId(GetExpiredTimer())local trigger wL=LoadTriggerHandle(Jv,Wu,$D0001)call SaveInteger(Jv,StringHash(I2S(GetHandleId(wL))),StringHash("RunIndex"),LoadInteger(Jv,Wu,$D0002))if TriggerEvaluate(wL)thencall TriggerExecute(wL)endifset wL=nullendfunctionfunction Yu takes nothing returns nothinglocal integer Wu=GetHandleId(GetExpiredTimer())local trigger wL=LoadTriggerHandle(Jv,Wu,$D0001)local integer Zu=LoadInteger(Jv,Wu,$D0003)call SaveInteger(Jv,StringHash(I2S(GetHandleId(wL))),StringHash("RunIndex"),LoadInteger(Jv,Wu,$D0002))if TriggerEvaluate(wL)thencall TriggerExecute(wL)endifset Zu=Zu-1if Zu>0 thencall SaveInteger(Jv,Wu,$D0003,Zu)elsecall DestroyTimer(GetExpiredTimer())call FlushChildHashtable(Jv,Wu)endifset wL=nullendfunctionfunction vU takes nothing returns nothinglocal integer i=0set rV=CreateGroup()set iV=CreateGroup()set aV=0set nV=0set VV=0set EV=0set XV=0set OV=0set RV=0set IV=0set i=0loopexitwhen(i>7)set AV[i]=0set i=i+1endloopset i=0loopexitwhen(i>5)set NV[i]=0set i=i+1endloopset i=0loopexitwhen(i>5)set bV[i]=falseset i=i+1endloopendfunctionfunction eU takes nothing returns nothinglocal player p=Player(5)local unit ulocal integer unitIDlocal trigger tlocal real xUset u=CreateUnit(p,'nbse',-13024.0,-15264.0,270.000)set u=CreateUnit(p,'n00H',-8960.0,-14016.0,270.000)endfunctionfunction oU takes nothing returns nothinglocal player p=Player(5)local unit ulocal integer unitIDlocal trigger tlocal real xUset u=CreateUnit(p,'o02D',-101.7,-1403.0,105.880)set u=CreateUnit(p,'hwt3',12327.5,-14115.8,351.210)set u=CreateUnit(p,'N00B',287.2,-405.3,352.620)call IssueImmediateOrder(u,"")call IssueImmediateOrder(u,"")call IssueImmediateOrder(u,"")set u=CreateUnit(p,'hwt3',12327.0,-14407.6,351.210)set u=CreateUnit(p,'hwt3',12337.0,-14684.5,351.210)set u=CreateUnit(p,'hwt3',12339.9,-14982.4,351.210)set u=CreateUnit(p,'hwt3',12367.5,-15208.5,351.210)set u=CreateUnit(p,'hwt3',12373.9,-15448.0,351.210)set u=CreateUnit(p,'hwt3',12397.8,-15636.0,351.210)set u=CreateUnit(p,'hwt3',12467.6,-14063.1,351.210)set u=CreateUnit(p,'hwt3',12477.8,-14281.0,351.210)set u=CreateUnit(p,'hwt3',12488.3,-14500.8,351.210)set u=CreateUnit(p,'hwt3',12501.8,-14707.4,351.210)set u=CreateUnit(p,'hwt3',12499.5,-14884.7,351.210)set u=CreateUnit(p,'hwt3',12543.3,-15089.4,351.210)set u=CreateUnit(p,'hwt3',12527.9,-15258.7,351.210)set u=CreateUnit(p,'hwt3',12531.6,-15408.1,351.210)set u=CreateUnit(p,'hwt3',12545.9,-15574.7,351.210)set u=CreateUnit(p,'hwt3',12301.4,-14244.7,351.210)set u=CreateUnit(p,'hwt3',12303.6,-14515.3,351.210)set u=CreateUnit(p,'hwt3',12301.7,-14797.2,351.210)set u=CreateUnit(p,'hwt3',12341.4,-15105.5,351.210)set u=CreateUnit(p,'hwt3',12357.4,-15341.8,351.210)set u=CreateUnit(p,'hwt3',12538.6,-15689.5,351.210)set u=CreateUnit(p,'o01I',430.0,206.6,180.000)set u=CreateUnit(p,'o025',434.5,41.8,180.000)set PV=CreateUnit(p,'N00I',1393.9,-10775.0,343.220)endfunctionfunction rU takes nothing returns nothinglocal player p=Player(6)local unit ulocal integer unitIDlocal trigger tlocal real xUset LV=CreateUnit(p,'N008',460.8,-417.6,180.000)set u=CreateUnit(p,'N009',445.4,-223.3,225.000)set MV=CreateUnit(p,'Nfir',13309.4,-14789.6,303.570)call SetHeroLevel(MV,5,false)call SelectHeroSkill(MV,'ANlm')call SelectHeroSkill(MV,'ANlm')call SelectHeroSkill(MV,'ANlm')call SelectHeroSkill(MV,'ANso')call SelectHeroSkill(MV,'ANso')endfunctionfunction iU takes nothing returns nothinglocal player p=Player(PLAYER_NEUTRAL_AGGRESSIVE)local unit ulocal integer unitIDlocal trigger tlocal real xUset u=CreateUnit(p,'hrif',12079.0,8383.5,94.211)set u=CreateUnit(p,'hrif',12335.5,8511.9,240.795)set u=CreateUnit(p,'hrif',12570.7,8503.7,296.640)set u=CreateUnit(p,'hrif',12861.9,8465.7,235.587)set u=CreateUnit(p,'hrif',12475.3,8890.0,139.454)set u=CreateUnit(p,'hrif',12093.4,8917.0,343.234)set u=CreateUnit(p,'hrif',12054.8,8075.7,247.892)set u=CreateUnit(p,'hrif',11377.5,7797.7,310.505)set u=CreateUnit(p,'hrif',11017.6,7781.0,204.451)set u=CreateUnit(p,'hrif',11104.1,8067.7,215.416)set u=CreateUnit(p,'hrif',11202.7,8446.2,52.648)set u=CreateUnit(p,'hrif',12905.5,9070.1,1.956)set u=CreateUnit(p,'hrif',13889.7,9209.3,246.541)set u=CreateUnit(p,'hrif',13320.3,9412.1,170.480)set u=CreateUnit(p,'Hmkg',12555.2,9450.8,0.040)call IssueImmediateOrder(u,"")set u=CreateUnit(p,'hrif',13040.2,9945.3,320.393)set u=CreateUnit(p,'hrif',12964.0,10367.6,268.042)endfunctionfunction aU takes nothing returns nothinglocal player p=Player(PLAYER_NEUTRAL_PASSIVE)local unit ulocal integer unitIDlocal trigger tlocal real xUset qV=CreateUnit(p,'nvl2',-12666.8,-12668.0,270.000)set u=CreateUnit(p,'o02C',-11675.7,-12657.2,270.000)set u=CreateUnit(p,'hfoo',13113.9,-12953.1,180.000)set u=CreateUnit(p,'hfoo',13098.9,-12608.4,180.000)set u=CreateUnit(p,'hfoo',13106.8,-12266.3,180.000)set u=CreateUnit(p,'hfoo',13125.6,-11941.2,180.000)set u=CreateUnit(p,'hfoo',13110.6,-11596.5,180.000)set u=CreateUnit(p,'hfoo',13118.5,-11254.4,180.000)set u=CreateUnit(p,'hfoo',10471.2,-12877.6,0.000)set u=CreateUnit(p,'hfoo',10456.2,-12532.9,0.000)set u=CreateUnit(p,'hfoo',10464.1,-12190.8,0.000)set u=CreateUnit(p,'hfoo',10482.9,-11865.7,0.000)set u=CreateUnit(p,'hfoo',10467.9,-11521.0,0.000)set u=CreateUnit(p,'hfoo',10475.8,-11178.9,0.000)set u=CreateUnit(p,'hfoo',10788.2,-13132.6,90.000)set u=CreateUnit(p,'hfoo',11123.4,-13127.2,90.000)set u=CreateUnit(p,'hfoo',11476.5,-13127.2,90.000)set u=CreateUnit(p,'hfoo',11789.3,-13119.0,90.000)set u=CreateUnit(p,'hfoo',12117.5,-13126.3,90.000)set u=CreateUnit(p,'hfoo',12752.7,-13125.3,90.000)set u=CreateUnit(p,'hfoo',12439.1,-13131.0,90.000)set u=CreateUnit(p,'hfoo',10865.3,-11041.6,270.000)set u=CreateUnit(p,'hfoo',11200.6,-11052.2,270.000)set u=CreateUnit(p,'hfoo',11553.7,-11052.2,270.000)set u=CreateUnit(p,'hfoo',11866.5,-11044.1,270.000)set u=CreateUnit(p,'hfoo',12194.7,-11051.3,270.000)set u=CreateUnit(p,'hfoo',12829.8,-11050.3,270.000)set u=CreateUnit(p,'hfoo',12516.3,-11048.0,270.000)set u=CreateUnit(p,'hbsh',8756.7,2231.1,159.134)set u=CreateUnit(p,'hdes',8725.7,1444.5,148.343)set u=CreateUnit(p,'ogrk',10149.5,2965.0,12.490)set u=CreateUnit(p,'nvil',9481.5,2020.6,153.110)set u=CreateUnit(p,'nvil',11946.6,1409.1,153.110)set u=CreateUnit(p,'nvil',13162.3,-376.3,358.110)set mV=CreateUnit(p,'N007',463.2,-595.1,135.000)set u=CreateUnit(p,'nslf',10997.8,3200.4,270.000)set u=CreateUnit(p,'nwnr',10992.4,2448.7,90.000)set pV=CreateUnit(p,'n00E',14666.0,1079.2,89.340)set u=CreateUnit(p,'o022',10129.1,2787.2,0.000)set u=CreateUnit(p,'n00A',10780.4,3209.3,270.000)set u=CreateUnit(p,'o01X',12561.4,1703.5,225.000)set u=CreateUnit(p,'nvil',10161.2,3604.7,103.352)set u=CreateUnit(p,'nvil',11325.7,3482.4,240.168)set u=CreateUnit(p,'nvil',11322.3,743.0,84.356)set u=CreateUnit(p,'nvil',10865.2,-59.7,238.960)set u=CreateUnit(p,'nvil',12978.8,-742.5,322.470)set u=CreateUnit(p,'nvil',13486.5,-796.9,151.045)set u=CreateUnit(p,'nvil',13883.7,-1122.0,87.959)set u=CreateUnit(p,'nvil',14401.0,-496.5,7.174)set u=CreateUnit(p,'nvil',12518.7,-847.8,224.183)set u=CreateUnit(p,'nvil',11989.6,-691.0,48.506)set u=CreateUnit(p,'nvil',10697.4,1028.4,2.142)set u=CreateUnit(p,'nvil',9993.2,838.7,130.620)set u=CreateUnit(p,'nvil',9880.9,-312.0,83.993)set u=CreateUnit(p,'o009',-2214.0,469.5,315.030)set u=CreateUnit(p,'o01Y',-2283.0,311.9,0.000)set u=CreateUnit(p,'o01Z',-2063.7,512.1,270.040)set u=CreateUnit(p,'o021',10788.7,2432.2,90.180)set u=CreateUnit(p,'N00F',1861.0,-4063.8,270.000)set u=CreateUnit(p,'o027',-8391.7,-13686.5,180.000)set u=CreateUnit(p,'o028',-9565.3,-13673.1,0.000)set u=CreateUnit(p,'o02A',-9010.1,-13208.2,270.000)set u=CreateUnit(p,'o029',-9519.1,-14831.5,0.000)set u=CreateUnit(p,'o02B',-8490.7,-14848.6,180.000)set u=CreateUnit(p,'hkni',-11717.6,-13939.5,180.000)set u=CreateUnit(p,'hkni',-12586.0,-13906.9,0.000)set u=CreateUnit(p,'N00J',-342.8,-438.8,69.238)set u=CreateUnit(p,'o02L',1781.6,-4106.0,270.000)endfunctionfunction CreatePlayerBuildings takes nothing returns nothingcall eU()endfunctionfunction nU takes nothing returns nothingcall oU()call rU()endfunctionfunction VU takes nothing returns nothingcall eU()call iU()call aU()call nU()endfunctionfunction EU takes integer XU returns stringlocal string s=nullif XU==1 thenset s="愚钝"elseif XU==2 thenset s="笨拙"elseif XU==3 thenset s="平平"elseif XU==4 thenset s="聪明"elseif XU==5 thenset s="聪慧"endifreturn sendfunctionfunction OU takes integer XU returns stringlocal string s=nullif XU==1 thenset s="浮躁"elseif XU==2 thenset s="轻浮"elseif XU==3 thenset s="耐心"elseif XU==4 thenset s="稳重"elseif XU==5 thenset s="沉稳"endifreturn sendfunctionfunction RU takes nothing returns nothinglocal player p=GetTriggerPlayer()call DisplayTimedTextToPlayer(p,0,0,30,("|cFFFF00331号副本重置倒计时：|cFF33FFFF"+(I2S(R2I(TimerGetRemaining(Hd[1])))+"秒")))call DisplayTimedTextToPlayer(p,0,0,30,("|cFFFF00332号副本重置倒计时：|cFF33FFFF"+(I2S(R2I(TimerGetRemaining(Hd[2])))+"秒")))call DisplayTimedTextToPlayer(p,0,0,30,("|cFFFF00333号副本重置倒计时：|cFF33FFFF"+(I2S(R2I(TimerGetRemaining(Hd[3])))+"秒")))call DisplayTimedTextToPlayer(p,0,0,30,("|cFFFF00334号副本重置倒计时：|cFF33FFFF"+(I2S(R2I(TimerGetRemaining(Hd[4])))+"秒")))call DisplayTimedTextToPlayer(p,0,0,30,("|cFFFF00335号副本重置倒计时：|cFF33FFFF"+(I2S(R2I(TimerGetRemaining(Hd[5])))+"秒")))call DisplayTimedTextToPlayer(p,0,0,30,("|cFFFF00336号副本重置倒计时：|cFF33FFFF"+(I2S(R2I(TimerGetRemaining(Hd[6])))+"秒")))set p=nullendfunctionfunction IU takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=12loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndif((GetUnitTypeId(k8[i])==R8[bj_forLoopBIndex]))thencall DisplayTextToPlayer(p,0,0,("|cFFFFFF00伴侣："+GetUnitName(k8[i])))if((LI[bj_forLoopBIndex]>0))thencall DisplayTextToPlayer(p,0,0,("|cFF00FFFF根骨 ：   "+I2S(LI[bj_forLoopBIndex])))endifif((MI[bj_forLoopBIndex]>0))thencall DisplayTextToPlayer(p,0,0,("|cFF00FFFF悟性 ：   "+I2S(MI[bj_forLoopBIndex])))endifif((PI[bj_forLoopBIndex]>0))thencall DisplayTextToPlayer(p,0,0,("|cFF00FFFF经脉 ：   "+I2S(PI[bj_forLoopBIndex])))endifif((SI[bj_forLoopBIndex]>0))thencall DisplayTextToPlayer(p,0,0,("|cFF00FFFF福缘 ：   "+I2S(SI[bj_forLoopBIndex])))endifif((tI[bj_forLoopBIndex]>0))thencall DisplayTextToPlayer(p,0,0,("|cFF00FFFF胆魄 ：   "+I2S(tI[bj_forLoopBIndex])))endifif((wI[bj_forLoopBIndex]>0))thencall DisplayTextToPlayer(p,0,0,("|cFF00FFFF医术 ：   "+I2S(wI[bj_forLoopBIndex])))endifendifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopset t=nullset p=nullendfunctionfunction AU takes integer id returns booleanlocal integer i=1loopexitwhen i>12if id==RN[i]thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction NU takes unit u,unit bU,integer BU,integer cU,integer CU,integer dU,integer DU,integer fU,integer FU returns nothinglocal player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(bU)local integer array gUlocal integer j=4set gU[1]=cUset gU[2]=CUset gU[3]=dUset gU[4]=DUif DU==0 thenset j=3endifif dU==0 thenset j=2endifif CU==0 thenset j=1endifif cU==0 thenset j=0endifif(GetRandomInt(1,1000)<=fR[i]or(GetRandomInt(1,100)<=35 and Ce[i]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif(j>0)thenif(GetRandomInt(1,100)<=BU)thencall SJ(gU[GetRandomInt(1,j)],vJ)endifendifif(fU!=0)thenif((GetRandomInt(1,100)<=fU))thencall SJ(FU,vJ)if AU(FU)and aA[i]==true thencall SJ(FU,vJ)endifendifendifset N7=N7+1endloopcall RemoveLocation(vJ)set p=nullset vJ=nullendfunctionfunction GU takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)local integer hU=0local integer HU=0set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=6loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[11]))thenset hU=hU+5set HU=HU+1elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[9]))thenset hU=hU+0set HU=HU+4elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[10]))thenset hU=hU+3set HU=HU+4elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[8]))thenset hU=hU+4set HU=HU+3elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[7]))thenset hU=hU+4set HU=HU+0elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[12]))thenset hU=hU+1set HU=HU+5elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[6]))thenset hU=hU+2set HU=HU+3elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[1]))thenset hU=hU+2set HU=HU+1elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[2]))thenset hU=hU+1set HU=HU+2elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[3]))thenset hU=hU+3set HU=HU-1elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[4]))thenset hU=hU-1set HU=HU+3elseif((GetItemTypeId(UnitItemInSlotBJ(P4[i],bj_forLoopAIndex))==RN[5]))thenset hU=hU+3set HU=HU+2endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,("|cff00ff33总药性（阴）："+I2S(hU)))call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,("|cff00ff33总药性（阳）："+I2S(HU)))endfunctionfunction jU takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)if((xd[i]==0))thencall DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000英雄，你的剑意不够哦")elseif((yd[i]==1))thencall DisplayTextToPlayer(p,0,0,("|cff00ff00当前已将"+(I2S(xd[i])+"点剑意转化成了悟性")))elseif((yd[i]==2))thencall DisplayTextToPlayer(p,0,0,("|cff00ff00当前已将"+(I2S(xd[i])+"点剑意转化成了根骨")))elseif((yd[i]==3))thencall DisplayTextToPlayer(p,0,0,("|cff00ff00当前已将"+(I2S(xd[i])+"点剑意转化成了胆魄")))elseif((yd[i]==4))thencall DisplayTextToPlayer(p,0,0,("|cff00ff00当前已将"+(I2S(xd[i])+"点剑意转化成了医术")))elseif((yd[i]==5))thencall DisplayTextToPlayer(p,0,0,("|cff00ff00当前已将"+(I2S(xd[i])+"点剑意转化成了福缘")))elseif((yd[i]==6))thencall DisplayTextToPlayer(p,0,0,("|cff00ff00当前已将"+(I2S(xd[i])+"点剑意转化成了经脉")))endifif((GetPlayerState(p,PLAYER_STATE_RESOURCE_LUMBER)<5))thencall DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000转化剑意需要至少5个黄金")elsecall DialogSetMessage(v8[i],("你拥有"+(I2S(xd[i])+"点剑意，请选择要转化的属性")))call DialogAddButtonBJ(v8[i],"根骨")set w8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"悟性")set y8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"福缘")set z8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"胆魄")set A8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"医术")set a8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"经脉")set x8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"取消")set B8[i]=bj_lastCreatedButtoncall DialogDisplay(p,v8[i],true)set Ad[i]=trueendifendifendfunctionfunction JU takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer j=LoadInteger(Jv,GetHandleId(t),0)local integer kU=40if j<kU thencall CreateNUnitsAtLocFacingLocBJ(1,'hkni',Player(6),Location(-5600,100),v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,LN)call SaveInteger(Jv,GetHandleId(t),0,j+1)elsecall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))endifset t=nullendfunctionfunction KU takes nothing returns nothinglocal timer tif Sd[1]!=2 and Sd[2]!=2 and Sd[3]!=2 and Sd[4]!=2 and Sd[5]!=2 and hX thenset t=CreateTimer()call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033激活特殊事件|cFFDDA0DD※边境入侵※")call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033由于激活特殊事件，辽国派出骑兵前来进攻，请准备防御")call TimerStart(t,2.,true,function JU)endifset t=nullendfunctionfunction lU takes nothing returns nothingif(kR[1]==12 or kR[2]==12 or kR[3]==12 or kR[4]==12 or kR[5]==12)and hX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033激活特殊事件|cFFDDA0DD※灵鹫宫劫※")call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033由于激活特殊事件，灵鹫宫派出高手前来进攻，请准备防御")call CreateNUnitsAtLocFacingLocBJ(1,'ngh2',Player(6),Location(1800,-100),v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,LN)call CreateNUnitsAtLocFacingLocBJ(1,'nfsp',Player(6),Location(1800,-100),v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,LN)call CreateNUnitsAtLocFacingLocBJ(1,'nmgd',Player(6),Location(1800,-100),v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,LN)endifendfunctionfunction LU takes real r1,real r2 returns reallocal real mU=(yl(((r1)*1.0))*0.3010300)local real MU=(yl(((r2)*1.0))*0.3010300)local real pU=GetRandomReal(mU,MU)local real PU=GetRandomReal(mU,MU)local real qU=GetRandomReal(mU,MU)local real QU=GetRandomReal(mU,MU)local real sU=GetRandomReal(mU,MU)local real SU=GetRandomReal(mU,MU)local real tU=(pU+PU+qU+QU+sU+SU)/ 6.0return Pow(10.,tU)endfunctionfunction TU takes nothing returns integerlocal integer i=0local player p=nulllocal integer n=0loopexitwhen i>11set p=Player(i)if GetPlayerController(p)==MAP_CONTROL_USER and GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING thenset n=n+1endifset i=i+1endloopset p=nullreturn nendfunctionfunction pu takes location vJ,real r1,real r2 returns locationreturn Location(GetLocationX(vJ)+r1*Cos(r2*bj_DEGTORAD),GetLocationY(vJ)+r1*Sin(r2*bj_DEGTORAD))endfunctionfunction tu takes nothing returns booleanlocal real dx=GetDestructableX(GetFilterDestructable())-fulocal real dy=GetDestructableY(GetFilterDestructable())-gureturn(dx*dx+dy*dy<=bj_enumDestructableRadius)endfunctionfunction uu takes itemtype vu,integer wu returns nothinglocal group g=nullset bj_stockPickedItemType=vuset bj_stockPickedItemLevel=wuset g=CreateGroup()call GroupEnumUnitsOfType(g,"marketplace",ju)call ForGroup(g,function UpdateEachStockBuildingEnum)call DestroyGroup(g)set g=nullendfunctionfunction xu takes nothing returns nothinglocal integer pickedItemIdlocal itemtype yulocal integer zu=0local integer Au=0local integer wuset wu=1loopif(bj_stockAllowedPermanent[wu])thenset Au=Au+1if(GetRandomInt(1,Au)==1)thenset yu=ITEM_TYPE_PERMANENTset zu=wuendifendifif(bj_stockAllowedCharged[wu])thenset Au=Au+1if(GetRandomInt(1,Au)==1)thenset yu=ITEM_TYPE_CHARGEDset zu=wuendifendifif(bj_stockAllowedArtifact[wu])thenset Au=Au+1if(GetRandomInt(1,Au)==1)thenset yu=ITEM_TYPE_ARTIFACTset zu=wuendifendifset wu=wu+1exitwhen wu>10endloopif(Au==0)thenset yu=nullreturnendifcall uu(yu,zu)set yu=nullendfunctionfunction au takes nothing returns nothingcall xu()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function xu)endfunctionfunction bu takes nothing returns booleanreturn trueendfunctionfunction Eu takes nothing returns integerlocal integer Fu=Ktif(Fu!=0)thenset Kt=Mt[Fu]elseset Lt=Lt+1set Fu=Ltendifif(Fu>8190)thenreturn 0endifset Pt[Fu]=nullset Qt[Fu]=nullset Rt[Fu]=.0set St[Fu]=.0set Tt[Fu]=.0set Ut[Fu]=.0set Vt[Fu]=.0set Wt[Fu]=.0set Xt[Fu]=.0set Yt[Fu]=.0set Zt[Fu]=0set Mt[Fu]=-1return Fuendfunctionfunction Gu takes integer Fu returns nothingif Fu==null thenreturnelseif(Mt[Fu]!=-1)thenreturnendifset Mt[Fu]=Ktset Kt=Fuendfunctionfunction Hu takes nothing returns nothingset Jv=InitHashtable()endfunctionfunction Nu takes unit Ou,integer cu returns nothinglocal integer i=0loopexitwhen i>=Mif L[i]==cu thenset w=Ouif K[i]!=null and TriggerEvaluate(K[i])and IsTriggerEnabled(K[i])thencall TriggerExecute(K[i])endifendifset i=i+1endloopendfunctionfunction Pu takes nothing returns booleancall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,30,"|cFF1E90FF当前编辑器版本为： |r|cFF00FF00YDWE 1.24.5.1710")return falseendfunctionfunction Qu takes nothing returns nothinglocal trigger t=CreateTrigger()local integer i=0loopexitwhen i==12call TriggerRegisterPlayerChatEvent(t,Player(i),"YDWE Version",true)set i=i+1endloopcall TriggerAddCondition(t,Condition(function Pu))set t=nullendfunctionfunction uU takes nothing returns nothingset I=GetCameraBoundMinX()-GetCameraMargin(CAMERA_MARGIN_LEFT)set J=GetCameraBoundMinY()-GetCameraMargin(CAMERA_MARGIN_BOTTOM)set H=GetCameraBoundMaxX()+GetCameraMargin(CAMERA_MARGIN_RIGHT)set l=GetCameraBoundMaxY()+GetCameraMargin(CAMERA_MARGIN_TOP)call Qu()endfunctionfunction DisplayAllAbilityId takes nothing returns nothinglocal integer vl=0set vl='YDl0'set vl='YDl1'set vl='YDl2'set vl='YDl3'set vl='YDl4'set vl='YDl5'set vl='YDl6'set vl='YDl7'set vl='YDl8'set vl='YDl9'set vl='YDla'set vl='YDlb'set vl='YDlc'set vl='YDld'set vl='YDle'set vl='YDlf'set vl='YDm0'set vl='YDm1'set vl='YDm2'set vl='YDm3'set vl='YDm4'set vl='YDm5'set vl='YDm6'set vl='YDm7'set vl='YDm8'set vl='YDm9'set vl='YDma'set vl='YDmb'set vl='YDmc'set vl='YDmd'set vl='YDme'set vl='YDmf'set vl='YDc0'set vl='YDc1'set vl='YDc2'set vl='YDc3'set vl='YDc4'set vl='YDc5'set vl='YDc6'set vl='YDc7'set vl='YDc8'set vl='YDc9'set vl='YDca'set vl='YDcb'set vl='YDcc'set vl='YDb0'set vl='YDb1'set vl='YDb2'set vl='YDb3'set vl='YDb4'set vl='YDb5'set vl='YDb6'set vl='YDb7'set vl='YDb8'set vl='YDb9'set vl='YDba'set vl='YDbb'set vl='YDbc'set vl='YDbd'set vl='YDbe'set vl='YDbg'set vl='YDbh'set vl='YDbi'set vl='YDbj'set vl='YDbk'set vl='YDbl'set vl='YDbm'set vl='YDbn'endfunctionfunction kv takes nothing returns nothinglocal integer i=0local integer m=0set P[0]=0set P[1]=15set P[2]=30set P[3]=43set P[4]=67set Q[0]=15set Q[1]=15set Q[2]=$Dset Q[3]=24loopexitwhen i>9set V[i]=48+mset m=m+1set i=i+1endloopset m=0loopexitwhen i>26set V[i]=97+mset m=m+1set i=i+1endloopset i=0set m=0loopexitwhen m>(Q[0]-1)set S[i]=1497656368-48+V[m]set i=i+1set m=m+1endloopset m=0loopexitwhen m>(Q[1]-1)set S[i]=1497656624-48+V[m]set i=i+1set m=m+1endloopset m=0loopexitwhen m>(Q[2]-1)set S[i]=1497654064-48+V[m]set i=i+1set m=m+1endloopset m=0loopexitwhen m>(Q[3]-1)set S[i]=1497653808-48+V[m]set i=i+1set m=m+1endloopendfunctionfunction mv takes nothing returns nothinglocal integer i=1local unit ulocal integer n=0local integer nv=0call kv()loopset i=1set T[nv]=1loopset T[nv+1]=T[nv]*2set nv=nv+1set i=i+1exitwhen i==Q[n]endloopset X[n]=T[nv]-1set Y[n]=-T[nv]set nv=nv+1set n=n+1exitwhen n>=4endloopif W thenset u=CreateUnit(Player(15),U,0,0,0)set i=0loopexitwhen i==P[5]call UnitAddAbility(u,S[i])set i=i+1endloopcall RemoveUnit(u)set u=nullendifendfunctionfunction ov takes player pv returns forcelocal force f=CreateForce()call ForceAddPlayer(f,pv)set Z=fset f=nullreturn Zendfunctionfunction UU takes unit u,integer j returns itemlocal integer i=0loopset d4=UnitItemInSlot(u,i)if GetItemTypeId(d4)==j thenreturn d4endifset i=i+1exitwhen i>=6endloopreturn nullendfunctionfunction wU takes rect r,player WU returns grouplocal group g=CreateGroup()set bj_groupEnumOwningPlayer=WUcall GroupEnumUnitsInRect(g,r,filterGetUnitsInRectOfPlayer)set lx=gset g=nullreturn lxendfunctionfunction yU takes nothing returns nothingif(bj_randomSubGroupWant>0)thenif(bj_randomSubGroupWant>=bj_randomSubGroupTotal)or(GetRandomInt(1,bj_randomSubGroupTotal)<=bj_randomSubGroupWant)thencall GroupAddUnit(bj_randomSubGroupGroup,GetEnumUnit())set bj_randomSubGroupWant=bj_randomSubGroupWant-1endifendifset bj_randomSubGroupTotal=bj_randomSubGroupTotal-1endfunctionfunction YU takes integer cL,group zU returns groupset bj_randomSubGroupGroup=CreateGroup()set bj_randomSubGroupWant=cLset bj_randomSubGroupTotal=CountUnitsInGroup(zU)if(bj_randomSubGroupWant<=0 or bj_randomSubGroupTotal<=0)thenreturn bj_randomSubGroupGroupendifcall ForGroup(zU,function yU)return bj_randomSubGroupGroupendfunctionfunction ZU takes unit rM,integer eK returns itemlocal integer NF=0loopset OX=UnitItemInSlot(rM,NF)if GetItemTypeId(OX)==eK thenreturn OXendifset NF=NF+1exitwhen NF>=bj_MAX_INVENTORYendloopreturn nullendfunctionfunction ow takes nothing returns nothinglocal unit rw=GetTriggerUnit()if IsUnitType(rw,UNIT_TYPE_STRUCTURE)thencall RescueUnitBJ(rw,GetOwningPlayer(GetRescuer()),bj_rescueChangeColorBldg)elsecall RescueUnitBJ(rw,GetOwningPlayer(GetRescuer()),bj_rescueChangeColorUnit)endifset rw=nullendfunctionfunction nw takes nothing returns nothinglocal integer NFif(bj_rescueUnitBehavior==null)thenset bj_rescueUnitBehavior=CreateTrigger()set NF=0loopcall TriggerRegisterPlayerUnitEvent(bj_rescueUnitBehavior,Player(NF),EVENT_PLAYER_UNIT_RESCUED,null)set NF=NF+1exitwhen NF==bj_MAX_PLAYER_SLOTSendloopcall TriggerAddAction(bj_rescueUnitBehavior,function ow)endifendfunctionfunction Vw takes nothing returns nothinglocal integer NFset NF=0loopif(GetPlayerController(Player(NF))==MAP_CONTROL_RESCUABLE)thencall nw()returnendifset NF=NF+1exitwhen NF==bj_MAX_PLAYERSendloopendfunctionfunction wv takes rect r,boolexpr vv returns grouplocal group g=CreateGroup()call GroupEnumUnitsInRect(g,r,vv)call DestroyBoolExpr(vv)set e4=gset g=nullreturn e4endfunctionfunction Xw takes player pv,boolexpr vv returns grouplocal group g=CreateGroup()call GroupEnumUnitsOfPlayer(g,pv,vv)call DestroyBoolExpr(vv)set e4=gset g=nullreturn e4endfunctionfunction yv takes multiboard mb,integer zv,integer Av,real av,real Bv,real bv,real Cv returns nothinglocal integer cv=0local integer Dv=0local integer Ev=MultiboardGetRowCount(mb)local integer Fv=MultiboardGetColumnCount(mb)local multiboarditem Gv=nullloopset cv=cv+1exitwhen cv>Evif(Av==0 or Av==cv)thenset Dv=0loopset Dv=Dv+1exitwhen Dv>Fvif(zv==0 or zv==Dv)thenset Gv=MultiboardGetItem(mb,cv-1,Dv-1)call MultiboardSetItemValueColor(Gv,PercentTo255(av),PercentTo255(Bv),PercentTo255(bv),PercentTo255(100.-Cv))call MultiboardReleaseItem(Gv)endifendloopendifendloopset Gv=nullendfunctionfunction mw takes multiboard mb,integer zv,integer Av,string Iv returns nothinglocal integer cv=0local integer Dv=0local integer Ev=MultiboardGetRowCount(mb)local integer Fv=MultiboardGetColumnCount(mb)local multiboarditem Gv=nullloopset cv=cv+1exitwhen cv>Evif(Av==0 or Av==cv)thenset Dv=0loopset Dv=Dv+1exitwhen Dv>Fvif(zv==0 or zv==Dv)thenset Gv=MultiboardGetItem(mb,cv-1,Dv-1)call MultiboardSetItemValue(Gv,Iv)call MultiboardReleaseItem(Gv)endifendloopendifendloopset Gv=nullendfunctionfunction Lv takes nothing returns nothinglocal integer i=0loopexitwhen i>=h4if g4[i]!=null and IsTriggerEnabled(g4[i])and TriggerEvaluate(g4[i])thencall TriggerExecute(g4[i])endifset i=i+1endloopendfunctionfunction Mv takes nothing returns booleanif GetUnitAbilityLevel(GetFilterUnit(),'Aloc')<=0 thencall TriggerRegisterUnitEvent(f4,GetFilterUnit(),EVENT_UNIT_DAMAGED)endifreturn falseendfunctionfunction Nv takes nothing returns nothinglocal trigger t=CreateTrigger()local region r=CreateRegion()local group g=CreateGroup()call RegionAddRect(r,GetWorldBounds())call TriggerRegisterEnterRegion(t,r,Condition(function Mv))call GroupEnumUnitsInRect(g,GetWorldBounds(),Condition(function Mv))call DestroyGroup(g)set r=nullset t=nullset g=nullendfunctionfunction Ov takes trigger Pv returns nothingif Pv==null thenreturnendifif h4==0 thenset f4=CreateTrigger()call TriggerAddAction(f4,function Lv)call Nv()endifset g4[h4]=Pvset h4=h4+1endfunctionfunction Qv takes nothing returns nothinglocal integer i=0if GetIssuedOrderId()>=$D0022 and GetIssuedOrderId()<=$D0027 thenset i4=GetOrderTargetItem()loopexitwhen i>=m4if k4[i]!=null and IsTriggerEnabled(k4[i])and TriggerEvaluate(k4[i])thencall TriggerExecute(k4[i])endifset i=i+1endloopendifendfunctionfunction qw takes trigger Sv,rect r returns eventlocal region Tv=CreateRegion()call RegionAddRect(Tv,r)set gO=Tvset Tv=nullreturn TriggerRegisterEnterRegion(Sv,gO,null)endfunctionfunction sw takes unit u,integer j returns booleanlocal integer i=0if j!=0 thenloopif GetItemTypeId(UnitItemInSlot(u,i))==j thenreturn trueendifset i=i+1exitwhen i>=6endloopendifreturn falseendfunctionfunction Vv takes player pv returns nothinglocal group g=CreateGroup()call GroupEnumUnitsOfPlayer(g,pv,null)call ForGroup(g,function WakePlayerUnitsEnum)call DestroyGroup(g)set g=nullendfunctionfunction tw takes real x returns reallocal real E2=GetRectMinX(bj_mapInitialPlayableArea)+50if(x<E2)thenreturn E2endifset E2=GetRectMaxX(bj_mapInitialPlayableArea)-50if(x>E2)thenreturn E2endifreturn xendfunctionfunction uw takes real y returns reallocal real E2=GetRectMinY(bj_mapInitialPlayableArea)+50if(y<E2)thenreturn E2endifset E2=GetRectMaxY(bj_mapInitialPlayableArea)-50if(y>E2)thenreturn E2endifreturn yendfunctionfunction Wv takes nothing returns nothinglocal integer d=0local real x=.0local real y=.0local integer Xv=0loopexitwhen(Xv==Ot)set d=Nt[Xv]if(Rt[d]>0)and(GetUnitState(Pt[d],UNIT_STATE_LIFE)>0)and(GetUnitState(Qt[d],UNIT_STATE_LIFE)>0)thenset Tt[d]=Tt[d]+.01if(Tt[d]>=St[d])thenset Xt[d]=Xt[d]+Ut[d]set Yt[d]=Yt[d]+Vt[d]set Zt[d]=Zt[d]+Wt[d]set x=GetUnitX(Pt[d])+Yt[d]*Cos(Xt[d])set y=GetUnitY(Pt[d])+Yt[d]*Sin(Xt[d])set x=(RMinBJ(RMaxBJ(((x)*1.),I),H))set y=(RMinBJ(RMaxBJ(((y)*1.),J),l))call SetUnitX(Qt[d],tw(x))call SetUnitY(Qt[d],uw(y))call SetUnitFlyHeight(Qt[d],Zt[d],.0)set Tt[d]=.0endifset Rt[d]=Rt[d]-.01elseset z=Pt[d]call Nu(Qt[d],$A)set Pt[d]=nullset Qt[d]=nullcall Gu(d)set Ot=Ot-1set Nt[Xv]=Nt[Ot]set Xv=Xv-1endifset Xv=Xv+1endloopif(Ot==0)thencall PauseTimer(o4)endifendfunctionfunction Yv takes unit Zv,unit dw,real ew,real fw,real gw,real hw,real iw returns nothinglocal integer d=Eu()local real x1=GetUnitX(dw)local real y1=GetUnitY(dw)local real x2=GetUnitX(Zv)local real y2=GetUnitY(Zv)set Pt[d]=dwset Qt[d]=Zvset Rt[d]=hwset St[d]=iwset Ut[d]=ew*(3.14159/ 180.)set Vt[d]=fwset Wt[d]=gwset Xt[d]=Atan2(y2-y1,x2-x1)set Yt[d]=SquareRoot((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))set Zt[d]=GetUnitFlyHeight(Qt[d])set Nt[Ot]=(d)set Ot=Ot+1if(Ot-1==0)thencall TimerStart(o4,.01,true,function Wv)endifendfunctionfunction jw takes boolean kw returns nothingcall SetPlayerState(Player(12),PLAYER_STATE_NO_CREEP_SLEEP,IntegerTertiaryOp(kw,0,1))if(not kw)thencall Vv(Player(12))endifendfunctionfunction vw takes unit ww returns nothinglocal integer tm=(LoadInteger(Jv,StringHash((I2S((GetHandleId((ww)))))),StringHash(("Timer"))))call FlushChildHashtable(Jv,StringHash((I2S((GetHandleId((ww)))))))call FlushChildHashtable(Jv,StringHash((I2S(tm))))call DestroyTimer((LoadTimerHandle(Jv,StringHash((I2S((GetHandleId((ww)))))),StringHash(("Timer")))))endfunctionfunction xw takes nothing returns nothinglocal timer tm=GetExpiredTimer()local unit ww=((LoadUnitHandle(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("Pet")))))local unit yw=((LoadUnitHandle(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("Captain")))))local real x=GetUnitX(yw)-GetUnitX(ww)local real y=GetUnitY(yw)-GetUnitY(ww)local real d=x*x+y*ylocal real vlocal real alocal effect e=nulllocal real xU=(LoadReal(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("Life"))))local integer p=(LoadInteger(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("Percent"))))set v=(LoadReal(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("GuardRanger"))))if GetUnitState(ww,UNIT_STATE_LIFE)>0 and GetUnitState(yw,UNIT_STATE_LIFE)>0 thenif d<v*v thenif(OrderId2String(GetUnitCurrentOrder((ww)))==null)and GetRandomInt(0,100)<p thenset x=GetUnitX(yw)set y=GetUnitY(yw)set d=GetRandomReal(0,v)set a=GetRandomReal(0,360)call IssuePointOrderById(ww,$D0016,x+d*CosBJ(a),y+d*SinBJ(a))endifelseset v=(LoadReal(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("ReturnRanger"))))if d<v*v thenif(OrderId2String(GetUnitCurrentOrder((ww)))==null)thencall IssuePointOrderById(ww,$D0016,GetUnitX(yw),GetUnitY(yw))endifelseset v=(LoadReal(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("OutRanger"))))if d!=0 and d>v*v thencall SetUnitPosition(ww,GetUnitX(yw),GetUnitY(yw))set e=AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",yw,"chest")call DestroyEffect(e)elsecall IssuePointOrderById(ww,$D0012,GetUnitX(yw),GetUnitY(yw))endifendifendifelsecall IssuePointOrderById(ww,$D000F,GetUnitX(yw),GetUnitY(yw))call vw(ww)endifset tm=nullset ww=nullset yw=nullset e=nullendfunctionfunction zw takes unit ww,unit yw,real hw,real Aw,real aw,real Bw,integer bw returns nothinglocal timer tm=CreateTimer()call SaveTimerHandle(Jv,StringHash((I2S((GetHandleId((ww)))))),StringHash(("Timer")),(tm))call SaveUnitHandle(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("pet")),(ww))call SaveUnitHandle(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("Captain")),(yw))call SaveInteger(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("Percent")),(bw))call SaveReal(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("GuardRanger")),((Aw)*1.))call SaveReal(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("ReturnRanger")),((aw)*1.))call SaveReal(Jv,StringHash((I2S((GetHandleId((tm)))))),StringHash(("OutRanger")),((Bw)*1.))call TimerStart(tm,hw,true,function xw)set tm=nullendfunctionfunction Cw takes nothing returns integerlocal integer h=s4if s4<0 thenif t4>=8000 thenreturn 8100elseset t4=t4+1return t4endifendifset s4=u4[h]return hendfunctionfunction cw takes integer cu returns nothingset u4[cu]=s4set s4=cuendfunctionfunction Dw takes real pw,trigger Ew returns integerlocal integer cu=Cw()local integer h=r4local integer t=R2I(100.*pw)+p4local integer pset x4[cu]=Ewset w4[cu]=tloopset p=v4[h]if p<0 or w4[p]>=t thenset v4[h]=cuset v4[cu]=preturn cuendifset h=pendloopreturn cuendfunctionfunction Fw takes nothing returns nothingcall RemoveUnit(LoadUnitHandle(Jv,c4,q4))call RemoveSavedHandle(Jv,c4,q4)endfunctionfunction Gw takes real pw,unit u returns nothingcall SaveUnitHandle(Jv,c4,Dw(pw,y4),u)endfunctionfunction Hw takes nothing returns nothingcall DestroyTimer(LoadTimerHandle(Jv,c4,q4))call RemoveSavedHandle(Jv,c4,q4)endfunctionfunction Iw takes nothing returns nothingcall RemoveItem(LoadItemHandle(Jv,c4,q4))call RemoveSavedHandle(Jv,c4,q4)endfunctionfunction lw takes nothing returns nothingcall DestroyEffect(LoadEffectHandle(Jv,c4,q4))call RemoveSavedHandle(Jv,c4,q4)endfunctionfunction Jw takes real pw,effect e returns nothingcall SaveEffectHandle(Jv,c4,Dw(pw,a4),e)endfunctionfunction Kw takes nothing returns nothingcall DestroyLightning(LoadLightningHandle(Jv,c4,q4))call RemoveSavedHandle(Jv,c4,q4)endfunctionfunction Lw takes real pw,lightning lt returns nothinglocal integer i=Dw(pw,B4)call SaveLightningHandle(Jv,c4,i,lt)endfunctionfunction Mw takes nothing returns nothingcall TriggerExecute(LoadTriggerHandle(Jv,c4,q4))call RemoveSavedHandle(Jv,c4,q4)endfunctionfunction Nw takes real pw,texttag tt returns nothinglocal integer N=0local integer i=0if pw<=0 thenset pw=.01endifcall SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,pw)call SetTextTagFadepoint(tt,pw)endfunctionfunction Ow takes nothing returns nothinglocal integer h=r4local integer ploopset q4=v4[h]exitwhen q4<0 or p4<w4[q4]call TriggerEvaluate(x4[q4])call cw(q4)set v4[h]=v4[q4]endloopset p4=p4+1endfunctionfunction Pw takes nothing returns nothingset C4=CreateTimer()set c4=GetHandleId(C4)set p4=0set r4=0set v4[0]=-1set s4=1set t4=1set u4[1]=-1set y4=CreateTrigger()set z4=CreateTrigger()set A4=CreateTrigger()set a4=CreateTrigger()set B4=CreateTrigger()set b4=CreateTrigger()call TriggerAddCondition(y4,Condition(function Fw))call TriggerAddCondition(z4,Condition(function Hw))call TriggerAddCondition(A4,Condition(function Iw))call TriggerAddCondition(a4,Condition(function lw))call TriggerAddCondition(B4,Condition(function Kw))call TriggerAddCondition(b4,Condition(function Mw))call TimerStart(C4,.01,true,function Ow)endfunctionfunction Qw takes nothing returns nothinglocal integer Rw=GetHandleId(GetExpiredTimer())local trigger Pv=LoadTriggerHandle(Jv,Rw,$D0001)call SaveInteger(Jv,StringHash(I2S(GetHandleId(Pv))),StringHash("RunIndex"),LoadInteger(Jv,Rw,$D0002))if TriggerEvaluate(Pv)thencall TriggerExecute(Pv)endifset Pv=nullendfunctionfunction Sw takes nothing returns nothinglocal integer Rw=GetHandleId(GetExpiredTimer())local trigger Pv=LoadTriggerHandle(Jv,Rw,$D0001)local integer Tw=LoadInteger(Jv,Rw,$D0003)call SaveInteger(Jv,StringHash(I2S(GetHandleId(Pv))),StringHash("RunIndex"),LoadInteger(Jv,Rw,$D0002))if TriggerEvaluate(Pv)thencall TriggerExecute(Pv)endifset Tw=Tw-1if Tw>0 thencall SaveInteger(Jv,Rw,$D0003,Tw)elsecall DestroyTimer(GetExpiredTimer())call FlushChildHashtable(Jv,Rw)endifset Pv=nullendfunctionfunction Uw takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)call SetUnitInvulnerable(u,false)call PauseTimer(t)call DestroyTimer(t)set t=nullset u=nullendfunctionfunction Ww takes unit u returns nothinglocal timer t=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(t),0,u)call SetUnitInvulnerable(u,true)call TimerStart(t,0,false,function Uw)set t=nullset u=nullendfunctionfunction Yw takes integer vW,string s1,string s2 returns nothinglocal integer i=StringHash("VIP")call SaveStr(Jv,i+vW,0,s1)call SaveStr(Jv,i+vW,1,s2)endfunctionfunction eW takes nothing returns nothingcall Yw(0,"WorldEdit","288001")call Yw(1,"特攻帝王攻","000948")call Yw(2,"苍穹而降","161119")call Yw(3,"非我莫属xq","666666")call Yw(4,"晓窗临风","000895")call Yw(5,"沌沌沌","288001")call Yw(6,"LL龙岩","002021")call Yw(7,"逍遥甜甜","552521")call Yw(8,"cyg819","254711")call Yw(9,"缘起丶凯","177157")call Yw(10,"panzihao0708","363663")call Yw(11,"fugh","757557")call Yw(12,"Sero","868668")call Yw(13,"秋凝水","181881")call Yw(14,"ooped","696996")call Yw(15,"shen zhi shou","654321")call Yw(16,"圈哥Qgg","765432")call Yw(17,"rudongzzx","876543")call Yw(18,"空佛灵魂冢","345678")call Yw(19,"liao239919","456783")call Yw(20,"sss","555689")call Yw(21,"希嘉兒","456123")call Yw(22,"寡言的三藏","520995")call Yw(23,"逗比小号还","520995")call Yw(24,"风陵夜梦长","101010")call Yw(25,"影帝耿鬼","285286")call Yw(26,"大wangWAI","121314")call Yw(27,"金牛牛儿","336337")call Yw(28,"Copy杜","776767")call Yw(29,"凌尘凤","685968")call Yw(30,"Copy杜","596859")call Yw(31,"海棠花无香","596877")call Yw(32,"zs","796382")call Yw(33,"射一天","567894")call Yw(34,"小贼鬼","888888")call Yw(35,"fengxiong007","777556")call Yw(36,"ii时间","958598")call Yw(37,"LCH","688668")call Yw(38,"阿莘","686886")call Yw(39,"五城","353283")call Yw(40,"鹤归人不归","600607")endfunctionfunction xW takes string s returns stringlocal string oWlocal integer i=StringHash("VIP")local integer j=0loopexitwhen j>=50if LoadStr(Jv,i+j,0)==s thenreturn LoadStr(Jv,i+j,1)endifset j=j+1endloopreturn nullendfunctionfunction rW takes string s returns stringlocal string oWset oW=I2S(IAbsBJ(StringHash(s)))if StringLength(oW)>=6 thenif StringLength(oW)==10 thenreturn SubStringBJ(oW,5,10)elsereturn SubStringBJ(oW,1,6)endifelsereturn SubStringBJ(oW+"013478",1,6)endifreturn nullendfunctionfunction iW takes string s returns stringlocal string oWset oW=I2S(IAbsBJ(StringHash(s)))set oW=I2S(IAbsBJ(StringHash(oW)))if StringLength(oW)>=6 thenif StringLength(oW)==10 thenreturn SubStringBJ(oW,5,10)elsereturn SubStringBJ(oW,1,6)endifelsereturn SubStringBJ(oW+"013478",1,6)endifreturn nullendfunctionfunction aW takes string s returns stringlocal string oWset oW=I2S(IAbsBJ(StringHash(s)))set oW=I2S(IAbsBJ(StringHash(oW)))set oW=I2S(IAbsBJ(StringHash(oW)))if StringLength(oW)>=6 thenif StringLength(oW)==10 thenreturn SubStringBJ(oW,5,10)elsereturn SubStringBJ(oW,1,6)endifelsereturn SubStringBJ(oW+"013478",1,6)endifreturn nullendfunctionfunction nW takes nothing returns nothinglocal timer tm=GetExpiredTimer()local integer i=GetHandleId(tm)local unit VW=LoadUnitHandle(Jv,i,StringHash("unit"))local effect EW=LoadEffectHandle(Jv,i,StringHash("effect"))call DestroyEffect(EW)call PauseUnit(VW,false)call FlushChildHashtable(Jv,i)call PauseTimer(tm)call DestroyTimer(tm)set tm=nullset VW=nullset EW=nullendfunctionfunction XW takes unit VW,real OW,string RW returns nothinglocal timer tm=CreateTimer()local integer i=GetHandleId(tm)local location vJ=GetUnitLoc(VW)if UnitHasBuffBJ(VW,'BHds')==false and IsUnitType(VW,UNIT_TYPE_MAGIC_IMMUNE)==false thencall SaveUnitHandle(Jv,i,StringHash("unit"),VW)call SaveEffectHandle(Jv,i,StringHash("effect"),AddSpecialEffectTargetUnitBJ("overhead",VW,RW))call PauseUnit(VW,true)call CreateTextTagLocBJ("封穴",vJ,0,12.,65.,55.,42.,0)call Nw(OW,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)call TimerStart(tm,OW,false,function nW)endifcall RemoveLocation(vJ)set vJ=nullset tm=nullendfunctionfunction IW takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I0AA' or GetItemTypeId(GetManipulatedItem())=='I0AB' or GetItemTypeId(GetManipulatedItem())=='I0AC' or GetItemTypeId(GetManipulatedItem())=='I0AD' or GetItemTypeId(GetManipulatedItem())=='I0AE' or GetItemTypeId(GetManipulatedItem())=='I0AF' or GetItemTypeId(GetManipulatedItem())=='I0AG' or GetItemTypeId(GetManipulatedItem())=='I0AH' or GetItemTypeId(GetManipulatedItem())=='I0AI' or GetItemTypeId(GetManipulatedItem())=='I0AJ' or GetItemTypeId(GetManipulatedItem())=='I0AK')endfunctionfunction AW takes nothing returns nothingset wV[1]=I2S(R2I(Pow(2,17))+1)set wV[2]=I2S(R2I(Pow(2,18))+2)set wV[3]=I2S(R2I(Pow(2,19))+3)set wV[4]=I2S(R2I(Pow(3,11))+4)set wV[5]=I2S(R2I(Pow(3,12))+5)set wV[6]=I2S(R2I(Pow(5,8))+6)set wV[7]=I2S(R2I(Pow(6,7))+7)set wV[8]=I2S(R2I(Pow(7,6))+8)set wV[9]=I2S(R2I(Pow(8,6))+9)set wV[10]=I2S(R2I(Pow(9,6))+10)set wV[11]="A"+I2S(R2I(Pow(10,4))+11)set wV[12]="A"+I2S(R2I(Pow(11,4))+12)set wV[13]="A"+I2S(R2I(Pow(12,4))+13)set wV[14]="A"+I2S(R2I(Pow(13,4))+14)set wV[15]="A"+I2S(R2I(Pow(14,4))+15)set wV[16]="A"+I2S(R2I(Pow(15,4))+16)set wV[17]="A"+I2S(R2I(Pow(16,4))+17)set wV[18]="A"+I2S(R2I(Pow(17,4))+18)set wV[19]="AA"+I2S(R2I(Pow(18,3))+19)set wV[20]="AA"+I2S(R2I(Pow(19,3))+20)endfunctionfunction NW takes nothing returns nothinglocal player p=GetOwningPlayer(GetTriggerUnit())local integer i=1+GetPlayerId(p)call DisplayTextToPlayer(p,0,0,"|CFF00FF00点击六位正确的激活码可选择新英雄兰馨和新门派明教")if GetItemTypeId(GetManipulatedItem())=='I0AA' thenset QV[i]=QV[i]+"1"set sV[i]=sV[i]+"1"set SV[i]=SV[i]+"1"set tV[i]=tV[i]+"1"set TV[i]=TV[i]+"1"set uV[i]=uV[i]+"1"elseif GetItemTypeId(GetManipulatedItem())=='I0AB' thenset QV[i]=QV[i]+"2"set sV[i]=sV[i]+"2"set SV[i]=SV[i]+"2"set tV[i]=tV[i]+"2"set TV[i]=TV[i]+"2"set uV[i]=uV[i]+"2"elseif GetItemTypeId(GetManipulatedItem())=='I0AC' thenset QV[i]=QV[i]+"3"set sV[i]=sV[i]+"3"set SV[i]=SV[i]+"3"set tV[i]=tV[i]+"3"set TV[i]=TV[i]+"3"set uV[i]=uV[i]+"3"elseif GetItemTypeId(GetManipulatedItem())=='I0AD' thenset QV[i]=QV[i]+"4"set sV[i]=sV[i]+"4"set SV[i]=SV[i]+"4"set tV[i]=tV[i]+"4"set TV[i]=TV[i]+"4"set uV[i]=uV[i]+"4"elseif GetItemTypeId(GetManipulatedItem())=='I0AE' thenset QV[i]=QV[i]+"5"set sV[i]=sV[i]+"5"set SV[i]=SV[i]+"5"set tV[i]=tV[i]+"5"set TV[i]=TV[i]+"5"set uV[i]=uV[i]+"5"elseif GetItemTypeId(GetManipulatedItem())=='I0AF' thenset QV[i]=QV[i]+"6"set sV[i]=sV[i]+"6"set SV[i]=SV[i]+"6"set tV[i]=tV[i]+"6"set TV[i]=TV[i]+"6"set uV[i]=uV[i]+"6"elseif GetItemTypeId(GetManipulatedItem())=='I0AG' thenset QV[i]=QV[i]+"7"set sV[i]=sV[i]+"7"set SV[i]=SV[i]+"7"set tV[i]=tV[i]+"7"set TV[i]=TV[i]+"7"set uV[i]=uV[i]+"7"elseif GetItemTypeId(GetManipulatedItem())=='I0AH' thenset QV[i]=QV[i]+"8"set sV[i]=sV[i]+"8"set SV[i]=SV[i]+"8"set tV[i]=tV[i]+"8"set TV[i]=TV[i]+"8"set uV[i]=uV[i]+"8"elseif GetItemTypeId(GetManipulatedItem())=='I0AI' thenset QV[i]=QV[i]+"9"set sV[i]=sV[i]+"9"set SV[i]=SV[i]+"9"set tV[i]=tV[i]+"9"set TV[i]=TV[i]+"9"set uV[i]=uV[i]+"9"elseif GetItemTypeId(GetManipulatedItem())=='I0AJ' thenset QV[i]=QV[i]+"0"set sV[i]=sV[i]+"0"set SV[i]=SV[i]+"0"set tV[i]=tV[i]+"0"set TV[i]=TV[i]+"0"set uV[i]=uV[i]+"0"elseif GetItemTypeId(GetManipulatedItem())=='I0AK' thenset QV[i]=QV[i]+"A"set sV[i]=sV[i]+"A"set SV[i]=SV[i]+"A"set tV[i]=tV[i]+"A"set TV[i]=TV[i]+"A"set uV[i]=uV[i]+"A"endifif QV[i]==rW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"解锁了角色兰馨和门派明教|r")endifif sV[i]==rW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"解锁了角色兰馨和门派明教|r")endifif SV[i]==rW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"解锁了角色兰馨和门派明教|r")endifif tV[i]==rW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"解锁了角色兰馨和门派明教|r")endifif TV[i]==rW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"解锁了角色兰馨和门派明教|r")endifif uV[i]==rW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"解锁了角色兰馨和门派明教|r")endifif QV[i]==iW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset zX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了角色瑾轩|r")endifif sV[i]==iW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset zX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了角色瑾轩|r")endifif SV[i]==iW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset zX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了角色瑾轩|r")endifif tV[i]==iW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset zX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了角色瑾轩|r")endifif TV[i]==iW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset zX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了角色瑾轩|r")endifif uV[i]==iW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset zX[i]=1call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了角色瑾轩|r")endifif QV[i]==aW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset ZX[i]=1set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了11格武功|r")endifif sV[i]==aW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset ZX[i]=1set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了11格武功|r")endifif SV[i]==aW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset ZX[i]=1set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了11格武功|r")endifif tV[i]==aW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset ZX[i]=1set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了11格武功|r")endifif TV[i]==aW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset ZX[i]=1set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了11格武功|r")endifif uV[i]==aW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset ZX[i]=1set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933恭喜玩家"+GetPlayerName(p)+"解锁了11格武功|r")endifif QV[i]==xW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=2set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"对决战江湖的杰出贡献|r")endifif sV[i]==xW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=2set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"对决战江湖的杰出贡献|r")endifif SV[i]==xW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=2set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"对决战江湖的杰出贡献|r")endifif tV[i]==xW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=2set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"对决战江湖的杰出贡献|r")endifif TV[i]==xW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=2set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"对决战江湖的杰出贡献|r")endifif uV[i]==xW(LoadStr(Jv,GetHandleId(p),GetHandleId(p)*2))thenset YX[i]=2set cX[i]=11call UnitRemoveAbility(ER[i],'A040')call UnitRemoveAbility(ER[i],'A041')call UnitRemoveAbility(ER[i],'A042')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933感谢玩家"+GetPlayerName(p)+"对决战江湖的杰出贡献|r")endifif StringLength(QV[i])>=6 thenset QV[i]=""endifif StringLength(sV[i])>=6 thenset sV[i]=""endifif StringLength(SV[i])>=6 thenset SV[i]=""endifif StringLength(tV[i])>=6 thenset tV[i]=""endifif StringLength(TV[i])>=6 thenset TV[i]=""endifif StringLength(uV[i])>=6 thenset uV[i]=""endifset p=nullendfunctionfunction bW takes unit u,unit uc,real w1,real w2,real BW,integer id returns reallocal player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local item it=nulllocal integer j=0local real cWlocal real CWlocal real dWlocal real DWlocal real fWlocal real FWset CW=50*xR[i]*(w1*(1+I2R(GetHeroStatBJ(0,u,true))/ 200)*(1+I2R(GetHeroStatBJ(1,u,true))/ 200)+w2*0.03*I2R(GetHeroStatBJ(2,u,true)))*(1.+GetUnitAbilityLevel(u,id))*(fA[i]+1.)*BWset j=1loopexitwhen j>=7if(GetItemType(UnitItemInSlotBJ(u,j))==ITEM_TYPE_ARTIFACT)thenset it=UnitItemInSlotBJ(u,j)endifset j=j+1endloopif GetItemTypeId(it)=='I099' and(GetUnitTypeId(u)=='O000' or GetUnitTypeId(u)=='O001' or GetUnitTypeId(u)=='O004' or GetUnitTypeId(u)=='O02J')thenset CW=CW*1.5endifif GetItemTypeId(it)=='I09A' and(GetUnitTypeId(u)=='O002' or GetUnitTypeId(u)=='O003' or GetUnitTypeId(u)=='O023' or GetUnitTypeId(u)=='O02H' or GetUnitTypeId(u)=='O02I')thenset CW=CW*1.5endifset dW=1/(1+0.1*GetUnitLevel(uc))set DW=RMinBJ(I2R(GetUnitLevel(uc))/ 1.5,95.)set fW=GetRandomReal(0.95,0.95+I2R(yX[i])/ 20)set FW=CW*dW*fWif GetRandomReal(0,100)<DW thenset cW=0elseset cW=FWendifset p=nullset it=nullcall SaveReal(Jv,1+GetPlayerId(GetOwningPlayer(u)),id*3,FW)return cWendfunctionfunction gW takes unit u,unit uc,real cW returns nothingif cW==0 thencall CreateTextTagUnitBJ("MISS",uc,0.,11.,255.,0.,0.,30.)elseif GetRandomReal(0.,100.)<=100.*tO[1+GetPlayerId(GetOwningPlayer(u))]thencall UnitDamageTarget(u,uc,QO[1+GetPlayerId(GetOwningPlayer(u))]*cW,true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)call CreateTextTagUnitBJ(I2S(R2I(cW)),uc,.0,14.,100.,100.,.0,30.)elsecall UnitDamageTarget(u,uc,cW,true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)call CreateTextTagUnitBJ(I2S(R2I(cW)),uc,.0,11.,100.,100.,100.,30.)endifendifcall SetTextTagVelocityBJ(bj_lastCreatedTextTag,400.,(GetRandomReal(80.,100.)))call Nw(.65,bj_lastCreatedTextTag)endfunctionfunction GW takes unit u,integer id,real r returns nothinglocal integer HJ=GetUnitAbilityLevel(u,id)local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if HJ>0 and HJ<7 thenif UnitHasBuffBJ(u,'B010')thencall SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),id,LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),id)+(3+WX[i])*(XR[i]+5+GetRandomInt(0,R2I(r/ 60)))*(5+GetUnitAbilityLevel(u,'A02V')/ 2+2*rA[i])/ 20)elsecall SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),id,LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),id)+(3+WX[i])*(XR[i]+5+GetRandomInt(0,R2I(r/ 60)))*(4+2*rA[i])/ 20)endifcall SaveStr(Jv,GetHandleId(GetOwningPlayer(u)),id*2,I2S(LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),id))+"/"+I2S(R2I(r*HJ)))if LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),id)>R2I(r)*HJ thencall SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),id,0)call IncUnitAbilityLevel(u,id)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),id*5,GetUnitAbilityLevel(u,id))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"领悟了武功："+GetObjectName(id)+"第"+I2S(HJ+1)+"重")endifelseif HJ>0 and HJ<9 thenif(GetRandomReal(1.,r*I2R(HJ))<=I2R(XR[i])/ 2*(1+0.6*rA[i]))or(UnitHasBuffBJ(u,'B010')and GetRandomReal(1.,r*I2R(HJ))<=I2R(XR[i])/ 2*(2+0.3*GetUnitAbilityLevel(u,'A02V')+0.6*rA[i]))thenif id!='A07W' thencall IncUnitAbilityLevel(u,id)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),id*5,GetUnitAbilityLevel(u,id))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"领悟了武功："+GetObjectName(id)+"第"+I2S(HJ+1)+"重")if HJ+1==9 and Ce[i]==8 thenset Bb[i]=Bb[i]+2call DisplayTextToPlayer(p,0,0,"|cff66ff00精武师有技能升级到九重，获得两个自创武学点")if(rA[i]<=2)and AA[i]==false thenset rA[i]=rA[i]+1call DisplayTextToPlayer(p,0,0,"|CFF66FF00恭喜您练成第"+I2S(rA[i])+"个九重武功，练成3个可获得宗师哦")endifif(rA[i]==3)and AA[i]==false thenset AA[i]=trueif DX[i]==true thenelsecall SaveStr(Jv,GetHandleId(p),GetHandleId(p),"〓精武宗师〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15,"|CFF66FF00恭喜"+GetPlayerName(p)+"获得精武宗师")call SetPlayerName(p,"〓精武宗师〓"+GetPlayerName(p))endifendifendifelseif yX[i]>=4 thenif id!='A07W' thenif UnitHasBuffBJ(u,'B010')thencall SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),id,LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),id)+(3+WX[i])*(XR[i]+5+GetRandomInt(0,R2I(r/ 60)))/ 10*(2+GetUnitAbilityLevel(u,'A02V')/ 4+rA[i]/ 3*2))elsecall SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),id,LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),id)+(3+WX[i])*(XR[i]+5+GetRandomInt(0,R2I(r/ 60)))/ 10*(2+rA[i])/ 3*2)endifendifcall SaveStr(Jv,GetHandleId(GetOwningPlayer(u)),id*2,I2S(LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),id))+"/"+I2S(R2I(r*HJ)))if LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),id)>R2I(r)*HJ thencall SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),id,0)call IncUnitAbilityLevel(u,id)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),id*5,GetUnitAbilityLevel(u,id))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"领悟了武功："+GetObjectName(id)+"第"+I2S(HJ+1)+"重")if HJ+1==9 and Ce[i]==8 thenset Bb[i]=Bb[i]+2call DisplayTextToPlayer(p,0,0,"|cff66ff00精武师有技能升级到九重，获得两个自创武学点")if(rA[i]<=2)and AA[i]==false thenset rA[i]=rA[i]+1call DisplayTextToPlayer(p,0,0,"|CFF66FF00恭喜您练成第"+I2S(rA[i])+"个九重武功，练成3个可获得宗师哦")endifif(rA[i]==3)and AA[i]==false thenset AA[i]=trueif DX[i]==true thenelsecall SaveStr(Jv,GetHandleId(p),GetHandleId(p),"〓精武宗师〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15,"|CFF66FF00恭喜"+GetPlayerName(p)+"获得精武宗师")call SetPlayerName(p,"〓精武宗师〓"+GetPlayerName(p))endifendifendifendifendifendifif(IsUnitType((u),(UNIT_TYPE_HERO))!=null)and DX[i]==false thenif GetUnitAbilityLevel(u,'A0C7')>=6 and GetUnitAbilityLevel(u,'A0C2')>=6 and GetUnitAbilityLevel(u,'A0C5')>=6 and(GetUnitAbilityLevel(u,'A0C4')>=6 or GetUnitAbilityLevel(u,'A0C6')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：峨眉掌门")call ModifyHeroStat(0,u,0,240)call ModifyHeroStat(1,u,0,170)call SetPlayerName(p,"〓峨眉掌门〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=1if GetUnitAbilityLevel(u,'A07N')>=1 and sw(u,'I00B')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：芷若")call ModifyHeroStat(0,u,0,480)call SetPlayerName(p,"〓芷若〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifif GetUnitAbilityLevel(u,'A0C6')>=1 and sw(u,'I09D')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：小东邪")call ModifyHeroStat(1,u,0,360)call SetPlayerName(p,"〓小东邪〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifelseif GetUnitAbilityLevel(u,'A0C9')>=6 and GetUnitAbilityLevel(u,'A0CB')>=6 and GetUnitAbilityLevel(u,'A0C8')>=6 and(GetUnitAbilityLevel(u,'A0CA')>=6 or GetUnitAbilityLevel(u,'A0DI')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：丐帮帮主")call ModifyHeroStat(0,u,0,480)call SetPlayerName(p,"〓丐帮帮主〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=2if GetUnitAbilityLevel(u,'A07L')>=1 and GetUnitAbilityLevel(u,'A07E')>=1 and sw(u,'I097')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：北丐")call ModifyHeroStat(0,u,0,480)call SetUnitAbilityLevel(u,'A07L',IMinBJ(GetUnitAbilityLevel(u,'A07L')+3,9))call SetUnitAbilityLevel(u,'A07E',IMinBJ(GetUnitAbilityLevel(u,'A07E')+3,9))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A07L'*5,GetUnitAbilityLevel(u,'A07L'))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A07E'*5,GetUnitAbilityLevel(u,'A07E'))call SetPlayerName(p,"〓北丐〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifelseif GetUnitAbilityLevel(u,'A0CF')>=6 and GetUnitAbilityLevel(u,'A0DA')>=6 and GetUnitAbilityLevel(u,'A0CM')>=6 and(GetUnitAbilityLevel(u,'A0CH')>=6 or GetUnitAbilityLevel(u,'A0DE')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：全真掌教")call ModifyHeroStat(1,u,0,360)call SetPlayerName(p,"〓全真掌教〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=3if GetUnitAbilityLevel(u,'A017')>=1 and GetUnitAbilityLevel(u,'A07U')>=1 and GetUnitAbilityLevel(u,'A0D1')>=1 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：老顽童")call ModifyHeroStat(1,u,0,360)call SetUnitAbilityLevel(u,'A017',9)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A017'*5,GetUnitAbilityLevel(u,'A017'))call SetPlayerName(p,"〓老顽童〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifif GetUnitAbilityLevel(u,'A06P')>=1 and GetUnitAbilityLevel(u,'A07S')>=1 and GetUnitAbilityLevel(u,'A0CH')>=1 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：中神通")call ModifyHeroStat(1,u,0,300)call SetUnitAbilityLevel(u,'A0CH',9)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A0CH'*5,GetUnitAbilityLevel(u,'A0CH'))call SetPlayerName(p,"〓中神通〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifelseif GetUnitAbilityLevel(u,'A0CI')>=6 and GetUnitAbilityLevel(u,'A0CJ')>=6 and GetUnitAbilityLevel(u,'A0CN')>=6 and(GetUnitAbilityLevel(u,'A0CK')>=6 or GetUnitAbilityLevel(u,'A0DH')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：血刀掌门")call ModifyHeroStat(2,u,0,1200)call SetPlayerName(p,"〓血刀掌门〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=4if sw(u,'I098')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：血刀老祖")call ModifyHeroStat(0,u,0,480)call SetPlayerName(p,"〓血刀老祖〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifif GetUnitAbilityLevel(u,'A07X')>=1 and GetUnitAbilityLevel(u,'A06J')>=1 and GetUnitAbilityLevel(u,'A071')>=1 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：空心菜")call ModifyHeroStat(1,u,0,360)call SetPlayerName(p,"〓空心菜〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifelseif GetUnitAbilityLevel(u,'A09E')>=6 and GetUnitAbilityLevel(u,'A09J')>=6 and GetUnitAbilityLevel(u,'A09M')>=6 and(GetUnitAbilityLevel(u,'A09T')>=6 or GetUnitAbilityLevel(u,'A09U')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：古墓掌门")call ModifyHeroStat(0,u,0,240)call ModifyHeroStat(1,u,0,240)call SetPlayerName(p,"〓古墓掌门〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=5if GetUnitAbilityLevel(u,'A07G')>=1 and sw(u,'I099')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：神雕侠")call ModifyHeroStat(0,u,0,480)call SetUnitAbilityLevel(u,'A07G',IMinBJ(GetUnitAbilityLevel(u,'A07G')+3,9))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A07G'*5,GetUnitAbilityLevel(u,'A07G'))call SetPlayerName(p,"〓神雕侠〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifif GetUnitAbilityLevel(u,'A07U')>=1 and sw(u,'I09A')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：小龙女")call ModifyHeroStat(2,u,0,600)call SetPlayerName(p,"〓小龙女〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifif GetUnitAbilityLevel(u,'A07G')>=1 and GetUnitAbilityLevel(u,'A07U')>=1 and sw(u,'I09C')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：神雕侠侣")call ModifyHeroStat(0,u,0,480)call ModifyHeroStat(2,u,0,600)call SetUnitAbilityLevel(u,'A07G',IMinBJ(GetUnitAbilityLevel(u,'A07G')+6,9))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A07G'*5,GetUnitAbilityLevel(u,'A07G'))call SetPlayerName(p,"〓神雕侠侣〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifif GetUnitAbilityLevel(u,'A07A')>=6 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：赤炼仙子")call SetPlayerName(p,"〓赤炼仙子〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call SetUnitAbilityLevel(u,'A07A',IMinBJ(GetUnitAbilityLevel(u,'A07A')+6,9))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A07A'*5,GetUnitAbilityLevel(u,'A07A'))set fX[i]=trueendifelseif GetUnitAbilityLevel(u,'A05G')>=6 and GetUnitAbilityLevel(u,'A000')>=6 and GetUnitAbilityLevel(u,'A05K')>=6 and(GetUnitAbilityLevel(u,'A05O')>=6 or GetUnitAbilityLevel(u,'S000')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：少林方丈")call ModifyHeroStat(0,u,0,170)call ModifyHeroStat(1,u,0,190)call ModifyHeroStat(2,u,0,480)call SetPlayerName(p,"〓少林方丈〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=6if GetUnitAbilityLevel(u,'A05O')>=1 and JR[i]>=32 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：扫地神僧")call ModifyHeroStat(1,u,0,720)call SetPlayerName(p,"〓扫地神僧〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifelseif GetUnitAbilityLevel(u,'A04D')>=6 and GetUnitAbilityLevel(u,'A08S')>=6 and GetUnitAbilityLevel(u,'A08R')>=6 and(GetUnitAbilityLevel(u,'A08Q')>=6 or GetUnitAbilityLevel(u,'A08V')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：武当掌门")call ModifyHeroStat(0,u,0,240)call ModifyHeroStat(2,u,0,600)call SetPlayerName(p,"〓武当掌门〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=7if GetUnitAbilityLevel(u,'A0DN')>=1 and GetUnitAbilityLevel(u,'A09D')>=1 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：邋遢仙人")call ModifyHeroStat(1,u,0,420)call SetPlayerName(p,"〓邋遢仙人〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifelseif GetUnitAbilityLevel(u,'A0BP')>=6 and GetUnitAbilityLevel(u,'A0BS')>=6 and GetUnitAbilityLevel(u,'A0BQ')>=6 and(GetUnitAbilityLevel(u,'A0BT')>=6 or GetUnitAbilityLevel(u,'A0BV')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：星宿掌门")call ModifyHeroStat(0,u,0,360)call ModifyHeroStat(2,u,0,360)call SetPlayerName(p,"〓星宿掌门〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=8if GetUnitAbilityLevel(u,'A07P')>=1 and GetUnitAbilityLevel(u,'A083')>=1 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：星宿老仙")call ModifyHeroStat(1,u,0,600)call SetPlayerName(p,"〓星宿老仙〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifelseif GetUnitAbilityLevel(u,'A08W')>=6 and GetUnitAbilityLevel(u,'A08X')>=6 and GetUnitAbilityLevel(u,'A08Y')>=6 and(GetUnitAbilityLevel(u,'A037')>=6 or GetUnitAbilityLevel(u,'A091')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：华山掌门")call ModifyHeroStat(1,u,0,170)call ModifyHeroStat(2,u,0,290)call SetPlayerName(p,"〓华山掌门〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=9if GetUnitAbilityLevel(u,'A07T')>=1 and GetUnitAbilityLevel(u,'A07J')>=1 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：君子剑")call ModifyHeroStat(0,u,0,600)call SetPlayerName(p,"〓君子剑〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifelseif GetUnitAbilityLevel(u,'A01Z')>=6 and GetUnitAbilityLevel(u,'A021')>=6 and GetUnitAbilityLevel(u,'A0CD')>=6 and(GetUnitAbilityLevel(u,'A023')>=6 or GetUnitAbilityLevel(u,'A024')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：恒山掌门")call ModifyHeroStat(1,u,0,460)call SetPlayerName(p,"〓恒山掌门〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=10elseif GetUnitAbilityLevel(u,'A02B')>=6 and GetUnitAbilityLevel(u,'A02C')>=6 and GetUnitAbilityLevel(u,'A02F')>=6 and(GetUnitAbilityLevel(u,'A02G')>=6 or GetUnitAbilityLevel(u,'A02H')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：灵鹫宫主")call ModifyHeroStat(0,u,0,220)call ModifyHeroStat(1,u,0,220)call ModifyHeroStat(2,u,0,220)call SetPlayerName(p,"〓灵鹫宫主〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=12elseif GetUnitAbilityLevel(u,'A02K')>=6 and GetUnitAbilityLevel(u,'A0CC')>=6 and GetUnitAbilityLevel(u,'A02M')>=6 and(GetUnitAbilityLevel(u,'A02R')>=6 or GetUnitAbilityLevel(u,'A02V')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：慕容龙城")call ModifyHeroStat(0,u,0,100)call ModifyHeroStat(1,u,0,280)call ModifyHeroStat(2,u,0,300)call SetPlayerName(p,"〓慕容龙城〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=13elseif GetUnitAbilityLevel(u,'A04M')>=6 and GetUnitAbilityLevel(u,'A04N')>=6 and GetUnitAbilityLevel(u,'A04P')>=6 and(GetUnitAbilityLevel(u,'A026')>=6 or GetUnitAbilityLevel(u,'A04R')>=6)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：衡山掌门")call ModifyHeroStat(0,u,0,350)call ModifyHeroStat(1,u,0,260)call ModifyHeroStat(2,u,0,100)call SetPlayerName(p,"〓衡山掌门〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=15elseif GetUnitAbilityLevel(u,'A030')>=6 and GetUnitAbilityLevel(u,'A032')>=6 and GetUnitAbilityLevel(u,'A06R')>=6 and(GetUnitAbilityLevel(u,'A034')>=6 or GetUnitAbilityLevel(u,'A07W')>=4)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：明教教主")call ModifyHeroStat(0,u,0,210)call ModifyHeroStat(1,u,0,310)call ModifyHeroStat(2,u,0,160)call SetPlayerName(p,"〓明教教主〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set DX[i]=trueset CX[i]=14if GetUnitAbilityLevel(u,'A030')>=9 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：白眉鹰王")call SetPlayerName(p,"〓白眉鹰王〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call ModifyHeroStat(2,u,0,500)endifif GetUnitAbilityLevel(u,'A032')>=9 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：青翼幅王")call SetPlayerName(p,"〓青翼幅王〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call ModifyHeroStat(1,u,0,300)endifif GetUnitAbilityLevel(u,'A06R')>=9 and GetUnitAbilityLevel(u,'A07M')>=3 and sw(u,'I00D')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：金毛狮王")call SetPlayerName(p,"〓金毛狮王〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call SetUnitAbilityLevel(u,'A07M',IMinBJ(GetUnitAbilityLevel(u,'A07M')+6,9))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A07M'*5,GetUnitAbilityLevel(u,'A07M'))call ModifyHeroStat(0,u,0,300)endifif GetUnitAbilityLevel(u,'A07W')>=6 and GetUnitAbilityLevel(u,'A0DN')>=1 and GetUnitAbilityLevel(u,'A08R')>=4 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：无忌")call SetPlayerName(p,"〓无忌〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call SetUnitAbilityLevel(u,'A08R',IMinBJ(GetUnitAbilityLevel(u,'A08R')+3,9))call SetUnitAbilityLevel(u,'A07W',7)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A07W'*5,GetUnitAbilityLevel(u,'A07W'))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A08R'*5,GetUnitAbilityLevel(u,'A08R'))call ModifyHeroStat(1,u,0,1000)call ModifyHeroStat(2,u,0,500)endifelseif GetUnitAbilityLevel(u,'A07S')>=1 and GetUnitAbilityLevel(u,'A0D2')>=1 and GetUnitAbilityLevel(u,'A0D6')>=1 and GetUnitAbilityLevel(u,'A0D4')>=1 and GetUnitAbilityLevel(u,'A07N')>=4 and GetUnitAbilityLevel(u,'A0D3')>=4 and GetUnitAbilityLevel(u,'A0D1')>=4 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：真·九阴真人")call SetPlayerName(p,"〓真·九阴真人〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call SetUnitAbilityLevel(u,'A07N',IMinBJ(GetUnitAbilityLevel(u,'A07N')+3,9))call SetUnitAbilityLevel(u,'A0D3',IMinBJ(GetUnitAbilityLevel(u,'A0D3')+3,9))call SetUnitAbilityLevel(u,'A0D1',IMinBJ(GetUnitAbilityLevel(u,'A0D1')+3,9))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A07N'*5,GetUnitAbilityLevel(u,'A07N'))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A0D3'*5,GetUnitAbilityLevel(u,'A0D3'))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A0D1'*5,GetUnitAbilityLevel(u,'A0D1'))call ModifyHeroStat(1,u,0,2900)set DX[i]=trueset CX[i]=11elseif GetUnitAbilityLevel(u,'A089')>=5 and GetUnitAbilityLevel(u,'A084')>=1 and GetUnitAbilityLevel(u,'A0D2')>=1 and sw(u,'I09B')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：西毒")call SetPlayerName(p,"〓西毒〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call ModifyHeroStat(0,u,0,600)call ModifyHeroStat(2,u,0,360)call YJ('I070',u)call SetUnitAbilityLevel(u,'A089',IMinBJ(GetUnitAbilityLevel(u,'A089')+2,9))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A089'*5,GetUnitAbilityLevel(u,'A089'))set DX[i]=trueset CX[i]=19elseif GetUnitAbilityLevel(u,'A06H')>=5 and GetUnitAbilityLevel(u,'A018')>=5 and sw(u,'I09D')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：东邪")call SetPlayerName(p,"〓东邪〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call ModifyHeroStat(1,u,0,240)call ModifyHeroStat(2,u,0,300)call SetUnitAbilityLevel(u,'A06H',9)call SetUnitAbilityLevel(u,'A018',9)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A06H'*5,GetUnitAbilityLevel(u,'A06H'))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A018'*5,GetUnitAbilityLevel(u,'A018'))call YJ('I04Q',u)set DX[i]=trueset CX[i]=16elseif GetUnitAbilityLevel(u,'A06P')>=5 and GetUnitAbilityLevel(u,'A0CH')>=3 and GetUnitAbilityLevel(u,'A0D4')>=1 and kR[i]!=5 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：南帝")call SetPlayerName(p,"〓南帝〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call ModifyHeroStat(1,u,0,480)call ModifyHeroStat(2,u,0,600)call SetUnitAbilityLevel(u,'A06P',9)call SetUnitAbilityLevel(u,'A0CH',7)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A06P'*5,GetUnitAbilityLevel(u,'A06P'))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A0CH'*5,GetUnitAbilityLevel(u,'A0CH'))set DX[i]=trueset CX[i]=17elseif GetUnitAbilityLevel(u,'A07N')>=5 and GetUnitAbilityLevel(u,'A0D1')>=5 and GetUnitAbilityLevel(u,'A0D3')>=5 and GetUnitAbilityLevel(u,'A07G')>=3 and(GetUnitTypeId(u)=='O023' or GetUnitTypeId(u)=='O02H' or GetUnitTypeId(u)=='O02I' or GetUnitTypeId(u)=='O003' or GetUnitTypeId(u)=='O002')thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：瑶琴")call SetPlayerName(p,"〓瑶琴〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call ModifyHeroStat(0,u,0,700)call ModifyHeroStat(1,u,0,200)call SetUnitAbilityLevel(u,'A0D1',9)call SetUnitAbilityLevel(u,'A0D3',7)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A0D1'*5,GetUnitAbilityLevel(u,'A0D1'))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A0D3'*5,GetUnitAbilityLevel(u,'A0D3'))set DX[i]=trueset CX[i]=18elseif aW(iC[Nb[i]])=="757521" and GetUnitAbilityLevel(u,'A036')>=1 and GetUnitAbilityLevel(u,'A07I')>=5 and kR[i]==11 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：小虾米")call SetPlayerName(p,"〓小虾米〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call ModifyHeroStat(0,u,0,600)call ModifyHeroStat(1,u,0,600)call ModifyHeroStat(2,u,0,600)call SetUnitAbilityLevel(u,'A07I',9)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A07I'*5,GetUnitAbilityLevel(u,'A07I'))set DX[i]=trueset CX[i]=19endifendifif(IsUnitType((u),(UNIT_TYPE_HERO))!=null)and CX[i]==10 and GetUnitAbilityLevel(u,'A07F')>=1 and GetUnitAbilityLevel(u,'A09D')>=1 and GetUnitAbilityLevel(u,'A07R')>=1 and GetUnitAbilityLevel(u,'A08W')>=1 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff66ff00恭喜玩家"+I2S(i)+"获得了称号：笑傲江湖")call SetPlayerName(p,"〓笑傲江湖〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call ModifyHeroStat(0,u,0,480)call ModifyHeroStat(2,u,0,600)call SetUnitAbilityLevel(u,'A07F',IMinBJ(GetUnitAbilityLevel(u,'A07F')+3,9))call SetUnitAbilityLevel(u,'A08W',IMinBJ(GetUnitAbilityLevel(u,'A08W')+3,9))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A07F'*5,GetUnitAbilityLevel(u,'A07F'))call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A08W'*5,GetUnitAbilityLevel(u,'A08W'))set CX[i]=15endifset p=nullendfunctionfunction hW takes nothing returns booleanlocal unit u=LoadUnitHandle(Jv,StringHash("击退"),0)local real cW=LoadReal(Jv,StringHash("击退"),1)local unit uc=GetFilterUnit()if IsUnitEnemy(uc,GetOwningPlayer(u))thenendifset uc=nullset u=nullcall FlushChildHashtable(Jv,StringHash("击退"))return falseendfunctionfunction HW takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local unit u=LoadUnitHandle(Jv,p,0)local integer jW=LoadInteger(Jv,p,1)+1local real cW=LoadReal(Jv,p,6)local group g=CreateGroup()call SaveInteger(Jv,p,1,jW)if IsTerrainPathable(GetUnitX(u)+LoadReal(Jv,p,3),GetUnitY(u)+LoadReal(Jv,p,4),PATHING_TYPE_WALKABILITY)==false thencall SetUnitX(u,tw(GetUnitX(u)+LoadReal(Jv,p,3)))call SetUnitY(u,uw(GetUnitY(u)+LoadReal(Jv,p,4)))call DestroyEffect(AddSpecialEffect(LoadStr(Jv,p,5),GetUnitX(u),GetUnitY(u)))endifcall SaveUnitHandle(Jv,StringHash("击退"),0,u)call SaveReal(Jv,StringHash("击退"),1,cW)call GroupEnumUnitsInRange(g,tw(GetUnitX(u)),uw(GetUnitY(u)),500,Condition(function hW))if(jW>=LoadInteger(Jv,p,2))thencall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,p)endifcall GroupClear(g)call DestroyGroup(g)set g=nullset u=nullset t=nullendfunctionfunction JW takes unit u,real fD,real DD,real UM,real kW,string KW,real cW returns nothinglocal timer t=CreateTimer()local integer p=GetHandleId(t)local integer m=R2I(UM/ kW)set DD=DD/ mcall SaveUnitHandle(Jv,p,0,u)call SaveInteger(Jv,p,1,0)call SaveInteger(Jv,p,2,m)call SaveReal(Jv,p,3,DD*Cos(fD))call SaveReal(Jv,p,4,DD*Sin(fD))call SaveStr(Jv,p,5,KW)call SaveReal(Jv,p,6,cW)call TimerStart(t,kW,true,function HW)set t=nullendfunctionfunction lW takes unit u,unit uc,integer id returns booleanreturn(GetRandomReal(0.,100)<15+fR[1+GetPlayerId(GetOwningPlayer(u))]/ 5)and(GetUnitAbilityLevel(u,id)>=1)and(IsUnitEnemy(uc,GetOwningPlayer(u)))endfunctionfunction LW takes nothing returns booleanreturn((GetUnitPointValue(GetTriggerUnit())==101))endfunctionfunction mW takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEventDamageSource()local real x=GetUnitX(uc)local real y=GetUnitY(uc)if GetRandomInt(1,100)<50 thenif(GetUnitTypeId(GetTriggerUnit())==u7[1])thencall IssuePointOrderById(u,$D0278,x,y)elseif(GetUnitTypeId(GetTriggerUnit())==u7[2])thenif GetRandomInt(1,3)==1 thencall IssueTargetOrderById(u,$D0278,uc)elseif GetRandomInt(1,2)==1 thencall IssueImmediateOrderById(u,$D00D1)elsecall IssueImmediateOrderById(u,$D00D2)endifelseif(GetUnitTypeId(GetTriggerUnit())==u7[3])thencall IssuePointOrderById(u,$D0278,x,y)elseif(GetUnitTypeId(GetTriggerUnit())==u7[4])thencall IssuePointOrderById(u,$D0278,x,y)elseif(GetUnitTypeId(GetTriggerUnit())==u7[5])thencall IssueTargetOrder(u,"chemicalrage",u)elseif(GetUnitTypeId(GetTriggerUnit())==u7[6])thencall IssueTargetOrder(u,"devour",u)endifendifset u=nullset uc=nullendfunctionfunction MW takes integer pW,integer vW,unit uc,integer id,integer TT,unit bU,string s returns nothinglocal unit ulocal player plocal location vJif(pW==vW)thenset p=GetOwningPlayer(uc)set vJ=GetUnitLoc(bU)call CreateNUnitsAtLoc(1,'e000',p,vJ,bj_UNIT_FACING)set u=bj_lastCreatedUnitcall ShowUnitHide(u)call UnitAddAbility(u,id)if(vW==12)thencall IncUnitAbilityLevel(u,id)endifcall IssueTargetOrderById(u,TT,bU)call UnitApplyTimedLife(u,'BHwe',2.)call CreateTextTagLocBJ(s,vJ,60.,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)call RemoveLocation(vJ)endifset vJ=nullset p=nullset u=nullendfunctionfunction PW takes unit u,unit bU,integer pW returns nothingcall MW(pW,1,u,'A077',$D008F,bU,"内伤")call MW(pW,2,u,'A079',$D02BC,bU,"走火入魔")call MW(pW,3,u,'A075',$D022F,bU,"流血")call MW(pW,4,u,'A06I',$D00DD,bU,"混乱")call MW(pW,5,u,'A0AZ',$D006B,bU,"昏迷")call MW(pW,6,u,'A076',$D006B,bU,"重伤")call MW(pW,7,u,'A078',$D022F,bU,"血流不止")call MW(pW,8,u,'A0AY',$D00DE,bU,"麻痹")call MW(pW,9,u,'A019',$D00B5,bU,"破防")call MW(pW,10,u,'A05N',$D00DE,bU,"神经错乱")call MW(pW,11,u,'A05L',$D007F,bU,"封穴")call MW(pW,12,u,'A05L',$D007F,bU,"穴位全封")call MW(pW,13,u,'A074',$D022F,bU,"中毒")endfunctionfunction qW takes integer id,string name,string QW,real sW,string SW,real tW,string TW,real uW,string UW,real wW returns nothinglocal item it=CreateItem(id,0,0)local integer l__hp=R2I(GetWidgetLife(it))local integer lv=0if HaveSavedInteger(Jv,id,id)==false thencall SaveInteger(Jv,id,id,id)endifif StringLength(QW)>0 and sW>0 thencall SaveReal(Jv,id,StringHash(QW),sW)endifif StringLength(SW)>0 and tW>0 thencall SaveReal(Jv,id,StringHash(SW),tW)endifif StringLength(TW)>0 and uW>0 thencall SaveReal(Jv,id,StringHash(TW),uW)endifif StringLength(UW)>0 and wW>0 thencall SaveReal(Jv,id,StringHash(UW),wW)endifcall SaveReal(Jv,id,StringHash("升级概率"),100.)call RemoveItem(it)set it=nullendfunctionfunction WW takes nothing returns nothingcall qW('I00C',"龙鳞剑","攻击力",5000,"招式伤害",750,"内力",200,"真实伤害",200)call qW('I00B',"倚天剑","攻击力",4500,"招式伤害",700,"内力",190,"真实伤害",0)call qW('I00D',"屠龙刀","攻击力",4850,"招式伤害",720,"内力",195,"真实伤害",300)call qW('I04F',"断肠","攻击力",1000,"招式伤害",150,"内力",0,"真实伤害",80)call qW('I00P',"晶玉扇","攻击力",3000,"招式伤害",250,"内力",150,"真实伤害",0)call qW('I00Q',"紫金刀","攻击力",2700,"招式伤害",230,"内力",0,"真实伤害",100)call qW('I01L',"精钢剑","攻击力",650,"招式伤害",80,"内力",0,"真实伤害",0)call qW('I01N',"七星扇","攻击力",800,"招式伤害",100,"内力",0,"真实伤害",40)call qW('I00X',"鸳鸯刀","攻击力",1500,"招式伤害",150,"内力",50,"真实伤害",0)call qW('I097',"打狗棒","攻击力",4500,"招式伤害",650,"内力",0,"真实伤害",0)call qW('I099',"君子剑","攻击力",2000,"招式伤害",100,"内力",50,"真实伤害",50)call qW('I09B',"蛇杖","攻击力",4500,"招式伤害",0,"内力",0,"真实伤害",1000)call qW('I09A',"淑女剑","攻击力",1800,"招式伤害",50,"内力",100,"真实伤害",50)call qW('I09C',"双剑合璧","攻击力",3800,"招式伤害",220,"内力",220,"真实伤害",150)call qW('I098',"血刀","攻击力",50000,"招式伤害",700,"内力",0,"真实伤害",0)call qW('I09D',"玉箫","攻击力",4850,"招式伤害",0,"内力",900,"真实伤害",0)call qW('I08V',"江湖·忠","攻击力",10000,"招式伤害",350,"内力",350,"真实伤害",350)call qW('I02S',"镇妖+1","攻击力",1000,"招式伤害",150,"内力",0,"真实伤害",0)call qW('I02M',"镇妖+2","攻击力",2000,"招式伤害",300,"内力",0,"真实伤害",0)call qW('I02Q',"镇妖+3","攻击力",3000,"招式伤害",450,"内力",0,"真实伤害",0)call qW('I02R',"镇妖+4","攻击力",4000,"招式伤害",600,"内力",0,"真实伤害",0)call qW('I02P',"镇妖+5","攻击力",5000,"招式伤害",750,"内力",0,"真实伤害",0)call qW('I01F',"点金","攻击力",500,"招式伤害",50,"内力",20,"真实伤害",0)call qW('I01S',"开山斧","攻击力",450,"招式伤害",30,"内力",0,"真实伤害",0)call qW('I020',"青铜刀","攻击力",0,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I01E',"秋叶刃","攻击力",600,"招式伤害",60,"内力",0,"真实伤害",0)call qW('I021',"锁候枪","攻击力",200,"招式伤害",15,"内力",0,"真实伤害",0)call qW('I016',"宣花斧","攻击力",800,"招式伤害",100,"内力",0,"真实伤害",0)call qW('I013',"饮血枪","攻击力",1200,"招式伤害",120,"内力",0,"真实伤害",50)call qW('I022',"布衣","防御",35,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I01T',"彩衣","防御",60,"招式伤害",0,"内力",15,"真实伤害",0)call qW('I01H',"虎皮衣","防御",85,"招式伤害",0,"内力",40,"真实伤害",0)call qW('I01G',"蛇皮裘","防御",90,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I017',"开阳衣","防御",150,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I014',"烈火衣","防御",300,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I01O',"七星锦服","防御",150,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I04E',"金蝉衣","防御",250,"招式伤害",0,"内力",80,"真实伤害",0)call qW('I00O',"软猬甲","防御",450,"招式伤害",0,"内力",100,"真实伤害",0)call qW('I00F',"六合纵横","防御",700,"招式伤害",200,"内力",100,"真实伤害",200)call qW('I00G',"破军无双","防御",800,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I090',"决战·霸","防御",1000,"招式伤害",0,"内力",250,"真实伤害",0)call qW('I0AL',"少林袈裟","防御",500,"招式伤害",300,"内力",0,"真实伤害",0)call qW('I09Z',"通神","防御",500,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I01Q',"破军帽","防御",20,"招式伤害",0,"内力",0,"真实伤害",30)call qW('I00M',"灭云冠","防御",300,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I08Z',"决战·恶","防御",500,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I01R',"破军鞋","防御",25,"招式伤害",0,"内力",0,"真实伤害",30)call qW('I00T',"神行鞋","防御",200,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I00N',"踏风靴","防御",200,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I08Y',"决战·魁",null,0,"招式伤害",0,"内力",0,"真实伤害",500)call qW('I01V',"苍蟒护腕","攻击力",150,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I01U',"纱绒护腕","攻击力",200,"招式伤害",15,"内力",0,"真实伤害",0)call qW('I018',"彩云腕",null,0,"招式伤害",50,"内力",20,"真实伤害",0)call qW('I01D',"天璇护腕",null,0,"招式伤害",100,"内力",40,"真实伤害",0)call qW('I01M',"精钢护腕","防御",30,"招式伤害",40,"内力",20,"攻击力",250)call qW('I00Z',"追月手",null,0,"招式伤害",120,"内力",0,"真实伤害",0)call qW('I00R',"天玑毒掌","攻击力",1200,"招式伤害",0,"内力",0,"真实伤害",150)call qW('I00S',"无魅雷手",null,0,"招式伤害",200,"内力",100,"真实伤害",0)call qW('I00H',"魔影炎掌","攻击力",2000,"招式伤害",300,"内力",0,"真实伤害",0)call qW('I00I',"踏风冰手","攻击力",1800,"招式伤害",0,"内力",150,"真实伤害",0)call qW('I023',"护身符","防御",10,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I024',"环戒","攻击力",0,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I01X',"琥珀项链",null,0,"招式伤害",0,"内力",15,"真实伤害",0)call qW('I01Y',"水碧护符",null,0,"招式伤害",10,"内力",0,"真实伤害",0)call qW('I01Z',"闪避护符","防御",30,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I01J',"七绝护符",null,0,"招式伤害",0,"内力",0,"真实伤害",20)call qW('I01K',"青竹戒指","攻击力",200,"招式伤害",20,"内力",0,"真实伤害",0)call qW('I01I',"星云戒指",null,0,"招式伤害",30,"内力",0,"真实伤害",0)call qW('I019',"白虎符","攻击力",300,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I01A',"蓝魔项链","防御",50,"招式伤害",0,"内力",40,"真实伤害",0)call qW('I01B',"北斗护符","攻击力",500,"招式伤害",0,"内力",0,"真实伤害",60)call qW('I01C',"梦蝶项链",null,0,"招式伤害",50,"内力",0,"真实伤害",40)call qW('I01P',"七星戒指",null,0,"招式伤害",0,"内力",30,"真实伤害",0)call qW('I010',"云海链",null,0,"招式伤害",120,"内力",60,"真实伤害",0)call qW('I00Y',"七情束",null,0,"招式伤害",100,"内力",0,"真实伤害",0)call qW('I011',"影岚护符",null,0,"招式伤害",100,"内力",0,"真实伤害",0)call qW('I012',"玉修护符",null,0,"招式伤害",0,"内力",0,"真实伤害",50)call qW('I00U',"云灭护符","攻击力",1000,"招式伤害",200,"内力",0,"真实伤害",0)call qW('I00V',"抗魔护符",null,0,"招式伤害",0,"内力",150,"真实伤害",100)call qW('I00W',"重生链","防御",100,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I00J',"神迹戒",null,0,"招式伤害",0,"内力",150,"真实伤害",200)call qW('I00K',"如意戒","攻击力",1500,"招式伤害",0,"内力",150,"真实伤害",0)call qW('I00L',"绿扳指","防御",200,"招式伤害",0,"内力",0,"真实伤害",0)call qW('I08W',"江湖·情",null,0,"招式伤害",900,"内力",400,"真实伤害",0)call qW('I08X',"江湖·义",null,0,"招式伤害",800,"内力",0,"真实伤害",500)call qW('I00C',"龙鳞剑","根骨",3,"胆魄",2,"绝学领悟",2,null,0)call qW('I00B',"倚天剑","悟性",3,"医术",2,"绝学领悟",2,null,0)call qW('I00D',"屠龙刀","经脉",3,"福缘",2,"绝学领悟",1,null,0)call qW('I04F',"断肠","经脉",2,null,0,null,0,null,0)call qW('I00P',"晶玉扇","悟性",2,"福缘",2,"绝学领悟",1,null,0)call qW('I00Q',"紫金刀","经脉",2,"医术",2,null,0,null,0)call qW('I01N',"七星扇","医术",1,null,0,null,0,null,0)call qW('I01E',"秋叶刃","根骨",1,null,0,null,0,null,0)call qW('I00X',"鸳鸯刀","福缘",2,null,0,null,0,null,0)call qW('I097',"打狗棒","胆魄",3,"全属性",1,"绝学领悟",2,null,0)call qW('I099',"君子剑","悟性",1,"医术",1,"绝学领悟",1,null,0)call qW('I09B',"蛇杖","根骨",4,"全属性",2,"绝学领悟",1,null,0)call qW('I09A',"淑女剑","福缘",1,"经脉",1,"绝学领悟",1,null,0)call qW('I09C',"双剑合璧","悟性",3,"全属性",1,"绝学领悟",3,null,0)call qW('I098',"血刀","根骨",7,"胆魄",4,"绝学领悟",2,null,0)call qW('I09D',"玉箫","福缘",2,"全属性",2,"绝学领悟",3,null,0)call qW('I08V',"江湖·忠","全属性",2,"绝学领悟",1,null,0,null,0)call qW('I013',"饮血枪","胆魄",1,null,0,null,0,null,0)call qW('I01L',"精钢剑","胆魄",1,null,0,null,0,null,0)call qW('I01G',"蛇皮裘","经脉",1,null,0,null,0,null,0)call qW('I014',"烈火衣","经脉",1,null,0,null,0,null,0)call qW('I01O',"七星锦服","胆魄",1,null,0,null,0,null,0)call qW('I04E',"金蝉衣","悟性",1,"福缘",1,null,0,null,0)call qW('I00O',"软猬甲","根骨",2,"胆魄",2,"绝学领悟",1,null,0)call qW('I00F',"六合纵横","根骨",2,"胆魄",2,"福缘",1,null,0)call qW('I00G',"破军无双","医术",3,"悟性",2,null,0,null,0)call qW('I090',"决战·霸","全属性",1,"绝学领悟",1,null,0,null,0)call qW('I0AL',"少林袈裟","全属性",1,"根骨",2,null,0,null,0)call qW('I01Q',"破军帽","悟性",1,null,0,null,0,null,0)call qW('I00M',"灭云冠","根骨",1,"悟性",2,"经脉",1,"绝学领悟",1)call qW('I08Z',"决战·恶","全属性",1,"绝学领悟",1,null,0,null,0)call qW('I01R',"破军鞋","福缘",1,null,0,null,0,null,0)call qW('I00T',"神行鞋","福缘",2,"经脉",1,null,0,null,0)call qW('I00N',"踏风靴","悟性",2,"福缘",1,"医术",1,null,0)call qW('I08Y',"决战·魁","全属性",1,"绝学领悟",1,null,0,null,0)call qW('I01V',"苍蟒护腕","根骨",1,null,0,null,0,null,0)call qW('I01U',"纱绒护腕","悟性",1,null,0,null,0,null,0)call qW('I01D',"天璇护腕","胆魄",1,null,0,null,0,null,0)call qW('I015',"霓云手套","根骨",1,null,0,null,0,null,0)call qW('I01M',"精钢护腕","根骨",1,null,0,null,0,null,0)call qW('I00Z',"追月手","悟性",2,null,0,null,0,null,0)call qW('I00R',"天玑毒掌","胆魄",2,"经脉",1,null,0,null,0)call qW('I00S',"无魅雷手","悟性",3,"绝学领悟",1,null,0,null,0)call qW('I00H',"魔影炎掌","根骨",2,"经脉",2,"绝学领悟",1,null,0)call qW('I00I',"踏风冰手","悟性",2,"胆魄",2,null,0,null,0)call qW('I01W',"传家符","医术",1,null,0,null,0,null,0)call qW('I0AM',"神木王鼎","医术",5,null,0,null,0,null,0)call qW('I01X',"琥珀项链","经脉",1,null,0,null,0,null,0)call qW('I01Y',"水碧护符","胆魄",1,null,0,null,0,null,0)call qW('I01Z',"闪避护符","福缘",1,null,0,null,0,null,0)call qW('I01J',"七绝护符","福缘",1,null,0,null,0,null,0)call qW('I01I',"星云戒指","医术",1,null,0,null,0,null,0)call qW('I01A',"蓝魔项链","医术",1,null,0,null,0,null,0)call qW('I01B',"北斗护符","福缘",1,null,0,null,0,null,0)call qW('I01C',"梦蝶项链","根骨",1,null,0,null,0,null,0)call qW('I01P',"七星戒指","经脉",1,null,0,null,0,null,0)call qW('I010',"云海链","医术",2,null,0,null,0,null,0)call qW('I00Y',"七情束","经脉",2,null,0,null,0,null,0)call qW('I011',"影岚护符","悟性",2,"经脉",1,null,0,null,0)call qW('I012',"玉修护符","根骨",1,"胆魄",2,null,0,null,0)call qW('I00U',"云灭护符","根骨",2,"医术",1,null,0,null,0)call qW('I00V',"抗魔护符","胆魄",1,"经脉",2,null,0,null,0)call qW('I00W',"重生链","医术",3,null,0,null,0,null,0)call qW('I00J',"神迹戒","福缘",4,null,0,null,0,null,0)call qW('I00K',"如意戒","经脉",1,"胆魄",3,null,0,null,0)call qW('I00L',"绿扳指","医术",1,"胆魄",1,"福缘",2,null,0)call qW('I08W',"江湖·情","全属性",1,"绝学领悟",1,null,0,null,0)call qW('I08X',"江湖·义","全属性",1,"绝学领悟",1,null,0,null,0)call qW('I00C',"龙鳞剑","攻击速度",30,"暴击伤害",0.6,"暴击率",0.05,null,0)call qW('I00B',"倚天剑","闪避",15,"法力回复",5,"杀怪回复",2000,"伤害回复",500)call qW('I04F',"断肠","攻击速度",30,"暴击率",0.02,null,0,null,0)call qW('I00P',"晶玉扇","攻击速度",25,"杀怪回复",1500,null,0,null,0)call qW('I00Q',"紫金刀","暴击伤害",0.6,"暴击率",0.05,"杀怪回复",1500,null,0)call qW('I01L',"精钢剑","攻击速度",20,"吸血",0.05,"暴击率",0.03,null,0)call qW('I01N',"七星扇","法力回复",2,null,0,null,0,null,0)call qW('I00X',"鸳鸯刀","攻击速度",20,null,0,null,0,null,0)call qW('I097',"打狗棒","攻击速度",60,"暴击伤害",1.5,null,0,null,0)call qW('I099',"君子剑","吸血",0.15,"法力回复",2,"杀怪回复",500,"生命回复",200)call qW('I09B',"蛇杖","暴击伤害",0.9,"暴击率",0.5,null,0,null,0)call qW('I09A',"淑女剑","闪避",15,"伤害回复",500,"暴击伤害",0.3,"暴击率",0.03)call qW('I09C',"双剑合璧","吸血",0.15,"法力回复",5,"杀怪回复",2000,"生命回复",500)call qW('I09C',"双剑合璧","闪避",15,"伤害回复",800,"暴击伤害",0.5,"暴击率",0.05)call qW('I098',"血刀","攻击速度",60,"暴击伤害",0.8,"杀怪回复",10000,null,0)call qW('I09D',"玉箫","法力回复",15,"杀怪回复",2000,"生命回复",1500,null,0)call qW('I08V',"江湖·忠","攻击速度",60,"暴击伤害",1,"暴击率",0.2,"杀怪回复",3000)call qW('I02S',"镇妖+1","攻击速度",20,"暴击伤害",0.15,"杀怪回复",300,null,0)call qW('I02M',"镇妖+2","攻击速度",30,"暴击伤害",0.3,"杀怪回复",600,null,0)call qW('I02Q',"镇妖+3","攻击速度",40,"暴击伤害",0.45,"杀怪回复",900,null,0)call qW('I02R',"镇妖+4","攻击速度",50,"暴击伤害",0.6,"杀怪回复",1200,null,0)call qW('I02P',"镇妖+5","攻击速度",60,"暴击伤害",0.75,"杀怪回复",1500,null,0)call qW('I01S',"开山斧","暴击伤害",0.15,"杀怪回复",300,null,0,null,0)call qW('I020',"青铜刀","攻击速度",40,"杀怪回复",0,null,0,null,0)call qW('I0CI',"张无忌用过的青铜刀","攻击速度",60,"杀怪回复",0,null,0,null,0)call qW('I01E',"秋叶刃","攻击速度",15,"杀怪回复",500,null,0,null,0)call qW('I021',"锁候枪","分裂",0.3,"暴击率",0.03,null,0,null,0)call qW('I016',"宣花斧","吸血",0.15,null,0,null,0,null,0)call qW('I013',"饮血枪","攻击速度",20,null,0,null,0,null,0)call qW('I022',"布衣","气血",1000,"杀怪回复",30,"移动速度",30,null,0)call qW('I01T',"彩衣","气血",3000,"伤害回复",70,null,0,null,0)call qW('I01H',"虎皮衣","气血",3000,null,0,null,0,null,0)call qW('I01G',"蛇皮裘","气血",5000,"伤害回复",100,"生命回复",250,null,0)call qW('I017',"开阳衣","气血",10000,null,0,null,0,null,0)call qW('I014',"烈火衣","气血",20000,"闪避",10,null,0,null,0)call qW('I01O',"七星锦服","气血",7000,"攻击速度",30,"伤害回复",300,null,0)call qW('I04E',"金蝉衣","气血",15000,"生命回复",700,"法力上限",20,"法力回复",5)call qW('I00O',"软猬甲","气血",40000,"生命回复",1200,"法力上限",20,null,0)call qW('I00F',"六合纵横","气血",30000,"伤害回复",500,null,0,null,0)call qW('I00G',"破军无双","气血",50000,"生命回复",1500,"闪避",20,null,0)call qW('I090',"决战·霸","气血",100000,"生命回复",2000,"暴击率",0.05,null,0)call qW('I0AL',"少林袈裟","气血",100000,"伤害回复",2000,"暴击伤害",0.7,null,0)call qW('I09Z',"通神","气血",40000,null,0,null,0,null,0)call qW('I01Q',"破军帽","气血",1500,"伤害回复",150,null,0,null,0)call qW('I00M',"灭云冠","法力上限",40,"暴击伤害",0.2,null,0,null,0)call qW('I08Z',"决战·恶","气血",50000,"攻击速度",50,"伤害回复",800,"法力上限",100)call qW('I01R',"破军鞋","生命回复",150,"移动速度",70,null,0,null,0)call qW('I00T',"神行鞋","气血",25000,"移动速度",160,"法力上限",25,"法力回复",10)call qW('I00N',"踏风靴","移动速度",180,"杀怪回复",1000,"生命回复",500,"法力回复",4)call qW('I08Y',"决战·魁","移动速度",200,"闪避",30,"伤害回复",600,"暴击伤害",0.8)call qW('I01V',"苍蟒护腕","杀怪回复",300,"法力上限",5,null,0,null,0)call qW('I01U',"纱绒护腕","生命回复",100,null,0,null,0,null,0)call qW('I018',"彩云腕","生命回复",200,null,0,null,0,null,0)call qW('I01D',"天璇护腕","攻击速度",20,"杀怪回复",600,"气血",6000,null,0)call qW('I015',"霓云手套","吸血",0.03,"生命回复",300,"法力上限",20,null,0)call qW('I01M',"精钢护腕","气血",2000,null,0,null,0,null,0)call qW('I00Z',"追月手","攻击速度",25,"伤害回复",400,"法力回复",5,null,0)call qW('I00R',"天玑毒掌","攻击速度",30,"伤害回复",400,"暴击伤害",0.3,"暴击率",0.02)call qW('I00S',"无魅雷手","攻击速度",30,"杀怪回复",1500,null,0,null,0)call qW('I00H',"魔影炎掌","攻击速度",40,"杀怪回复",2000,null,0,null,0)call qW('I00I',"踏风冰手","攻击速度",40,"伤害回复",500,"暴击伤害",0.5,"暴击率",0.05)call qW('I023',"护身符","生命回复",50,null,0,null,0,null,0)call qW('I024',"环戒","闪避",35,"暴击伤害",0,null,0,null,0)call qW('I0CH',"郭靖戴过的环戒","闪避",45,"暴击伤害",0,null,0,null,0)call qW('I01W',"传家符","攻击速度",10,"暴击伤害",0.1,"伤害回复",80,null,0)call qW('I01X',"琥珀项链","攻击速度",20,"气血",3000,"生命回复",100,null,0)call qW('I01Y',"水碧护符",null,0,"气血",3000,"法力回复",3,null,0)call qW('I01Z',"闪避护符","攻击速度",15,"闪避",10,null,0,null,0)call qW('I01J',"七绝护符","攻击速度",30,"暴击率",0.02,null,0,null,0)call qW('I01K',"青竹戒指","法力回复",3,null,0,null,0,null,0)call qW('I01I',"星云戒指","杀怪回复",300,"暴击伤害",0.1,null,0,null,0)call qW('I019',"白虎符","气血",5000,null,0,null,0,null,0)call qW('I01A',"蓝魔项链","杀怪回复",800,"法力上限",40,"法力回复",5,null,0)call qW('I01B',"北斗护符","移动速度",80,"生命回复",600,null,0,null,0)call qW('I01C',"梦蝶项链",null,0,"攻击速度",15,"气血",8000,"伤害回复",100)call qW('I01P',"七星戒指",null,0,"攻击速度",15,"生命回复",200,"暴击伤害",0.15)call qW('I010',"云海链","气血",13000,"杀怪回复",500,"法力上限",25,"暴击伤害",0.2)call qW('I00Y',"七情束","生命回复",400,"法力上限",20,"法力回复",5,"暴击率",0.02)call qW('I011',"影岚护符","吸血",0.05,"攻击速度",20,"移动速度",100,"生命回复",400)call qW('I012',"玉修护符","气血",25000,"杀怪回复",700,"生命回复",600,"暴击率",0.01)call qW('I00U',"云灭护符","攻击速度",40,"杀怪回复",1000,"暴击伤害",0.3,null,0)call qW('I00V',"抗魔护符","吸血",0.1,"气血",25000,"法力上限",15,"暴击伤害",0.4)call qW('I00W',"重生链","吸血",0.05,"攻击速度",45,"生命回复",700,"暴击率",0.01)call qW('I00J',"神迹戒","杀怪回复",1000,"伤害回复",500,"法力回复",8,null,0)call qW('I00K',"如意戒","攻击速度",40,"伤害回复",400,"法力上限",50,null,0)call qW('I00L',"绿扳指","攻击速度",50,"生命回复",500,"气血",20000,"暴击伤害",0.5)call qW('I08W',"江湖·情","生命回复",1000,"法力回复",7,"暴击率",0.1,null,0)call qW('I08X',"江湖·义","吸血",0.3,"攻击速度",0.5,"暴击伤害",1,"暴击率",0.05)endfunctionfunction yW takes integer YW returns stringlocal integer zWlocal integer ZW=0set zV[100]=""if AE==false thenreturn zV[100]endifif YW!=0 thenloopset zW=YW-(YW/ 256)*256set YW=YW/ 256set zV[100]=SubString(YV,zW,zW+1)+zV[100]set ZW=ZW+1exitwhen ZW==4endloopset zV[100]="'"+zV[100]+"'"elseset zV[100]="null"endifreturn zV[100]endfunctionfunction xy takes string oy returns integerlocal integer ry=StringLength(oy)local integer YW=0local integer zW=0local integer ZW=1local integer iy=0loopexitwhen zW>ry-1set ZW=R2I(Pow(256,ry-1-zW))set YW=1loopexitwhen YW>255if SubString(oy,zW,zW+1)==SubString(YV,YW,YW+1)thenset iy=iy+YW*ZWset YW=256endifset YW=YW+1endloopset zW=zW+1endloopreturn iyendfunctionfunction ay takes integer YW returns stringlocal integer rylocal integer ny=0local integer zWlocal integer ZW=0local integer kK=0set zV[100]=""if YW!=0 thenloopset zW=YW-(YW/ 256)*256set YW=YW/ 256set zV[100]=SubString(YV,zW,zW+1)+zV[100]set ZW=ZW+1exitwhen ZW==4endloopelseset zV[100]="null"return zV[100]endifset ry=StringLength(zV[100])set ZW=1set zW=0loopexitwhen zW>ry-1set ZW=R2I(Pow(256,ry-1-zW))set ny=1loopexitwhen ny>255if SubString(zV[100],zW,zW+1)==SubString(YV,ny,ny+1)thenset kK=kK+ny*ZWset ny=256endifset ny=ny+1endloopset zW=zW+1endloopreturn GetObjectName(kK)endfunctionfunction Vy takes real Ey,real Xy,real Oy,real Ry returns realreturn SquareRoot((Ry-Xy)*(Ry-Xy)+(Oy-Ey)*(Oy-Ey))endfunctionfunction Iy takes real Ey,real Xy,real Oy,real Ry returns reallocal real Ayset Ay=57.29582*Atan2(Ry-Xy,Oy-Ey)if Ay<0 thenreturn 360+Ayendifreturn Ayendfunctionfunction Ny takes nothing returns nothingcall DialogClear(GE[2])if IsMapFlagSet(MAP_OBSERVERS_ON_DEATH)thenset hE[1]=DialogAddButton(GE[2],"|cff00FFFF失败时作为观看者|cffFFFF00（当前状态：|cffFF0000开启|cffFFFF00）|cff00FF00（F1）|r",768)elseset hE[1]=DialogAddButton(GE[2],"|cff00FFFF失败时作为观看者|cffFFFF00（当前状态：|cffFF0000关闭|cffFFFF00）|cff00FF00（F1）|r",768)endifif IsMapFlagSet(MAP_LOCK_RESOURCE_TRADING)thenset hE[2]=DialogAddButton(GE[2],"|cff00FFFF锁定资源交易|cffFFFF00（当前状态：|cffFF0000开启|cffFFFF00）|cff00FF00（F2）|r",769)elseset hE[2]=DialogAddButton(GE[2],"|cff00FFFF锁定资源交易|cffFFFF00（当前状态：|cffFF0000关闭|cffFFFF00）|cff00FF00（F2）|r",769)endifif IsMapFlagSet(MAP_RESOURCE_TRADING_ALLIES_ONLY)thenset hE[3]=DialogAddButton(GE[2],"|cff00FFFF限定盟友资源交易|cffFFFF00（当前状态：|cffFF0000开启|cffFFFF00）|cff00FF00（F3）|r",770)elseset hE[3]=DialogAddButton(GE[2],"|cff00FFFF限定盟友资源交易|cffFFFF00（当前状态：|cffFF0000关闭|cffFFFF00）|cff00FF00（F3）|r",770)endifif IsMapFlagSet(MAP_LOCK_ALLIANCE_CHANGES)thenset hE[4]=DialogAddButton(GE[2],"|cff00FFFF锁定联盟设置|cffFFFF00（当前状态：|cffFF0000开启|cffFFFF00）|cff00FF00（F4）|r",771)elseset hE[4]=DialogAddButton(GE[2],"|cff00FFFF锁定联盟设置|cffFFFF00（当前状态：|cffFF0000关闭|cffFFFF00）|cff00FF00（F4）|r",771)endifif IsMapFlagSet(MAP_ALLIANCE_CHANGES_HIDDEN)thenset hE[5]=DialogAddButton(GE[2],"|cff00FFFF隐藏联盟设置|cffFFFF00（当前状态：|cffFF0000开启|cffFFFF00）|cff00FF00（F5）|r",772)elseset hE[5]=DialogAddButton(GE[2],"|cff00FFFF隐藏联盟设置|cffFFFF00（当前状态：|cffFF0000关闭|cffFFFF00）|cff00FF00（F5）|r",772)endifset hE[100]=DialogAddButton(GE[2],"|cff00FFFF取消|cff00FF00（Esc）|r",512)endfunctionfunction by takes nothing returns nothingcall DialogClear(GE[1])if XE thenset hE[1]=DialogAddButton(GE[1],"|cff00FFFF坐标参数|cffFFFF00（当前状态：|cffFF0000显示|cffFFFF00）|cff00FF00（F1）|r",768)elseset hE[1]=DialogAddButton(GE[1],"|cff00FFFF坐标参数|cffFFFF00（当前状态：|cffFF0000隐藏|cffFFFF00）|cff00FF00（F1）|r",768)endifif AE thenset hE[2]=DialogAddButton(GE[1],"|cff00FFFFID参数|cffFFFF00（当前状态：|cffFF0000显示|cffFFFF00）|cff00FF00（F2）|r",769)elseset hE[2]=DialogAddButton(GE[1],"|cff00FFFFID参数|cffFFFF00（当前状态：|cffFF0000隐藏|cffFFFF00）|cff00FF00（F2）|r",769)endifif fE thenset hE[3]=DialogAddButton(GE[1],"|cff00FFFF玩家名参数|cffFFFF00（当前状态：|cffFF0000显示|cffFFFF00）|cff00FF00（F3）|r",770)elseset hE[3]=DialogAddButton(GE[1],"|cff00FFFF玩家名参数|cffFFFF00（当前状态：|cffFF0000隐藏|cffFFFF00）|cff00FF00（F3）|r",770)endifif dE thenset hE[4]=DialogAddButton(GE[1],"|cff00FFFF数值显示|cffFFFF00（当前状态：|cffFF0000整数|cffFFFF00）|cff00FF00（F4）|r",771)elseset hE[4]=DialogAddButton(GE[1],"|cff00FFFF数值显示|cffFFFF00（当前状态：|cffFF0000实数|cffFFFF00）|cff00FF00（F4）|r",771)endifif gE thenset hE[5]=DialogAddButton(GE[1],"|cff00FFFF伤害显示类型|cffFFFF00（当前状态：|cffFF0000游戏文本|cffFFFF00）|cff00FF00（F5）|r",772)elseset hE[5]=DialogAddButton(GE[1],"|cff00FFFF伤害显示类型|cffFFFF00（当前状态：|cffFF0000飘浮文字|cffFFFF00）|cff00FF00（F5）|r",772)endifset hE[0]=DialogAddButton(GE[1],"|cff00FFFF返回上一层|cff00FF00（space）|r",32)set hE[100]=DialogAddButton(GE[1],"|cff00FFFF取消|cff00FF00（Esc）|r",512)endfunctionfunction By takes nothing returns nothingcall DialogClear(GE[0])if IsTriggerEnabled(ZV[2])thenset hE[1]=DialogAddButton(GE[0],"|cff00FFFF技能信息|cffFFFF00（当前状态：|cffFF0000显示|cffFFFF00）|cff00FF00（F1）|r",768)elseset hE[1]=DialogAddButton(GE[0],"|cff00FFFF技能信息|cffFFFF00（当前状态：|cffFF0000隐藏|cffFFFF00）|cff00FF00（F1）|r",768)endifif IsTriggerEnabled(ZV[15])thenset hE[2]=DialogAddButton(GE[0],"|cff00FFFF命令信息|cffFFFF00（当前状态：|cffFF0000显示|cffFFFF00）|cff00FF00（F2）|r",769)elseset hE[2]=DialogAddButton(GE[0],"|cff00FFFF命令信息|cffFFFF00（当前状态：|cffFF0000隐藏|cffFFFF00）|cff00FF00（F2）|r",769)endifif IsTriggerEnabled(ZV[17])thenset hE[3]=DialogAddButton(GE[0],"|cff00FFFF寿命信息|cffFFFF00（当前状态：|cffFF0000显示|cffFFFF00）|cff00FF00（F3）|r",770)elseset hE[3]=DialogAddButton(GE[0],"|cff00FFFF寿命信息|cffFFFF00（当前状态：|cffFF0000隐藏|cffFFFF00）|cff00FF00（F3）|r",770)endifif IsTriggerEnabled(ZV[26])thenset hE[4]=DialogAddButton(GE[0],"|cff00FFFF伤害信息|cffFFFF00（当前状态：|cffFF0000显示|cffFFFF00）|cff00FF00（F4）|r",771)elseset hE[4]=DialogAddButton(GE[0],"|cff00FFFF伤害信息|cffFFFF00（当前状态：|cffFF0000隐藏|cffFFFF00）|cff00FF00（F4）|r",771)endifif IsTriggerEnabled(ZV[4])thenset hE[5]=DialogAddButton(GE[0],"|cff00FFFF技能无冷却不耗魔|cffFFFF00（当前状态：|cffFF0000开启|cffFFFF00）|cff00FF00（F5）|r",772)elseset hE[5]=DialogAddButton(GE[0],"|cff00FFFF技能无冷却不耗魔|cffFFFF00（当前状态：|cffFF0000关闭|cffFFFF00）|cff00FF00（F5）|r",772)endifif IsTriggerEnabled(ZV[71])thenset hE[8]=DialogAddButton(GE[0],"|cff00FFFF群体施法|cffFFFF00（当前状态：|cffFF0000开启|cffFFFF00）|cff00FF00（F6）|r",773)elseset hE[8]=DialogAddButton(GE[0],"|cff00FFFF群体施法|cffFFFF00（当前状态：|cffFF0000关闭|cffFFFF00）|cff00FF00（F6）|r",773)endifif IsTriggerEnabled(ZV[7])thenset hE[6]=DialogAddButton(GE[0],"|cff00FFFF句柄信息|cffFFFF00（当前状态：|cffFF0000显示|cffFFFF00）|cff00FF00（F7）|r",774)elseset hE[6]=DialogAddButton(GE[0],"|cff00FFFF句柄信息|cffFFFF00（当前状态：|cffFF0000隐藏|cffFFFF00）|cff00FF00（F7）|r",774)endifif IsTriggerEnabled(ZV[61])thenset hE[7]=DialogAddButton(GE[0],"|cff00FFFF公共聊天系统|cffFFFF00（当前状态：|cffFF0000开启|cffFFFF00）|cff00FF00（F8）|r",775)elseset hE[7]=DialogAddButton(GE[0],"|cff00FFFF公共聊天系统|cffFFFF00（当前状态：|cffFF0000关闭|cffFFFF00）|cff00FF00（F8）|r",775)endifset hE[0]=DialogAddButton(GE[0],"|cff00FFFF系统信息调整|cff00FF00（space）|r",32)set hE[100]=DialogAddButton(GE[0],"|cff00FFFF取消|cff00FF00（Esc）|r",512)endfunctionfunction cy takes nothing returns nothingcall ExecuteFunc(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))endfunctionfunction Cy takes nothing returns nothinglocal integer YWif StringLength(GetEventPlayerChatString())<=6 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000参数输入错误！位数不足无法判断进制类型|r")elseif StringLength(GetEventPlayerChatString())==7 thenset YW=xy(SubString(GetEventPlayerChatString(),3,7))call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0"+SubString(GetEventPlayerChatString(),3,7)+"|r→|cffFFFF00"+I2S(YW)+"|r")elseset YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0"+SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString()))+"|r→|cffFFFF00"+yW(YW)+"|r")endifendfunctionfunction Dy takes nothing returns nothinglocal group fylocal unit Fylocal real gylocal real Gylocal integer zW=StringLength(GetEventPlayerChatString())-1set fy=CreateGroup()call GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)loopset zV[1]=SubString(GetEventPlayerChatString(),zW,zW+1)if zV[1]=="," thenif zW==4 thenset gy=GetUnitX(Fy)elseset gy=S2R(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))endifif zW==StringLength(GetEventPlayerChatString())-1 thenset Gy=GetUnitY(Fy)elseset Gy=S2R(SubString(GetEventPlayerChatString(),zW+1,StringLength(GetEventPlayerChatString())))endifexitwhen trueendifset zW=zW-1if zW<=0 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000参数不足！请输入|cffFFFF002|cffFF0000位参数|r")call DestroyGroup(fy)set fy=nullset Fy=nullreturnendifendloopcall SetUnitX(Fy,gy)call SetUnitY(Fy,Gy)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00玩家选择单位的所有单位的坐标更改为|cffFF0000("+R2S(gy)+","+R2S(Gy)+")|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction Hy takes nothing returns nothinglocal group fylocal unit Fylocal integer YW=S2I(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))local item jyif YW<0 or YW>=7 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000参数输入错误！请输入|cffFFFF001~6|cffFF0000间的整数|r")returnelseif YW==0 thenset YW=1endifset fy=CreateGroup()call GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)set Fy=FirstOfGroup(fy)if Fy!=null thenif UnitItemInSlot(Fy,YW-1)!=null thenset jy=UnitItemInSlot(Fy,YW-1)if GetItemType(jy)==ITEM_TYPE_PERMANENT thenset zV[0]="永久"endifif GetItemType(jy)==ITEM_TYPE_CHARGED thenset zV[0]="可允"endifif GetItemType(jy)==ITEM_TYPE_POWERUP thenset zV[0]="能量提升"endifif GetItemType(jy)==ITEM_TYPE_ARTIFACT thenset zV[0]="人造"endifif GetItemType(jy)==ITEM_TYPE_PURCHASABLE thenset zV[0]="可购买"endifif GetItemType(jy)==ITEM_TYPE_CAMPAIGN thenset zV[0]="战役"endifif GetItemType(jy)==ITEM_TYPE_MISCELLANEOUS thenset zV[0]="混杂"endifif GetItemType(jy)==ITEM_TYPE_UNKNOWN thenset zV[0]="未知"endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"===============*****===============")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0物品名称：|cffFFFF00"+GetItemName(jy)+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0ID256进制/10进制：|cffFFFF00"+yW(GetItemTypeId(jy))+"/"+I2S(GetItemTypeId(jy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0存储地址：|cffFFFF00"+I2S(GetHandleId(jy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0所属玩家/cj索引：|cffFFFF00"+GetPlayerName(GetItemPlayer(jy))+"/"+I2S(GetPlayerId(GetItemPlayer(jy)))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0坐标：|cffFFFF00("+R2S(GetItemX(jy))+","+R2S(GetItemY(jy))+")|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0物品分类：|cffFFFF00"+zV[0]+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0物品等级：|cffFFFF00"+I2S(GetItemLevel(jy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0自定义值：|cffFFFF00"+I2S(GetItemUserData(jy))+"|r")set zV[0]=" "if IsItemPowerup(jy)thenset zV[0]=zV[0]+"拾取自动使用，"endifif IsItemSellable(jy)thenset zV[0]=zV[0]+"可出售，"endifif IsItemPawnable(jy)thenset zV[0]=zV[0]+"可抵押，"endifif IsItemVisible(jy)thenset zV[0]=zV[0]+"可见，"endifif IsItemInvulnerable(jy)thenset zV[0]=zV[0]+"无敌的，"endifset zV[0]=SubString(zV[0],1,StringLength(zV[0])-2)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0可识别状态：|cffFFFF00"+zV[0]+"||r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000该单位|cffFFFF00第"+I2S(YW)+"格物品栏|cffFF0000不存在物品|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullset Fy=nullendfunctionfunction Jy takes nothing returns nothinglocal group fy=CreateGroup()call GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenif IsUnitInGroup(FirstOfGroup(fy),ME[1])thencall GroupRemoveUnit(ME[1],FirstOfGroup(fy))call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00已取消玩家选择单位的|cffFF0000技能无冷却不耗蓝判定|r")elsecall SetUnitState(FirstOfGroup(fy),UNIT_STATE_MANA,GetUnitState(FirstOfGroup(fy),UNIT_STATE_MAX_MANA))call UnitResetCooldown(FirstOfGroup(fy))call GroupAddUnit(ME[1],FirstOfGroup(fy))call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00已启动玩家选择单位的|cffFF0000技能无冷却不耗蓝判定|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction Ky takes nothing returns nothinglocal group fy=CreateGroup()call GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenif IsUnitInGroup(FirstOfGroup(fy),PE)thencall GroupRemoveUnit(PE,FirstOfGroup(fy))call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00已取消玩家选择单位的|cffFF0000群体施法判定|r")elsecall GroupAddUnit(PE,FirstOfGroup(fy))call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00已启动玩家选择单位的|cffFF0000群体施法判定|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction ly takes nothing returns nothinglocal unit Fylocal group fylocal integer YWlocal integer zWlocal integer ZWlocal real Aylocal boolean Lylocal location my=GetSpellTargetLoc()if IsUnitInGroup(GetTriggerUnit(),PE)and(GetSpellTargetUnit()!=null or my!=null)thenset YW=GetUnitCurrentOrder(GetTriggerUnit())set zW=GetSpellAbilityId()set ZW=GetUnitAbilityLevel(GetTriggerUnit(),zW)if GetSpellTargetUnit()!=null thenset fy=CreateGroup()set Ly=IsUnitEnemy(GetSpellTargetUnit(),GetTriggerPlayer())call GroupEnumUnitsInRange(fy,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),Vy(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit())),null)loopexitwhen FirstOfGroup(fy)==nullif IsUnitType(FirstOfGroup(fy),UNIT_TYPE_DEAD)==false and FirstOfGroup(fy)!=GetSpellTargetUnit()and Ly==IsUnitEnemy(FirstOfGroup(fy),GetTriggerPlayer())thenset Fy=CreateUnit(GetTriggerPlayer(),'nvul',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),Iy(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitX(FirstOfGroup(fy)),GetUnitY(FirstOfGroup(fy))))call UnitAddAbility(Fy,'Aloc')call UnitAddAbility(Fy,'Abun')call UnitAddAbility(Fy,'AIbm')call UnitAddAbility(Fy,'AI2m')call UnitAddAbility(Fy,'AImb')call UnitAddAbility(Fy,'AImz')call UnitAddAbility(Fy,'AImv')call UnitRemoveAbility(Fy,'Awan')if UnitAddAbility(Fy,'Arav')thencall UnitRemoveAbility(Fy,'Arav')endifcall SetUnitState(Fy,UNIT_STATE_MANA,GetUnitState(Fy,UNIT_STATE_MAX_MANA))call ShowUnit(Fy,false)call UnitApplyTimedLife(Fy,'BTLF',10)call SetUnitUseFood(Fy,false)call SetUnitPathing(Fy,false)call ih(Fy,522)call SetUnitTurnSpeed(Fy,1)call SetUnitFlyHeight(Fy,GetUnitFlyHeight(GetTriggerUnit()),0)call UnitAddType(Fy,UNIT_TYPE_ANCIENT)call UnitAddType(Fy,UNIT_TYPE_PEON)call UnitAddAbility(Fy,zW)call SetUnitAbilityLevel(Fy,zW,ZW)call IssueTargetOrderById(Fy,YW,FirstOfGroup(fy))endifcall GroupRemoveUnit(fy,FirstOfGroup(fy))endloopcall DestroyGroup(fy)set fy=nullelseset Ay=0loopexitwhen Ay>=2set Fy=CreateUnit(GetTriggerPlayer(),'nvul',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),Iy(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetLocationX(my),GetLocationY(my))-30+60*Ay)call UnitAddAbility(Fy,'Aloc')call UnitAddAbility(Fy,'Abun')call UnitAddAbility(Fy,'AIbm')call UnitAddAbility(Fy,'AI2m')call UnitAddAbility(Fy,'AImb')call UnitAddAbility(Fy,'AImz')call UnitAddAbility(Fy,'AImv')call UnitRemoveAbility(Fy,'Awan')if UnitAddAbility(Fy,'Arav')thencall UnitRemoveAbility(Fy,'Arav')endifcall SetUnitState(Fy,UNIT_STATE_MANA,GetUnitState(Fy,UNIT_STATE_MAX_MANA))call ShowUnit(Fy,false)call UnitApplyTimedLife(Fy,'BTLF',10)call SetUnitUseFood(Fy,false)call SetUnitPathing(Fy,false)call ih(Fy,522)call SetUnitTurnSpeed(Fy,1)call SetUnitFlyHeight(Fy,GetUnitFlyHeight(GetTriggerUnit()),0)call UnitAddType(Fy,UNIT_TYPE_ANCIENT)call UnitAddType(Fy,UNIT_TYPE_PEON)call UnitAddAbility(Fy,zW)call SetUnitAbilityLevel(Fy,zW,ZW)call IssuePointOrderById(Fy,YW,GetUnitX(GetTriggerUnit())+Cos(0.01745*(Iy(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetLocationX(my),GetLocationY(my))-30+60*Ay))*Vy(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetLocationX(my),GetLocationY(my)),GetUnitY(GetTriggerUnit())+Sin(0.01745*(Iy(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetLocationX(my),GetLocationY(my))-30+60*Ay))*Vy(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetLocationX(my),GetLocationY(my)))set Ay=Ay+1endloopendifendifcall RemoveLocation(my)set my=nullendfunctionfunction My takes nothing returns nothingcall RestartGame(true)endfunctionfunction py takes nothing returns nothinglocal integer array YWlocal integer ny=2local integer Ly=8local integer Py=8set YW[1]=xy(SubString(GetEventPlayerChatString(),3,7))set YW[2]=0set YW[3]=GetPlayerId(GetTriggerPlayer())+1loopset zV[1]=SubString(GetEventPlayerChatString(),Ly,Ly+1)if zV[1]=="," thenset YW[ny]=S2I(SubString(GetEventPlayerChatString(),Py,Ly))set ny=ny+1set Py=Ly+1if ny>=3 thenset YW[3]=S2I(SubString(GetEventPlayerChatString(),Py,StringLength(GetEventPlayerChatString())))exitwhen trueendifendifset Ly=Ly+1if Ly>=StringLength(GetEventPlayerChatString())thenset YW[ny]=S2I(SubString(GetEventPlayerChatString(),Py,StringLength(GetEventPlayerChatString())))exitwhen trueendifendloopif YW[3]>=1 and YW[3]<=16 thencall SetPlayerTechResearched(Player(YW[3]-1),YW[1],YW[2])call SetPlayerTechMaxAllowed(Player(YW[3]-1),YW[1],YW[2])call SetPlayerTechMaxAllowed(Player(YW[3]-1),YW[1],YW[2])if YW[2]==0 thencall SetPlayerAbilityAvailable(Player(YW[3]-1),YW[1],false)elsecall SetPlayerAbilityAvailable(Player(YW[3]-1),YW[1],true)endifcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000已对|cff00FFFF"+GetPlayerName(Player(YW[3]-1))+"|cffFF0000执行对应行为，若没有效果，请确认你是否输入了|cffFFFF00正确的物编ID|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000玩家参数输入数值错误！请输入|cffFFFF001~16|cffFF0000之间的整数|r")endifendfunctionfunction qy takes nothing returns nothinglocal integer YW=xy(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))if StringLength(GetEventPlayerChatString())<=6 thenif iE>=1 thenloopcall RemoveWeatherEffect(uE[iE])set iE=iE-1exitwhen iE<=0endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000删除|cffFFFF00所有已创建的全图天气|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00请输入|cffFF0000合法的天气ID|cffFFFF00，可点击|cffFF0000F9|cffFFFF00查看所有天气ID|r")endifelseset iE=iE+1set uE[iE]=AddWeatherEffect(GetWorldBounds(),YW)call EnableWeatherEffect(uE[iE],true)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00已创建对应的天气。目前已有|cffFF0000"+I2S(iE)+"|cffFFFF00个全图天气|r")endifendfunctionfunction Qy takes nothing returns nothingcall EnableUserControl(true)call ShowInterface(true,0.01)call EnableOcclusion(true)endfunctionfunction sy takes nothing returns nothingif GetClickedButton()!=hE[100]thenif GetClickedButton()==hE[1]thenif IsMapFlagSet(MAP_OBSERVERS_ON_DEATH)thencall SetMapFlag(MAP_OBSERVERS_ON_DEATH,false)elsecall SetMapFlag(MAP_OBSERVERS_ON_DEATH,true)endifelseif GetClickedButton()==hE[2]thenif IsMapFlagSet(MAP_LOCK_RESOURCE_TRADING)thencall SetMapFlag(MAP_LOCK_RESOURCE_TRADING,false)elsecall SetMapFlag(MAP_LOCK_RESOURCE_TRADING,true)endifelseif GetClickedButton()==hE[3]thenif IsMapFlagSet(MAP_RESOURCE_TRADING_ALLIES_ONLY)thencall SetMapFlag(MAP_RESOURCE_TRADING_ALLIES_ONLY,false)elsecall SetMapFlag(MAP_RESOURCE_TRADING_ALLIES_ONLY,true)endifelseif GetClickedButton()==hE[4]thenif IsMapFlagSet(MAP_LOCK_ALLIANCE_CHANGES)thencall SetMapFlag(MAP_LOCK_ALLIANCE_CHANGES,false)elsecall SetMapFlag(MAP_LOCK_ALLIANCE_CHANGES,true)endifelseif GetClickedButton()==hE[5]thenif IsMapFlagSet(MAP_ALLIANCE_CHANGES_HIDDEN)thencall SetMapFlag(MAP_ALLIANCE_CHANGES_HIDDEN,false)elsecall SetMapFlag(MAP_ALLIANCE_CHANGES_HIDDEN,true)endifendifcall Ny()call DialogDisplay(GetTriggerPlayer(),GE[2],true)endifendfunctionfunction Sy takes nothing returns nothingcall Ny()call DialogDisplay(GetTriggerPlayer(),GE[2],true)endfunctionfunction ty takes nothing returns nothinglocal real YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))if YW>=1 and YW<=5 thencall SetMapFlag(MAP_LOCK_SPEED,false)if YW==1 thencall SetGameSpeed(MAP_SPEED_SLOWEST)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00当前的游戏速度为|cffFF0000极慢|r")elseif YW==2 thencall SetGameSpeed(MAP_SPEED_SLOW)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00当前的游戏速度为|cffFF0000慢|r")elseif YW==3 thencall SetGameSpeed(MAP_SPEED_NORMAL)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00当前的游戏速度为|cffFF0000普通|r")elseif YW==4 thencall SetGameSpeed(MAP_SPEED_FAST)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00当前的游戏速度为|cffFF0000快|r")elseif YW==5 thencall SetGameSpeed(MAP_SPEED_FASTEST)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00当前的游戏速度为|cffFF0000极快|r")endifelsecall DisplayTextToPlayer(vE,0,0,"|cffFF0000输入错误！请输入|cffFFFF001~5|cffFF0000之间的整数|r")endifendfunctionfunction Ty takes nothing returns nothingcall EndGame(true)endfunctionfunction uy takes nothing returns nothinglocal group fy=CreateGroup()local unit Fylocal real Ay=S2R(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))call GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitScale(Fy,Ay,Ay,Ay)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00玩家选择的所有单位的缩放更改为原模型默认的|cffFF0000"+R2S(Ay)+"|cffFFFF00倍|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction Uy takes nothing returns nothinglocal integer YWset YW=0loopcall DisplayTimedTextToPlayer(Player(YW),0,0,15,"                              |cff00FFFF"+GetPlayerName(GetTriggerPlayer())+"：|r"+GetEventPlayerChatString())set YW=YW+1exitwhen YW>=16endloopendfunctionfunction Wy takes nothing returns nothingcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"===============*****===============")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0目标坐标：|cffFFFF00("+R2S(GetCameraTargetPositionX())+","+R2S(GetCameraTargetPositionY())+","+R2S(GetCameraTargetPositionZ())+")|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0源坐标：|cffFFFF00("+R2S(GetCameraEyePositionX())+","+R2S(GetCameraEyePositionY())+","+R2S(GetCameraEyePositionZ())+")|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0X轴旋转角度/弧度：|cffFFFF00"+R2S(57.295*GetCameraField(CAMERA_FIELD_ANGLE_OF_ATTACK))+"/"+R2S(GetCameraField(CAMERA_FIELD_ANGLE_OF_ATTACK))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0Y轴旋转角度/弧度：|cffFFFF00"+R2S(57.295*GetCameraField(CAMERA_FIELD_ROLL))+"/"+R2S(GetCameraField(CAMERA_FIELD_ROLL))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0Z轴旋转角度/弧度：|cffFFFF00"+R2S(57.295*GetCameraField(CAMERA_FIELD_ROTATION))+"/"+R2S(GetCameraField(CAMERA_FIELD_ROTATION))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0Z轴偏移：|cffFFFF00"+R2S(GetCameraField(CAMERA_FIELD_ZOFFSET))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0镜头距离：|cffFFFF00"+R2S(GetCameraField(CAMERA_FIELD_TARGET_DISTANCE))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0远景截断距离：|cffFFFF00"+R2S(GetCameraField(CAMERA_FIELD_FARZ))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0镜头区域：|cffFFFF00"+R2S(GetCameraField(CAMERA_FIELD_FIELD_OF_VIEW))+"|r")endfunctionfunction Yy takes nothing returns nothingif GetLocalPlayer()==vE thenset kE[2]=57.29582*GetCameraField(CAMERA_FIELD_ANGLE_OF_ATTACK)set kE[3]=57.29582*GetCameraField(CAMERA_FIELD_ROTATION)if DE[1]thenset kE[2]=kE[2]-1endifif DE[2]thenset kE[2]=kE[2]+1endifif DE[3]thenset kE[3]=kE[3]-1endifif DE[4]thenset kE[3]=kE[3]+1endifcall SetCameraField(CAMERA_FIELD_ANGLE_OF_ATTACK,kE[2],0.01)call SetCameraField(CAMERA_FIELD_ROTATION,kE[3],0.01)call PanCameraToTimed(kE[0],kE[1],0)endifendfunctionfunction zy takes nothing returns nothinglocal integer YW=0if GetTriggerEventId()==EVENT_PLAYER_ARROW_UP_UP thenset DE[1]=falseelseif GetTriggerEventId()==EVENT_PLAYER_ARROW_DOWN_UP thenset DE[2]=falseelseif GetTriggerEventId()==EVENT_PLAYER_ARROW_LEFT_UP thenset DE[3]=falseelseif GetTriggerEventId()==EVENT_PLAYER_ARROW_RIGHT_UP thenset DE[4]=falseendifloopset YW=YW+1if YW>=5 thencall DestroyTimer(sE)set sE=nullexitwhen trueendifif DE[YW]thenexitwhen trueendifendloopendfunctionfunction vY takes nothing returns nothingif sE==null thenset sE=CreateTimer()call TimerStart(sE,0.01,true,function Yy)endifset kE[0]=GetCameraTargetPositionX()set kE[1]=GetCameraTargetPositionY()if GetTriggerEventId()==EVENT_PLAYER_ARROW_UP_DOWN thenset DE[1]=trueelseif GetTriggerEventId()==EVENT_PLAYER_ARROW_DOWN_DOWN thenset DE[2]=trueelseif GetTriggerEventId()==EVENT_PLAYER_ARROW_LEFT_DOWN thenset DE[3]=trueelseif GetTriggerEventId()==EVENT_PLAYER_ARROW_RIGHT_DOWN thenset DE[4]=trueendifendfunctionfunction eY takes nothing returns nothingif DE[0]thenset DE[0]=falsecall DestroyTimer(sE)call DisableTrigger(ZV[58])call DisableTrigger(ZV[59])call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000关闭|cffFFFF00镜头模式|r")elseset DE[0]=truecall EnableTrigger(ZV[58])call EnableTrigger(ZV[59])call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"|cffFF0000开启|cffFFFF00镜头模式|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"|cffFF0000用上下左右对镜头进行调整，镜头距离请用|cffFFFF00'cd|cffFF0000代码，重置镜头请用|cffFFFF00'cr|cffFF0000代码|r")endifendfunctionfunction xY takes nothing returns nothinglocal group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenif GetLocalPlayer()==GetTriggerPlayer()thencall SetCameraTargetController(FirstOfGroup(fy),0,0,false)endifcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00已锁定|cffFF0000玩家选择的第一个单位|cffFFFF00的镜头，按下|cffFF0000Ctrl+C|cffFFFF00可解锁|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction oY takes nothing returns nothinglocal group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call UnitRemoveBuffs(Fy,true,true)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00已清除玩家选择的所有单位的|cffFF0000魔法效果|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction rY takes nothing returns nothinglocal integer YW=0call ClearTextMessages()loopcall DisplayTextToPlayer(Player(YW),0,0,"|cffFFFF00你已经被|cffFF0000踢出游戏|r")set YW=YW+1exitwhen YW>=16endloopendfunctionfunction iY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))-1if YW>=0 and YW<=15 thenif GetPlayerSlotState(Player(YW))==PLAYER_SLOT_STATE_PLAYING thenif GetLocalPlayer()==Player(YW)thencall TimerStart(CreateTimer(),0,true,function rY)endifcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00已将|cffFF0000"+GetPlayerName(Player(YW))+"|cffFFFF00踢出游戏！|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00这个玩家位|cffFF0000并不存在玩家|r")endifelsecall DisplayTextToPlayer(vE,0,0,"|cffFF0000输入序号错误！请输入|cffFFFF001~16|cffFF0000之间的整数|r")endifendfunctionfunction aY takes nothing returns nothinglocal integer YW=xy(SubString(GetEventPlayerChatString(),3,7))local group fylocal item ttlocal integer zW=1if StringLength(GetEventPlayerChatString())>=8 thenset zW=S2I(SubString(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString())))if zW<=0 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000数值部分请输入|cffFFFF00大于0|cffFF0000的整数|r")returnendifendifset fy=CreateGroup()call GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00已执行对应行为，若没有效果，请确定你输入了正确的|cffFF0000物体编辑器ID|r")if UnitAddAbility(FirstOfGroup(fy),YW)==false thenif StringLength(GetEventPlayerChatString())>=8 thencall SetUnitAbilityLevel(FirstOfGroup(fy),YW,zW)elsecall UnitRemoveAbility(FirstOfGroup(fy),YW)call UnitMakeAbilityPermanent(FirstOfGroup(fy),false,YW)endifelsecall UnitMakeAbilityPermanent(FirstOfGroup(fy),true,YW)call SetUnitAbilityLevel(FirstOfGroup(fy),YW,zW)endifloopcall CreateUnit(GetTriggerPlayer(),YW,GetUnitX(FirstOfGroup(fy)),GetUnitY(FirstOfGroup(fy)),0)set tt=CreateItem(YW,GetUnitX(FirstOfGroup(fy)),GetUnitY(FirstOfGroup(fy)))if tt!=null thencall SetItemPlayer(tt,GetTriggerPlayer(),false)set tt=nullendifcall CreateDestructable(YW,GetUnitX(FirstOfGroup(fy)),GetUnitY(FirstOfGroup(fy)),0,1,0)set zW=zW-1exitwhen zW<=0endloopelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction nY takes nothing returns nothinglocal group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)if IsUnitInGroup(Fy,pE)thencall SetUnitPathing(Fy,true)call GroupRemoveUnit(pE,Fy)elsecall SetUnitPathing(Fy,false)call GroupAddUnit(pE,Fy)endifendloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000已切换玩家选择的所有单位的|cffFFFF00触碰|cffFF0000状态|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction VY takes nothing returns nothinglocal real Ay=S2R(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))if GetLocalPlayer()==GetTriggerPlayer()thenif Ay>0 thencall SetCameraField(CAMERA_FIELD_FARZ,Ay,0)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000玩家当前镜头的远景截断距离为|cffFFFF00"+R2S(Ay)+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000数值错误！|cffFFFF00请输入|cffFF0000大于0|cffFFFF00的实数|r")endifendifendfunctionfunction EY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))-1local group fy=CreateGroup()local unit Fyif YW>=0 and YW<=15 thencall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitOwner(Fy,Player(YW),true)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000玩家选择的所有单位|cffFFFF00的所有者已改变为|cffFF0000"+GetPlayerName(Player(YW))+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifelsecall DisplayTextToPlayer(vE,0,0,"|cffFF0000输入序号错误！请输入|cffFFFF001~16|cffFF0000之间的整数|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction XY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))-1local integer zW=StringLength(GetEventPlayerChatString())-1loopset zV[1]=SubString(GetEventPlayerChatString(),zW,zW+1)if zV[1]=="," thenset zW=S2I(SubString(GetEventPlayerChatString(),zW+1,StringLength(GetEventPlayerChatString())))exitwhen trueendifset zW=zW-1if zW<=0 thenset zW=GetPlayerId(GetTriggerPlayer())+1exitwhen trueendifendloopif zW<=0 or zW>=17 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入序号错误！请输入|cffFFFF001~16|cffFF0000之间的整数|r")returnendifif YW>=0 and YW<=15 thenif IsPlayerAlly(Player(YW),GetTriggerPlayer())thencall SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_PASSIVE,false)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_XP,false)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_VISION,false)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_SPELLS,false)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_HELP_REQUEST,false)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_HELP_RESPONSE,false)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_PASSIVE,false)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_SHARED_XP,false)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_SHARED_VISION,false)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_SHARED_SPELLS,false)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_HELP_REQUEST,false)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_HELP_RESPONSE,false)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000"+GetPlayerName(Player(zW-1))+"|cffFFFF00和|cffFF0000"+GetPlayerName(Player(YW))+"|cffFFFF00成为|cffFF0000敌人|r")elsecall SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_PASSIVE,true)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_XP,true)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_VISION,true)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_SPELLS,true)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_HELP_REQUEST,true)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_HELP_RESPONSE,true)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_PASSIVE,true)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_SHARED_XP,true)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_SHARED_VISION,true)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_SHARED_SPELLS,true)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_HELP_REQUEST,true)call SetPlayerAlliance(Player(zW-1),Player(YW),ALLIANCE_HELP_RESPONSE,true)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000"+GetPlayerName(Player(zW-1))+"|cffFFFF00和|cffFF0000"+GetPlayerName(Player(YW))+"|cffFFFF00成为|cffFF0000同盟|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入序号错误！请输入|cffFFFF001~16|cffFF0000之间的整数|r")endifendfunctionfunction OY takes nothing returns nothingif GetLocalPlayer()==vE thencall ClearTextMessages()call ResetToGameCamera(0)loopcall DestroyQuest(qE[rE])set rE=rE-1exitwhen rE==0endloopendifloopcall DestroyTrigger(ZV[oE])set oE=oE-1exitwhen oE==0endloopif ZV[0]!=null thencall DestroyTrigger(ZV[0])endifif xE>=1 thenloopset xE=xE-1call DestroyTextTag(tE[xE])set tE[xE]=nullexitwhen xE<=0endloopendifloopcall RemoveWeatherEffect(uE[iE])set iE=iE-1exitwhen iE<=0endloopcall DialogDestroy(GE[0])call DialogDestroy(GE[1])call DialogDestroy(GE[2])call DestroyGroup(ME[0])call DestroyGroup(ME[1])call DestroyGroup(PE)call DestroyGroup(pE)call RemoveRegion(mE)call DisplayTextToPlayer(GetLocalPlayer(),0,0,"|cffFF0000已移除|cffFFFF00najitest|cffFF0000测试系统")endfunctionfunction RY takes nothing returns nothinglocal group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call KillUnit(Fy)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00杀死|cffFF0000玩家选择的所有单位|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction IY takes nothing returns nothinglocal real array Aylocal integer ny=1local integer Ly=3local integer Py=3set Ay[1]=1set Ay[2]=GetPlayerId(GetTriggerPlayer())+1loopset zV[1]=SubString(GetEventPlayerChatString(),Ly,Ly+1)if zV[1]=="," thenset Ay[ny]=S2R(SubString(GetEventPlayerChatString(),Py,Ly))set ny=ny+1set Py=Ly+1if ny>=2 and Py<StringLength(GetEventPlayerChatString())thenset Ay[2]=S2R(SubString(GetEventPlayerChatString(),Py,StringLength(GetEventPlayerChatString())))exitwhen trueendifendifset Ly=Ly+1if Ly>=StringLength(GetEventPlayerChatString())thenset Ay[ny]=S2I(SubString(GetEventPlayerChatString(),Py,StringLength(GetEventPlayerChatString())))exitwhen trueendifendloopif R2I(Ay[2])>=1 and R2I(Ay[2])<=16 thencall SetMapFlag(MAP_USE_HANDICAPS,true)call SetPlayerHandicap(Player(R2I(Ay[2])-1),Ay[1])call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000已设置|cff00FFFF"+GetPlayerName(Player(R2I(Ay[2])-1))+"|cffFF0000的生命障碍为|cffFFFF00"+R2S(Ay[1])+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000玩家参数输入数值错误！请输入|cffFFFF001~16|cffFF0000之间的整数|r")endifendfunctionfunction AY takes nothing returns nothinglocal real Ay=S2R(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))call SetTimeOfDayScale(Ay/ 100)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置时间流逝速度为|cffFFFF00"+R2S(Ay)+"%|r")endfunctionfunction NY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))local group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitUserData(Fy,YW)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置玩家选择的所有单位的自定义值为|cffFFFF00"+I2S(YW)+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction bY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))local group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenif YW>=1 thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)if IsUnitType(Fy,UNIT_TYPE_HERO)thencall SetHeroInt(Fy,YW,true)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置玩家选择的所有英雄的智力为|cffFFFF00"+I2S(YW)+"|r")endifendloopelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入错误！请输入|cffFFFF00大于等于1|cffFF0000的整数|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction BY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))local group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenif YW>=1 thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)if IsUnitType(Fy,UNIT_TYPE_HERO)thencall SetHeroAgi(Fy,YW,true)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置玩家选择的所有英雄的敏捷为|cffFFFF00"+I2S(YW)+"|r")endifendloopelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入错误！请输入|cffFFFF00大于等于1|cffFF0000的整数|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction cY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))local group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenif YW>=1 thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)if IsUnitType(Fy,UNIT_TYPE_HERO)thencall SetHeroStr(Fy,YW,true)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置玩家选择的所有英雄的力量为|cffFFFF00"+I2S(YW)+"|r")endifendloopelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入错误！请输入|cffFFFF00大于等于1|cffFF0000的整数|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction CY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))local group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)if IsUnitType(Fy,UNIT_TYPE_HERO)thenif GetHeroSkillPoints(Fy)+YW>=0 thencall UnitModifySkillPoints(Fy,YW)elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF80C0"+GetUnitName(Fy)+"|cffFF0000的剩余技能点不能|cffFFFF00低于0|cffFF0000！|r")endifendifendloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000增加玩家选择的所有英雄的技能点数：|cffFFFF00"+I2S(YW)+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction dY takes nothing returns nothinglocal real Ay=S2R(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))local group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)if UnitAddAbility(Fy,'Arav')thencall UnitRemoveAbility(Fy,'Arav')endifcall SetUnitFlyHeight(Fy,Ay,0)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置玩家选择的所有单位的飞行高度为|cffFFFF00"+R2S(Ay)+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction DY takes nothing returns nothinglocal real Ay=S2R(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))local group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenif Ay>0 thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitAcquireRange(Fy,Ay)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置玩家选择的所有单位的主动攻击范围为|cffFFFF00"+R2S(Ay)+"|r")elseloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitAcquireRange(Fy,GetUnitDefaultAcquireRange(Fy))endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入数值错误！已还原玩家选择的所有单位的|cffFFFF00默认主动攻击范围|cffFF0000。请输入|cffFFFF00大于0|cffFF0000的实数|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction fY takes nothing returns nothinglocal real Ay=S2R(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))local group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenif Ay>=0 and Ay<=1 thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitTurnSpeed(Fy,Ay)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置玩家选择的所有单位的转身速率为|cffFFFF00"+R2S(Ay)+"|r")elseloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitTurnSpeed(Fy,GetUnitDefaultTurnSpeed(Fy))endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入数值错误！已还原玩家选择的所有单位的|cffFFFF00默认转身速率|cffFF0000。请输入|cffFFFF000~1|cffFF0000之间的实数|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction FY takes nothing returns nothinglocal real Ay=S2R(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))local group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenif Ay>=0 and Ay<=522 thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call ih(Fy,Ay)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置玩家选择的所有单位的移动速度为|cffFFFF00"+R2S(Ay)+"|r")elseloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call ih(Fy,GetUnitDefaultMoveSpeed(Fy))endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入数值错误！已还原玩家选择的所有单位的|cffFFFF00默认移动速度|cffFF0000。请输入|cffFFFF000~522|cffFF0000之间的实数|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction gY takes nothing returns nothinglocal real Ay=S2R(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))if Ay>=0 and Ay<=24 thencall SetFloatGameState(GAME_STATE_TIME_OF_DAY,Ay)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000当前时间设置为|cffFFFF00"+R2S(Ay)+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000请输入|cffFFFF000~24|cffFF0000之间的实数|r")endifendfunctionfunction GY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))call SetRandomSeed(YW)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000随机种子设置为|cffFFFF00"+I2S(YW)+"|r")endfunctionfunction hY takes nothing returns nothinglocal group fylocal unit Fylocal integer YW=S2I(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))local integer zW=StringLength(GetEventPlayerChatString())-1loopset zV[1]=SubString(GetEventPlayerChatString(),zW,zW+1)if zV[1]=="," thenset zW=S2I(SubString(GetEventPlayerChatString(),zW+1,StringLength(GetEventPlayerChatString())))exitwhen trueendifset zW=zW-1if zW<=0 thenset zW=1exitwhen trueendifendloopif zW<=0 or zW>=7 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000第二参数输入错误！请输入|cffFFFF001~6|cffFF0000间的整数|r")returnendifset fy=CreateGroup()call GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)set Fy=FirstOfGroup(fy)if Fy!=null thenif UnitItemInSlot(Fy,zW-1)!=null thenif YW<=0 thenset YW=0endifcall SetItemCharges(UnitItemInSlot(Fy,zW-1),YW)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000该单位|cffFFFF00第"+I2S(zW)+"格物品栏|cffFF0000的可允次数设置为|cffFFFF00"+I2S(YW)+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000该单位|cffFFFF00第"+I2S(zW)+"格物品栏|cffFF0000不存在物品|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction HY takes nothing returns nothingloopset xE=xE-1call DestroyTextTag(tE[xE])set tE[xE]=nullexitwhen xE<=0endloopcall DisplayTextToPlayer(GetLocalPlayer(),0,0,"|cffFF0000已清除所有|cffFFFF00备忘文字|r")endfunctionfunction jY takes nothing returns nothingset tE[xE]=CreateTextTag()call SetTextTagText(tE[xE],SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())),20*0.023/ 10)call SetTextTagPos(tE[xE],GetCameraTargetPositionX(),GetCameraTargetPositionY(),0)call SetTextTagColor(tE[xE],0,255,0,255)set xE=xE+1endfunctionfunction JY takes nothing returns nothinglocal real Ay=S2R(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))if Ay>100 thenset Ay=1endifif Ay<0 thenset Ay=0endifset Ay=Ay/ 100if GetLocalPlayer()==GetTriggerPlayer()thencall VolumeGroupSetVolume(SOUND_VOLUMEGROUP_AMBIENTSOUNDS,Ay)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_SPELLS,Ay)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_COMBAT,Ay)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_FIRE,Ay)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITMOVEMENT,Ay)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITSOUNDS,Ay)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UI,Ay)endifcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000你当前的音效音量为：|cffFFFF00"+I2S(R2I(Ay*100))+"%|r")endfunctionfunction kY takes nothing returns nothingcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000骰得点数：|cffFFFF00"+I2S(GetRandomInt(1,100))+"|r")endfunctionfunction KY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))if YW>100 thenset YW=100endifif YW<0 thenset YW=0endifif GetLocalPlayer()==GetTriggerPlayer()thencall SetMusicVolume(R2I(I2R(YW)*1.27))endifcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000你当前的音乐音量为：|cffFFFF00"+I2S(YW)+"%|r")endfunctionfunction lY takes nothing returns nothinglocal group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)if IsUnitPaused(Fy)thencall PauseUnit(Fy,false)elsecall PauseUnit(Fy,true)endifendloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000已切换玩家选择的所有单位的|cffFFFF00暂停状态|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction LY takes nothing returns nothinglocal texttag ttif dE thenset zV[0]=I2S(R2I(GetEventDamage()))elseset zV[0]=R2S(GetEventDamage())endifif gE thenif fE thenset zV[3]=GetPlayerName(GetTriggerPlayer())+"（玩家"+I2S(GetPlayerId(GetTriggerPlayer())+1)+"）"set zV[4]=GetPlayerName(GetOwningPlayer(GetEventDamageSource()))+"（玩家"+I2S(GetPlayerId(GetOwningPlayer(GetEventDamageSource()))+1)+"）"elseset zV[3]=""set zV[4]=""endifif XE thenset zV[1]="（"+R2S(GetUnitX(GetTriggerUnit()))+","+R2S(GetUnitY(GetTriggerUnit()))+"）"set zV[2]="（"+R2S(GetWidgetX(GetEventDamageSource()))+","+R2S(GetWidgetY(GetEventDamageSource()))+"）"elseset zV[1]=""set zV[2]=""endifcall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF8000受到了|cffFFFF00"+zV[0]+"|cffFF8000点伤害！|cff00FFFF伤害来源为|r"+zV[4]+"|cffFFFF00"+GetUnitName(GetEventDamageSource())+"|cffFF0000"+yW(GetUnitTypeId(GetEventDamageSource()))+"|cffFFFF00"+zV[2]+"|r")elseif GetLocalPlayer()==vE thenset tt=CreateTextTag()call SetTextTagText(tt,zV[0],13*0.023/ 10)call SetTextTagPosUnit(tt,GetTriggerUnit(),0)call SetTextTagColor(tt,255,0,0,255)call SetTextTagVelocity(tt,150*0.071/ 128*Cos(JE*0.01745),150*0.071/ 128*Sin(JE*0.01745))call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,1)call SetTextTagFadepoint(tt,0.8)set tt=nullset JE=JE+30if JE>=360 thenset JE=JE-360endifendifendifendfunctionfunction mY takes nothing returns nothingif GetUnitAbilityLevel(GetTriggerUnit(),'Aloc')==0 thencall TriggerRegisterUnitEvent(ZV[0],GetTriggerUnit(),EVENT_UNIT_DAMAGED)endifendfunctionfunction MY takes nothing returns nothinglocal group fy=CreateGroup()local integer YW=0local integer zWloopcall GroupEnumUnitsOfPlayer(fy,Player(YW),null)set zW=0loopexitwhen FirstOfGroup(fy)==nullcall GroupRemoveUnit(fy,FirstOfGroup(fy))set zW=zW+1endloopcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15,"|cff00FFFF("+I2S(YW+1)+")|cffFF0000"+GetPlayerName(Player(YW))+"|r：|cffFF80C0总单位数|cffFFFF00"+I2S(zW)+"|r：|cffFF80C0金钱|cffFFFF00"+I2S(GetPlayerState(Player(YW),PLAYER_STATE_RESOURCE_GOLD))+"|r：|cffFF80C0木头|cffFFFF00"+I2S(GetPlayerState(Player(YW),PLAYER_STATE_RESOURCE_LUMBER))+"|r：|cffFF80C0已用/可用人口|cffFFFF00"+I2S(GetPlayerState(Player(YW),PLAYER_STATE_RESOURCE_FOOD_USED))+"|r/|cffFFFF00"+I2S(GetPlayerState(Player(YW),PLAYER_STATE_RESOURCE_FOOD_CAP)))set YW=YW+1exitwhen YW>=16endloopcall DestroyGroup(fy)set fy=nullendfunctionfunction pY takes nothing returns nothingif nE thencall PauseGame(false)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000继续游戏|r")set nE=falseelsecall PauseGame(true)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000暂停游戏|r")set nE=trueendifendfunctionfunction PY takes nothing returns nothinglocal real Ay=S2R(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))local group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitTimeScale(Fy,Ay)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置玩家选择的所有单位的动画播放速率为|cffFFFF00"+R2S(Ay)+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction qY takes nothing returns nothinglocal integer array YWlocal integer ny=1local integer Ly=4local integer Py=4local group fylocal unit Fyset YW[1]=0set YW[2]=0set YW[3]=0set YW[4]=0loopset zV[1]=SubString(GetEventPlayerChatString(),Ly,Ly+1)if zV[1]=="," thenset YW[ny]=S2I(SubString(GetEventPlayerChatString(),Py,Ly))set ny=ny+1set Py=Ly+1if ny>=4 thenset YW[4]=S2I(SubString(GetEventPlayerChatString(),Py,StringLength(GetEventPlayerChatString())))exitwhen trueendifendifset Ly=Ly+1if Ly>=StringLength(GetEventPlayerChatString())thenset YW[ny]=S2I(SubString(GetEventPlayerChatString(),Py,StringLength(GetEventPlayerChatString())))exitwhen trueendifendloopif YW[1]>=0 and YW[1]<=255 and YW[2]>=0 and YW[2]<=255 and YW[3]>=0 and YW[3]<=255 and YW[4]>=0 and YW[4]<=255 thenset fy=CreateGroup()call GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitVertexColor(Fy,YW[1],YW[2],YW[3],YW[4])endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000设置玩家选择的所有单位的染色为|cffFFFF00"+I2S(YW[1])+"|cffFF0000,|cffFFFF00"+I2S(YW[2])+"|cffFF0000,|cffFFFF00"+I2S(YW[3])+"|cffFF0000,|cffFFFF00"+I2S(YW[4])+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入数值错误！请输入|cffFFFF000~255|cffFF0000之间的整数|r")endifendfunctionfunction QY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))-1local integer zW=StringLength(GetEventPlayerChatString())-1loopset zV[1]=SubString(GetEventPlayerChatString(),zW,zW+1)if zV[1]=="," thenset zW=S2I(SubString(GetEventPlayerChatString(),zW+1,StringLength(GetEventPlayerChatString())))exitwhen trueendifset zW=zW-1if zW<=0 thenset zW=GetPlayerId(GetTriggerPlayer())+1exitwhen trueendifendloopif zW<=0 or zW>=17 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入序号错误！请输入|cffFFFF001~16|cffFF0000之间的整数|r")returnendifif YW>=0 and YW<=15 thenif GetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_ADVANCED_CONTROL)thencall SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_VISION,false)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_CONTROL,false)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_ADVANCED_CONTROL,false)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000"+GetPlayerName(Player(zW-1))+"|cffFFFF00失去了|cffFF0000"+GetPlayerName(Player(YW))+"|cffFFFF00的|cffFF0000控制权|r")elsecall SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_VISION,true)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_CONTROL,true)call SetPlayerAlliance(Player(YW),Player(zW-1),ALLIANCE_SHARED_ADVANCED_CONTROL,true)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000"+GetPlayerName(Player(zW-1))+"|cffFFFF00获得了|cffFF0000"+GetPlayerName(Player(YW))+"|cffFFFF00的|cffFF0000控制权|r")endifelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入序号错误！请输入|cffFFFF001~16|cffFF0000之间的整数|r")endifendfunctionfunction sY takes nothing returns nothinglocal group fy=CreateGroup()local unit Fylocal integer YWcall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)set Fy=FirstOfGroup(fy)if Fy!=null thenset YW=GetUnitTypeId(Fy)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"===============*****===============")if IsUnitType(Fy,UNIT_TYPE_HERO)thenset zV[0]=GetHeroProperName(Fy)elseset zV[0]="无"endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0单位名称/称谓：|cffFFFF00"+GetUnitName(Fy)+"/"+zV[0]+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0ID256进制/10进制：|cffFFFF00"+yW(GetUnitTypeId(Fy))+"/"+I2S(GetUnitTypeId(Fy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0存储地址：|cffFFFF00"+I2S(GetHandleId(Fy))+"|r")if IsUnitRace(Fy,RACE_HUMAN)thenset zV[0]="人族"endifif IsUnitRace(Fy,RACE_ORC)thenset zV[0]="兽族"endifif IsUnitRace(Fy,RACE_UNDEAD)thenset zV[0]="不死族"endifif IsUnitRace(Fy,RACE_NIGHTELF)thenset zV[0]="暗夜精灵族"endifif IsUnitRace(Fy,RACE_DEMON)thenset zV[0]="恶魔"endifif IsUnitRace(Fy,ConvertRace(0))thenset zV[0]="没有"endifif IsUnitRace(Fy,ConvertRace(7))thenset zV[0]="其它"endifif IsUnitRace(Fy,ConvertRace(8))thenset zV[0]="野外生物"endifif IsUnitRace(Fy,ConvertRace(9))thenset zV[0]="平民"endifif IsUnitRace(Fy,RACE_HUMAN)thenset zV[0]="人族"endifif IsUnitRace(Fy,ConvertRace(10))thenset zV[0]="动物"endifif IsUnitRace(Fy,ConvertRace(11))thenset zV[0]="娜迦族"endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0种族/等级：|cffFFFF00"+zV[0]+"/"+I2S(GetUnitLevel(Fy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0所属玩家/cj索引：|cffFFFF00"+GetPlayerName(GetOwningPlayer(Fy))+"/"+I2S(GetPlayerId(GetOwningPlayer(Fy)))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0坐标：|cffFFFF00("+R2S(GetUnitX(Fy))+","+R2S(GetUnitY(Fy))+")|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0面向角度/弧度：|cffFFFF00"+R2S(GetUnitFacing(Fy))+"/"+R2S(0.017*GetUnitFacing(Fy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0自定义值：|cffFFFF00"+I2S(GetUnitUserData(Fy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0附加值：|cffFFFF00"+I2S(GetUnitPointValue(Fy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0主动攻击范围当前/默认：|cffFFFF00"+R2S(GetUnitAcquireRange(Fy))+"/"+R2S(GetUnitDefaultAcquireRange(Fy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0移动速度当前/默认：|cffFFFF00"+R2S(GetUnitMoveSpeed(Fy))+"/"+R2S(GetUnitDefaultMoveSpeed(Fy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0转身速率当前/默认：|cffFFFF00"+R2S(GetUnitTurnSpeed(Fy))+"/"+R2S(GetUnitDefaultTurnSpeed(Fy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0飞行高度当前/默认：|cffFFFF00"+R2S(GetUnitFlyHeight(Fy))+"/"+R2S(GetUnitDefaultFlyHeight(Fy))+"|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0拥有buff数量全部/正面/负面：|cffFFFF00"+I2S(UnitCountBuffsEx(Fy,true,true,false,false,true,true,false))+"/"+I2S(UnitCountBuffsEx(Fy,true,false,false,false,true,true,false))+"/"+I2S(UnitCountBuffsEx(Fy,false,true,false,false,true,true,false))+"|r")set zV[0]=" "if IsUnitIdType(YW,UNIT_TYPE_MELEE_ATTACKER)thenset zV[0]=zV[0]+"近战，"endifif IsUnitIdType(YW,UNIT_TYPE_RANGED_ATTACKER)thenset zV[0]=zV[0]+"远程，"endifif IsUnitIdType(YW,UNIT_TYPE_STRUCTURE)thenset zV[0]=zV[0]+"建筑，"endifif IsUnitIdType(YW,UNIT_TYPE_HERO)thenset zV[0]=zV[0]+"英雄，"endifif IsUnitIdType(YW,UNIT_TYPE_GROUND)thenset zV[0]=zV[0]+"地面，"endifif IsUnitIdType(YW,UNIT_TYPE_FLYING)thenset zV[0]=zV[0]+"飞行，"endifif IsUnitIdType(YW,UNIT_TYPE_SUMMONED)thenset zV[0]=zV[0]+"召唤单位，"endifif IsUnitIdType(YW,UNIT_TYPE_PLAGUED)thenset zV[0]=zV[0]+"附带瘟疫，"endifif IsUnitIdType(YW,UNIT_TYPE_SNARED)thenset zV[0]=zV[0]+"被束缚的，"endifif IsUnitIdType(YW,UNIT_TYPE_STUNNED)thenset zV[0]=zV[0]+"被眩晕的，"endifif IsUnitIdType(YW,UNIT_TYPE_GIANT)thenset zV[0]=zV[0]+"泰坦，"endifif IsUnitIdType(YW,UNIT_TYPE_TAUREN)thenset zV[0]=zV[0]+"牛头人，"endifif IsUnitIdType(YW,UNIT_TYPE_UNDEAD)thenset zV[0]=zV[0]+"不死族，"endifif IsUnitIdType(YW,UNIT_TYPE_MECHANICAL)thenset zV[0]=zV[0]+"机械，"endifif IsUnitIdType(YW,UNIT_TYPE_ANCIENT)thenset zV[0]=zV[0]+"古树，"endifif IsUnitIdType(YW,UNIT_TYPE_PEON)thenset zV[0]=zV[0]+"工人，"endifif IsUnitIdType(YW,UNIT_TYPE_TOWNHALL)thenset zV[0]=zV[0]+"城镇大厅，"endifif IsUnitIdType(YW,UNIT_TYPE_SAPPER)thenset zV[0]=zV[0]+"地精工兵，"endifif IsUnitIdType(YW,UNIT_TYPE_POISONED)thenset zV[0]=zV[0]+"中毒的，"endifif IsUnitIdType(YW,UNIT_TYPE_POLYMORPHED)thenset zV[0]=zV[0]+"被变形的，"endifif IsUnitIdType(YW,UNIT_TYPE_SLEEPING)thenset zV[0]=zV[0]+"被催眠的，"endifif IsUnitIdType(YW,UNIT_TYPE_RESISTANT)thenset zV[0]=zV[0]+"有抗性皮肤的，"endifif IsUnitIdType(YW,UNIT_TYPE_ETHEREAL)thenset zV[0]=zV[0]+"处于虚无状态，"endifif IsUnitIdType(YW,UNIT_TYPE_MAGIC_IMMUNE)thenset zV[0]=zV[0]+"魔法免疫，"endifset zV[0]=SubString(zV[0],1,StringLength(zV[0])-2)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,"|cffFF80C0可识别类型：|cffFFFF00"+zV[0]+"||r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullset Fy=nullendfunctionfunction SY takes nothing returns nothingif GetLocalPlayer()==GetTriggerPlayer()thencall ResetToGameCamera(0)endifcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000重置镜头|r")endfunctionfunction tY takes nothing returns nothingif GetLocalPlayer()==GetTriggerPlayer()thencall ClearTextMessages()endifendfunctionfunction TY takes nothing returns nothingif fE thenset zV[3]=GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"（玩家"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))+1)+"）"elseset zV[3]=""endifif XE thenset zV[1]="（"+R2S(GetUnitX(GetTriggerUnit()))+","+R2S(GetUnitY(GetTriggerUnit()))+"）"set zV[2]="（"+R2S(GetWidgetX(GetKillingUnit()))+","+R2S(GetWidgetY(GetKillingUnit()))+"）"elseset zV[1]=""set zV[2]=""endifif GetTriggerPlayer()==null thenset WV=WV+1set yV=yV+1call DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF80C0第一次进入地图,当前单位数："+I2S(WV)+",创建单位总数："+I2S(yV)+"|r")elseif fE thenset zV[4]=GetPlayerName(GetOwningPlayer(GetKillingUnit()))+"（玩家"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit()))+1)+"）"elseset zV[4]=""endifset WV=WV-1call DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF80C0死亡！凶手是：|r"+zV[4]+"|cffFFFF00"+GetUnitName(GetKillingUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetKillingUnit()))+"|cffFFFF00"+zV[2]+",当前单位数："+I2S(WV)+",创建单位总数："+I2S(yV)+"|r")endifendfunctionfunction uY takes nothing returns nothingcall SetPlayerName(GetTriggerPlayer(),SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000你当前的名称为：|cffFFFF00"+GetPlayerName(GetTriggerPlayer())+"|r")endfunctionfunction UY takes nothing returns nothinglocal location myif fE thenset zV[3]=GetPlayerName(GetTriggerPlayer())+"（玩家"+I2S(GetPlayerId(GetTriggerPlayer())+1)+"）"elseset zV[3]=""endifif XE thenset zV[1]="（"+R2S(GetUnitX(GetTriggerUnit()))+","+R2S(GetUnitY(GetTriggerUnit()))+"）"set zV[2]="（"+R2S(GetWidgetX(GetOrderTarget()))+","+R2S(GetWidgetY(GetOrderTarget()))+"）"elseset zV[1]=""set zV[2]=""endifset zV[0]=OrderId2String(GetIssuedOrderId())if zV[0]==null thenset zV[0]=UnitId2String(GetIssuedOrderId())if zV[0]==null thenset zV[0]=ay(GetIssuedOrderId())if zV[0]==null or zV[0]=="Default string" thenset zV[0]="null"elseset zV[0]=zV[0]+"|cff00FF00"+yW(GetIssuedOrderId())endifendifendifif GetOrderTargetUnit()==null thenif GetOrderTargetDestructable()==null thenif GetOrderTargetItem()==null thenset my=GetOrderPointLoc()if my==null thencall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF80C0发布了|cffFFFF00"+zV[0]+"|cffFF0000（"+I2S(GetIssuedOrderId())+"）|r")elsecall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF80C0发布了|cffFFFF00"+zV[0]+"|cffFF0000（"+I2S(GetIssuedOrderId())+"）|cff00FFFF目标点为|cffFFFF00（"+R2S(GetOrderPointX())+","+R2S(GetOrderPointY())+"）|r")endifcall RemoveLocation(my)set my=nullelsecall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF80C0发布了|cffFFFF00"+zV[0]+"|cffFF0000（"+I2S(GetIssuedOrderId())+"）|cff00FFFF目标为|cffFFFF00"+GetItemName(GetOrderTargetItem())+"|cffFF0000"+yW(GetItemTypeId(GetOrderTargetItem()))+"|cffFFFF00"+zV[2]+"|r")endifelsecall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF80C0发布了|cffFFFF00"+zV[0]+"|cffFF0000（"+I2S(GetIssuedOrderId())+"）|cff00FFFF目标为|cffFFFF00"+GetDestructableName(GetOrderTargetDestructable())+"|cffFF0000"+yW(GetDestructableTypeId(GetOrderTargetDestructable()))+"|cffFFFF00"+zV[2]+"|r")endifelseif fE thenset zV[4]=GetPlayerName(GetOwningPlayer(GetOrderTargetUnit()))+"（玩家"+I2S(GetPlayerId(GetOwningPlayer(GetOrderTargetUnit()))+1)+"）"elseset zV[4]=""endifcall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF80C0发布了|cffFFFF00"+zV[0]+"|cffFF0000（"+I2S(GetIssuedOrderId())+"）|cff00FFFF目标为|r"+zV[4]+"|cffFFFF00"+GetUnitName(GetOrderTargetUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetOrderTargetUnit()))+"|cffFFFF00"+zV[2]+"|r")endifendfunctionfunction wY takes nothing returns nothinglocal group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call RemoveUnit(Fy)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFFFF00删除|cffFF0000玩家选择的所有单位|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction WY takes nothing returns nothinglocal real Ay=S2R(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))if GetLocalPlayer()==GetTriggerPlayer()thenif Ay>0 thencall SetCameraField(CAMERA_FIELD_TARGET_DISTANCE,Ay,0)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000玩家当前镜头的镜头距离为|cffFFFF00"+R2S(Ay)+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000数值错误！|cffFFFF00请输入|cffFF0000大于0|cffFFFF00的实数|r")endifendifendfunctionfunction yY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))local group fylocal unit Fyif YW>=0 thenset fy=CreateGroup()call GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitAnimationByIndex(Fy,YW)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000播放玩家选择的所有单位的第|cffFFFF00"+I2S(YW)+"|cffFF0000号动作|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入数值错误！请输入|cffFFFF00大于0|cffFF0000的数值|r")endifendfunctionfunction YY takes nothing returns nothingif aE thencall FogEnable(false)call FogMaskEnable(false)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000关闭|cffFFFF00阴影及战争迷雾|r")set aE=falseelsecall FogEnable(true)call FogMaskEnable(true)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000开启|cffFFFF00阴影及战争迷雾|r")set aE=trueendifendfunctionfunction zY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))local group fylocal unit Fyif YW>=1 thenset fy=CreateGroup()call GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)if IsUnitType(Fy,UNIT_TYPE_HERO)thenif GetUnitLevel(Fy)<=YW thencall SetHeroLevel(Fy,YW,true)elsecall UnitStripHeroLevel(Fy,GetUnitLevel(Fy)-YW)endifendifendloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000将玩家选择的所有英雄等级设置为|cffFFFF00"+I2S(YW)+"|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullelsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000输入数值错误！请输入|cffFFFF00大于1|cffFF0000的数值|r")endifendfunctionfunction ZY takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))local integer zW=StringLength(GetEventPlayerChatString())-1loopset zV[1]=SubString(GetEventPlayerChatString(),zW,zW+1)if zV[1]=="," thenset zW=S2I(SubString(GetEventPlayerChatString(),zW+1,StringLength(GetEventPlayerChatString())))exitwhen trueendifset zW=zW-1if zW<=0 thenset zW=GetPlayerId(GetTriggerPlayer())+1exitwhen trueendifendloopif zW<=0 or zW>=17 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000第二参数输入错误！请输入|cffFFFF001~16|cffFF0000间的整数|r")returnendifcall SetPlayerState(Player(zW-1),PLAYER_STATE_RESOURCE_LUMBER,GetPlayerState(Player(zW-1),PLAYER_STATE_RESOURCE_LUMBER)+YW)if YW>0 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000为|cff00FFFF"+GetPlayerName(Player(zW-1))+"|cffFF0000增加了|cffFFFF00"+I2S(YW)+"|cffFF0000木头|r")elseif YW<0 thenset YW=YW*-1call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000为|cff00FFFF"+GetPlayerName(Player(zW-1))+"|cffFF0000减少了|cffFFFF00"+I2S(YW)+"|cffFF0000木头|r")endifendfunctionfunction ez takes nothing returns nothinglocal integer YW=S2I(SubString(GetEventPlayerChatString(),3,StringLength(GetEventPlayerChatString())))local integer zW=StringLength(GetEventPlayerChatString())-1loopset zV[1]=SubString(GetEventPlayerChatString(),zW,zW+1)if zV[1]=="," thenset zW=S2I(SubString(GetEventPlayerChatString(),zW+1,StringLength(GetEventPlayerChatString())))exitwhen trueendifset zW=zW-1if zW<=0 thenset zW=GetPlayerId(GetTriggerPlayer())+1exitwhen trueendifendloopif zW<=0 or zW>=17 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000第二参数输入错误！请输入|cffFFFF001~16|cffFF0000间的整数|r")returnendifcall SetPlayerState(Player(zW-1),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(zW-1),PLAYER_STATE_RESOURCE_GOLD)+YW)if YW>0 thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000为|cff00FFFF"+GetPlayerName(Player(zW-1))+"|cffFF0000增加了|cffFFFF00"+I2S(YW)+"|cffFF0000黄金|r")elseif YW<0 thenset YW=YW*-1call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000为|cff00FFFF"+GetPlayerName(Player(zW-1))+"|cffFF0000减少了|cffFFFF00"+I2S(YW)+"|cffFF0000黄金|r")endifendfunctionfunction xz takes nothing returns nothinglocal location my=Location(0,0)set jE=jE+0.1if jE>=60 thenset zV[2]=R2S(jE-I2R(R2I(jE/ 60))*60)if S2R(zV[2])==60 thenset zV[2]="0.0"elseset zV[2]=SubString(" "+zV[2],1,StringLength(zV[2])-1)endifset zV[1]=" "+R2S(jE/ 60)set zV[1]=SubString(zV[1],1,StringLength(zV[1])-4)+"分"+zV[2]+"秒"elseset zV[1]=" "+R2S(jE)set zV[1]=SubString(zV[1],1,StringLength(zV[1])-2)+"秒"endifcall DisplayTextToPlayer(vE,0,0,"|cffFFFF00基准值：|r"+I2S(eE)+"|cffFFFF00——当前值：|r"+I2S(GetHandleId(my))+"|cffFFFF00——差值：|r"+I2S(GetHandleId(my)-eE)+"|cffFFFF00——开启时间：|r"+zV[1])call RemoveLocation(my)set my=nullendfunctionfunction oz takes nothing returns nothinglocal group fy=CreateGroup()local unit Fycall GroupEnumUnitsSelected(fy,GetTriggerPlayer(),null)if FirstOfGroup(fy)!=null thenloopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)call SetUnitState(Fy,UNIT_STATE_LIFE,GetUnitState(Fy,UNIT_STATE_MAX_LIFE))call SetUnitState(Fy,UNIT_STATE_MANA,GetUnitState(Fy,UNIT_STATE_MAX_MANA))call UnitResetCooldown(Fy)endloopcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000恢复了所有玩家选择单位的|cffFFFF00生命/魔法/冷却|r")elsecall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffFF0000没有|cffFFFF00选中|cffFF0000任何单位|r")endifcall DestroyGroup(fy)set fy=nullendfunctionfunction rz takes nothing returns nothinglocal timer az=GetExpiredTimer()local unit Fyloopset Fy=FirstOfGroup(ME[0])exitwhen Fy==nullcall GroupRemoveUnit(ME[0],Fy)call SetUnitState(Fy,UNIT_STATE_MANA,GetUnitState(Fy,UNIT_STATE_MAX_MANA))call UnitResetCooldown(Fy)endloopcall DestroyTimer(az)set az=nullset Fy=nullendfunctionfunction Ez takes nothing returns nothinglocal timer azif IsUnitInGroup(GetTriggerUnit(),ME[1])thenset az=CreateTimer()call GroupAddUnit(ME[0],GetTriggerUnit())call TimerStart(az,0,false,function rz)set az=nullendifendfunctionfunction Xz takes nothing returns nothinglocal location myif fE thenset zV[3]=GetPlayerName(GetTriggerPlayer())+"（玩家"+I2S(GetPlayerId(GetTriggerPlayer())+1)+"）"elseset zV[3]=""endifif GetSpellTargetUnit()==null thenif GetSpellTargetDestructable()==null thenif GetSpellTargetItem()==null thenset my=GetSpellTargetLoc()if my==null thencall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF8000施放了|cffFFFF00"+GetObjectName(GetSpellAbilityId())+"|cffFF0000"+yW(GetSpellAbilityId())+"|r")elsecall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF8000施放了|cffFFFF00"+GetObjectName(GetSpellAbilityId())+"|cffFF0000"+yW(GetSpellAbilityId())+"|cff00FFFF目标点为|cffFFFF00（"+R2S(GetLocationX(my))+","+R2S(GetLocationY(my))+"）|r")endifcall RemoveLocation(my)set my=nullelseif XE thenset zV[1]="（"+R2S(GetUnitX(GetTriggerUnit()))+","+R2S(GetUnitY(GetTriggerUnit()))+"）"set zV[2]="（"+R2S(GetWidgetX(GetSpellTargetItem()))+","+R2S(GetWidgetY(GetSpellTargetItem()))+"）"elseset zV[1]=""set zV[2]=""endifcall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF8000施放了|cffFFFF00"+GetObjectName(GetSpellAbilityId())+"|cffFF0000"+yW(GetSpellAbilityId())+"|cff00FFFF目标为|cffFFFF00"+GetItemName(GetSpellTargetItem())+"|cffFF0000"+yW(GetItemTypeId(GetSpellTargetItem()))+"|cffFFFF00"+zV[2]+"|r")endifelseif XE thenset zV[1]="（"+R2S(GetUnitX(GetTriggerUnit()))+","+R2S(GetUnitY(GetTriggerUnit()))+"）"set zV[2]="（"+R2S(GetWidgetX(GetSpellTargetDestructable()))+","+R2S(GetWidgetY(GetSpellTargetDestructable()))+"）"elseset zV[1]=""set zV[2]=""endifcall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF8000施放了|cffFFFF00"+GetObjectName(GetSpellAbilityId())+"|cffFF0000"+yW(GetSpellAbilityId())+"|cff00FFFF目标为|cffFFFF00"+GetDestructableName(GetSpellTargetDestructable())+"|cffFF0000"+yW(GetDestructableTypeId(GetSpellTargetDestructable()))+"|cffFFFF00"+zV[2]+"|r")endifelseif fE thenset zV[4]=GetPlayerName(GetOwningPlayer(GetSpellTargetUnit()))+"（玩家"+I2S(GetPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+1)+"）"elseset zV[4]=""endifif XE thenset zV[1]="（"+R2S(GetUnitX(GetTriggerUnit()))+","+R2S(GetUnitY(GetTriggerUnit()))+"）"set zV[2]="（"+R2S(GetWidgetX(GetSpellTargetUnit()))+","+R2S(GetWidgetY(GetSpellTargetUnit()))+"）"elseset zV[1]=""set zV[2]=""endifcall DisplayTextToPlayer(vE,0,0,zV[3]+"|cffFFFF00"+GetUnitName(GetTriggerUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetTriggerUnit()))+"|cffFFFF00"+zV[1]+"|cffFF8000施放了|cffFFFF00"+GetObjectName(GetSpellAbilityId())+"|cffFF0000"+yW(GetSpellAbilityId())+"|cff00FFFF目标为|r"+zV[4]+"|cffFFFF00"+GetUnitName(GetSpellTargetUnit())+"|cffFF0000"+yW(GetUnitTypeId(GetSpellTargetUnit()))+"|cffFFFF00"+zV[2]+"|r")endifendfunctionfunction Oz takes nothing returns nothingif GetClickedButton()!=hE[0]and GetClickedButton()!=hE[100]thenif GetClickedButton()==hE[1]thenif XE thenset XE=falseelseset XE=trueendifelseif GetClickedButton()==hE[2]thenif AE thenset AE=falseelseset AE=trueendifelseif GetClickedButton()==hE[3]thenif fE thenset fE=falseelseset fE=trueendifelseif GetClickedButton()==hE[4]thenif dE thenset dE=falseelseset dE=trueendifelseif GetClickedButton()==hE[5]thenif gE thenset gE=falseelseset gE=trueendifendifcall by()call DialogDisplay(GetTriggerPlayer(),GE[1],true)elseif GetClickedButton()==hE[0]thencall By()call DialogDisplay(GetTriggerPlayer(),GE[0],true)endifendfunctionfunction Rz takes nothing returns nothinglocal location mylocal group fylocal integer YWlocal unit Fyif GetClickedButton()!=hE[0]and GetClickedButton()!=hE[100]thenif GetClickedButton()==hE[1]thenif IsTriggerEnabled(ZV[2])thencall DisableTrigger(ZV[2])elsecall EnableTrigger(ZV[2])endifelseif GetClickedButton()==hE[2]thenif IsTriggerEnabled(ZV[15])thencall DisableTrigger(ZV[15])elsecall EnableTrigger(ZV[15])endifelseif GetClickedButton()==hE[3]thenif IsTriggerEnabled(ZV[17])thencall DisableTrigger(ZV[17])elsecall EnableTrigger(ZV[17])endifelseif GetClickedButton()==hE[4]thenif IsTriggerEnabled(ZV[26])thencall DestroyTrigger(ZV[0])call DisableTrigger(ZV[26])set JE=0elseset ZV[0]=CreateTrigger()call TriggerAddCondition(ZV[0],Condition(function LY))call EnableTrigger(ZV[26])set fy=CreateGroup()set YW=0loopcall GroupEnumUnitsOfPlayer(fy,Player(YW),null)loopset Fy=FirstOfGroup(fy)exitwhen Fy==nullcall GroupRemoveUnit(fy,Fy)if GetUnitAbilityLevel(Fy,'Aloc')==0 thencall TriggerRegisterUnitEvent(ZV[0],Fy,EVENT_UNIT_DAMAGED)endifendloopset YW=YW+1exitwhen YW>=16endloopset JE=0call DestroyGroup(fy)set fy=nullendifelseif GetClickedButton()==hE[5]thenif IsTriggerEnabled(ZV[4])thencall DestroyGroup(ME[1])call DisableTrigger(ZV[4])elseset ME[1]=CreateGroup()call EnableTrigger(ZV[4])endifelseif GetClickedButton()==hE[6]thenif IsTriggerEnabled(ZV[7])thencall DisableTrigger(ZV[7])elsecall EnableTrigger(ZV[7])set eE=0set jE=0set my=Location(0,0)set eE=GetHandleId(my)call EnableTrigger(ZV[7])call RemoveLocation(my)set my=nullendifelseif GetClickedButton()==hE[7]thenif IsTriggerEnabled(ZV[61])thencall DisableTrigger(ZV[61])elsecall EnableTrigger(ZV[61])endifelseif GetClickedButton()==hE[8]thenif IsTriggerEnabled(ZV[71])thencall DestroyGroup(PE)call DisableTrigger(ZV[71])elseset PE=CreateGroup()call EnableTrigger(ZV[71])endifendifcall By()call DialogDisplay(GetTriggerPlayer(),GE[0],true)elseif GetClickedButton()==hE[0]thencall by()call DialogDisplay(GetTriggerPlayer(),GE[1],true)endifendfunctionfunction Iz takes nothing returns nothingcall By()call DialogDisplay(GetTriggerPlayer(),GE[0],true)endfunctionfunction Az takes nothing returns nothinglocal integer YWlocal integer Nz=2769set zV[1]="2013/11/04"if YX[1+GetPlayerId(GetTriggerPlayer())]>1 thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,30,"|cff00FF00===============*****===============|r")call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,30,"|cffFF8000         开始初始化|cff00FFFFnajitest|cffFF8000测试代码|r")call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,30,"|cffFF80C0                代码版本：|cffFF0000V2.4|r")call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,30,"|cff00FF00              更新日期：|cffFF0000"+zV[1]+"|r")call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,30,"|cffFFFF00       需要查看所有可用代码请按下|cffFF0000F9|r")call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,30,"|cffFFFF00     任意玩家输入|cffFF0000'remove|cffFFFF00可清除该系统|r")call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,30,"|cff00FF00===============*****===============|r")set vE=GetTriggerPlayer()set YV=".................................!.#$%&'()*+,-./0123456789:;<=>.@ABCDEFGHIJKLMNOPQRSTUVWXYZ[.]^_`abcdefghijklmnopqrstuvwxyz{|}~................................................................................................................................"set mE=CreateRegion()call RegionAddRect(mE,GetWorldBounds())set oE=0loopset oE=oE+1set ZV[oE]=CreateTrigger()exitwhen oE>=77endloopset rE=0loopset rE=rE+1set qE[rE]=CreateQuest()call QuestSetIconPath(qE[rE],"Buildings\\Other\\TempArtB\\BTNTempB.blp")call QuestSetRequired(qE[rE],false)call QuestSetDiscovered(qE[rE],true)call QuestSetCompleted(qE[rE],false)exitwhen rE>=13endloopset YW=61call QuestSetTitle(qE[1],"|cffFF0000najitest帮助信息")call QuestSetDescription(qE[1],"|cff00FFFF注意：|r|n|cff00FFFF1、|cffFF0000*|cffFFFF00代表需要输入|cffFF80C0数字/文字，且其数量代表要输入多少个参数，参数之间用英文逗号隔开。多参数命令的第1参数必需输入，其它参数若空缺则系统会自动填补|r|n|cff00FFFF2、|cffFF0000(s)|cffFFFF00代表该代码功能可以同时作用|cffFF80C0玩家选择的所有单位|r|n|cff00FFFF3、|cffFFFF00很多功能都可以通过|cffFF80C0反复输入代码|cffFFFF00来切换|cffFF0000开/关|r|n|cff00FFFF4、|cffFFFF00为保持稳定，判定|cffFF80C0玩家选择单位|cffFFFF00没有同步系统数据，请确保在使用相关代码前|cffFF0000重新框选|cffFFFF00合适的单位|r|n|cff00FFFF5、|cffFFFF00大部分功能支持|cffFF0000负数|cffFFFF00，不支持负数的功能输入负值会|cffFF80C0还原默认设定|r|n|cff00FFFF6、|cffFFFF00使用者可以在任何时候|cffFF0000按下Esc|cffFFFF00重新获得用户控制权及关闭电影模式|r")call QuestSetTitle(qE[2],"|cffFF0000独立系统")call QuestSetDescription(qE[2],"|cffFFFF00'feini|cffFF0000(|rnajitest system|cffFF0000)|r|cffFFFF00'gms|cffFF0000(|r(Group Multiple Spell)|cffFF0000)|r|cffFFFF00'gcd|cffFF0000(|r(Group Cool Down)|cffFF0000)|r|n|n|cff00FFFF该系统包含众多测试功能，输入后会打开一个对话框")call QuestSetTitle(qE[3],"|cffFF0000单位-英雄（必须选择英雄）")call QuestSetDescription(qE[3],"|cffFFFF00'hl*|cffFF0000(|rset Hero(s) Level|cffFF0000)|r|cffFFFF00'hp*|cffFF0000(|radd Hero(s) skill Point|cffFF0000)|r|cffFFFF00'hs*|cffFF0000(|rset Hero(s) Str|cffFF0000)|r|cffFFFF00'ha*|cffFF0000(|rset Hero(s) Agi|cffFF0000)|r|cffFFFF00'hi*|cffFF0000(|rset Hero(s) Int|cffFF0000)|r")call QuestSetTitle(qE[4],"|cffFF0000单位-数值（必须选择单位）")call QuestSetDescription(qE[4],"|cffFFFF00'uts*|cffFF0000(|rUnit(s) Time Scale|cffFF0000)|r|cffFFFF00'uic**|cffFF0000(|rset Unit's Item Charge|cffFF0000)|r|cffFFFF00'um*|cffFF0000(|rset Unit(s) Move speed|cffFF0000)|r|cffFFFF00'uus*|cffFF0000(|rset Unit(s) tUrn Speed|cffFF0000)|r|cffFFFF00'uar*|cffFF0000(|rset Unit(s) Acquire Range|cffFF0000)|r|cffFFFF00'ufh*|cffFF0000(|rset Unit(s) Fly Height|cffFF0000)|r|cffFFFF00'ud*|cffFF0000(|rset Unit(s) user Data|cffFF0000)|r|cffFFFF00'us*|cffFF0000(|rset Unit(s) Scale|cffFF0000)|r|cffFFFF00'uvc****|cffFF0000(|rset Unit(s) Vertax Color|cffFF0000)|r|cffFFFF00'uxy**|cffFF0000(|rset Unit(s) XY|cffFF0000)|r")call QuestSetTitle(qE[5],"|cffFF0000单位-状态（必须选择单位）")call QuestSetDescription(qE[5],"|cffFFFF00'uh|cffFF0000(|rUnit(s) Healing|cffFF0000)|r|cffFFFF00'up|cffFF0000(|rUnit(s) Pause|cffFF0000)|r|cffFFFF00'ub|cffFF0000(|rUnit(s) Buff clear|cffFF0000)|r|cffFFFF00'uw|cffFF0000(|rUnit(s) Windwalk|cffFF0000)|r")call QuestSetTitle(qE[6],"|cffFF0000单位-特殊（必须选择单位）")call QuestSetDescription(qE[6],"|cffFFFF00'ua*|cffFF0000(|rplay Unit(s) Animation by index|cffFF0000)|r|cffFFFF00'ui|cffFF0000(|rUnit Information|cffFF0000)|r|cffFFFF00'uo*|cffFF0000(|rset Unit(s) Owner|cffFF0000)|r|cffFFFF00'uk|cffFF0000(|rUnit(s) Killed|cffFF0000)|r|cffFFFF00'co**|cffFF0000(|rCreate Object|cffFF0000)|r|cffFFFF00'ul|cffFF0000(|rUnit camera Lock|cffFF0000)|r|cffFFFF00'ur|cffFF0000(|rUnit(s) Remove|cffFF0000)|r|cffFFFF00'uii*|cffFF0000(|rUnit's Item Information|cffFF0000)|r")call QuestSetTitle(qE[7],"|cffFF0000玩家相关")call QuestSetDescription(qE[7],"|cffFFFF00'ag**/al**|cffFF0000(|rAdd Gold/Lumber|cffFF0000)|r|cffFFFF00'pc**|cffFF0000(|rPlayer Control|cffFF0000)|r|cffFFFF00'pa**|cffFF0000(|rset Player Alliance|cffFF0000)|r|cffFFFF00'pk*|cffFF0000(|rPlayer Kicked|cffFF0000)|r|cffFFFF00'ph**|cffFF0000(|rset Player Handicap|cffFF0000)|r|cffFFFF00'pn*|cffFF0000(|rPlayer Name|cffFF0000)|r|cffFFFF00'pt***|cffFF0000(|rPlayer Tech|cffFF0000)|r|cffFFFF00'psl|cffFF0000(|rPlayer Statistics List|cffFF0000)|r")call QuestSetTitle(qE[8],"|cffFF0000镜头相关")call QuestSetDescription(qE[8],"|cffFFFF00'cm|cffFF0000(|rCamera Mode|cffFF0000)|r|cffFFFF00'cd*|cffFF0000(|rCamera Distance|cffFF0000)|r|cffFFFF00'cr|cffFF0000(|rCamera Reset|cffFF0000)|r|cffFFFF00'ci|cffFF0000(|rCamera Information|cffFF0000)|r|cffFFFF00'cz*|cffFF0000(|rset Camera farZ|cffFF0000)|r")call QuestSetTitle(qE[9],"|cffFF0000其它")call QuestSetDescription(qE[9],"|cffFFFF00'fog|cffFF0000(|rFog|cffFF0000)|r|cffFFFF00'sc|cffFF0000(|rScreen Clear|cffFF0000)|r|cffFFFF00'rd|cffFF0000(|rRoll Dice|cffFF0000)|r|cffFFFF00'bm*|cffFF0000(|rBackup Message|cffFF0000)|r|cffFFFF00'cbm|cffFF0000(|rClear Backup Message|cffFF0000)|r|cffFFFF00'td*|cffFF0000(|rset Time of Day|cffFF0000)|r|cffFFFF00'ts*|cffFF0000(|rset Time of day Scale|cffFF0000)|r|cffFFFF00'we*|cffFF0000(|rWeather Effect|cffFF0000)|r|cffFFFF00'se*|cffFF0000(|rSystem Exchange|cffFF0000)|r|cffFFFF00'ef*|cffFF0000(|rExecute Function|cffFF0000)|r")call QuestSetTitle(qE[10],"|cffFF0000游戏设置")call QuestSetDescription(qE[10],"|cffFFFF00'mv*|cffFF0000(|rMusic Volume|cffFF0000)|r|cffFFFF00'sv*|cffFF0000(|rSound Volume|cffFF0000)|r|cffFFFF00'pg|cffFF0000(|rPause Game|cffFF0000)|r|cffFFFF00'rs*|cffFF0000(|rset Random Seed|cffFF0000)|r|cffFFFF00'gg|cffFF0000(|rGood Game|cffFF0000)|r|cffFFFF00'gs*|cffFF0000(|rset Game Speed|cffFF0000)|r|cffFFFF00'mf|cffFF0000(|rset Map Flag|cffFF0000)|r|cffFFFF00're|cffFF0000(|rRestart|cffFF0000)|r")call QuestSetTitle(qE[11],"|cffFF0000co命令帮助信息")call QuestSetDescription(qE[11],"|cffFF0000co命令可以创建单位、物品、可破坏物、添加删除技能、设置技能等级、删除buff。输入格式为'co+id+,+数值，数值对应创建物体的数量或技能等级，当没有输入数值时，默认为1。当单位已经拥有该技能，带有数值的'co命令会改变等级，不带数值的则会删除技能。|n|n|cffFFFF00Amov|cffFF0000(|r移动|cffFF0000)|r|cffFFFF00Abun|cffFF0000(|r货物保持|cffFF0000)|r|cffFFFF00Avul|cffFF0000(|r无敌|cffFF0000)|r|cffFFFF00AInv|cffFF0000(|r英雄物品栏|cffFF0000)|r|cffFFFF00ARal|cffFF0000(|r集结|cffFF0000)|r|cffFFFF00Arng|cffFF0000(|r复仇|cffFF0000)|r|cffFFFF00Awan|cffFF0000(|r游荡者|cffFF0000)|r|cffFFFF00Ane2|cffFF0000(|r选择单位|cffFF0000)|r|cffFFFF00Apiv|cffFF0000(|r永久隐形|cffFF0000)|r|cffFFFF00Adtg|cffFF0000(|r真实视域|cffFF0000)|r|cffFFFF00Aeth|cffFF0000(|r可见幽灵|cffFF0000)|r|cffFFFF00Arsk|cffFF0000(|r抗性皮肤|cffFF0000)|r|cffFFFF00Acmi|cffFF0000(|r魔法免疫|cffFF0000)|r")call QuestSetTitle(qE[12],"|cffFF0000we命令帮助信息")call QuestSetDescription(qE[12],"|cffFF0000注意乱输4位ID会游戏崩溃！输入的ID未满4位时会清除所有已创建的全图天气。|r|n|n|cffFFFF00RA(h/l)r|cffFF0000(|r白杨谷(大/小)雨|cffFF0000)|r|cffFFFF00MEds|cffFF0000(|r达拉然之盾|cffFF0000)|r|cffFFFF00FD(b/g/r/w)(h/l)|cffFF0000(|r地下城(蓝/绿/红/白)(浓/薄)雾|cffFF0000)|r|cffFFFF00RL(h/l)r|cffFF0000(|r洛丹伦(大/小)雨|cffFF0000)|r|cffFFFF00SN(b/h/l)s|cffFF0000(|r诺森德(暴/大/小)雪|cffFF0000)|r|cffFFFF00WO(c/l)w|cffFF0000(|r边缘之地(大/小)风|cffFF0000)|r|cffFFFF00Lr(a/m)a|cffFF0000(|r(日/月)光|cffFF0000)|r|cffFFFF00WNcw|cffFF0000(|r大风|cffFF0000)|r")call QuestSetTitle(qE[13],"|cffFF0000najitest基本信息")call QuestSetDescription(qE[13],"|cffFFFF00脚本作者：|cffFF0000najizhimo|r|n|cffFFFF00当前使用者：|cffFF0000"+GetPlayerName(vE)+"|r|n|cffFFFF00更新日期：|cffFF0000"+zV[1]+"|n|cffFFFF00可用代码数量：|cffFF0000"+I2S(YW)+"|r|n|cffFFFF00注册触发数量：|cffFF0000"+I2S(oE)+"|r|n|cffFFFF00创建任务数量：|cffFF0000"+I2S(rE)+"|r|n|cffFFFF00脚本行数：|cffFF0000"+I2S(Nz)+"|n|cffFFFF00对此系统有任何提议请到|cffFF80C0百度魔兽地图编辑器贴吧|cffFFFF00发贴|r|n|cffFFFF00任意玩家输入|cffFF0000'remove|cffFFFF00可清除该系统|r")call FlashQuestDialogButton()set GE[0]=DialogCreate()call TriggerRegisterPlayerChatEvent(ZV[1],GetTriggerPlayer(),"'feini",true)call TriggerAddCondition(ZV[1],Condition(function Iz))call TriggerRegisterDialogEvent(ZV[3],GE[0])call TriggerAddCondition(ZV[3],Condition(function Rz))set YW=0loopcall TriggerRegisterPlayerUnitEvent(ZV[2],Player(YW),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[2],Condition(function Xz))call DisableTrigger(ZV[2])set YW=0loopcall TriggerRegisterPlayerUnitEvent(ZV[15],Player(YW),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)call TriggerRegisterPlayerUnitEvent(ZV[15],Player(YW),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)call TriggerRegisterPlayerUnitEvent(ZV[15],Player(YW),EVENT_PLAYER_UNIT_ISSUED_ORDER,null)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[15],Condition(function UY))call DisableTrigger(ZV[15])call TriggerRegisterEnterRegion(ZV[17],mE,null)set YW=0loopcall TriggerRegisterPlayerUnitEvent(ZV[17],Player(YW),EVENT_PLAYER_UNIT_DEATH,null)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[17],Condition(function TY))call DisableTrigger(ZV[17])call TriggerRegisterEnterRegion(ZV[26],mE,null)call TriggerAddCondition(ZV[26],Condition(function mY))call DisableTrigger(ZV[26])set YW=0loopcall TriggerRegisterPlayerUnitEvent(ZV[4],Player(YW),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[4],Condition(function Ez))call DisableTrigger(ZV[4])set ME[0]=CreateGroup()set ME[1]=nullcall TriggerRegisterTimerEvent(ZV[7],0.1,true)call TriggerAddCondition(ZV[7],Condition(function xz))call DisableTrigger(ZV[7])set YW=0loopcall TriggerRegisterPlayerChatEvent(ZV[61],Player(YW),"",false)set YW=YW+1exitwhen YW>=16endloopcall DisableTrigger(ZV[61])call TriggerAddCondition(ZV[61],Condition(function Uy))set YW=0loopcall TriggerRegisterPlayerUnitEvent(ZV[71],Player(YW),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[71],Condition(function ly))call DisableTrigger(ZV[71])set PE=nullset GE[1]=DialogCreate()call TriggerRegisterDialogEvent(ZV[6],GE[1])call TriggerAddCondition(ZV[6],Condition(function Oz))set XE=trueset AE=trueset fE=falseset dE=trueset gE=falsecall TriggerRegisterPlayerChatEvent(ZV[5],GetTriggerPlayer(),"'uh",true)call TriggerAddCondition(ZV[5],Condition(function oz))call TriggerRegisterPlayerChatEvent(ZV[8],GetTriggerPlayer(),"'ag",false)call TriggerAddCondition(ZV[8],Condition(function ez))call TriggerRegisterPlayerChatEvent(ZV[9],GetTriggerPlayer(),"'al",false)call TriggerAddCondition(ZV[9],Condition(function ZY))call TriggerRegisterPlayerChatEvent(ZV[10],GetTriggerPlayer(),"'hl",false)call TriggerAddCondition(ZV[10],Condition(function zY))call TriggerRegisterPlayerChatEvent(ZV[11],GetTriggerPlayer(),"'fog",true)call TriggerAddCondition(ZV[11],Condition(function YY))if IsMapFlagSet(MAP_FOG_ALWAYS_VISIBLE)thenset aE=falseelseset aE=trueendifcall TriggerRegisterPlayerChatEvent(ZV[12],GetTriggerPlayer(),"'ua",false)call TriggerAddCondition(ZV[12],Condition(function yY))set YW=0loopcall TriggerRegisterPlayerChatEvent(ZV[13],Player(YW),"'cd",false)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[13],Condition(function WY))call TriggerRegisterPlayerChatEvent(ZV[14],GetTriggerPlayer(),"'ur",true)call TriggerAddCondition(ZV[14],Condition(function wY))set YW=0loopcall TriggerRegisterPlayerChatEvent(ZV[16],Player(YW),"'pn",false)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[16],Condition(function uY))set YW=0loopcall TriggerRegisterPlayerChatEvent(ZV[18],Player(YW),"'sc",true)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[18],Condition(function tY))set YW=0loopcall TriggerRegisterPlayerChatEvent(ZV[19],Player(YW),"'cr",true)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[19],Condition(function SY))set YW=0loopcall TriggerRegisterPlayerChatEvent(ZV[20],Player(YW),"'ui",true)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[20],Condition(function sY))call TriggerRegisterPlayerChatEvent(ZV[21],GetTriggerPlayer(),"'pc",false)call TriggerAddCondition(ZV[21],Condition(function QY))call TriggerRegisterPlayerChatEvent(ZV[22],GetTriggerPlayer(),"'uvc",false)call TriggerAddCondition(ZV[22],Condition(function qY))call TriggerRegisterPlayerChatEvent(ZV[23],GetTriggerPlayer(),"'uts",false)call TriggerAddCondition(ZV[23],Condition(function PY))call TriggerRegisterPlayerChatEvent(ZV[24],GetTriggerPlayer(),"'pg",true)call TriggerAddCondition(ZV[24],Condition(function pY))set nE=falsecall TriggerRegisterPlayerChatEvent(ZV[25],GetTriggerPlayer(),"'psl",true)call TriggerAddCondition(ZV[25],Condition(function MY))call TriggerRegisterPlayerChatEvent(ZV[27],GetTriggerPlayer(),"'up",true)call TriggerAddCondition(ZV[27],Condition(function lY))call TriggerRegisterPlayerChatEvent(ZV[28],GetTriggerPlayer(),"'mv",false)call TriggerAddCondition(ZV[28],Condition(function KY))call TriggerRegisterPlayerChatEvent(ZV[29],GetTriggerPlayer(),"'rd",true)call TriggerAddCondition(ZV[29],Condition(function kY))call TriggerRegisterPlayerChatEvent(ZV[30],GetTriggerPlayer(),"'sv",false)call TriggerAddCondition(ZV[30],Condition(function JY))set YW=0loopcall TriggerRegisterPlayerChatEvent(ZV[31],Player(YW),"'bm",false)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[31],Condition(function jY))set xE=0call TriggerRegisterPlayerChatEvent(ZV[32],GetTriggerPlayer(),"'cbm",true)call TriggerAddCondition(ZV[32],Condition(function HY))call TriggerRegisterPlayerChatEvent(ZV[33],GetTriggerPlayer(),"'uic",false)call TriggerAddCondition(ZV[33],Condition(function hY))call TriggerRegisterPlayerChatEvent(ZV[34],GetTriggerPlayer(),"'rs",false)call TriggerAddCondition(ZV[34],Condition(function GY))call TriggerRegisterPlayerChatEvent(ZV[35],GetTriggerPlayer(),"'td",false)call TriggerAddCondition(ZV[35],Condition(function gY))call TriggerRegisterPlayerChatEvent(ZV[36],GetTriggerPlayer(),"'um",false)call TriggerAddCondition(ZV[36],Condition(function FY))call TriggerRegisterPlayerChatEvent(ZV[37],GetTriggerPlayer(),"'uus",false)call TriggerAddCondition(ZV[37],Condition(function fY))call TriggerRegisterPlayerChatEvent(ZV[38],GetTriggerPlayer(),"'uar",false)call TriggerAddCondition(ZV[38],Condition(function DY))call TriggerRegisterPlayerChatEvent(ZV[39],GetTriggerPlayer(),"'ufh",false)call TriggerAddCondition(ZV[39],Condition(function dY))call TriggerRegisterPlayerChatEvent(ZV[40],GetTriggerPlayer(),"'hp",false)call TriggerAddCondition(ZV[40],Condition(function CY))call TriggerRegisterPlayerChatEvent(ZV[41],GetTriggerPlayer(),"'hs",false)call TriggerAddCondition(ZV[41],Condition(function cY))call TriggerRegisterPlayerChatEvent(ZV[42],GetTriggerPlayer(),"'ha",false)call TriggerAddCondition(ZV[42],Condition(function BY))call TriggerRegisterPlayerChatEvent(ZV[43],GetTriggerPlayer(),"'hi",false)call TriggerAddCondition(ZV[43],Condition(function bY))call TriggerRegisterPlayerChatEvent(ZV[44],GetTriggerPlayer(),"'ud",false)call TriggerAddCondition(ZV[44],Condition(function NY))call TriggerRegisterPlayerChatEvent(ZV[45],GetTriggerPlayer(),"'ts",false)call TriggerAddCondition(ZV[45],Condition(function AY))call TriggerRegisterPlayerChatEvent(ZV[46],GetTriggerPlayer(),"'ph",false)call TriggerAddCondition(ZV[46],Condition(function IY))call TriggerRegisterPlayerChatEvent(ZV[47],GetTriggerPlayer(),"'uk",true)call TriggerAddCondition(ZV[47],Condition(function RY))set YW=0loopcall TriggerRegisterPlayerChatEvent(ZV[48],Player(YW),"'remove",true)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[48],Condition(function OY))call TriggerRegisterPlayerChatEvent(ZV[49],GetTriggerPlayer(),"'pa",false)call TriggerAddCondition(ZV[49],Condition(function XY))call TriggerRegisterPlayerChatEvent(ZV[50],GetTriggerPlayer(),"'uo",false)call TriggerAddCondition(ZV[50],Condition(function EY))call TriggerRegisterPlayerChatEvent(ZV[51],GetTriggerPlayer(),"'cz",false)call TriggerAddCondition(ZV[51],Condition(function VY))set pE=CreateGroup()call TriggerRegisterPlayerChatEvent(ZV[52],GetTriggerPlayer(),"'uw",true)call TriggerAddCondition(ZV[52],Condition(function nY))call TriggerRegisterPlayerChatEvent(ZV[53],GetTriggerPlayer(),"'co",false)call TriggerAddCondition(ZV[53],Condition(function aY))call TriggerRegisterPlayerChatEvent(ZV[54],GetTriggerPlayer(),"'pk",false)call TriggerAddCondition(ZV[54],Condition(function iY))call TriggerRegisterPlayerChatEvent(ZV[55],GetTriggerPlayer(),"'ub",true)call TriggerAddCondition(ZV[55],Condition(function oY))call TriggerRegisterPlayerChatEvent(ZV[56],GetTriggerPlayer(),"'ul",true)call TriggerAddCondition(ZV[56],Condition(function xY))set sE=nullset DE[0]=falseset DE[1]=falseset DE[2]=falseset DE[3]=falseset DE[4]=falsecall TriggerRegisterPlayerChatEvent(ZV[57],GetTriggerPlayer(),"'cm",true)call TriggerAddCondition(ZV[57],Condition(function eY))call DisableTrigger(ZV[58])call TriggerRegisterPlayerEvent(ZV[58],GetTriggerPlayer(),EVENT_PLAYER_ARROW_UP_DOWN)call TriggerRegisterPlayerEvent(ZV[58],GetTriggerPlayer(),EVENT_PLAYER_ARROW_DOWN_DOWN)call TriggerRegisterPlayerEvent(ZV[58],GetTriggerPlayer(),EVENT_PLAYER_ARROW_LEFT_DOWN)call TriggerRegisterPlayerEvent(ZV[58],GetTriggerPlayer(),EVENT_PLAYER_ARROW_RIGHT_DOWN)call TriggerAddCondition(ZV[58],Condition(function vY))call DisableTrigger(ZV[59])call TriggerRegisterPlayerEvent(ZV[59],GetTriggerPlayer(),EVENT_PLAYER_ARROW_UP_UP)call TriggerRegisterPlayerEvent(ZV[59],GetTriggerPlayer(),EVENT_PLAYER_ARROW_DOWN_UP)call TriggerRegisterPlayerEvent(ZV[59],GetTriggerPlayer(),EVENT_PLAYER_ARROW_LEFT_UP)call TriggerRegisterPlayerEvent(ZV[59],GetTriggerPlayer(),EVENT_PLAYER_ARROW_RIGHT_UP)call TriggerAddCondition(ZV[59],Condition(function zy))set YW=0loopcall TriggerRegisterPlayerChatEvent(ZV[60],Player(YW),"'ci",true)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[60],Condition(function Wy))call TriggerRegisterPlayerChatEvent(ZV[62],GetTriggerPlayer(),"'us",false)call TriggerAddCondition(ZV[62],Condition(function uy))call TriggerRegisterPlayerChatEvent(ZV[63],GetTriggerPlayer(),"'gg",true)call TriggerAddCondition(ZV[63],Condition(function Ty))call TriggerRegisterPlayerChatEvent(ZV[64],GetTriggerPlayer(),"'gs",false)call TriggerAddCondition(ZV[64],Condition(function ty))set GE[2]=DialogCreate()call TriggerRegisterPlayerChatEvent(ZV[65],GetTriggerPlayer(),"'mf",true)call TriggerAddCondition(ZV[65],Condition(function Sy))call TriggerRegisterDialogEvent(ZV[66],GE[2])call TriggerAddCondition(ZV[66],Condition(function sy))call TriggerRegisterPlayerEvent(ZV[67],GetTriggerPlayer(),EVENT_PLAYER_END_CINEMATIC)call TriggerAddCondition(ZV[67],Condition(function Qy))set iE=0set uE[0]=nullcall TriggerRegisterPlayerChatEvent(ZV[68],GetTriggerPlayer(),"'we",false)call TriggerAddCondition(ZV[68],Condition(function qy))call TriggerRegisterPlayerChatEvent(ZV[69],GetTriggerPlayer(),"'pt",false)call TriggerAddCondition(ZV[69],Condition(function py))call TriggerRegisterPlayerChatEvent(ZV[70],GetTriggerPlayer(),"'re",true)call TriggerAddCondition(ZV[70],Condition(function My))call TriggerRegisterPlayerChatEvent(ZV[72],GetTriggerPlayer(),"'gms",true)call TriggerAddCondition(ZV[72],Condition(function Ky))call TriggerRegisterPlayerChatEvent(ZV[73],GetTriggerPlayer(),"'gcd",true)call TriggerAddCondition(ZV[73],Condition(function Jy))set YW=0loopcall TriggerRegisterPlayerChatEvent(ZV[74],Player(YW),"'uii",false)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(ZV[74],Condition(function Hy))call TriggerRegisterPlayerChatEvent(ZV[75],GetTriggerPlayer(),"'uxy",false)call TriggerAddCondition(ZV[75],Condition(function Dy))call TriggerRegisterPlayerChatEvent(ZV[76],GetTriggerPlayer(),"'se",false)call TriggerAddCondition(ZV[76],Condition(function Cy))call TriggerRegisterPlayerChatEvent(ZV[77],GetTriggerPlayer(),"'ef",false)call TriggerAddCondition(ZV[77],Condition(function cy))call DestroyTrigger(GetTriggeringTrigger())endifendfunctionfunction bz takes nothing returns nothinglocal trigger az=CreateTrigger()local integer YW=0loopcall TriggerRegisterPlayerChatEvent(az,Player(YW),"'feini",true)set YW=YW+1exitwhen YW>=16endloopcall TriggerAddCondition(az,Condition(function Az))set az=nullendfunctionfunction Bz takes nothing returns nothinglocal string s=GetEventPlayerChatString()local item it=nulllocal player p=GetTriggerPlayer()local integer i=GetPlayerId(p)+1local integer j=0local location vJ=nulllocal real array cWif s=="+" thencall SetCameraFieldForPlayer(p,CAMERA_FIELD_TARGET_DISTANCE,(GetCameraField(CAMERA_FIELD_TARGET_DISTANCE)+200.00),1.00)endifif s=="-" thencall SetCameraFieldForPlayer(p,CAMERA_FIELD_TARGET_DISTANCE,(GetCameraField(CAMERA_FIELD_TARGET_DISTANCE)-200.00),1.00)endifif s=="hg" thencall SetUnitPosition(ER[i],-1174,-678)call PanCameraToTimedForPlayer(GetTriggerPlayer(),-1174,-678,0)endifif s=="q" thencall SetUnitPosition(ER[i],-869,796)call PanCameraToTimedForPlayer(GetTriggerPlayer(),-869,796,0)endifif s=="3" thencall SetUnitPosition(ER[i],-869,-2000)call PanCameraToTimedForPlayer(GetTriggerPlayer(),-869,-2000,0)endifif s=="4" thencall SetUnitPosition(ER[i],10692,-14847)call PanCameraToTimedForPlayer(GetTriggerPlayer(),10692,-14847,0)endifif SubStringBJ(s,1,2)=="wq" thenif sw(ER[i],'I0BH')==false thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000当前未装备自制武器")elseset it=UU(ER[i],'I0BH')call SaveStr(Jv,GetHandleId(it),StringHash("武器名称"),SubStringBJ(s,3,40))call DisplayTextToPlayer(p,0,0,"|cFFFF0000自制武器已更名为"+SubStringBJ(s,3,40))endifendifif SubStringBJ(s,1,2)=="tx" thenif S2I(SubStringBJ(s,3,4))>=1 and S2I(SubStringBJ(s,3,4))<=10 thenset eC[Nb[i]]=S2I(SubStringBJ(s,3,4))call DisplayTextToPlayer(p,0,0,"|cFFFF0000自创武功已更改为第"+SubStringBJ(s,3,40)+"种特效")endifendifif SubStringBJ(s,1,2)=="wg" thenif GetUnitAbilityLevel(ER[i],'A036')==0 thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000当前无自创武功")elseset iC[Nb[i]]=SubStringBJ(s,3,40)call DisplayTextToPlayer(p,0,0,"|cFFFF0000自创武功已更名为"+SubStringBJ(s,3,40))endifendifif s=="ckwg" thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000剩余自创武功点："+I2S(Bb[i]))if GetUnitAbilityLevel(ER[i],'A036')==0 thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000当前无自创武功")elsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000武功："+iC[Nb[i]])call DisplayTextToPlayer(p,0,0,"|cFFFF0000伤害范围："+I2S(R2I(400.+100.*I2R(Zc[Nb[i]]))))call DisplayTextToPlayer(p,0,0,"|cFFFF0000伤害系数："+R2S(1.+0.5*I2R(yc[Nb[i]])))set j=1loopexitwhen j>oC[Nb[i]]call DisplayTextToPlayer(p,0,0,YF(cb[20*i+j]))set j=j+1endloopendifendifif s=="ckwq" thenif sw(ER[i],'I0BH')==false thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000当前未装备自制武器")elseset it=UU(ER[i],'I0BH')if LoadStr(Jv,GetHandleId(it),StringHash("武器名称"))=="" thencall DisplayTextToPlayer(p,0,0,"|cFF00FF00武器名称：尚未输入")elsecall DisplayTextToPlayer(p,0,0,"|cFF00FF00武器名称："+LoadStr(Jv,GetHandleId(it),StringHash("武器名称")))endifcall DisplayTextToPlayer(p,0,0,"|cFFFF6600升级概率："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("升级概率"))))+"%")call DisplayTextToPlayer(p,0,0,"|cFFE500AF招式伤害："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("招式伤害"))))+" 内力："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("内力"))))+" 真实伤害："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("真实伤害")))))call DisplayTextToPlayer(p,0,0,"|cFFFF0033暴击伤害："+I2S(R2I(100*LoadReal(Jv,GetHandleId(it),StringHash("暴击伤害"))))+"% 暴击率："+I2S(R2I(100*LoadReal(Jv,GetHandleId(it),StringHash("暴击率"))))+"% 绝学领悟："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("绝学领悟")))))call DisplayTextToPlayer(p,0,0,"|cFFFFFF33根骨："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("根骨"))))+" 胆魄："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("胆魄"))))+" 悟性："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("悟性")))))call DisplayTextToPlayer(p,0,0,"|cFFFFFF33医术："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("医术"))))+" 经脉："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("经脉"))))+" 福缘："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("福缘")))))call DisplayTextToPlayer(p,0,0,"|cFF9933FF伤害回复："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("伤害回复"))))+" 杀怪回复："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("杀怪回复"))))+" 生命回复："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("生命回复"))))+" 法力回复："+I2S(R2I(LoadReal(Jv,GetHandleId(it),StringHash("法力回复")))))endifendifif s=="ckjn" thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000人物性格：你学武资质"+EU(WX[i])+"，态度"+OU(yX[i]))call DisplayTextToPlayer(p,0,0,"|cFFcc99ff〓〓〓〓〓〓〓〓〓〓〓")set j=1loopexitwhen j>cX[i]call DisplayTextToPlayer(p,0,0,"|cFF00FFFF"+GetAbilityName(I7[(i-1)*20+j])+"第"+I2S(GetUnitAbilityLevel(ER[i],I7[(i-1)*20+j]))+"重，升级进度："+LoadStr(Jv,GetHandleId(p),I7[(i-1)*20+j]*2))set j=j+1endloopcall DisplayTextToPlayer(p,0,0,"|cFFcc99ff〓〓〓〓〓〓〓〓〓〓〓")endifif s=="ck" thenset j=1loopexitwhen j>cX[i]set cW[j]=LoadReal(Jv,1+GetPlayerId(p),I7[(i-1)*20+j]*3)if I7[(i-1)*20+j]=='A034' thenset cW[j]=LoadReal(Jv,1+GetPlayerId(p),'A035'*3)endifif cW[j]<10000. thencall DisplayTextToPlayer(p,0,0,"|cFF00FFFF"+GetAbilityName(I7[(i-1)*20+j])+"伤害："+R2S(cW[j]))elseif cW[j]<100000000. thencall DisplayTextToPlayer(p,0,0,"|cFF00FFFF"+GetAbilityName(I7[(i-1)*20+j])+"伤害："+R2S(cW[j]/ 10000.)+"万")elseif cW[j]/ 10000.<100000000. thencall DisplayTextToPlayer(p,0,0,"|cFF00FFFF"+GetAbilityName(I7[(i-1)*20+j])+"伤害："+R2S(cW[j]/ 100000000.)+"亿")elseif cW[j]/ 100000000.<100000000. thencall DisplayTextToPlayer(p,0,0,"|cFF00FFFF"+GetAbilityName(I7[(i-1)*20+j])+"伤害："+R2S(cW[j]/ 100000000./ 10000.)+"万亿")elsecall DisplayTextToPlayer(p,0,0,"|cFF00FFFF"+GetAbilityName(I7[(i-1)*20+j])+"伤害："+R2S(cW[j]/ 100000000./ 100000000.)+"亿亿")endifset j=j+1endloopendifif s=="1" and GetUnitAbilityLevel(ER[i],'A07W')>0 and IsUnitAliveBJ(ER[i])thenif RectContainsUnit(KN,ER[i])thencall DisplayTextToPlayer(p,0,0,"桃花岛不能创建飞行点")elsecall RemoveUnit(J9[i])set vJ=GetUnitLoc(ER[i])call CreateNUnitsAtLoc(1,1697656906,p,vJ,bj_UNIT_FACING)set J9[i]=bj_lastCreatedUnitcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"创建飞行点")call RemoveLocation(vJ)set vJ=nullendifendifif s=="2" and GetUnitAbilityLevel(ER[i],'A07W')>0 and IsUnitAliveBJ(ER[i])thenif J9[i]==null thencall DisplayTextToPlayer(p,0,0,"你还没有设置飞行点，请输入聊天信息“1”来设置")elseset vJ=GetUnitLoc(J9[i])call SetUnitPositionLoc(ER[i],vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)set vJ=nullendifendifif s=="11" and GetUnitAbilityLevel(ER[i],'A07W')>1 and IsUnitAliveBJ(ER[i])thenif RectContainsUnit(KN,ER[i])thencall DisplayTextToPlayer(p,0,0,"桃花岛不能创建飞行点")elsecall RemoveUnit(dA[i])set vJ=GetUnitLoc(ER[i])call CreateNUnitsAtLoc(1,1697656906,p,vJ,bj_UNIT_FACING)set dA[i]=bj_lastCreatedUnitcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"创建飞行点")call RemoveLocation(vJ)set vJ=nullendifendifif s=="22" and GetUnitAbilityLevel(ER[i],'A07W')>1 and IsUnitAliveBJ(ER[i])thenif dA[i]==null thencall DisplayTextToPlayer(p,0,0,"你还没有设置飞行点，请输入聊天信息“11”来设置")elseset vJ=GetUnitLoc(dA[i])call SetUnitPositionLoc(ER[i],vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)set vJ=nullendifendifif s=="111" and GetUnitAbilityLevel(ER[i],'A07W')>2 and IsUnitAliveBJ(ER[i])thenif RectContainsUnit(KN,ER[i])thencall DisplayTextToPlayer(p,0,0,"桃花岛不能创建飞行点")elsecall RemoveUnit(DA[i])set vJ=GetUnitLoc(ER[i])call CreateNUnitsAtLoc(1,1697656906,p,vJ,bj_UNIT_FACING)set DA[i]=bj_lastCreatedUnitcall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"创建飞行点")call RemoveLocation(vJ)set vJ=nullendifendifif s=="222" and GetUnitAbilityLevel(ER[i],'A07W')>2 and IsUnitAliveBJ(ER[i])thenif DA[i]==null thencall DisplayTextToPlayer(p,0,0,"你还没有设置飞行点，请输入聊天信息“111”来设置")elseset vJ=GetUnitLoc(DA[i])call SetUnitPositionLoc(ER[i],vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)set vJ=nullendifendifif s=="-ms" thencall DisplayTextToPlayer(p,0,0,"|cFF00FFFF您当前的移动速度为"+I2S(R2I((mH((ER[i]))))))endifif s=="-random" and kR[i]==0 and ER[i]!=null thenif GetRandomInt(1,100)<=90 thenif GetRandomInt(1,12)<=11 thenset kR[i]=GetRandomInt(1,11)elseset kR[i]=15endifelseset kR[i]=GetRandomInt(12,14)endifif kR[i]==11 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓自由门派〓|r")call SetPlayerName(p,"〓自由门派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call AdjustPlayerStateBJ(60,p,PLAYER_STATE_RESOURCE_LUMBER)set dO[i]=dO[i]+5elseif kR[i]==14 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓明教〓|r")call SetPlayerName(p,"〓明教〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set XR[i]=(XR[i]+3)set bR[i]=(bR[i]+2)set fR[i]=(fR[i]+2)elseif kR[i]==12 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓灵鹫宫〓|r")call SetPlayerName(p,"〓灵鹫宫〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set HR[i]=(HR[i]+2)set bR[i]=(bR[i]+2)set fR[i]=(fR[i]+1)elseif kR[i]==13 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓姑苏慕容〓|r")call SetPlayerName(p,"〓姑苏慕容〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set dO[i]=dO[i]+5elseif kR[i]==1 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓少林派〓|r")call SetPlayerName(p,"〓少林派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set cR[i]=(cR[i]+3)set bR[i]=(bR[i]+2)elseif kR[i]==3 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓丐帮〓|r")call SetPlayerName(p,"〓丐帮〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set HR[i]=(HR[i]+3)set bR[i]=(bR[i]+2)elseif kR[i]==4 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓华山派〓|r")call SetPlayerName(p,"〓华山派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set XR[i]=(XR[i]+3)set HR[i]=(HR[i]+2)elseif kR[i]==5 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓全真教〓|r")call SetPlayerName(p,"〓全真教〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set bR[i]=(bR[i]+3)set fR[i]=(fR[i]+2)elseif kR[i]==6 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓血刀门〓|r")call SetPlayerName(p,"〓血刀门〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set cR[i]=(cR[i]+2)set HR[i]=(HR[i]+3)elseif kR[i]==7 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓恒山派〓|r")call SetPlayerName(p,"〓恒山派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set JR[i]=(JR[i]+3)set fR[i]=(fR[i]+2)elseif kR[i]==8 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓峨眉派〓|r")call SetPlayerName(p,"〓峨眉派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set JR[i]=(JR[i]+1)set bR[i]=(bR[i]+1)set fR[i]=(fR[i]+3)elseif kR[i]==10 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓星宿派〓|r")call SetPlayerName(p,"〓星宿派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set HR[i]=(HR[i]+2)set JR[i]=(JR[i]+1)set bR[i]=(bR[i]+2)elseif kR[i]==9 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓武当派〓|r")call SetPlayerName(p,"〓武当派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set cR[i]=(cR[i]+1)set bR[i]=(bR[i]+2)set fR[i]=(fR[i]+2)elseif kR[i]==2 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓古墓派〓|r")call SetPlayerName(p,"〓古墓派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set XR[i]=(XR[i]+2)set bR[i]=(bR[i]+1)set fR[i]=(fR[i]+2)elseif kR[i]==15 thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"随机选择了〓衡山派〓|r")call SetPlayerName(p,"〓衡山派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set XR[i]=(XR[i]+3)set JR[i]=(JR[i]+2)endifcall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步，你可以在主城和传送石之间任意传送了")call UnitAddAbility(ER[i],'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(ER[i],'A040')call UnitAddAbility(ER[i],'A041')call UnitAddAbility(ER[i],'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(ER[i],'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(ER[i],Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)call AdjustPlayerStateBJ(50,p,PLAYER_STATE_RESOURCE_LUMBER)set P4[i]=bj_lastCreatedUnitcall RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,ER[i])endifif s=="www.juezhanjianghu.com" and kR[i]==0 and ER[i]!=null thenset kR[i]=12call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"选择了隐藏门派〓灵鹫宫〓|r")call SetPlayerName(p,"〓灵鹫宫〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set HR[i]=(HR[i]+2)set bR[i]=(bR[i]+2)set fR[i]=(fR[i]+1)call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步，你可以在主城和传送石之间任意传送了")call UnitAddAbility(ER[i],'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(ER[i],'A040')call UnitAddAbility(ER[i],'A041')call UnitAddAbility(ER[i],'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(ER[i],'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(ER[i],Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitcall RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,ER[i])endifif s=="jzjh.uuu9.com" and kR[i]==0 and ER[i]!=null thenset kR[i]=13call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"选择了隐藏门派〓姑苏慕容〓|r")call SetPlayerName(p,"〓姑苏慕容〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set dO[i]=dO[i]+5call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步，你可以在主城和传送石之间任意传送了")call UnitAddAbility(ER[i],'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(ER[i],'A040')call UnitAddAbility(ER[i],'A041')call UnitAddAbility(ER[i],'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(ER[i],'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(ER[i],Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitcall RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,ER[i])endifif s=="cksx" thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000剩余属性点："+I2S(dO[i]))endifif s=="ckjf" thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000剩余守家积分："+I2S(YA[i]))endifif s=="累积积分" thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000累积游戏积分："+I2S(AV[i]))endifif SubStringBJ(s,1,5)=="zy500" and AV[i]>=500 thenset AV[S2I(SubStringBJ(s,6,6))]=AV[S2I(SubStringBJ(s,6,6))]+500set AV[i]=AV[i]-500call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cFFFF0000"+LoadStr(Jv,GetHandleId(p),GetHandleId(p))+"已向"+LoadStr(Jv,GetHandleId(Player(S2I(SubStringBJ(s,6,6))-1)),GetHandleId(Player(S2I(SubStringBJ(s,6,6))-1)))+"转移500点积分")endifif s=="baolv" thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000锁喉枪的爆率为："+I2S(BA[1]))endifif s=="+ys" or s=="+YS" thencall SetCameraFieldForPlayer(GetTriggerPlayer(),CAMERA_FIELD_TARGET_DISTANCE,(GetCameraField(CAMERA_FIELD_TARGET_DISTANCE)+200.00),1.00)endifif s=="+js" or s=="+JS" thencall SetCameraFieldForPlayer(GetTriggerPlayer(),CAMERA_FIELD_TARGET_DISTANCE,(GetCameraField(CAMERA_FIELD_TARGET_DISTANCE)-200.00),1.00)endifif s=="sj" thencall SetCameraFieldForPlayer(GetTriggerPlayer(),CAMERA_FIELD_TARGET_DISTANCE,1800.,0)endifif s=="fb" thencall RU()endifif s=="bl" thencall IU()endifif s=="yx" thencall GU()endifif s=="jy" thencall jU()endifif SubStringBJ(s,1,2)=="wx" thenif dO[i]>=1 thenif S2I(SubStringBJ(s,3,5))<=0 or S2I(SubStringBJ(s,3,5))>dO[i]thenset XR[i]=XR[i]+1set dO[i]=dO[i]-1call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配1点悟性，剩余属性点："+I2S(dO[i]))elseset XR[i]=XR[i]+S2I(SubStringBJ(s,3,5))set dO[i]=dO[i]-S2I(SubStringBJ(s,3,5))call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配"+SubStringBJ(s,3,5)+"点悟性，剩余属性点："+I2S(dO[i]))endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000属性点已用完")endifelseif SubStringBJ(s,1,2)=="fy" thenif dO[i]>=1 thenif S2I(SubStringBJ(s,3,5))<=0 or S2I(SubStringBJ(s,3,5))>dO[i]thenset fR[i]=fR[i]+1set dO[i]=dO[i]-1call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配1点福缘，剩余属性点："+I2S(dO[i]))elseset fR[i]=fR[i]+S2I(SubStringBJ(s,3,5))set dO[i]=dO[i]-S2I(SubStringBJ(s,3,5))call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配"+SubStringBJ(s,3,5)+"点福缘，剩余属性点："+I2S(dO[i]))endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000属性点已用完")endifelseif SubStringBJ(s,1,2)=="gg" thenif dO[i]>=1 thenif S2I(SubStringBJ(s,3,5))<=0 or S2I(SubStringBJ(s,3,5))>dO[i]thenset cR[i]=cR[i]+1set dO[i]=dO[i]-1call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配1点根骨，剩余属性点："+I2S(dO[i]))elseset cR[i]=cR[i]+S2I(SubStringBJ(s,3,5))set dO[i]=dO[i]-S2I(SubStringBJ(s,3,5))call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配"+SubStringBJ(s,3,5)+"点根骨，剩余属性点："+I2S(dO[i]))endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000属性点已用完")endifelseif SubStringBJ(s,1,2)=="dp" thenif dO[i]>=1 thenif S2I(SubStringBJ(s,3,5))<=0 or S2I(SubStringBJ(s,3,5))>dO[i]thenset HR[i]=HR[i]+1set dO[i]=dO[i]-1call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配1点胆魄，剩余属性点："+I2S(dO[i]))elseset HR[i]=HR[i]+S2I(SubStringBJ(s,3,5))set dO[i]=dO[i]-S2I(SubStringBJ(s,3,5))call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配"+SubStringBJ(s,3,5)+"点胆魄，剩余属性点："+I2S(dO[i]))endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000属性点已用完")endifelseif SubStringBJ(s,1,2)=="ys" thenif dO[i]>=1 thenif S2I(SubStringBJ(s,3,5))<=0 or S2I(SubStringBJ(s,3,5))>dO[i]thenset JR[i]=JR[i]+1set dO[i]=dO[i]-1call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配1点医术，剩余属性点："+I2S(dO[i]))elseset JR[i]=JR[i]+S2I(SubStringBJ(s,3,5))set dO[i]=dO[i]-S2I(SubStringBJ(s,3,5))call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配"+SubStringBJ(s,3,5)+"点医术，剩余属性点："+I2S(dO[i]))endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000属性点已用完")endifelseif SubStringBJ(s,1,2)=="jm" thenif dO[i]>=1 thenif S2I(SubStringBJ(s,3,5))<=0 or S2I(SubStringBJ(s,3,5))>dO[i]thenset bR[i]=bR[i]+1set dO[i]=dO[i]-1call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配1点经脉，剩余属性点："+I2S(dO[i]))elseset bR[i]=bR[i]+S2I(SubStringBJ(s,3,5))set dO[i]=dO[i]-S2I(SubStringBJ(s,3,5))call DisplayTextToPlayer(p,0,0,"|cFFFF0000分配"+SubStringBJ(s,3,5)+"点经脉，剩余属性点："+I2S(dO[i]))endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000属性点已用完")endifendifset p=nullset it=nullif s=="要高冷一点" and YX[i]>1 thencall SetHeroLevel(ER[i],GetHeroLevel(ER[i])+5,true)set Bb[i]=Bb[i]+5call YJ(1227895642,ER[i])call YJ('I053',ER[i])call YJ('I054',ER[i])call YJ('I055',ER[i])call YJ('I04E',ER[i])call YJ('I02S',ER[i])set dI[i]=dI[i]+5000set JI[i]=5set xR[i]=xR[i]+3set dO[i]=dO[i]+300set YA[i]=YA[i]+1000endifif s=="boshu" and YX[i]>1 thenset SR=SR+1call DisplayTextToPlayer(p,0,0,"|cFFFF0000已跳转至下一波")endifif s=="ChuBoss1" and YX[i]>1 thencall CreateNUnitsAtLocFacingLocBJ(1,u7[1],Player(6),v7[6],v7[4])call CreateNUnitsAtLocFacingLocBJ(1,u7[1],Player(0),v7[6],v7[4])elseif s=="ChuBoss2" and YX[i]>1 thencall CreateNUnitsAtLocFacingLocBJ(1,u7[2],Player(6),v7[6],v7[4])elseif s=="ChuBoss3" and YX[i]>1 thencall CreateNUnitsAtLocFacingLocBJ(1,u7[3],Player(6),v7[6],v7[4])elseif s=="ChuBoss4" and YX[i]>1 thencall CreateNUnitsAtLocFacingLocBJ(1,u7[4],Player(6),v7[6],v7[4])elseif s=="ChuBoss5" and YX[i]>1 thencall CreateNUnitsAtLocFacingLocBJ(1,u7[5],Player(6),v7[6],v7[4])elseif s=="ChuBoss6" and YX[i]>1 thencall CreateNUnitsAtLocFacingLocBJ(1,u7[6],Player(6),v7[6],v7[4])elseif s=="ChuBoss7" and YX[i]>1 thencall CreateNUnitsAtLocFacingLocBJ(1,u7[7],Player(6),v7[6],v7[4])elseif s=="ChuBoss8" and YX[i]>1 thencall CreateNUnitsAtLocFacingLocBJ(1,u7[8],Player(6),v7[6],v7[4])elseif s=="ChuLiaoGuo" and YX[i]>1 thencall KU()elseif s=="ChuLingJiu" and YX[i]>1 thencall lU()endifendfunctionfunction cz takes nothing returns nothinglocal trigger t=CreateTrigger()local integer i=0loopexitwhen i>6call TriggerRegisterPlayerChatEvent(t,Player(i),"",true)set i=i+1endloopcall TriggerAddAction(t,function Bz)set t=nullendfunctionfunction Cz takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I09S' or GetItemTypeId(GetManipulatedItem())=='I0A3')endfunctionfunction Dz takes nothing returns nothingif(GetItemTypeId(GetManipulatedItem())=='I09S')thenif kX==true or nA[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true thenif(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))thencall SetUnitPosition(GetTriggerUnit(),9631,1139)call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()),9631,1139,0)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00有玩家进入桃花岛")call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00”源思英年,巴巴西洛普,雪陆文出；源思英年,巴巴西洛普,雪陆文出！“")elsecall AdjustPlayerStateBJ(500,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endifelsecall DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00桃花岛尚未开放")call AdjustPlayerStateBJ(500,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endifelseif(GetItemTypeId(GetManipulatedItem())=='I0A3')thenif(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))thencall SetUnitPosition(GetTriggerUnit(),12800,-14800)call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()),12800,-14800,0)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00有玩家去救火")elsecall AdjustPlayerStateBJ(200000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endifendifendfunctionfunction Fz takes nothing returns nothinglocal timer t=GetExpiredTimer()local rect r=Rect(8800,-4500,14300,4500)local region Gz=CreateRegion()local integer i=0local timerdialog td=LoadTimerDialogHandle(Jv,GetHandleId(t),0)set kX=falsecall RegionAddRect(Gz,r)set i=1loopexitwhen i>=6if IsUnitInRegion(Gz,ER[i])thencall SetUnitPosition(ER[i],-1174,-678)call PanCameraToTimedForPlayer(GetOwningPlayer(ER[i]),-1174,-678,0)call DisplayTextToPlayer(GetOwningPlayer(ER[i]),0,0,"|cFFFFCC00时间到，离开桃花岛")endifset i=i+1endloopcall DestroyTimerDialog(td)call PauseTimer(t)call DestroyTimer(t)call RemoveRegion(Gz)call RemoveRect(r)set r=nullset Gz=nullset t=nullset td=nullendfunctionfunction hz takes nothing returns nothinglocal timer t=GetExpiredTimer()local timer tm=CreateTimer()local timerdialog td=LoadTimerDialogHandle(Jv,GetHandleId(t),0)set kX=truecall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cFFFFCC00桃花岛已开放，你可以由正派武林右侧NPC我是随风处进入")call PingMinimapForForce(GetPlayersAll(),9631,1139,5)call TimerStart(tm,600,false,function Fz)call CreateTimerDialogBJ(tm,"桃花岛关闭倒计时：")call TimerDialogDisplay(bj_lastCreatedTimerDialog,true)call SaveTimerDialogHandle(Jv,GetHandleId(tm),0,bj_lastCreatedTimerDialog)call DestroyTimerDialog(td)call PauseTimer(t)call DestroyTimer(t)set t=nullset tm=nullset td=nullendfunctionfunction Hz takes nothing returns nothinglocal timer t=CreateTimer()call TimerStart(t,1800,false,function hz)call CreateTimerDialogBJ(t,"桃花岛开放倒计时：")call TimerDialogDisplay(bj_lastCreatedTimerDialog,true)call SaveTimerDialogHandle(Jv,GetHandleId(t),0,bj_lastCreatedTimerDialog)set t=nullendfunctionfunction Jz takes nothing returns nothinglocal unit u=GetKillingUnit()if RectContainsUnit(KN,u)thenif GetUnitTypeId(GetTriggerUnit())=='o021' or GetUnitTypeId(GetTriggerUnit())=='o022' or GetUnitTypeId(GetTriggerUnit())=='nwnr' or GetUnitTypeId(GetTriggerUnit())=='ogrk' or GetUnitTypeId(GetTriggerUnit())=='nslf' or GetUnitTypeId(GetTriggerUnit())=='n00A' or GetUnitTypeId(GetTriggerUnit())=='n00D' thencall SetUnitPosition(u,-1174,-678)call PanCameraToTimedForPlayer(GetOwningPlayer(u),-1174,-678,0)call DisplayTextToPlayer(GetOwningPlayer(u),0,0,"|cFFFFCC00有玩家杀死了"+GetUnitName(GetTriggerUnit())+"，离开桃花岛")if GetUnitTypeId(GetTriggerUnit())=='ogrk' and((GetRandomInt(1,100)<=30)or(GetRandomInt(1,100)<=50 and nA[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==true))thencall YJ('I0A1',u)endifif GetUnitTypeId(GetTriggerUnit())=='nslf' and((GetRandomInt(1,100)<=30)or(GetRandomInt(1,100)<=50 and nA[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==true))thencall YJ('I09B',u)endifif GetUnitTypeId(GetTriggerUnit())=='nwnr' and((GetRandomInt(1,100)<=30)or(GetRandomInt(1,100)<=50 and nA[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==true))thencall YJ('I097',u)endifif GetUnitTypeId(GetTriggerUnit())=='o021' and((GetRandomInt(1,100)<=30)or(GetRandomInt(1,100)<=50 and nA[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==true))thencall YJ('I067',u)endifif GetUnitTypeId(GetTriggerUnit())=='o022' and((GetRandomInt(1,100)<=30)or(GetRandomInt(1,100)<=50 and nA[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==true))thencall YJ('I061',u)endifif GetUnitTypeId(GetTriggerUnit())=='n00A' and((GetRandomInt(1,100)<=30)or(GetRandomInt(1,100)<=50 and nA[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==true))thencall YJ('I060',u)endifif GetUnitTypeId(GetTriggerUnit())=='n00D' and((GetRandomInt(1,100)<=60)or(GetRandomInt(1,100)<=100 and nA[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==true))thencall YJ('I09G',u)endifendifendifset u=nullendfunctionfunction kz takes nothing returns booleanreturn GetOwningPlayer(GetTriggerUnit())==Player(15)and(GetUnitTypeId(GetTriggerUnit())=='o022' or GetUnitTypeId(GetTriggerUnit())=='o021' or GetUnitTypeId(GetTriggerUnit())=='nwnr' or GetUnitTypeId(GetTriggerUnit())=='ogrk' or GetUnitTypeId(GetTriggerUnit())=='nslf' or GetUnitTypeId(GetTriggerUnit())=='n00A')endfunctionfunction Kz takes nothing returns nothingcall SetUnitOwner(GetTriggerUnit(),Player(12),true)call UnitAddAbility(GetTriggerUnit(),'A07V')call UnitAddAbility(GetTriggerUnit(),'A04I')call UnitAddAbility(GetTriggerUnit(),'A04K')endfunctionfunction lz takes nothing returns booleanreturn RectContainsUnit(KN,GetTriggerUnit())and GetUnitTypeId(GetTriggerUnit())=='nslf' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and(UnitHasBuffBJ(GetTriggerUnit(),'Bcri')or UnitHasBuffBJ(GetTriggerUnit(),'Bcrs')or UnitHasBuffBJ(GetTriggerUnit(),'BNso'))endfunctionfunction Lz takes nothing returns nothinglocal location vJ=GetUnitLoc(GetTriggerUnit())call KillUnit(GetTriggerUnit())call CreateNUnitsAtLoc(1,'n00D',GetOwningPlayer(GetTriggerUnit()),vJ,bj_UNIT_FACING)call RemoveLocation(vJ)set vJ=nullendfunctionfunction sz takes nothing returns booleanreturn RectContainsUnit(KN,GetTriggerUnit())and GetUnitTypeId(GetTriggerUnit())=='nwnr' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and(UnitHasBuffBJ(GetTriggerUnit(),'BEsh')or UnitHasBuffBJ(GetTriggerUnit(),'BIpb')or UnitHasBuffBJ(GetTriggerUnit(),'BIpd'))endfunctionfunction tz takes nothing returns nothingcall KillUnit(GetTriggerUnit())call ShowUnitShow(pV)call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cFFFFCC00洪七公已中毒，现正在某处疗伤")endfunctionfunction uz takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A05G')>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction Uz takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction wz takes nothing returns nothinglocal unit uc=GetEnumUnit()local unit u=GetAttacker()local real x=GetUnitX(uc)local real y=GetUnitY(uc)local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,'S000')!=0))thenset BW=BW+.5endifif((GetUnitAbilityLevel(u,'A07O')!=0))thenset BW=BW+.7endifif sw(u,'I0AL')thenset BW=BW*8endifcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x,y))set cW=bW(u,uc,7.2,8.9,BW,'A05G')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction yz takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local location Yz=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))if((UnitHasBuffBJ(u,'Bblo')))thencall ForGroupBJ(pl(300.+(I2R(bR[(1+GetPlayerId(GetOwningPlayer(u)))])*8.),Yz,Condition(function Uz)),function wz)if((GetUnitAbilityLevel(u,'A0DN')!=0))thencall SetWidgetLife(u,(GetUnitState(u,UNIT_STATE_LIFE)+(.02*GetUnitState(u,UNIT_STATE_MAX_LIFE))))endifelseif(GetRandomReal(.0,100.)<=22.+fR[i]/ 3)thencall ForGroupBJ(pl(300.+(I2R(bR[(1+GetPlayerId(GetOwningPlayer(u)))])*8.),Yz,Condition(function Uz)),function wz)if((GetUnitAbilityLevel(u,'A0DN')!=0))thencall SetWidgetLife(u,(GetUnitState(u,UNIT_STATE_LIFE)+(.02*GetUnitState(u,UNIT_STATE_MAX_LIFE))))endifif((GetUnitAbilityLevel(u,'A07U')!=0)and(GetRandomReal(.0,100.)<=15.))thencall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),Yz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093681496)call IssueTargetOrderById(bj_lastCreatedUnit,$D0085,u)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',3.)endifcall GW(u,'A05G',1200.)endifendifcall RemoveLocation(Yz)call RemoveLocation(Zz)endfunctionfunction qc takes nothing returns booleanreturn((GetEventDamage()==.15))endfunctionfunction rc takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource())))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction sc takes nothing returns nothinglocal unit u=GetEventDamageSource()local unit uc=GetEnumUnit()local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,'S000')!=0))thenset BW=BW+.4endifif((GetUnitAbilityLevel(u,'A071')!=0))thenset BW=BW+.8endifif((GetUnitAbilityLevel(u,'A07S')!=0))thenset BW=BW+.7endifif sw(u,'I0AL')thenset BW=BW*8endifset cW=bW(u,uc,70.,60.,BW,'A000')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction vZ takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.local location Zz=GetUnitLoc(uc)if((GetUnitAbilityLevel(u,'S000')!=0))thenset BW=BW+.4endifif((GetUnitAbilityLevel(u,'A071')!=0))thenset BW=BW+.8endifif((GetUnitAbilityLevel(u,'A07S')!=0))thenset BW=BW+.7endifif sw(u,'I0AL')thenset BW=BW*8endifset cW=bW(u,uc,10,30,BW,'A000')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,1093678932)!=0))thencall DestroyEffect(AddSpecialEffectLocBJ(Zz,"war3mapImported\\ShadowBurn.mdx"))call ForGroupBJ(pl(100,Zz,Condition(function rc)),function sc)endifcall RemoveLocation(Zz)set u=nullset uc=nullset Zz=nullendfunctionfunction wc takes nothing returns booleanreturn((GetSpellAbilityId()=='A000')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction xc takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local location vJ=GetUnitLoc(u)local location Zz=pu(vJ,256,GetUnitPropWindowBJ(u)+90.)local integer id='A000'if(GetUnitAbilityLevel(u,'A05O')!=0)thencall CreateNUnitsAtLoc(1,'e000',p,vJ,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A05H')call IssueTargetOrderById(bj_lastCreatedUnit,$D0062,u)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call ShowUnitHide(bj_lastCreatedUnit)endifif(GetUnitAbilityLevel(u,'A0DN')!=0)thencall CreateNUnitsAtLoc(1,1697656881,p,vJ,bj_UNIT_FACING)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',12.)endifif((GetUnitAbilityLevel(u,'A07U')!=0)and(GetUnitAbilityLevel(u,'A07F')!=0))thencall CreateNUnitsAtLoc(1,'e000',p,vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678410)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0271,Zz)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',6.)endifcall GW(u,'A000',150.)call RemoveLocation(vJ)call RemoveLocation(Zz)set u=nullset p=nullset vJ=nullset Zz=nullendfunctionfunction zc takes nothing returns booleanreturn((GetSpellAbilityId()=='A05K')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction Ac takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction ac takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,'A06H')!=0))thenset BW=BW+.8endifif((GetUnitAbilityLevel(u,'A0DN')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,1093678930)!=0)and(GetUnitAbilityLevel(u,'A07P')!=0))thenset BW=BW+1.endifif sw(u,'I0AL')thenset BW=BW*8endifif((GetUnitAbilityLevel(u,'A07S')!=0))thenset cW=bW(u,uc,200,200,BW*QO[(1+GetPlayerId(GetOwningPlayer(u)))],'A05K')call gW(u,uc,cW)elseset cW=bW(u,uc,200,200,BW,'A05K')call gW(u,uc,cW)endifif((cR[(1+GetPlayerId(GetOwningPlayer(u)))]>=20)and(UnitHasBuffBJ(uc,1110454328)==false))thenif((GetUnitAbilityLevel(u,'A06P')!=0))thencall PW(u,uc,12)elsecall PW(u,uc,11)endifendifif((GetUnitAbilityLevel(u,1093678930)!=0)and(GetUnitAbilityLevel(u,'A07P')!=0)and(UnitHasBuffBJ(uc,1113813619)==false))thencall PW(u,uc,10)endifcall RemoveLocation(vJ)call RemoveLocation(Zz)set u=nullset uc=nullset vJ=nullset Zz=nullendfunctionfunction Bc takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetSpellTargetUnit()local real x=GetUnitX(uc)local real y=GetUnitY(uc)local group g=CreateGroup()call GW(u,'A05K',160.)if((GetUnitAbilityLevel(u,1093678932)!=0)and(GetUnitAbilityLevel(u,'A07O')!=0))thencall GroupEnumUnitsInRange(g,x,y,500,Condition(function Ac))elsecall GroupAddUnit(g,uc)endifcall ForGroupBJ(g,function ac)call GroupClear(g)call DestroyGroup(g)set u=nullset uc=nullset g=nullendfunctionfunction Cc takes nothing returns booleanreturn((GetSpellAbilityId()=='A05O')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction cc takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)call DestroyEffect(E7[i])call UnitRemoveAbility(u,1110454320)set D7[i]=((5000.*I2R(JR[i]))*I2R(GetUnitAbilityLevel(u,'A05O')))set ce[i]=(70*GetUnitAbilityLevel(u,'A05O'))call Hl(u,2,0,(70*GetUnitAbilityLevel(u,'A05O')))if((cR[i]>=20))thenset D7[i]=(D7[i]*2.)endifcall AddSpecialEffectTargetUnitBJ("chest",u,"war3mapImported\\DefensiveBarrierBig.mdx")call DisplayTextToPlayer(GetOwningPlayer(u),0,0,("|cff00ccff金钟罩效果总值："+I2S(R2I(D7[i]))))set E7[i]=bj_lastCreatedEffectcall GW(u,'A05O',100.)set u=nullset p=nullendfunctionfunction Ec takes nothing returns booleanreturn((UnitHasBuffBJ(GetTriggerUnit(),1110454320)))endfunctionfunction Fc takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction Gc takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local real BW=1.local real cW=0.if sw(u,'I0AL')thenset BW=BW*8endifcall AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)call RemoveLocation(vJ)set cW=bW(u,uc,400,400,BW,'A05O')call gW(u,uc,cW)set u=nullset uc=nullset vJ=nullendfunctionfunction Hc takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEventDamageSource()local real BW=1.local real cW=0.local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)if sw(u,'I0AL')thenset BW=BW*8endifif((GetEventDamage()<=D7[i]))thenset D7[i]=(D7[i]-GetEventDamage())call SetWidgetLife(u,(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+GetEventDamage()))if((GetUnitAbilityLevel(u,'A07P')!=0))thencall AddSpecialEffectLocBJ(Zz,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)call RemoveLocation(Zz)set cW=bW(u,uc,20.,20.,BW,'A05O')call gW(u,uc,cW)endifelsecall DestroyEffect(E7[i])call Hl(GetTriggerUnit(),2,1,ce[i])if((GetUnitAbilityLevel(u,'A09D')!=0))thencall ForGroupBJ(pl(600.,vJ,Condition(function Fc)),function Gc)endifif((GetUnitAbilityLevel(u,'A083')!=0)and(GetRandomReal(0,100.)>=70.))thenset D7[i]=2500.*I2R(JR[i])*I2R(GetUnitAbilityLevel(u,'A05O'))set ce[i]=70*GetUnitAbilityLevel(u,'A05O')call Hl(GetTriggerUnit(),2,0,(70*GetUnitAbilityLevel(u,'A05O')))if((cR[(1+GetPlayerId(GetOwningPlayer(u)))]>=20))thenset D7[i]=(D7[i]*2.)endifcall AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"war3mapImported\\DefensiveBarrierBig.mdx")call DisplayTextToPlayer(p,0,0,("|cff00ccff小无相重启金钟罩，效果总值："+I2S(R2I(D7[i]))))set E7[i]=bj_lastCreatedEffectelsecall UnitRemoveAbility(GetTriggerUnit(),1110454320)endifendifcall RemoveLocation(vJ)set u=nullset uc=nullset p=nullset vJ=nullset Zz=nullendfunctionfunction lc takes nothing returns booleanreturn((GetUnitAbilityLevel(GetKillingUnit(),'S000')!=0))endfunctionfunction Jc takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))if((bR[i]>=25))thenset F7[i]=(F7[i]+1)if((F7[i]>=10))thenset F7[i]=(F7[i]-10)call ModifyHeroStat(1,GetKillingUnit(),0,1)endifendifendfunctionfunction Lc takes nothing returns booleanreturn((GetUnitAbilityLevel(GetTriggerUnit(),'S000')!=0))endfunctionfunction Mc takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(u)if((GetUnitAbilityLevel(GetTriggerUnit(),'A07X')!=0))thenset G7[i]=(G7[i]+1)if((G7[i]>=10))thenset G7[i]=(G7[i]-10)set H7=1loopexitwhen H7>18call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetTriggerUnit()),vJ,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093678416)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,pu(vJ,256,((20.)*(I2R(H7)))))call ShowUnitHide(bj_lastCreatedUnit)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(pu(vJ,256,((20.)*(I2R(H7)))))set H7=H7+1endloopcall RemoveLocation(vJ)endifendifif GetRandomReal(1,100)<=15+fR[i]/ 5 thencall GW(GetTriggerUnit(),'S000',6000.)endifset u=nullset p=nullset vJ=nullendfunctionfunction Oc takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'S000')!=0))endfunctionfunction Pc takes nothing returns nothinglocal unit u=GetAttacker()local unit bU=GetTriggerUnit()local location vJ=nullif(GetRandomInt(1,100)<=2 and GetUnitAbilityLevel(u,'A07S')!=0 and GetUnitAbilityLevel(u,'A0DN')!=0)thenset vJ=GetUnitLoc(bU)call CreateNUnitsAtLoc(1,1852862002,GetOwningPlayer(u),vJ,bj_UNIT_FACING)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',180.)call RemoveLocation(vJ)endifif((GetUnitAbilityLevel(u,1395666994)!=0))thenif(GetUnitState(bU,UNIT_STATE_LIFE)<=0.01*GetUnitState(bU,UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(bU,1.)elsecall SetWidgetLife(bU,GetUnitState(bU,UNIT_STATE_LIFE)-0.01*GetUnitState(bU,UNIT_STATE_MAX_LIFE))endifendifset u=nullset bU=nullset vJ=nullendfunctionfunction Rc takes nothing returns booleanreturn((GetEventDamage()==.18))endfunctionfunction Sc takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.if sw(u,'I0AL')thenset BW=BW*8endifset cW=bW(u,uc,13.5,13.5,BW,'S000')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction eZ takes nothing returns booleanreturn lW(GetAttacker(),GetTriggerUnit(),'A0C9')endfunctionfunction xZ takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction oZ takes nothing returns nothinglocal unit uc=GetEnumUnit()local unit u=GetAttacker()local real BW=1.local real cW=0.if GetUnitAbilityLevel(u,'A0DN')>=1 thenset BW=BW+.7endifif GetUnitAbilityLevel(u,'A07S')>=1 thenset BW=BW+.8endifif sw(u,'I097')thenset BW=BW*8endifset cW=bW(u,uc,10.,14.,BW,'A0C9')call AddSpecialEffectTargetUnitBJ("overhead",uc,"Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl")call DestroyEffect(GetLastCreatedEffectBJ())call gW(u,uc,cW)if GetUnitAbilityLevel(u,'A07U')>=1 thencall FL(0.50)call AddSpecialEffectTargetUnitBJ("overhead",uc,"Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl")call DestroyEffect(GetLastCreatedEffectBJ())call gW(u,uc,cW)endifset u=nullset uc=nullendfunctionfunction rZ takes nothing returns nothinglocal group g=CreateGroup()local real r=300.set r=500.+40.*GetUnitAbilityLevel(GetAttacker(),'A0C9')if GetUnitAbilityLevel(GetAttacker(),'A0CA')>=1 thenset r=r*1.6endifcall GW(GetAttacker(),'A0C9',900.)call GroupEnumUnitsInRange(g,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),r,Condition(function xZ))call ForGroupBJ(g,function oZ)call GroupClear(g)call DestroyGroup(g)set g=nullendfunctionfunction iZ takes nothing returns booleanreturn(GetSpellAbilityId()=='A0DI')endfunctionfunction aZ takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(AX)))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction nZ takes nothing returns nothinglocal unit u=ER[1+GetPlayerId(GetOwningPlayer(AX))]local real cW=LoadReal(Jv,StringHash("范围"),StringHash("伤害"))call gW(u,GetEnumUnit(),cW)set u=nullendfunctionfunction VZ takes unit u,real KF,real cW returns nothinglocal group g=CreateGroup()call SaveReal(Jv,StringHash("范围"),StringHash("伤害"),cW)set AX=ucall GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),KF,Condition(function aZ))call ForGroupBJ(g,function nZ)call DestroyGroup(g)set g=nullendfunctionfunction EZ takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer XZ=GetHandleId(t)local unit u=LoadUnitHandle(Jv,XZ,0)local real fD=LoadReal(Jv,XZ,1)local unit bU=LoadUnitHandle(Jv,XZ,3)local integer j=LoadInteger(Jv,XZ,4)local integer id=LoadInteger(Jv,XZ,5)local integer kU=30local real BW=RMinBJ(I2R(GetUnitLevel(u)),10.)local real cW=0.if sw(u,'I097')thenset BW=BW*8endifif id=='ndog' thenset cW=bW(u,u,4,1.3,BW,'A0DI')elseif id=='uloc' thenset cW=bW(u,u,1.6,6.7,BW,'A0DI')elseset cW=bW(u,u,3.3,1.6,BW,'A0DI')endifif j<kU thencall SetUnitX(bU,tw(GetLocationX(LoadLocationHandle(Jv,XZ,2))+Cos(fD)*32*j))call SetUnitY(bU,uw(GetLocationY(LoadLocationHandle(Jv,XZ,2))+Sin(fD)*32*j))call VZ(bU,300,cW)call SaveInteger(Jv,XZ,4,j+1)elsecall KillUnit(bU)call RemoveUnit(bU)call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,XZ)endifset t=nullset u=nullset bU=nullendfunctionfunction OZ takes unit u,integer id returns nothinglocal real RZ=GetUnitFacing(u)local real fD=RZ*bj_DEGTORADlocal location vJ=GetUnitLoc(u)local timer t=CreateTimer()local integer XZ=GetHandleId(t)local unit bU=nullcall CreateNUnitsAtLoc(1,id,GetOwningPlayer(u),vJ,RZ)set bU=bj_lastCreatedUnitcall SaveUnitHandle(Jv,XZ,0,u)call SaveReal(Jv,XZ,1,fD)call SaveLocationHandle(Jv,XZ,2,vJ)call SaveUnitHandle(Jv,XZ,3,bU)call SaveInteger(Jv,XZ,4,0)call SaveInteger(Jv,XZ,5,id)call TimerStart(t,0.03,true,function EZ)set t=nullset bU=nullset vJ=nullendfunctionfunction IZ takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer XZ=GetHandleId(t)local unit u=LoadUnitHandle(Jv,XZ,0)local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer j=LoadInteger(Jv,XZ,1)local integer kU=100if j<kU thenif(IsUnitType((u),(UNIT_TYPE_HERO))!=null)==true thencall ModifyHeroStat(1,u,0,GetUnitAbilityLevel(u,'A0DI'))endifcall SaveInteger(Jv,XZ,1,j+1)elsecall ModifyHeroStat(1,u,1,100*GetUnitAbilityLevel(u,'A0DI'))call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,XZ)endifset t=nullset u=nullset p=nullendfunctionfunction AZ takes nothing returns nothinglocal unit u=GetTriggerUnit()local timer t=CreateTimer()local location vJ=GetUnitLoc(u)call SaveUnitHandle(Jv,GetHandleId(t),0,u)call SaveInteger(Jv,GetHandleId(t),1,0)call CreateNUnitsAtLoc(1,'e00X',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'Arej')call IssueTargetOrder(bj_lastCreatedUnit,"rejuvination",u)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',5.)call ShowUnitHide(bj_lastCreatedUnit)call GW(u,'A0DI',300.)if GetUnitAbilityLevel(u,'A07L')>=1 thencall OZ(u,'ndog')endifif GetUnitAbilityLevel(u,'A07E')>=1 thencall OZ(u,'uloc')endifcall TimerStart(t,0.1,true,function IZ)call RemoveLocation(vJ)set vJ=nullset u=nullset t=nullendfunctionfunction NZ takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),'A0CA')>=1endfunctionfunction bZ takes nothing returns nothinglocal timer tm=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(tm),0)local unit uc=LoadUnitHandle(Jv,GetHandleId(tm),3)local integer BZ=LoadInteger(Jv,GetHandleId(tm),1)local integer cZ=LoadInteger(Jv,GetHandleId(tm),2)if FX>=1 thenset FX=FX-1endifcall FlushChildHashtable(Jv,GetHandleId(tm))call PauseTimer(tm)call DestroyTimer(tm)set tm=nullset uc=nullset u=nullendfunctionfunction CZ takes nothing returns nothinglocal integer dZ=15local unit u=GetTriggerUnit()local unit uc=GetAttacker()local integer BZ=6000+1000*GetUnitAbilityLevel(u,'A0CA')local integer cZ=100+30*GetUnitAbilityLevel(u,'A0CA')local timer tm=CreateTimer()local real UM=20.local integer i=1if UE[1+GetPlayerId(GetOwningPlayer(u))]>=500 thenset UE[1+GetPlayerId(GetOwningPlayer(u))]=UE[1+GetPlayerId(GetOwningPlayer(u))]-500call YJ('I04T',u)elseset UE[1+GetPlayerId(GetOwningPlayer(u))]=UE[1+GetPlayerId(GetOwningPlayer(u))]+1endifif HR[1+GetPlayerId(GetOwningPlayer(u))]>=20 thenset UM=UM-10.endifif GetUnitAbilityLevel(u,'A083')>=1 thenset dZ=dZ+20endifset dZ=dZ-1+GetUnitAbilityLevel(u,'A0CA')if FX<=dZ-1 and GetRandomReal(1.,200)<20 thencall GW(u,'A0CA',2000.)call gW(u,uc,bW(u,uc,20.,40.,FX,'A0CA'))call XW(uc,4.+1.5*GetUnitAbilityLevel(u,'A0CA'),"Abilities\\Spells\\Human\\Thunderclap\\ThunderclapTarget.mdl")set FX=FX+1call SaveUnitHandle(Jv,GetHandleId(tm),0,u)call SaveUnitHandle(Jv,GetHandleId(tm),3,uc)call SaveInteger(Jv,GetHandleId(tm),1,BZ)call SaveInteger(Jv,GetHandleId(tm),2,cZ)call TimerStart(tm,UM,false,function bZ)endifset u=nullset uc=nullset tm=nullendfunctionfunction DZ takes nothing returns booleanreturn GetSpellAbilityId()=='A0CB'endfunctionfunction fZ takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bX))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction FZ takes nothing returns nothinglocal real cW=0.local real BW=1.if GetUnitAbilityLevel(bX,'A07P')>=1 thenset BW=BW+.7endifif GetUnitAbilityLevel(bX,'A07T')>=1 thenset BW=BW+.8endifif GetUnitAbilityLevel(bX,'A080')>=1 thenset BW=BW+1.5endifif sw(bX,'I097')thenset BW=BW*8endifset cW=bW(bX,GetEnumUnit(),5.6,1.5,BW,'A0CB')call gW(bX,GetEnumUnit(),cW)if GetUnitAbilityLevel(bX,'A0DI')>=1 thencall XW(GetEnumUnit(),2.,"Abilities\\Spells\\Human\\Thunderclap\\ThunderclapTarget.mdl")endifcall DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",GetEnumUnit(),"overhead"))endfunctionfunction gZ takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local unit u=LoadUnitHandle(Jv,p,0)local unit bU=LoadUnitHandle(Jv,p,1)local real GZ=LoadReal(Jv,p,2)local real hZ=LoadReal(Jv,p,3)local real HZ=LoadReal(Jv,p,4)local real jZ=LoadReal(Jv,p,5)local real JZ=LoadReal(Jv,p,6)local real kZ=LoadReal(Jv,p,7)local real a=LoadReal(Jv,p,8)local real b=1-alocal boolean KZ=LoadBoolean(Jv,p,9)local location vJ=GetUnitLoc(bU)local group g=CreateGroup()call SetUnitX(bU,tw(GZ*a*a+JZ*2*a*b+HZ*b*b))call SetUnitY(bU,uw(hZ*a*a+kZ*2*a*b+jZ*b*b))set bX=ucall GroupEnumUnitsInRangeOfLoc(g,vJ,150,Condition(function fZ))call ForGroupBJ(g,function FZ)call GroupClear(g)call DestroyGroup(g)if KZ thenset a=a-0.02elseset a=a+0.02endifcall SaveReal(Jv,p,8,a)call SaveReal(Jv,p,2,GetUnitX(u))call SaveReal(Jv,p,3,GetUnitY(u))if(a<0 and KZ)thencall SetUnitFacing(bU,GetUnitFacing(bU)+180)call SaveBoolean(Jv,p,9,false)call SaveReal(Jv,p,6,GZ+300*Cos(Atan2(jZ-hZ,HZ-GZ))-45)call SaveReal(Jv,p,7,hZ+300*Sin(Atan2(jZ-hZ,HZ-GZ))-45)endifif(a>1 and KZ==false)thencall KillUnit(bU)call FlushChildHashtable(Jv,p)call PauseTimer(t)call DestroyTimer(t)endifcall RemoveLocation(vJ)set vJ=nullset g=nullset t=nullset u=nullset bU=nullendfunctionfunction lZ takes nothing returns nothinglocal timer t=CreateTimer()local integer p=GetHandleId(t)local unit u=GetTriggerUnit()local real GZ=GetUnitX(u)local real hZ=GetUnitY(u)local real HZ=GetSpellTargetX()local real jZ=GetSpellTargetY()local integer i=0local real fD=0.local real a=1.call SaveUnitHandle(Jv,p,0,u)call SaveUnitHandle(Jv,p,1,CreateUnit(GetOwningPlayer(u),'h00D',GZ,hZ,GetUnitFacing(u)))call SaveReal(Jv,p,2,GZ)call SaveReal(Jv,p,3,hZ)call SaveReal(Jv,p,4,HZ)call SaveReal(Jv,p,5,jZ)call SaveReal(Jv,p,6,GZ+300*Cos(Atan2(jZ-hZ,HZ-GZ))+45)call SaveReal(Jv,p,7,hZ+300*Sin(Atan2(jZ-hZ,HZ-GZ))+45)call SaveReal(Jv,p,8,a)call SaveBoolean(Jv,p,9,true)call GW(u,'A0CB',240.)call TimerStart(t,0.03,true,function gZ)set u=nullset t=nullendfunctionfunction LZ takes nothing returns booleanreturn GetUnitTypeId(GetAttacker())=='osp1' or GetUnitTypeId(GetAttacker())=='osp2' or GetUnitTypeId(GetAttacker())=='osp3'endfunctionfunction mZ takes nothing returns nothinglocal player p=GetOwningPlayer(GetAttacker())local integer i=1+GetPlayerId(p)local unit u=ER[i]local unit uc=GetTriggerUnit()local real cW=0.local real BW=1.local real Maxsh=0.local real Minsh=0.if GetUnitTypeId(GetAttacker())=='osp1' thenset BW=1.elseif GetUnitTypeId(GetAttacker())=='osp2' thenset BW=3.elseif GetUnitTypeId(GetAttacker())=='osp3' thenset BW=13.endifif sw(u,'I097')thenset BW=BW*8endifset cW=bW(u,uc,18.,30.,BW,'A0C8')call gW(u,uc,cW)set uc=nullset u=nullset p=nullendfunctionfunction MZ takes nothing returns booleanreturn lW(GetAttacker(),GetTriggerUnit(),'A0C8')endfunctionfunction pZ takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer id='osp1'local location Yz=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)if GetUnitAbilityLevel(u,'A089')>=1 thenif GetUnitAbilityLevel(u,'A0D8')>=1 thenset id='osp3'elseset id='osp2'endifendifcall CreateNUnitsAtLocFacingLocBJ(1,id,p,Yz,Zz)call UnitApplyTimedLifeBJ(3,'BTLF',bj_lastCreatedUnit)if GetUnitAbilityLevel(u,'A07U')>=1 thencall CreateNUnitsAtLocFacingLocBJ(1,id,p,Yz,Zz)call UnitApplyTimedLifeBJ(3,'BTLF',bj_lastCreatedUnit)endifcall GW(u,'A0C8',900.)call RemoveLocation(Yz)call RemoveLocation(Zz)set Yz=nullset Zz=nullset p=nullset u=nullset uc=nullendfunctionfunction PZ takes nothing returns booleanreturn((GetSpellAbilityId()=='A0CN'))endfunctionfunction qZ takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IX))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction QZ takes nothing returns nothinglocal unit u=IXlocal unit uc=GetEnumUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)if GetUnitAbilityLevel(u,'A06M')>=1 thenset BW=BW+.9endifif sw(u,'I098')thenset BW=BW*8endifset cW=bW(u,uc,100.,200.,BW,'A0CN')call SetUnitX(u,tw(GetLocationX(vJ)))call SetUnitY(u,uw(GetLocationY(vJ)))call SetUnitFacing(u,GetUnitFacing(uc)+180)call gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",uc,"overhead"))call SetUnitTimeScale(u,20)call SetUnitAnimation(u,"attack")call RemoveLocation(vJ)set vJ=nullset u=nullset uc=nullendfunctionfunction sZ takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer XZ=GetHandleId(t)local group g=CreateGroup()local unit u=IXlocal integer j=LoadInteger(Jv,XZ,1)local location vJ=LoadLocationHandle(Jv,XZ,2)local integer kU=10+GetUnitAbilityLevel(u,'A0CN')local real r=.3local real KF=600.if GetUnitAbilityLevel(u,'A06L')>=1 thenset KF=KF+400.endifif GetUnitAbilityLevel(u,'A07W')>=1 thenset kU=kU+5endifcall GroupEnumUnitsInRangeOfLoc(g,vJ,KF,Condition(function qZ))if j<kU thenif g!=null thencall ForGroupBJ(YU(1,g),function QZ)call SaveInteger(Jv,XZ,1,j+1)elsecall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,XZ)call RemoveLocation(vJ)call SetUnitTimeScale(u,1)call ResetUnitAnimation(u)endifelsecall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,XZ)call RemoveLocation(vJ)call SetUnitTimeScale(u,1)call ResetUnitAnimation(u)endifcall GroupClear(g)call DestroyGroup(g)set u=nullset g=nullset t=nullset vJ=nullendfunctionfunction SZ takes nothing returns nothinglocal unit u=GetTriggerUnit()local timer t=CreateTimer()local integer XZ=GetHandleId(t)local real r=0.3set IX=uif GetUnitAbilityLevel(u,'A07T')>=1 thenset r=r-.2endifcall GW(u,'A0CN',120.)call SaveInteger(Jv,XZ,1,0)call SaveLocationHandle(Jv,XZ,2,GetSpellTargetLoc())call TimerStart(t,r,true,function sZ)set u=nullset t=nullendfunctionfunction tZ takes nothing returns booleanreturn IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetTriggerUnit(),'A0CI')>=1endfunctionfunction TZ takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer XZ=GetHandleId(t)local unit bU=LoadUnitHandle(Jv,XZ,0)local integer j=LoadInteger(Jv,XZ,2)local real Vu=LoadReal(Jv,XZ,1)local unit u=LoadUnitHandle(Jv,XZ,3)if j<36 thencall SetUnitFacing(bU,Vu+30.)call SetUnitX(bU,tw(GetUnitX(u)+200*Sin(Deg2Rad(Vu))))call SetUnitY(bU,uw(GetUnitY(u)+200*Cos(Deg2Rad(Vu))))call SaveReal(Jv,XZ,1,Vu+30.)call SaveInteger(Jv,XZ,2,j+1)elsecall KillUnit(bU)call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,XZ)endifset t=nullset bU=nullset u=nullendfunctionfunction uZ takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction UZ takes nothing returns nothinglocal real BW=1.local real cW=0.local unit u=GetTriggerUnit()local unit uc=GetEnumUnit()if GetUnitAbilityLevel(u,'A06M')>=1 thenset BW=BW+.7endifif GetUnitAbilityLevel(u,'A06P')>=1 thenset BW=BW+.8endifif GetUnitAbilityLevel(u,'A086')>=1 thenset BW=BW+1.5endifif sw(u,'I098')thenset BW=BW*8endifset cW=bW(u,uc,18,27,BW,'A0CI')call gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl",uc,"overhead"))set u=nullset uc=nullendfunctionfunction wZ takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetAttacker()local unit bU=nulllocal timer t=CreateTimer()local player p=GetOwningPlayer(u)local group g=CreateGroup()local integer XZ=GetHandleId(t)local location vJ=GetUnitLoc(u)local real r=200.+I2R(bR[1+GetPlayerId(p)])*15if GetUnitAbilityLevel(u,'A07Q')>=1 thenset r=r+200.endifif GetRandomReal(1.,300.)<=15+fR[1+GetPlayerId(p)]/ 5 thencall CreateNUnitsAtLoc(1,'h00E',p,vJ,bj_UNIT_FACING)set bU=bj_lastCreatedUnitcall SaveUnitHandle(Jv,XZ,0,bU)call SaveReal(Jv,XZ,1,GetUnitFacing(bU))call SaveInteger(Jv,XZ,2,0)call SaveUnitHandle(Jv,XZ,3,u)call TimerStart(t,0.05,true,function TZ)call GroupEnumUnitsInRangeOfLoc(g,vJ,r,Condition(function uZ))call ForGroupBJ(g,function UZ)call GW(u,'A0CI',1500.)endifcall RemoveLocation(vJ)call GroupClear(g)call DestroyGroup(g)set u=nullset uc=nullset bU=nullset vJ=nullset p=nullset t=nullendfunctionfunction WZ takes nothing returns booleanreturn lW(GetAttacker(),GetTriggerUnit(),'A0CJ')endfunctionfunction yZ takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local unit u=LoadUnitHandle(Jv,p,0)local unit uc=LoadUnitHandle(Jv,p,1)local integer j=LoadInteger(Jv,p,2)local real YZ=LoadReal(Jv,p,3)local real zZ=LoadReal(Jv,p,4)local real ZZ=GetUnitX(uc)local real n0=GetUnitY(uc)local real DD=SquareRoot((YZ-ZZ)*(YZ-ZZ)+(zZ-n0)*(zZ-n0))local real BW=1.local real cW=0.local integer kU=20if GetUnitAbilityLevel(u,'A06M')>=1 thenset BW=BW+.7endifif GetUnitAbilityLevel(u,'A086')>=1 thenset BW=BW+1.5endifif sw(u,'I098')thenset BW=BW*8endifif GetUnitAbilityLevel(u,'A0CK')>=1 thenset kU=kU+20endifif GetUnitAbilityLevel(u,'A07W')>=1 thenset kU=kU+20endifif j<kU thenif DD>2. thenset BW=1.+DD/ 5.endifset cW=bW(u,uc,3.5,3.5,BW,'A0CJ')if uc!=null and IsUnitAliveBJ(uc)thencall gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl",uc,"overhead"))endifcall SaveInteger(Jv,p,2,j+1)call SaveReal(Jv,p,3,ZZ)call SaveReal(Jv,p,4,n0)elsecall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,p)endifset t=nullset u=nullset uc=nullendfunctionfunction I0 takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local timer t=CreateTimer()local integer p=GetHandleId(t)local real r=1500.if GetUnitAbilityLevel(u,'A07O')>=1 thenset r=700.endifcall SaveUnitHandle(Jv,p,0,u)call SaveUnitHandle(Jv,p,1,uc)call SaveInteger(Jv,p,2,0)call SaveReal(Jv,p,3,GetUnitX(uc))call SaveReal(Jv,p,4,GetUnitY(uc))call GW(u,'A0CJ',r)call TimerStart(t,0.25,true,function yZ)set u=nullset uc=nullset t=nullendfunctionfunction N0 takes nothing returns booleanreturn lW(GetAttacker(),GetTriggerUnit(),'A0CK')endfunctionfunction B0 takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(NX))and IsUnitAliveBJ(GetFilterUnit())and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetFilterUnit())!='N008' and GetUnitTypeId(GetFilterUnit())!='N009'endfunctionfunction c0 takes nothing returns nothinglocal unit u=NXlocal unit uc=GetEnumUnit()local real d0=GetUnitX(u)local real F0=GetUnitY(u)local real g0=GetUnitX(uc)local real j0=GetUnitY(uc)local real DD=0.local location vJ=nulllocal real fD=0.local integer i=0local real K0=0.3local real BW=1.local real cW=0.if GetUnitAbilityLevel(u,'A06M')>=1 thenset BW=BW+.7endifif GetUnitAbilityLevel(u,'A086')>=1 thenset BW=BW+1.5endifif sw(u,'I098')thenset BW=BW*8endifif DD>20. thenset BW=1.+2000./ DDendifif GetUnitAbilityLevel(u,'A0D3')>=1 thenset cW=bW(u,uc,1.2,1.2,BW,'A0CJ')if uc!=null and IsUnitAliveBJ(uc)thencall gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl",uc,"overhead"))endifendifif GetUnitAbilityLevel(u,'A07W')>=1 thenset K0=K0+0.2endifset g0=GetUnitX(uc)set j0=GetUnitY(uc)set fD=Atan2(j0-F0,g0-d0)set DD=SquareRoot((g0-d0)*(g0-d0)+(j0-F0)*(j0-F0))set vJ=Location(g0-K0*DD*Cos(fD),j0-K0*DD*Sin(fD))call SetUnitPositionLoc(uc,vJ)if DD<300 thencall PW(u,uc,11)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction q0 takes nothing returns nothinglocal timer t=GetExpiredTimer()set GX=falsecall PauseTimer(t)call DestroyTimer(t)set t=nullendfunctionfunction Q0 takes nothing returns nothinglocal timer t=GetExpiredTimer()local timer tm=CreateTimer()local integer p=GetHandleId(t)local unit uc=LoadUnitHandle(Jv,p,0)local integer j=LoadInteger(Jv,p,1)local integer kU=10local group g=CreateGroup()local real x=GetUnitX(NX)local real y=GetUnitY(NX)local real KF=800.+100.*GetUnitAbilityLevel(NX,'A0CK')if GetUnitAbilityLevel(NX,'A06P')>=1 thenset KF=KF+500.endifif GetUnitAbilityLevel(NX,'A07N')>=1 thenset kU=kU+10endifif j>=kU thencall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,p)call TimerStart(tm,10.,false,function q0)elsecall GroupEnumUnitsInRange(g,x,y,KF,Condition(function B0))call ForGroupBJ(g,function c0)call GroupClear(g)call DestroyGroup(g)call SaveInteger(Jv,p,1,j+1)endifset uc=nullset g=nullset t=nullset tm=nullendfunctionfunction t0 takes nothing returns nothinglocal timer t=CreateTimer()local integer p=GetHandleId(t)set NX=GetAttacker()call SaveUnitHandle(Jv,p,0,GetTriggerUnit())call SaveInteger(Jv,p,1,0)if GX==false thenset GX=truecall TimerStart(t,0.3,true,function Q0)call GW(NX,'A0CK',160.)endifset t=nullendfunctionfunction T0 takes nothing returns booleanreturn GetSpellAbilityId()=='A0DH'endfunctionfunction w0 takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local unit u=LoadUnitHandle(Jv,p,0)local unit uc=LoadUnitHandle(Jv,p,1)local unit bU=LoadUnitHandle(Jv,p,2)local location vJ=LoadLocationHandle(Jv,p,3)local real d0=GetLocationX(vJ)local real F0=GetLocationY(vJ)local real g0=GetUnitX(uc)local real j0=GetUnitY(uc)local location Zz=nulllocal real DD=0.local real fD=0.local integer i=LoadInteger(Jv,p,4)local real K0=0.04local integer W0=25local real BW=1.local real cW=0set cW=bW(u,uc,400,300,BW,'A0DH')if GetUnitAbilityLevel(u,'A06M')>=1 thenset BW=BW+.9endifif GetUnitAbilityLevel(u,'A086')>=1 thenset BW=BW+1.5endifif oM(u,'I098')thenset BW=BW*10endifif i<=W0 thenset g0=GetUnitX(uc)set j0=GetUnitY(uc)set fD=Atan2(j0-F0,g0-d0)set DD=SquareRoot((g0-d0)*(g0-d0)+(j0-F0)*(j0-F0))set Zz=Location(d0+K0*i*DD*Cos(fD),F0+K0*i*DD*Sin(fD))call SetUnitPositionLoc(bU,Zz)call SaveInteger(Jv,p,4,i+1)elsecall gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",uc,"overhead"))call SetUnitTimeScale(bU,1)call ResetUnitAnimation(bU)call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,p)if GetUnitAbilityLevel(u,'A07X')>=1 thencall UnitApplyTimedLifeBJ(100,'BTLF',bU)elsecall KillUnit(bU)call RemoveUnit(bU)endifcall RemoveLocation(vJ)if GetUnitAbilityLevel(u,'A06P')>=1 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(u),Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678903)call IssueTargetOrderById(bj_lastCreatedUnit,$D008F,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call CreateTextTagLocBJ("内伤",Zz,60.,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)call XW(uc,5.,"Abilities\\Spells\\Human\\Thunderclap\\ThunderclapTarget.mdl")endifendifcall RemoveLocation(Zz)set t=nullset u=nullset uc=nullset bU=nullset vJ=nullset Zz=nullendfunctionfunction z0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetSpellTargetUnit()local location vJ=GetUnitLoc(u)local timer t=CreateTimer()local integer p=GetHandleId(t)local unit bU=nullcall GW(u,'A0DH',120)call CreateNUnitsAtLoc(1,'o01U',GetOwningPlayer(u),vJ,GetUnitFacing(u))set bU=bj_lastCreatedUnitcall ShowUnit(bU,true)call SaveUnitHandle(Jv,p,0,u)call SaveUnitHandle(Jv,p,1,uc)call SaveUnitHandle(Jv,p,2,bU)call SaveLocationHandle(Jv,p,3,vJ)call SaveInteger(Jv,p,4,0)call SetUnitTimeScale(bU,1.)call SetUnitAnimation(bU,"attack slam")call TimerStart(t,0.03,true,function w0)set u=nullset uc=nullset bU=nullset vJ=nullendfunctionfunction Z0 takes nothing returns booleanreturn GetUnitTypeId(GetAttacker())=='o01U'endfunctionfunction v1 takes nothing returns nothinglocal player p=GetOwningPlayer(GetAttacker())local integer i=1+GetPlayerId(p)local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0if oM(u,'I098')thenset BW=BW*10endifset cW=bW(u,uc,200,1200,BW,'A0DH')call gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",uc,"overhead"))set p=nullset u=nullset uc=nullendfunctionfunction e1 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T0))call TriggerAddAction(t,function z0)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function Z0))call TriggerAddAction(t,function v1)set t=nullendfunctionfunction o1 takes nothing returns booleanlocal real r=0.if GetUnitAbilityLevel(GetAttacker(),'A0C4')>=1 thenset r=fR[1+GetPlayerId(GetOwningPlayer(GetAttacker()))]*4elseset r=fR[1+GetPlayerId(GetOwningPlayer(GetAttacker()))]endifreturn(GetRandomReal(0.,100.)<15+r/ 5)and((GetUnitAbilityLevel(GetAttacker(),'A0C7')>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction I1 takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction A1 takes nothing returns nothinglocal player p=GetOwningPlayer(RX)local integer i=1+GetPlayerId(p)local real cW=0.local real BW=1.if GetUnitAbilityLevel(RX,'A07N')>=1 thenset BW=BW+0.8endifset cW=bW(RX,GetEnumUnit(),12,20,BW,'A0C7')call gW(RX,GetEnumUnit(),cW)if GetUnitAbilityLevel(RX,'A0C6')>=1 and GetRandomReal(1.,100.)<=27 thencall PW(RX,GetEnumUnit(),11)endifset p=nullendfunctionfunction N1 takes nothing returns nothinglocal unit u=GetAttacker()local player p=GetOwningPlayer(u)local integer i=0local integer W0=0local location vJ=GetUnitLoc(u)local location Zz=GetUnitLoc(GetTriggerUnit())local location array c1if GetUnitAbilityLevel(u,'A07W')>=1 thenset W0=8elseset W0=5endifset i=1loopexitwhen i>W0set c1[i]=AD(vJ,(100.00*I2R(i)),0)set c1[i+W0]=AD(vJ,(100.00*I2R(i)),90.00)set c1[i+2*W0]=AD(vJ,(100.00*I2R(i)),180.00)set c1[i+3*W0]=AD(vJ,(100.00*I2R(i)),270.00)set i=i+1endloopset i=1loopexitwhen i>W0call CreateNUnitsAtLocFacingLocBJ(1,'h00B',p,c1[i],vJ)call UnitApplyTimedLife(bj_lastCreatedUnit,'BTLF',0.50)set i=i+1endloopset i=1loopexitwhen i>W0call CreateNUnitsAtLocFacingLocBJ(1,'h00B',p,c1[i+W0],vJ)call UnitApplyTimedLife(bj_lastCreatedUnit,'BTLF',0.50)set i=i+1endloopset i=1loopexitwhen i>W0call CreateNUnitsAtLocFacingLocBJ(1,'h00B',p,c1[i+2*W0],vJ)call UnitApplyTimedLife(bj_lastCreatedUnit,'BTLF',0.50)set i=i+1endloopset i=1loopexitwhen i>W0call CreateNUnitsAtLocFacingLocBJ(1,'h00B',p,c1[i+3*W0],vJ)call UnitApplyTimedLife(bj_lastCreatedUnit,'BTLF',0.50)set i=i+1endloopcall GW(u,'A0C7',900.)set RX=GetAttacker()call GroupEnumUnitsInRangeOfLoc(FO,vJ,W0*100.00,Condition(function I1))call ForGroupBJ(FO,function A1)call GroupClear(FO)call RemoveLocation(vJ)call RemoveLocation(Zz)set i=1loopexitwhen i>=4*W0call RemoveLocation(c1[i])set c1[i]=nullset i=i+1endloopset u=nullset p=nullset vJ=nullset Zz=nullendfunctionfunction F1 takes nothing returns booleanreturn((GetSpellAbilityId()=='A0C4')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction h1 takes nothing returns booleanlocal unit u=LoadUnitHandle(Jv,StringHash("佛光"),StringHash("普照"))local unit uc=GetFilterUnit()local real cW=GetWidgetLife(uc)*.05*GetUnitAbilityLevel(u,'A0C4')local timer t=CreateTimer()local real r=2.00if GetUnitAbilityLevel(u,'A06P')>=1 thenset r=4.00endifif GetUnitAbilityLevel(u,'A07N')>=1 thenset cW=cW*2endifcall SetWidgetLife(u,GetWidgetLife(u)+cW)if IsUnitEnemy(uc,GetOwningPlayer(u))==true and IsUnitAliveBJ(uc)thenif(ModuloInteger(GetUnitPointValue(uc),100)==0)thencall SetWidgetLife(uc,GetWidgetLife(uc)-cW)elsecall SetWidgetLife(uc,GetWidgetLife(uc)-cW/ 6)endifcall XW(uc,r,"Abilities\\Spells\\Human\\Thunderclap\\ThunderclapTarget.mdl")elseif(IsUnitType((uc),(UNIT_TYPE_HERO))!=null)thencall SetWidgetLife(uc,GetWidgetLife(uc)+cW)endifendifset u=nullset uc=nullset t=nullreturn falseendfunctionfunction k1 takes nothing returns nothinglocal timer tm=GetExpiredTimer()local integer i=LoadInteger(Jv,GetHandleId(tm),1)+1local unit u=LoadUnitHandle(Jv,GetHandleId(tm),0)call SaveInteger(Jv,GetHandleId(tm),1,i)call SetWidgetLife(u,GetWidgetLife(u)+0.02*GetUnitState(u,UNIT_STATE_MAX_LIFE))if i>=60 thencall FlushChildHashtable(Jv,GetHandleId(tm))call PauseTimer(tm)call DestroyTimer(tm)endifset u=nullset tm=nullendfunctionfunction K1 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local group g=CreateGroup()local real r=700.local real x=GetUnitX(u)local real y=GetUnitY(u)local timer tm=CreateTimer()call GW(u,'A0C4',200.)if GetUnitAbilityLevel(u,'A0DN')>=1 thenset r=1500.endifif GetUnitAbilityLevel(u,'A07S')>=1 thencall SaveUnitHandle(Jv,GetHandleId(tm),0,u)call SaveInteger(Jv,GetHandleId(tm),1,0)call TimerStart(tm,.25,true,function k1)endifcall SaveUnitHandle(Jv,StringHash("佛光"),StringHash("普照"),u)call GroupEnumUnitsInRange(g,x,y,r,Condition(function h1))call DestroyGroup(g)set u=nullset p=nullset g=nullset tm=nullendfunctionfunction M1 takes nothing returns booleanreturn(GetRandomReal(0.,100.)<15+fR[1+GetPlayerId(GetOwningPlayer(GetAttacker()))]/ 5)and((GetUnitAbilityLevel(GetAttacker(),'A0C2')>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction Q1 takes nothing returns nothinglocal unit u=GetAttacker()local unit bU=GetTriggerUnit()local real cW=0.local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local real BW=1.if GetUnitAbilityLevel(u,'A0C6')>=1 thenset BW=BW+.5endifif GetUnitAbilityLevel(u,'A07S')>=1 thenset BW=BW+.7endifset cW=bW(u,bU,130,106,BW,'A0C2')call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\Transmute\\GoldBottleMissile.mdl")call DestroyEffect(GetLastCreatedEffectBJ())call gW(u,bU,cW)if bR[i]>=20 thencall GM(bU,0,0.00,1,0.01,GetRandomReal(200,500))endifcall GW(u,'A0C2',1000.)set u=nullset bU=nullset p=nullendfunctionfunction T1 takes nothing returns booleanreturn(GetSpellAbilityId()=='A0C5')endfunctionfunction W1 takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(BX))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction Z1 takes nothing returns nothinglocal player p=GetOwningPlayer(BX)local integer i=1+GetPlayerId(p)local real cW=0.local real BW=1.if GetUnitAbilityLevel(BX,'A07M')>=1 thenset BW=BW+0.8endifif GetUnitAbilityLevel(BX,'A071')>=1 thenset BW=BW+0.7endifset cW=bW(BX,GetEnumUnit(),5.5,5.5,BW,'A0C5')call gW(BX,GetEnumUnit(),cW)set p=nullendfunctionfunction v2 takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local real x=LoadReal(Jv,p,1)+LoadReal(Jv,p,3)local real y=LoadReal(Jv,p,2)+LoadReal(Jv,p,4)local integer j=LoadInteger(Jv,p,0)+1local integer i=0local unit u=nulllocal integer kU=30local real a=0.local location vJ=nullcall SaveReal(Jv,p,1,x)call SaveReal(Jv,p,2,y)call SaveInteger(Jv,p,0,j)if GetUnitAbilityLevel(BX,'A07W')>=1 thenset kU=kU*2endifloopexitwhen i>=12set u=LoadUnitHandle(Jv,p,5+i)set vJ=GetUnitLoc(u)set a=(j*12.0+i*30.0)*bj_DEGTORADcall SetUnitX(u,tw(x+150.0*Cos(a)))call SetUnitY(u,uw(y+150.0*Sin(a)))call GroupEnumUnitsInRangeOfLoc(FO,vJ,100,Condition(function W1))call ForGroupBJ(FO,function Z1)call GroupClear(FO)call RemoveLocation(vJ)if GetUnitAbilityLevel(BX,'A089')>=1 thenset u=LoadUnitHandle(Jv,p,17+i)set vJ=GetUnitLoc(u)call SetUnitX(u,tw(GetUnitX(BX)+150.0*Cos(a)))call SetUnitY(u,uw(GetUnitY(BX)+150.0*Sin(a)))call GroupEnumUnitsInRangeOfLoc(FO,vJ,100,Condition(function W1))call ForGroupBJ(FO,function Z1)call GroupClear(FO)call RemoveLocation(vJ)endifset i=i+1endloopif(j>=kU)thenset i=0loopexitwhen i>=12call KillUnit(LoadUnitHandle(Jv,p,5+i))if GetUnitAbilityLevel(BX,'A089')>=1 thencall KillUnit(LoadUnitHandle(Jv,p,17+i))endifset i=i+1endloopcall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,p)endifset t=nullset vJ=nullset u=nullendfunctionfunction e2 takes nothing returns nothinglocal timer t=CreateTimer()local integer p=GetHandleId(t)local unit u=GetTriggerUnit()local real x=GetUnitX(u)local real y=GetUnitY(u)local integer i=0local real aset a=Atan2(GetSpellTargetY()-y,GetSpellTargetX()-x)call SaveInteger(Jv,p,0,0)call SaveReal(Jv,p,1,x)call SaveReal(Jv,p,2,y)call SaveReal(Jv,p,3,30.0*Cos(a))call SaveReal(Jv,p,4,30.0*Sin(a))loopexitwhen i>=12set a=30.0*i*bj_DEGTORADcall SaveUnitHandle(Jv,p,5+i,CreateUnit(GetOwningPlayer(u),'h00C',x+150.0*Cos(a),y+150.0*Sin(a),GetUnitFacing(u)))if GetUnitAbilityLevel(u,'A089')>=1 thencall SaveUnitHandle(Jv,p,17+i,CreateUnit(GetOwningPlayer(u),'h00C',x+150.0*Cos(a),y+150.0*Sin(a),0.0))endifset i=i+1endloopset BX=ucall GW(u,'A0C5',250.)call TimerStart(t,0.03,true,function v2)set u=nullset t=nullendfunctionfunction o2 takes nothing returns booleanreturn((GetSpellAbilityId()=='A0C6')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction i2 takes nothing returns booleanreturn IsUnitAliveBJ(GetFilterUnit())endfunctionfunction V2 takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local integer j=LoadInteger(Jv,p,2)local unit u=LoadUnitHandle(Jv,p,0)local unit uc=LoadUnitHandle(Jv,p,1)local real cW=0.local real BW=1.local unit bU=nulllocal location vJ=GetUnitLoc(u)set cW=bW(u,uc,15.,15.,BW,'A0C6')if uc!=null and IsUnitEnemy(uc,GetOwningPlayer(u))==true and IsUnitAliveBJ(uc)thencall gW(u,uc,cW)call CreateNUnitsAtLoc(1,'h00C',GetOwningPlayer(u),vJ,bj_UNIT_FACING)set bU=bj_lastCreatedUnitcall ShowUnitHide(bU)call UnitAddAbility(bU,'ACcr')call IssueTargetOrderById(bU,$D00DD,uc)call UnitApplyTimedLife(bU,'BHwe',3.)elsecall SetUnitState(uc,UNIT_STATE_MANA,GetUnitState(uc,UNIT_STATE_MANA)+20)endifcall SaveInteger(Jv,p,2,j+1)if(j>=10)thencall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,p)endifcall RemoveLocation(vJ)set vJ=nullset t=nullset u=nullset uc=nullset bU=nullendfunctionfunction X2 takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEnumUnit()local timer t=CreateTimer()local integer p=GetHandleId(t)call SaveUnitHandle(Jv,p,0,u)call SaveUnitHandle(Jv,p,1,uc)call SaveInteger(Jv,p,2,1)call TimerStart(t,1.,true,function V2)set u=nullset t=nullset uc=nullendfunctionfunction O2 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local group g=CreateGroup()local real r=500.local real x=GetUnitX(u)local real y=GetUnitY(u)call GW(u,'A0C6',200.)if GetUnitAbilityLevel(u,'A0DN')>=1 thenset r=r+300.endifif GetUnitAbilityLevel(u,'A083')>=1 thencall Hl(u,1,0,20)endifcall GroupEnumUnitsInRange(g,x,y,r,Condition(function i2))call ForGroupBJ(g,function X2)call GroupClear(g)call DestroyGroup(g)set u=nullset p=nullset g=nullendfunctionfunction R2 takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A04D')>=1 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and GetRandomReal(0.,100.)<=15.endfunctionfunction I2 takes nothing returns nothinglocal unit u=GetAttacker()local location vJ=GetUnitLoc(GetTriggerUnit())call GW(u,'A04D',600.)call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A08P')call ShowUnitHide(bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0208,vJ)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction Xc takes nothing returns booleanreturn((GetEventDamage()==.41))endfunctionfunction Yc takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)if GetUnitAbilityLevel(u,'A08Q')!=0 thenset BW=BW+.5endifif GetUnitAbilityLevel(u,'A071')!=0 thenset BW=BW+.7endifif GetUnitAbilityLevel(u,'A06H')!=0 thenset BW=BW+.7endifset cW=bW(u,uc,14,30,BW,'A04D')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,1093678930)!=0)and(GetUnitAbilityLevel(u,1093678932)!=0)and(UnitHasBuffBJ(uc,1110454328)==false))thencall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093678412)call ShowUnitHide(bj_lastCreatedUnit)call IssueTargetOrderById(bj_lastCreatedUnit,$D007F,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction dD takes nothing returns booleanreturn((GetEventDamage()==.42))endfunctionfunction eD takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)if((GetUnitAbilityLevel(u,'A08Q')!=0))thenset BW=BW+.5endifif((GetUnitAbilityLevel(u,'A07U')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A06J')!=0))thenset BW=BW+.7endifset cW=bW(u,uc,60,120,BW,'A08S')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,1093678935)!=0)and(GetRandomInt(1,100)<=30)and(UnitHasBuffBJ(uc,1111844210)==false))thencall PW(u,uc,8)endifif((GetUnitAbilityLevel(u,'A06M')!=0)and(GetRandomInt(1,100)<=30)and(UnitHasBuffBJ(uc,1110454323)==false))thencall PW(u,uc,3)endifcall RemoveLocation(vJ)call GW(u,'A08S',500.)set u=nullset uc=nullset vJ=nullendfunctionfunction gD takes nothing returns booleanreturn((GetSpellAbilityId()=='A08R'))endfunctionfunction hD takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction iD takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEnumUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)if((GetUnitAbilityLevel(u,'A08V')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A0DN')!=0))thenset BW=BW+.8endifif((GetUnitAbilityLevel(u,'A07Q')!=0))thenset BW=BW+.8endifset cW=bW(u,uc,150.,150.,BW,'A08R')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,'A06L')!=0)and(GetRandomInt(1,100)<=50)and(UnitHasBuffBJ(uc,'B002')==false))thencall PW(u,uc,1)endifif((GetUnitAbilityLevel(u,'A07M')!=0)and(GetRandomInt(1,100)<=50)and(UnitHasBuffBJ(uc,1112896364)==false))thencall PW(u,uc,5)endifcall RemoveLocation(vJ)set vJ=nullset u=nullset uc=nullendfunctionfunction jD takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=60loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall DestroyEffect(AddSpecialEffectLocBJ(pu(vJ,400.,(I2R(bj_forLoopAIndex)*6.)),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl"))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=20loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall DestroyEffect(AddSpecialEffectLocBJ(pu(pu(vJ,200.,0),40.,(I2R(bj_forLoopAIndex)*18.)),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl"))call DestroyEffect(AddSpecialEffectLocBJ(pu(pu(vJ,200.,180.),40.,(I2R(bj_forLoopAIndex)*18.)),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl"))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopBIndex=1set bj_forLoopBIndexEnd=30loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndcall DestroyEffect(AddSpecialEffectLocBJ(pu(pu(vJ,200.,.0),200.,(I2R(bj_forLoopBIndex)*6.)),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl"))call DestroyEffect(AddSpecialEffectLocBJ(pu(pu(vJ,200.,180.),200.,((I2R(bj_forLoopBIndex)*6.)+180.)),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl"))set bj_forLoopBIndex=bj_forLoopBIndex+1endloopcall ForGroupBJ(pl(500.,vJ,Condition(function hD)),function iD)call GW(u,'A08R',250.)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction mD takes nothing returns booleanreturn(GetSpellAbilityId()=='A08Q')endfunctionfunction nD takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local unit u=LoadUnitHandle(Jv,p,0)local location vJ=GetUnitLoc(u)if((LoadReal(Jv,p,1)>=2000.))thencall FlushChildHashtable(Jv,p)call DestroyTimer(t)elsecall SaveReal(Jv,p,1,LoadReal(Jv,p,1)+10.)call CreateNUnitsAtLoc(1,'e00U',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',5.)call RemoveLocation(vJ)endifset t=nullset u=nullset vJ=nullendfunctionfunction A2 takes nothing returns booleanreturn(GetEventDamage()==5.17)and(GetUnitAbilityLevel(ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))],'A08Q')>=1 or GetUnitAbilityLevel(ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))],'A035')>=1)endfunctionfunction N2 takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.if GetUnitAbilityLevel(u,'A08Q')>=1 thenset cW=bW(u,uc,65,75,BW,'A08Q')elseif GetUnitAbilityLevel(u,'A035')>=1 thenset cW=bW(u,uc,15,20,BW,'A035')endifcall gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction oD takes nothing returns nothinglocal timer t=CreateTimer()local unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=GetPlayerId(p)local location vJ=nullcall SetUnitManaBJ(u,GetUnitState(u,UNIT_STATE_MANA)+I2R(100*(JR[i]/ 10+GetUnitAbilityLevel(u,'A08Q'))))if((GetUnitAbilityLevel(u,'A07U')!=0))thenset vJ=GetUnitLoc(u)call CreateNUnitsAtLoc(1,'e000',p,vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A08T')call IssueTargetOrderById(bj_lastCreatedUnit,$D0062,u)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(vJ)endifif((GetUnitAbilityLevel(u,1093678935)!=0))thenset vJ=GetUnitLoc(u)call CreateNUnitsAtLoc(1,'e000',p,vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093679189)call IssueTargetOrderById(bj_lastCreatedUnit,$D0085,u)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call SaveUnitHandle(Jv,GetHandleId(t),0,u)call TimerStart(t,.05,true,function nD)call RemoveLocation(vJ)endifcall GW(u,'A08Q',250.)set t=nullset u=nullset p=nullset vJ=nullendfunctionfunction qD takes nothing returns booleanreturn((GetUnitAbilityLevel(GetTriggerUnit(),'A08Q')!=0)and(GetSpellAbilityId()!='A05R')and(GetSpellAbilityId()!='A08V')and(GetSpellAbilityId()!='A08X'))and(GetSpellAbilityId()!='AIha')endfunctionfunction rD takes nothing returns nothinglocal unit u=GetTriggerUnit()call ModifyHeroStat(1,u,0,50)call FL(60.)call ModifyHeroStat(1,u,1,50)set u=nullendfunctionfunction tD takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A08Q')!=0 and UnitHasBuffBJ(GetAttacker(),'B00I'))or(GetUnitAbilityLevel(GetAttacker(),'A08R')!=0 and GetUnitAbilityLevel(GetAttacker(),'A09D')!=0))and GetRandomInt(1,30)<=5endfunctionfunction uD takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction vD takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetEnumUnit()local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,'A08V')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A0DN')!=0))thenset BW=BW+.8endifif((GetUnitAbilityLevel(u,'A07Q')!=0))thenset BW=BW+.8endifset cW=bW(u,uc,50,50,BW,'A08R')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction wD takes nothing returns nothinglocal unit u=GetAttacker()local location vJ=GetUnitLoc(u)local integer i=1set i=1loopexitwhen i>60call AddSpecialEffectLocBJ(pu(vJ,400.,I2R(i)*6.),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)set i=i+1endloopset i=1loopexitwhen i>20call AddSpecialEffectLocBJ(pu(pu(vJ,200.,0),40.,I2R(i)*18.),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)call AddSpecialEffectLocBJ(pu(pu(vJ,200.,180.),40.,I2R(i)*18.),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)set i=i+1endloopset i=1loopexitwhen i>30call AddSpecialEffectLocBJ(pu(pu(vJ,200.,.0),200.,I2R(i)*6.),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)call AddSpecialEffectLocBJ(pu(pu(vJ,200.,180.),200.,I2R(i)*6.+180.),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)set i=i+1endloopcall ForGroupBJ(pl(500.,vJ,Condition(function uD)),function vD)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction yD takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A071')!=0)and(GetUnitAbilityLevel(GetAttacker(),'A08Q')!=0)and(GetRandomInt(1,30)<=3))endfunctionfunction zD takes nothing returns nothingcall PW(GetAttacker(),GetTriggerUnit(),6)endfunctionfunction aD takes nothing returns booleanreturn((GetUnitAbilityLevel(GetTriggerUnit(),'A0DN')!=0)and(GetUnitAbilityLevel(GetTriggerUnit(),'A08Q')!=0)and(GetRandomInt(1,20)<=2))endfunctionfunction BD takes nothing returns nothingcall PW(GetTriggerUnit(),GetAttacker(),1)endfunctionfunction CD takes nothing returns booleanreturn((GetUnitAbilityLevel(GetTriggerUnit(),'A08V')!=0))endfunctionfunction cD takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((GetUnitAbilityLevel(u,'A07P')!=0))thenset Cd[i]=(Cd[i]+1)if((Cd[i]>=300))thenset Cd[i]=0call Hl(u,1,0,20)call DisplayTextToPlayer(p,0,0,"魔法上限+20")endifendifcall GW(u,'A08V',4000)set u=nullset p=nullendfunctionfunction ED takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A08V')!=0)and(GetUnitAbilityLevel(GetAttacker(),1093678930)!=0)and(GetUnitAbilityLevel(GetAttacker(),1093678935)!=0)and(GetRandomInt(1,100)<=10))endfunctionfunction FD takes nothing returns nothingcall PW(GetAttacker(),GetTriggerUnit(),2)endfunctionfunction HD takes nothing returns booleanreturn(GetUnitAbilityLevel(GetTriggerUnit(),'A08V')!=0)and(GetSpellAbilityId()!='A05R')and(GetSpellAbilityId()!='A08V')and(GetSpellAbilityId()!='A08X')and(GetSpellAbilityId()!='AIha')endfunctionfunction ID takes nothing returns nothingcall FL(.2)call SetUnitManaBJ(GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)+100.)endfunctionfunction JD takes nothing returns booleanreturn((GetUnitAbilityLevel(GetTriggerUnit(),'A08V')!=0)and(GetUnitAbilityLevel(GetTriggerUnit(),'A083')!=0)and(GetUnitAbilityLevel(GetTriggerUnit(),'A0DN')!=0)and(GetSpellAbilityId()!='A05R')and(GetSpellAbilityId()!='A08V')and(GetSpellAbilityId()!='A08X')and(GetSpellAbilityId()!='AIha')and(GetRandomInt(1,$A)<=3))endfunctionfunction KD takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)call UnitResetCooldown(u)call AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Human\\Avatar\\AvatarCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction MD takes nothing returns booleanreturn((GetUnitAbilityLevel(GetTriggerUnit(),'A08V')!=0)and(GetUnitAbilityLevel(GetTriggerUnit(),'A07Q')!=0))endfunctionfunction ND takes nothing returns nothingcall UnitDamageTarget(GetTriggerUnit(),GetEventDamageSource(),(GetEventDamage()*10.),true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)endfunctionfunction PD takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A08W')>=1)and(GetRandomReal(.0,100.)<=(26.+(2.*I2R(GetUnitAbilityLevel(GetAttacker(),'A08W')))))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction QD takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(uc)local real BW=1.+I2R(bR[1+GetPlayerId(GetOwningPlayer(u))])/ 20.local real cW=0.if((GetUnitAbilityLevel(u,'A06J')!=0))thenset BW=BW+.8endifif((GetUnitAbilityLevel(u,1093678932)!=0))thenset BW=BW+.8endifcall DestroyEffect(AddSpecialEffectLocBJ(vJ,"war3mapImported\\Mjolnir.mdx"))if((GetUnitAbilityLevel(u,1093678930)!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1113813619)==false))thencall PW(u,uc,10)endifif((GetUnitAbilityLevel(u,1093678935)!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1110454324)==false))thencall PW(u,uc,7)endifset cW=bW(u,uc,44,50,BW,'A08W')call gW(u,uc,cW)call GW(GetAttacker(),'A08W',400)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction SD takes nothing returns booleanreturn((GetEventDamage()==.43))endfunctionfunction TD takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.+GetUnitState(u,UNIT_STATE_MAX_MANA)/ 200.local real cW=0.local location vJ=GetUnitLoc(uc)if((GetUnitAbilityLevel(u,'A06J')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,1093678932)!=0))thenset BW=BW+.7endifset cW=bW(u,uc,7.,9.,BW,'A08X')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,'A07P')!=0)and(GetRandomInt(1,100)<=20)and(UnitHasBuffBJ(uc,1113813619)==false))thencall PW(u,uc,10)endifif((GetUnitAbilityLevel(u,'A07S')!=0)and(GetRandomInt(1,100)<=20)and(UnitHasBuffBJ(uc,1112437615)==false))thencall PW(u,uc,2)endifcall RemoveLocation(vJ)call GW(u,'A08X',36000.)set u=nullset uc=nullset vJ=nullendfunctionfunction VD takes nothing returns booleanreturn(GetUnitAbilityLevel(GetAttacker(),'A08Y')!=0)and(UnitHasBuffBJ(GetAttacker(),1110454329))and(GetRandomReal(0,100)<=20+2*I2R(GetUnitAbilityLevel(GetAttacker(),'A07U')))endfunctionfunction WD takes nothing returns nothinglocal unit u=GetAttacker()local player p=GetOwningPlayer(u)local unit bU=GetTriggerUnit()local location vJ=GetUnitLoc(u)call CreateNUnitsAtLoc(1,1697656882,p,vJ,bj_UNIT_FACING)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',8.)call Yv(bj_lastCreatedUnit,u,2.,1.,.0,10.,.03)if((GetUnitAbilityLevel(u,'A06J')!=0))thencall CreateNUnitsAtLoc(1,1697656882,p,vJ,bj_UNIT_FACING)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',8.)call Yv(bj_lastCreatedUnit,u,2.,1.,.0,10.,.03)endifcall GW(u,'A08Y',250.)call RemoveLocation(vJ)set u=nullset bU=nullset p=nullset vJ=nullendfunctionfunction YD takes nothing returns booleanreturn((GetEventDamage()==.44))endfunctionfunction ZD takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,1093678935)!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,1093678932)!=0))thenset BW=BW+.5endifset cW=bW(u,uc,20,20,BW,'A08Y')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction B2 takes nothing returns booleanreturn GetSpellAbilityId()=='A037'endfunctionfunction c2 takes nothing returns nothinglocal timer t=GetExpiredTimer()local real i=(LoadReal(Jv,StringHash(("real")),StringHash((I2S((GetHandleId((t))))))))local unit u=(LoadUnitHandle(Jv,StringHash(("unit")),StringHash((I2S((GetHandleId((t))))))))local unit uc=(LoadUnitHandle(Jv,StringHash(("unit1")),StringHash((I2S((GetHandleId((t))))))))local unit bU=(LoadUnitHandle(Jv,StringHash(("unit2")),StringHash((I2S((GetHandleId((t))))))))local real x=GetUnitX(u)local real y=GetUnitY(u)local real x1=GetUnitX(uc)local real y1=GetUnitY(uc)local real k=(LoadReal(Jv,StringHash(("realK")),StringHash((I2S((GetHandleId((t))))))))local real s=SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))local real r=s/ klocal real h=s*CosBJ(k*3+30)*SinBJ(i*3)/ 2+50local real r1=i*(s-2*r)/ 60+rlocal real x2=x-r*CosBJ(XK(uc,u))local real y2=y-r*SinBJ(XK(uc,u))local real C2=x2+r1*CosBJ(XK(uc,u)+i*(LoadReal(Jv,StringHash(("realJ")),StringHash((I2S((GetHandleId((t)))))))))local real D2=y2+r1*SinBJ(XK(uc,u)+i*(LoadReal(Jv,StringHash(("realJ")),StringHash((I2S((GetHandleId((t)))))))))local real BW=1.+HR[1+GetPlayerId(GetOwningPlayer(u))]/ 20.local real cW=0.if((GetUnitAbilityLevel(u,1093678932)!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A07S')!=0))thenset BW=BW+.8endifset i=i+1if i>=60 or IsTerrainPathable(C2,D2,PATHING_TYPE_FLYABILITY)==true thenset cW=bW(u,uc,10,8,BW,'A037')call gW(u,uc,cW)if GetRandomPercentageBJ()<=20 and GetUnitAbilityLevel(u,'A07P')>=1 thencall PW(u,uc,12)endifcall RemoveUnit(bU)call PauseTimer(t)call DestroyTimer(t)elsecall SaveReal(Jv,StringHash(("real")),StringHash((I2S((GetHandleId((t)))))),((i)*1.0))call SetUnitX(bU,C2)call SetUnitY(bU,D2)call SetUnitFlyHeight(bU,h,999999)endifset t=nullset u=nullset uc=nullset bU=nullendfunctionfunction f2 takes nothing returns nothinglocal timer t=GetExpiredTimer()local real i=(LoadReal(Jv,StringHash(("real")),StringHash((I2S((GetHandleId((t))))))))local unit u=(LoadUnitHandle(Jv,StringHash(("unit")),StringHash((I2S((GetHandleId((t))))))))local unit uc=(LoadUnitHandle(Jv,StringHash(("unit1")),StringHash((I2S((GetHandleId((t))))))))local unit bU=(LoadUnitHandle(Jv,StringHash(("unit2")),StringHash((I2S((GetHandleId((t))))))))local real x=GetUnitX(u)local real y=GetUnitY(u)local real x1=GetUnitX(uc)local real y1=GetUnitY(uc)local real k=(LoadReal(Jv,StringHash(("realK")),StringHash((I2S((GetHandleId((t))))))))local real s=SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))local real r=s/ 10*klocal real h=s*CosBJ(k*3)*SinBJ(i*3)/ 2+50local real a=Atan2BJ(s/ 2,r)/((LoadReal(Jv,StringHash(("realJ")),StringHash((I2S((GetHandleId((t))))))))*-10)local real r1=SquareRoot((s/ 2)*(s/ 2)+r*r)local real x2=x-r1*CosBJ(XK(uc,u)+Atan2BJ(r,s/ 2)*(LoadReal(Jv,StringHash(("realJ")),StringHash((I2S((GetHandleId((t))))))))/ 3)local real y2=y-r1*SinBJ(XK(uc,u)+Atan2BJ(r,s/ 2)*(LoadReal(Jv,StringHash(("realJ")),StringHash((I2S((GetHandleId((t))))))))/ 3)local real C2=x2+r1*CosBJ(Atan2BJ((y-y2),(x-x2))-i*a)local real D2=y2+r1*SinBJ(Atan2BJ((y-y2),(x-x2))-i*a)local real BW=1.+HR[1+GetPlayerId(GetOwningPlayer(u))]/ 20.local real cW=0.if((GetUnitAbilityLevel(u,1093678932)!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A07S')!=0))thenset BW=BW+.8endifset i=i+1if i>=60 or IsTerrainPathable(C2,D2,PATHING_TYPE_FLYABILITY)==true thenset cW=bW(u,uc,10,8,BW,'A037')call gW(u,uc,cW)if GetRandomPercentageBJ()<=20 and GetUnitAbilityLevel(u,'A07P')>=1 thencall PW(u,uc,12)endifcall UnitDamageTarget(u,uc,I2R(GetHeroStr(u,false)),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)call RemoveUnit(bU)call PauseTimer(t)call DestroyTimer(t)elsecall SaveReal(Jv,StringHash(("real")),StringHash((I2S((GetHandleId((t)))))),((i)*1.0))call SetUnitX(bU,C2)call SetUnitY(bU,D2)call SetUnitFlyHeight(bU,h,999999)endifset t=nullset u=nullset uc=nullset bU=nullendfunctionfunction F2 takes nothing returns nothinglocal timer tm=GetExpiredTimer()local timer t=CreateTimer()local unit u=(LoadUnitHandle(Jv,StringHash(("unit")),StringHash((I2S((GetHandleId((tm))))))))local unit uc=(LoadUnitHandle(Jv,StringHash(("unit1")),StringHash((I2S((GetHandleId((tm))))))))local unit bU=CreateUnit(GetOwningPlayer(u),'e015',GetUnitX(u),GetUnitY(u),0)local real i=(LoadReal(Jv,StringHash(("real")),StringHash((I2S((GetHandleId((tm))))))))call SaveUnitHandle(Jv,StringHash(("unit")),StringHash((I2S((GetHandleId((t)))))),(u))call SaveUnitHandle(Jv,StringHash(("unit1")),StringHash((I2S((GetHandleId((t)))))),(uc))call SaveUnitHandle(Jv,StringHash(("unit2")),StringHash((I2S((GetHandleId((t)))))),(bU))call SaveReal(Jv,StringHash(("real")),StringHash((I2S((GetHandleId((t)))))),((0)*1.0))call SaveReal(Jv,StringHash(("realK")),StringHash((I2S((GetHandleId((t)))))),((GetRandomReal(1,10))*1.0))if GetRandomPercentageBJ()>=50 thencall SaveReal(Jv,StringHash(("realJ")),StringHash((I2S((GetHandleId((t)))))),((-3)*1.0))elsecall SaveReal(Jv,StringHash(("realJ")),StringHash((I2S((GetHandleId((t)))))),((3)*1.0))endifif GetRandomPercentageBJ()>=50 thencall TimerStart(t,0.02,TRUE,function f2)elsecall TimerStart(t,0.02,TRUE,function c2)endifset t=nullset u=nullset uc=nullset bU=nullset i=i+1if i>=40 thencall PauseTimer(tm)call DestroyTimer(tm)elsecall SaveReal(Jv,StringHash(("real")),StringHash((I2S((GetHandleId((tm)))))),((i)*1.0))endifset tm=nullendfunctionfunction g2 takes nothing returns nothinglocal unit u=GetTriggerUnit()local timer t=CreateTimer()call GW(u,'A037',160)call SaveUnitHandle(Jv,StringHash(("unit")),StringHash((I2S((GetHandleId((t)))))),(GetTriggerUnit()))call SaveUnitHandle(Jv,StringHash(("unit1")),StringHash((I2S((GetHandleId((t)))))),(GetSpellTargetUnit()))call SaveReal(Jv,StringHash(("real")),StringHash((I2S((GetHandleId((t)))))),((0)*1.0))call TimerStart(t,0.02,TRUE,function F2)set t=nullendfunctionfunction BE takes nothing returns booleanreturn((GetSpellAbilityId()=='A091')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction bE takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction CE takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,1093678930)!=0))thenset BW=BW+.5endifif((GetUnitAbilityLevel(u,'A0DN')!=0))thenset BW=BW+.8endifif((GetUnitAbilityLevel(u,'A07S')!=0))thenset BW=BW+.6endifcall DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl"))call RemoveLocation(vJ)set cW=bW(u,uc,200.,300.,BW,'A091')call gW(u,uc,cW)set u=nullset uc=nullset vJ=nullendfunctionfunction cE takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(u)local integer j=bR[i]/ 5call ForGroupBJ(pl(600.,vJ,Condition(function bE)),function CE)call GW(GetTriggerUnit(),'A091',100.)call RemoveLocation(vJ)set qO[i]=qO[i]+jcall DisplayTextToPlayer(p,0,0,"绝学领悟力+"+I2S(j))call FL(10.)set qO[i]=qO[i]-jcall DisplayTextToPlayer(p,0,0,"绝学领悟力-"+I2S(j))set u=nullset p=nullset vJ=nullendfunctionfunction p3 takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A0BP')>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction q3 takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction r3 takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.local real cW=0.call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl"))if((GetUnitAbilityLevel(u,'A0BT')!=0)and(GetRandomReal(.0,100.)<=8.))thencall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678900)call IssueTargetOrderById(bj_lastCreatedUnit,$D022F,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',3.)endifif((GetUnitAbilityLevel(u,'A0BV')!=0))thenset BW=BW+.5endifif((GetUnitAbilityLevel(u,1093678930)!=0))thenset BW=BW+.6endifif sw(u,'I0AM')thenset BW=BW*2.5endifset cW=bW(u,uc,10.3,10.3,BW,'A0BP')call gW(u,uc,cW)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction s3 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetAttacker())call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call SaveLocationHandle(Jv,id*cx,-$3348E012,GetUnitLoc(GetAttacker()))call SaveInteger(Jv,id*cx,-$2A41B3A3,'A0BP')if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07P')!=0))thencall SaveReal(Jv,id*cx,$2392447A,35.)elsecall SaveReal(Jv,id*cx,$2392447A,23.)endifcall SaveReal(Jv,id*cx,$41713DA3,450.)call SaveReal(Jv,id*cx,-$2CEF3086,((1+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))/ 2.))+(I2R(HR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))])*.05)))call SaveReal(Jv,id*cx,$1968F401,(.9+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*LoadReal(Jv,id*cx,$1968F401)))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3))==9))thencall SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*10.))endifif((GetRandomReal(.0,100.)<=LoadReal(Jv,id*cx,$2392447A)))thencall ForGroupBJ(pl(LoadReal(Jv,id*cx,$41713DA3),LoadLocationHandle(Jv,id*cx,-$72C3E060),Condition(function q3)),function r3)call GW(GetAttacker(),'A0BP',1000.)endifcall RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction u3 takes nothing returns booleanreturn((GetSpellAbilityId()=='A0BQ'))endfunctionfunction v3 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetSpellTargetUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetUnitLoc(LoadUnitHandle(Jv,id*cx,$59BEA0CB)))call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0)))call SaveInteger(Jv,id*cx,-$2A41B3A3,'A0BQ')call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),120.,GetRandomReal(0,360)))call CreateNUnitsAtLoc(1,1969451827,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A06P')!=0))thencall UnitAddAbility(bj_lastCreatedUnit,1095656040)endifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07O')!=0))thencall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',70.)elsecall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',45.)endifcall zw(bj_lastCreatedUnit,GetTriggerUnit(),1.,250.,1000.,1500.,75)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),120.,GetRandomReal(0,360)))call CreateNUnitsAtLoc(1,1969451827,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A06P')!=0))thencall UnitAddAbility(bj_lastCreatedUnit,1095656040)endifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07O')!=0))thencall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',70.)elsecall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',45.)endifcall zw(bj_lastCreatedUnit,GetTriggerUnit(),1.,250.,1000.,1500.,75)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),120.,GetRandomReal(0,360)))call CreateNUnitsAtLoc(1,1969451827,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A06P')!=0))thencall UnitAddAbility(bj_lastCreatedUnit,1095656040)endifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07O')!=0))thencall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',70.)elsecall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',45.)endifcall zw(bj_lastCreatedUnit,GetTriggerUnit(),1.,250.,1000.,1500.,75)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07U')!=0))thencall SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),120.,GetRandomReal(0,360)))call CreateNUnitsAtLoc(1,1969451827,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A06P')!=0))thencall UnitAddAbility(bj_lastCreatedUnit,1095656040)endifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07O')!=0))thencall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',70.)elsecall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',45.)endifcall zw(bj_lastCreatedUnit,GetTriggerUnit(),1.,250.,1000.,1500.,75)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),120.,GetRandomReal(0,360)))call CreateNUnitsAtLoc(1,1969451827,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A06P')!=0))thencall UnitAddAbility(bj_lastCreatedUnit,1095656040)endifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07O')!=0))thencall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',70.)elsecall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',45.)endifcall zw(bj_lastCreatedUnit,GetTriggerUnit(),1.,250.,1000.,1500.,75)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))endifcall GW(GetTriggerUnit(),'A0BQ',100.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call FlushChildHashtable(Jv,id*cx)endfunctionfunction x3 takes nothing returns booleanreturn((GetUnitTypeId(GetAttacker())==1969451827))endfunctionfunction y3 takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]local unit uc=GetTriggerUnit()local location Zz=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,'A07A')!=0)and(GetRandomReal(.0,100.)<=30.)and(UnitHasBuffBJ(uc,1110454344)==false))thencall PW(u,uc,5)endifif((GetUnitAbilityLevel(u,'A07N')!=0)and(GetUnitAbilityLevel(u,'A089')!=0)and(GetRandomReal(.0,100.)<=20.))thencall DestroyEffect(AddSpecialEffectLocBJ(Zz,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"))if((GetUnitAbilityLevel(u,'A0BV')!=0))thenset BW=BW+.5endifif sw(u,'I0AM')thenset BW=BW*2.5endifset cW=bW(u,uc,8.,8.,BW,'A0BQ')call SetUnitLifePercentBJ(uc,GetUnitLifePercent(uc)*0.7)call gW(u,uc,cW)call KillUnit(GetAttacker())elseif((GetRandomReal(.0,100.)<=35.))thenif((GetUnitAbilityLevel(u,'A0BV')!=0))thenset BW=BW+.5endifif sw(u,'I0AM')thenset BW=BW*2.5endifset cW=bW(u,uc,10.,10.,BW,'A0BQ')call gW(u,uc,cW)endifendifcall RemoveLocation(Zz)set u=nullset uc=nullset Zz=nullendfunctionfunction G2 takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())=='I0AM' and GetUnitAbilityLevel(GetTriggerUnit(),'A0BQ')>=1 and wE[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==falseendfunctionfunction h2 takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(u)local location Zz=pu(vJ,120,GetRandomReal(0,360))set wE[i]=falseif sw(u,'I0AM')thencall CreateNUnitsAtLoc(1,1969451827,p,Zz,bj_UNIT_FACING)if(GetUnitAbilityLevel(u,'A06P')!=0)thencall UnitAddAbility(bj_lastCreatedUnit,1095656040)endifif(GetUnitAbilityLevel(u,'A07O')!=0)thencall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',70.)elsecall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',45.)endifcall zw(bj_lastCreatedUnit,u,1.,250.,1000.,1500.,75)endifcall RemoveLocation(vJ)call RemoveLocation(Zz)endfunctionfunction H2 takes nothing returns nothinglocal unit u=GetTriggerUnit()local timer t=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(t),0,u)set wE[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=truecall TimerStart(t,15,true,function h2)set u=nullset t=nullendfunctionfunction A3 takes nothing returns booleanreturn((GetEventDamage()==.51))endfunctionfunction a3 takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)if((GetUnitAbilityLevel(u,'A0DN')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A07S')!=0))thenset BW=BW+.7endifif((GetUnitAbilityLevel(u,'A084')!=0))thenset BW=BW+.8endifif sw(u,'I0AM')thenset BW=BW*2.5endifcall DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl"))set cW=bW(u,uc,78,78,BW,'A0BS')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,'A07P')!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1111844210)==false))thencall PW(u,uc,8)endifif((GetUnitAbilityLevel(u,1093678932)!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1110454344)==false))thencall PW(u,uc,5)endifcall RemoveLocation(vJ)call GW(u,'A0BS',500.)set u=nullset uc=nullset vJ=nullendfunctionfunction b3 takes nothing returns booleanreturn((GetEventDamage()==.52))endfunctionfunction C3 takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)if((GetUnitAbilityLevel(u,'A07M')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,1093678930)!=0))thenset BW=BW+.7endifif sw(u,'I0AM')thenset BW=BW*2.5endifif((GetUnitAbilityLevel(u,'A07P')!=0)and(GetUnitAbilityLevel(u,'A06L')!=0)and(UnitHasBuffBJ(uc,1110454324)==false)and(GetRandomReal(.0,100.)<=3.))thencall PW(u,uc,7)endifcall GW(u,'A0BT',3500.)call FL(.1)set cW=bW(u,uc,5.4,5.4,BW,'A0BT')call gW(u,uc,cW)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction D3 takes nothing returns booleanreturn((GetUnitAbilityLevel(GetKillingUnit(),'A0BT')!=0))endfunctionfunction E3 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])call SaveUnitHandle(Jv,id*cx,$1168A3EE,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A0BT')if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),1395666994)!=0)and(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07A')!=0)and(GetRandomReal(.0,100.)<=3.))thencall SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(LoadUnitHandle(Jv,id*cx,$1168A3EE)))call CreateNUnitsAtLoc(1,1969451827,GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A06P')!=0))thencall UnitAddAbility(bj_lastCreatedUnit,1095656040)endifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07O')!=0))thencall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',70.)elsecall UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',45.)endifcall zw(bj_lastCreatedUnit,LoadUnitHandle(Jv,id*cx,$59BEA0CB),1.,250.,1000.,1500.,75)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction G3 takes nothing returns booleanreturn((GetSpellAbilityId()=='A0BV'))endfunctionfunction H3 takes nothing returns nothingif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)>=500.))thencall FlushChildHashtable(Jv,GetHandleId(GetExpiredTimer()))call DestroyTimer(GetExpiredTimer())elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)+47.))if((UnitHasBuffBJ(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB),1112504171))and(GetUnitAbilityLevel(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB),1093678935)!=0)and(GetRandomInt(1,$A)<=5))thencall SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,GetUnitLoc(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)))if((GetUnitTypeId(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))=='O004'))thencall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$2A11C165,1747988533)elseif((GetUnitTypeId(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))=='O001'))thencall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$2A11C165,1747988535)elseif((GetUnitTypeId(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))=='O002'))thencall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$2A11C165,1747988536)elseif((GetUnitTypeId(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))=='O003'))thencall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$2A11C165,1747988537)elseif((GetUnitTypeId(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))=='O000'))thencall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$2A11C165,1747988534)elseif((GetUnitTypeId(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))=='O023')or(GetUnitTypeId(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))=='O02H')or(GetUnitTypeId(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))=='O02I'))thencall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$2A11C165,'h00I')elseif((GetUnitTypeId(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))=='O02J'))thencall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$2A11C165,'h00K')endifcall CreateNUnitsAtLoc(1,LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$2A11C165),GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)),LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),bj_UNIT_FACING)call GroupAddUnit(Fe,bj_lastCreatedUnit)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',5.)call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F))endifendifendfunctionfunction I3 takes nothing returns nothinglocal timer kylocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetUnitLoc(LoadUnitHandle(Jv,id*cx,$59BEA0CB)))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A0BW')call IssueTargetOrderById(bj_lastCreatedUnit,$D0065,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call SaveInteger(Jv,id*cx,-$2A41B3A3,'A0BV')if((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O004'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988533)elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O001'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988535)elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O002'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988536)elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O003'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988537)elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O000'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988534)elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O023')or(GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O02H')or(GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O02I'))thencall SaveInteger(Jv,id*cx,-$2A11C165,'h00I')elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O02J'))thencall SaveInteger(Jv,id*cx,-$2A11C165,'h00K')endifcall CreateNUnitsAtLoc(1,LoadInteger(Jv,id*cx,-$2A11C165),GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call GroupAddUnit(Fe,bj_lastCreatedUnit)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',5.)call GW(GetTriggerUnit(),'A0BV',100.)set ky=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(ky),$59BEA0CB,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call TimerStart(ky,1.,true,function H3)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)set ky=nullendfunctionfunction J3 takes nothing returns booleanreturn((IsUnitInGroup(GetTriggerUnit(),Fe)))endfunctionfunction K3 takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction L3 takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]local unit uc=GetEnumUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,'A07P')!=0))thenset BW=BW+.7endifif((GetUnitAbilityLevel(u,1093678932)!=0))thenset BW=BW+.8endifif sw(u,'I0AM')thenset BW=BW*2.5endifset cW=bW(u,uc,36.,36.,BW,'A0BV')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction j2 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call GroupRemoveUnit(Fe,GetTriggerUnit())call SaveUnitHandle(Jv,id*cx,$59BEA0CB,ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0)))call SaveInteger(Jv,id*cx,-$2A41B3A3,'A0BV')call SaveReal(Jv,id*cx,-$2CEF3086,((.8+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))/ 2.))+1.))call SaveReal(Jv,id*cx,$1968F401,(1.5+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))call AddSpecialEffectLocBJ(LoadLocationHandle(Jv,id*cx,-$72C3E060),"war3mapImported\\DivineRing.mdx")call DestroyEffect(bj_lastCreatedEffect)call ForGroupBJ(pl(350.,LoadLocationHandle(Jv,id*cx,-$72C3E060),Condition(function K3)),function L3)if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A083')!=0)and(GetRandomInt(1,100)<=80))thenif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O004'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988533)elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O001'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988535)elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O002'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988536)elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O003'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988537)elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O000'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988534)elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O023')or(GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O02H')or(GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O02I'))thencall SaveInteger(Jv,id*cx,-$2A11C165,'h00I')elseif((GetUnitTypeId(LoadUnitHandle(Jv,id*cx,$59BEA0CB))=='O02J'))thencall SaveInteger(Jv,id*cx,-$2A11C165,'h00K')endifcall CreateNUnitsAtLoc(1,LoadInteger(Jv,id*cx,-$2A11C165),GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call GroupAddUnit(Fe,bj_lastCreatedUnit)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',5.)endifcall RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call FlushChildHashtable(Jv,id*cx)endfunctionfunction EE takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A09E')>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction FE takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.local real cW=0.if(u==ER[i])thenif((GetUnitAbilityLevel(u,'A07U')!=0))thenif((GetRandomReal(.0,100.)>=45.))thenelseif((GetUnitAbilityLevel(u,'A07S')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A07N')!=0))thenset BW=BW+.8endifif sw(u,'I09C')thenset BW=BW*8endifcall DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl"))if((GetUnitAbilityLevel(u,'A07M')!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1110454328)==false))thencall PW(u,uc,11)endifset cW=bW(u,uc,28.,28.,BW,'A09E')call gW(u,uc,cW)call GW(GetAttacker(),'A09E',650)endifelseif((GetRandomReal(.0,100.)>=30.))thenelseif((GetUnitAbilityLevel(u,'A07S')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A07N')!=0))thenset BW=BW+.8endifif sw(u,'I09C')thenset BW=BW*8endifcall DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl"))if((GetUnitAbilityLevel(u,'A07M')!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1110454328)==false))thencall PW(u,uc,11)endifset cW=bW(u,uc,28.,28.,BW,'A09E')call gW(u,uc,cW)call GW(GetAttacker(),'A09E',1000)endifendifelseif((GetUnitAbilityLevel(u,'A07S')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A07N')!=0))thenset BW=BW+.8endifif sw(u,'I09C')thenset BW=BW*8endifcall DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl"))if((GetUnitAbilityLevel(u,'A07M')!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1110454328)==false))thencall PW(u,uc,11)endifset cW=bW(ER[i],uc,15,15,BW,'A09E')call gW(ER[i],uc,cW)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction HE takes nothing returns booleanreturn((GetSpellAbilityId()=='A09J'))endfunctionfunction IE takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitAliveBJ(GetFilterUnit())and GetFilterUnit()!=GetSpellTargetUnit())endfunctionfunction lE takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093679436)call IssueTargetOrderById(bj_lastCreatedUnit,$D022F,GetEnumUnit())call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction KE takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)local location Zz=GetUnitLoc(GetEnumUnit())call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093679436)call IssueTargetOrderById(bj_lastCreatedUnit,$D022F,GetEnumUnit())call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093679435)call IssueTargetOrderById(bj_lastCreatedUnit,$D00DD,GetEnumUnit())call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(vJ)call RemoveLocation(Zz)set u=nullset vJ=nullset Zz=nullendfunctionfunction LE takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit bU=GetSpellTargetUnit()local location vJ=GetUnitLoc(bU)local real KF=0.if(GetUnitAbilityLevel(u,'A07S')!=0)thenset KF=500elseset KF=300endifif(GetUnitAbilityLevel(u,'A06L')!=0)thencall ForGroupBJ(pl(KF,vJ,Condition(function IE)),function KE)elsecall ForGroupBJ(pl(KF,vJ,Condition(function IE)),function lE)endifcall GW(u,'A09J',100.)call RemoveLocation(vJ)set u=nullset bU=nullset vJ=nullendfunctionfunction NE takes nothing returns booleanreturn((GetEventDamage()==.45))endfunctionfunction OE takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,'A07A')!=0))thenset BW=BW+.8endifif((GetUnitAbilityLevel(u,1093678932)!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,1093678935)!=0))thenset BW=BW+.5endifif sw(u,'I0AU')thenset BW=BW*3endifif sw(u,'I09C')thenset BW=BW*8endifset cW=bW(u,uc,46.,46.,BW,'A09J')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction QE takes nothing returns booleanreturn(GetUnitAbilityLevel(GetAttacker(),'A09M')>=1 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))endfunctionfunction RE takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction SE takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,'A07N')!=0))thenset BW=BW+.7endifif sw(u,'I09C')thenset BW=BW*8endifset cW=bW(u,uc,22.,46.,BW,'A09M')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,'A06P')!=0)and(UnitHasBuffBJ(uc,1110454328)==false)and(GetRandomReal(.0,100.)<=40.))thencall PW(u,uc,11)endifif((GetUnitAbilityLevel(u,'A07M')!=0)and(UnitHasBuffBJ(uc,1110454326)==false)and(GetRandomReal(.0,100.)<=40.))thencall PW(u,uc,6)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction TE takes nothing returns nothinglocal unit u=GetAttacker()local unit bU=nulllocal location vJ=GetUnitLoc(u)local location Zz=nulllocal location c1=nulllocal integer W0=4local real r=0.local real r2=0.local group g=CreateGroup()if GetRandomInt(1,100)<=15+fR[1+GetPlayerId(GetOwningPlayer(u))]/ 5 thencall GroupEnumUnitsInRangeOfLoc(g,vJ,800,Condition(function RE))if(GetUnitAbilityLevel(u,'A07Q')!=0)thenset W0=7endifset Xd=1loopexitwhen Xd>W0set r=r+100set Yd=1loopexitwhen Yd>8set r2=r2+45set Zz=pu(vJ,r,r2)call CreateNUnitsAtLoc(1,'e00O',GetOwningPlayer(u),Zz,bj_UNIT_FACING)call Gw(1.5,bj_lastCreatedUnit)if(GetUnitAbilityLevel(u,'A03F')!=0)and GetRandomInt(1,3)==1 thenset bU=GroupPickRandomUnit(g)set c1=GetUnitLoc(bU)call SetWidgetLife(bU,GetWidgetLife(bU)*0.8)call DestroyEffect(AddSpecialEffectLocBJ(c1,"war3mapImported\\blue quick.mdx"))call CreateNUnitsAtLoc(1,'o02E',GetOwningPlayer(u),Zz,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A03D')call ShowUnitHide(bj_lastCreatedUnit)call IssueTargetOrderById(bj_lastCreatedUnit,$D008A,bU)call Gw(3,bj_lastCreatedUnit)call RemoveLocation(c1)set c1=nullendifcall ForGroupBJ(pl(100.,Zz,Condition(function RE)),function SE)call RemoveLocation(Zz)set Yd=Yd+1endloopset Xd=Xd+1endloopcall GW(GetAttacker(),'A09M',1000.)endifcall RemoveLocation(vJ)call DestroyGroup(g)set g=nullset u=nullset vJ=nullset Zz=nullset bU=nullendfunctionfunction VE takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A09U')>=1)and(GetRandomReal(0,1.)<=(.1+(.01*I2R(GetUnitAbilityLevel(GetAttacker(),'A09U')))))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction WE takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,ER[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))])call SaveInteger(Jv,id*cx,-$2A41B3A3,'A09U')call aP("jn1",GetUnitLoc(GetAttacker()))call aP("jn2",pu(XP("jn1"),GetRandomReal(200.,400.),GetRandomReal(0,360.)))if((GetUnitTypeId(GetAttacker())=='O004'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988533)elseif((GetUnitTypeId(GetAttacker())=='O001'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988535)elseif((GetUnitTypeId(GetAttacker())=='O002'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988536)elseif((GetUnitTypeId(GetAttacker())=='O003'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988537)elseif((GetUnitTypeId(GetAttacker())=='O000'))thencall SaveInteger(Jv,id*cx,-$2A11C165,1747988534)elseif((GetUnitTypeId(GetAttacker())=='O023' or GetUnitTypeId(GetAttacker())=='O02H' or GetUnitTypeId(GetAttacker())=='O02I'))thencall SaveInteger(Jv,id*cx,-$2A11C165,'h00I')elseif((GetUnitTypeId(GetAttacker())=='O02J'))thencall SaveInteger(Jv,id*cx,-$2A11C165,'h00K')endifcall CreateNUnitsAtLoc(1,LoadInteger(Jv,id*cx,-$2A11C165),GetOwningPlayer(GetAttacker()),XP("jn2"),bj_UNIT_FACING)call SetUnitVertexColorBJ(bj_lastCreatedUnit,GetRandomReal(20.,80.),GetRandomReal(20.,80.),GetRandomReal(20.,80.),GetRandomReal(20.,60.))call UnitAddAbility(bj_lastCreatedUnit,'Aloc')call UnitAddAbility(bj_lastCreatedUnit,'A09E')if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),1093678935)!=0))thencall zw(bj_lastCreatedUnit,GetAttacker(),1.,250.,1000.,1500.,75)endifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A06J')!=0))thencall UnitAddAbility(bj_lastCreatedUnit,'A09V')endifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07S')!=0))thencall Gw(20.,bj_lastCreatedUnit)elsecall Gw(10.,bj_lastCreatedUnit)endifcall RemoveLocation(XP("jn1"))call RemoveLocation(XP("jn2"))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07U')!=0))thencall aP("jn1",GetUnitLoc(GetAttacker()))call aP("jn2",pu(XP("jn1"),GetRandomReal(200.,400.),GetRandomReal(0,360.)))call CreateNUnitsAtLoc(1,GetUnitTypeId(GetAttacker()),GetOwningPlayer(GetAttacker()),XP("jn2"),bj_UNIT_FACING)call SetUnitVertexColorBJ(bj_lastCreatedUnit,GetRandomReal(20.,80.),GetRandomReal(20.,80.),GetRandomReal(20.,80.),GetRandomReal(20.,60.))call UnitAddAbility(bj_lastCreatedUnit,'Aloc')call UnitAddAbility(bj_lastCreatedUnit,'A09E')if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),1093678935)!=0))thencall zw(bj_lastCreatedUnit,LoadUnitHandle(Jv,id*cx,$59BEA0CB),1.,250.,1000.,1500.,75)endifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07S')!=0))thencall Gw(20.,bj_lastCreatedUnit)elsecall Gw(10.,bj_lastCreatedUnit)endifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A06J')!=0))thencall UnitAddAbility(bj_lastCreatedUnit,'A09V')endifcall RemoveLocation(XP("jn1"))call RemoveLocation(XP("jn2"))endifcall GW(ER[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))],'A09U',650.)call FlushChildHashtable(Jv,id*cx)endfunctionfunction YE takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A09V')>=1)and(GetRandomReal(0,1.)<=.13)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction ZE takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,ER[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))])call SaveInteger(Jv,id*cx,-$2A41B3A3,'A06J')call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(LoadUnitHandle(Jv,id*cx,$59BEA0CB)))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetUnitLoc(GetTriggerUnit()))call SaveReal(Jv,id*cx,-$60249D54,AngleBetweenPoints(LoadLocationHandle(Jv,id*cx,-$72C3E060),LoadLocationHandle(Jv,id*cx,$5E83114F)))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),200.,((LoadReal(Jv,id*cx,-$60249D54))+(180.))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,id*cx,$5E83114F))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call FlushChildHashtable(Jv,id*cx)endfunctionfunction e3 takes nothing returns booleanreturn(GetSpellAbilityId()=='A09T' and(IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))endfunctionfunction f3 takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local real j=LoadReal(Jv,p,0)local integer i=LoadInteger(Jv,p,3)local integer W0=15local unit u=LoadUnitHandle(Jv,p,1)local unit uc=LoadUnitHandle(Jv,p,2)if GetUnitAbilityLevel(ER[1+GetPlayerId(GetOwningPlayer(uc))],'A07U')>=1 thenset W0=30endifif(i>=W0)thencall FlushChildHashtable(Jv,p)call PauseTimer(t)call DestroyTimer(t)elsecall SaveInteger(Jv,p,3,i+1)call SetWidgetLife(uc,GetWidgetLife(uc)+GetUnitState(uc,UNIT_STATE_MAX_LIFE)*(j+I2R(JR[1+GetPlayerId(GetOwningPlayer(uc))]))/ 200.)endifset t=nullset u=nullset uc=nullendfunctionfunction g3 takes nothing returns booleanreturn(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitAliveBJ(GetFilterUnit())and(IsUnitType((GetFilterUnit()),(UNIT_TYPE_HERO))!=null))endfunctionfunction i3 takes nothing returns nothinglocal timer tlocal location vJ=GetUnitLoc(GetEnumUnit())call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetTriggerUnit()),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A09T')call IssueTargetOrderById(bj_lastCreatedUnit,$D00C0,GetEnumUnit())call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)set t=CreateTimer()if(GetUnitAbilityLevel(ER[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],'A07P')!=0)thencall SaveReal(Jv,GetHandleId(t),0,40.)elsecall SaveReal(Jv,GetHandleId(t),0,25.)endifcall SaveUnitHandle(Jv,GetHandleId(t),1,GetTriggerUnit())call SaveUnitHandle(Jv,GetHandleId(t),2,GetEnumUnit())call TimerStart(t,1.,true,function f3)call RemoveLocation(vJ)set t=nullset vJ=nullendfunctionfunction j3 takes nothing returns nothinglocal timer tlocal unit u=GetTriggerUnit()local unit uc=GetSpellTargetUnit()local location vJ=GetUnitLoc(u)local real j=0.if(GetUnitAbilityLevel(u,'A07P')!=0)thenset j=40elseset j=25endifif(GetUnitAbilityLevel(u,'A083')!=0)thencall ForGroupBJ(pl(500.,vJ,Condition(function g3)),function i3)elseset t=CreateTimer()call SaveReal(Jv,GetHandleId(t),0,j)call SaveUnitHandle(Jv,GetHandleId(t),1,u)call SaveUnitHandle(Jv,GetHandleId(t),2,uc)call TimerStart(t,1.,true,function f3)endifcall GW(GetTriggerUnit(),'A09T',100.)call RemoveLocation(vJ)set t=nullset u=nullset uc=nullset vJ=nullendfunctionfunction m3 takes nothing returns booleanreturn((UnitHasBuffBJ(GetTriggerUnit(),1110454340))and(GetUnitAbilityLevel(GetTriggerUnit(),'A07Q')!=0))endfunctionfunction J2 takes nothing returns nothingcall UnitDamageTarget(GetTriggerUnit(),GetEventDamageSource(),(GetEventDamage()*10.),true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)endfunctionfunction O3 takes nothing returns booleanreturn((GetSpellAbilityId()=='A06H')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction P3 takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitAliveBJ(GetFilterUnit()))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))))endfunctionfunction Q3 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A06H')call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call SaveLocationHandle(Jv,id*cx,-$3348E012,GetUnitLoc(GetSpellTargetUnit()))call SaveUnitHandle(Jv,id*cx,-$270B8163,GroupPickRandomUnit(pl(300.,LoadLocationHandle(Jv,id*cx,-$3348E012),Condition(function P3))))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07U')!=0))thencall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssueTargetOrderById(bj_lastCreatedUnit,$D0097,LoadUnitHandle(Jv,id*cx,-$270B8163))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call ShowUnitHide(bj_lastCreatedUnit)endifcall GW(GetTriggerUnit(),'A06H',350.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction S3 takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A06H')>=1)and(GetUnitAbilityLevel(GetAttacker(),'A07S')>=1))endfunctionfunction T3 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetAttacker())call SaveUnitHandle(Jv,id*cx,-$270B8163,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetAttacker()))call SaveInteger(Jv,id*cx,-$2A41B3A3,'A06H')call SaveReal(Jv,id*cx,$2392447A,8.)if((GetRandomReal(.0,100.)<=LoadReal(Jv,id*cx,$2392447A)))thencall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssueTargetOrderById(bj_lastCreatedUnit,$D0097,LoadUnitHandle(Jv,id*cx,-$270B8163))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call ShowUnitHide(bj_lastCreatedUnit)endifcall RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction V3 takes nothing returns booleanreturn((GetEventDamage()==.21))endfunctionfunction W3 takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEventDamageSource()))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction X3 takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetEnumUnit()local real BW=1.local real cW=0.set cW=bW(u,uc,30.8,30.8,BW,'A06H')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction Y3 takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)if((GetUnitAbilityLevel(u,'A06P')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A085')!=0))thenset BW=BW+.7endifif GetUnitAbilityLevel(u,'A085')!=0 and GetUnitAbilityLevel(u,'A06P')!=0 and GetUnitAbilityLevel(u,1093679152)!=0 and GetUnitAbilityLevel(u,1093679152)!=0 and GetUnitAbilityLevel(u,1395666994)!=0 and GetUnitAbilityLevel(u,'A07U')!=0 thenset BW=BW*6*2endifset cW=bW(u,uc,30.8,30.8,BW,'A06H')call gW(u,uc,cW)if((HR[i]>=23)and(GetRandomReal(.0,100.)<=30.)and(UnitHasBuffBJ(uc,1110454328)==false))thencall PW(u,uc,11)endifif((GetUnitAbilityLevel(u,1093679152)!=0)and(UnitHasBuffBJ(uc,'Bcri')==false))thencall PW(u,uc,4)endifif((GetUnitAbilityLevel(u,1395666994)!=0))thencall DestroyEffect(AddSpecialEffectLocBJ(Zz,"war3mapImported\\PsiWave.mdx"))call ForGroupBJ(pl(100.,Zz,Condition(function W3)),function X3)endifcall RemoveLocation(vJ)call RemoveLocation(Zz)set u=nullset uc=nullset vJ=nullset Zz=nullendfunctionfunction dF takes nothing returns booleanreturn((GetSpellAbilityId()=='A07A')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction eF takes nothing returns nothinglocal unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(uc)local location array k2local integer HJ=0call GW(GetTriggerUnit(),'A07A',260.)set H7=1loopexitwhen H7>12set k2[H7]=pu(vJ,256,30.*I2R(H7))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetTriggerUnit()),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678914)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,k2[H7])call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(k2[H7])set k2[H7]=nullset H7=H7+1endloopset HJ=GetUnitAbilityLevel(uc,'A07A')call FL(1.0)if fX[1+GetPlayerId(GetOwningPlayer(uc))]==true thencall UnitRemoveAbility(uc,'A07A')call UnitAddAbility(uc,'A07A')call SetUnitAbilityLevel(uc,'A07A',HJ)endifcall RemoveLocation(vJ)set uc=nullset vJ=nullendfunctionfunction gF takes nothing returns booleanreturn((GetEventDamage()==.24))endfunctionfunction hF takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)if((GetUnitAbilityLevel(u,1093678932)!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A083')!=0))thenset BW=BW+2.0endifif GetUnitAbilityLevel(u,1093678932)!=0 and GetUnitAbilityLevel(u,'A083')!=0 and GetUnitAbilityLevel(u,'A07S')!=0 and GetUnitAbilityLevel(u,1093679154)!=0 thenset BW=BW*4*2endifif fX[i]thenset BW=BW*5endifset cW=bW(u,uc,26,26,BW,'A07A')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,'A07S')!=0))thencall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678915)call IssueTargetOrderById(bj_lastCreatedUnit,$D0102,GetTriggerUnit())call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)endifif((GetUnitAbilityLevel(u,1093679154)!=0))or fX[i]thencall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678916)call IssueTargetOrderById(bj_lastCreatedUnit,$D00F1,GetTriggerUnit())call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction jF takes nothing returns booleanreturn((GetEventDamage()==.25))endfunctionfunction kF takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,1093678932)!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A083')!=0))thenset BW=BW+2.0endifif GetUnitAbilityLevel(u,1093678932)!=0 and GetUnitAbilityLevel(u,'A083')!=0 and GetUnitAbilityLevel(u,'A07S')!=0 and GetUnitAbilityLevel(u,1093679154)!=0 thenset BW=BW*4*2endifif fX[i]thenset BW=BW*5endifset cW=bW(u,uc,6,6,BW,'A07A')if fX[i]thenset cW=bW(u,uc,26,26,BW,'A07A')endifcall gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction nF takes nothing returns booleanreturn((GetSpellAbilityId()=='A06J')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction oF takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A06J')call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetSpellTargetLoc())call SaveReal(Jv,id*cx,-$60249D54,AngleBetweenPoints(LoadLocationHandle(Jv,id*cx,-$72C3E060),LoadLocationHandle(Jv,id*cx,$5E83114F)))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),200.,((LoadReal(Jv,id*cx,-$60249D54))+(120.))))call SaveLocationHandle(Jv,id*cx,$247CC5E5,pu(LoadLocationHandle(Jv,id*cx,-$3348E012),150.,((LoadReal(Jv,id*cx,-$60249D54))+(.0))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,id*cx,$247CC5E5))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$247CC5E5))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),200.,((LoadReal(Jv,id*cx,-$60249D54))+(240.))))call SaveLocationHandle(Jv,id*cx,$247CC5E5,pu(LoadLocationHandle(Jv,id*cx,-$3348E012),150.,((LoadReal(Jv,id*cx,-$60249D54))+(.0))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,id*cx,$247CC5E5))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$247CC5E5))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),1093678932)!=0)and(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07F')!=0))thencall SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),550.,((LoadReal(Jv,id*cx,-$60249D54))+(120.))))call SaveLocationHandle(Jv,id*cx,$247CC5E5,pu(LoadLocationHandle(Jv,id*cx,-$3348E012),150.,((LoadReal(Jv,id*cx,-$60249D54))+(.0))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,id*cx,$247CC5E5))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$247CC5E5))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),550.,((LoadReal(Jv,id*cx,-$60249D54))+(240.))))call SaveLocationHandle(Jv,id*cx,$247CC5E5,pu(LoadLocationHandle(Jv,id*cx,-$3348E012),150.,((LoadReal(Jv,id*cx,-$60249D54))+(.0))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,id*cx,$247CC5E5))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$247CC5E5))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),400.,((LoadReal(Jv,id*cx,-$60249D54))+(120.))))call SaveLocationHandle(Jv,id*cx,$247CC5E5,pu(LoadLocationHandle(Jv,id*cx,-$3348E012),150.,((LoadReal(Jv,id*cx,-$60249D54))+(.0))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,id*cx,$247CC5E5))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$247CC5E5))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),400.,((LoadReal(Jv,id*cx,-$60249D54))+(240.))))call SaveLocationHandle(Jv,id*cx,$247CC5E5,pu(LoadLocationHandle(Jv,id*cx,-$3348E012),150.,((LoadReal(Jv,id*cx,-$60249D54))+(.0))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,id*cx,$247CC5E5))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$247CC5E5))elseif(((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),1093678932)!=0)or(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07F')!=0)))thencall SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),400.,((LoadReal(Jv,id*cx,-$60249D54))+(120.))))call SaveLocationHandle(Jv,id*cx,$247CC5E5,pu(LoadLocationHandle(Jv,id*cx,-$3348E012),150.,((LoadReal(Jv,id*cx,-$60249D54))+(.0))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,id*cx,$247CC5E5))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$247CC5E5))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),400.,((LoadReal(Jv,id*cx,-$60249D54))+(240.))))call SaveLocationHandle(Jv,id*cx,$247CC5E5,pu(LoadLocationHandle(Jv,id*cx,-$3348E012),150.,((LoadReal(Jv,id*cx,-$60249D54))+(.0))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3))call SetUnitAbilityLevel(bj_lastCreatedUnit,LoadInteger(Jv,id*cx,-$2A41B3A3),GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,id*cx,$247CC5E5))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$247CC5E5))endifendifcall GW(GetTriggerUnit(),'A06J',350)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction qF takes nothing returns booleanreturn((GetEventDamage()==.23))endfunctionfunction rF takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,'A07J')!=0))thenset BW=BW+.7endifif((GetUnitAbilityLevel(u,'A07X')!=0))thenset BW=BW+.8endifif GetUnitAbilityLevel(u,'A07J')!=0 and GetUnitAbilityLevel(u,'A07X')!=0 and GetUnitAbilityLevel(u,1093678932)!=0 and GetUnitAbilityLevel(u,'A07F')!=0 thenset BW=BW*4*2endifset cW=bW(u,uc,26.6,26.6,BW,'A06J')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction tF takes nothing returns booleanreturn((GetSpellAbilityId()=='A06L')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction uF takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((UnitHasBuffBJ(GetFilterUnit(),1114467444)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))))endfunctionfunction K2 takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local integer j=LoadInteger(Jv,GetHandleId(t),1)local integer kU=40if UnitHasBuffBJ(u,'Bmlc')and j<kU thencall SaveInteger(Jv,GetHandleId(t),1,j+1)elsecall UnitRemoveAbility(u,'A00S')call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))endifset t=nullset u=nullendfunctionfunction yF takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetSpellTargetUnit()local unit bUlocal location vJ=GetUnitLoc(u)local player p=GetOwningPlayer(u)local location Zzlocal timer t=nullif((GetUnitAbilityLevel(u,'A07Q')!=0))thenset Zz=GetUnitLoc(uc)set bU=GroupPickRandomUnit(pl(1000.,Zz,Condition(function uF)))call CreateNUnitsAtLoc(1,'e000',p,Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A06L')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A06L',GetUnitAbilityLevel(u,'A06L'))call IssueTargetOrderById(bj_lastCreatedUnit,$D0200,bU)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',10.)call RemoveLocation(Zz)set Zz=GetUnitLoc(bU)set bU=GroupPickRandomUnit(pl(1000.,Zz,Condition(function uF)))call CreateNUnitsAtLoc(1,'e000',p,Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A06L')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A06L',GetUnitAbilityLevel(u,'A06L'))call IssueTargetOrderById(bj_lastCreatedUnit,$D0200,bU)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',10.)call RemoveLocation(Zz)set Zz=GetUnitLoc(bU)set bU=GroupPickRandomUnit(pl(1000.,Zz,Condition(function uF)))call CreateNUnitsAtLoc(1,'e000',p,Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A06L')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A06L',GetUnitAbilityLevel(u,'A06L'))call IssueTargetOrderById(bj_lastCreatedUnit,$D0200,bU)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',10.)call RemoveLocation(Zz)set Zz=GetUnitLoc(bU)set bU=GroupPickRandomUnit(pl(1000.,Zz,Condition(function uF)))call CreateNUnitsAtLoc(1,'e000',p,Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A06L')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A06L',GetUnitAbilityLevel(u,'A06L'))call IssueTargetOrderById(bj_lastCreatedUnit,$D0200,bU)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',10.)call RemoveLocation(Zz)endifif((GetUnitAbilityLevel(u,'A07X')!=0))thenset t=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(t),0,u)call UnitAddAbility(u,'A00S')call TimerStart(t,0.5,true,function K2)endifcall GW(u,'A06L',200.)call RemoveLocation(vJ)set u=nullset uc=nullset bU=nullset p=nullset vJ=nullset Zz=nullendfunctionfunction AF takes nothing returns booleanreturn((GetEventDamage()==.26))endfunctionfunction aF takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+bR[i]/ 20local real cW=0.if((GetUnitAbilityLevel(u,'A07P')!=0))thenset BW=BW+.7endifif((GetUnitAbilityLevel(u,'A07G')!=0))thenset BW=BW+.7endifif((GetUnitAbilityLevel(u,'A084')!=0))thenset BW=BW+.8endifif GetUnitAbilityLevel(u,'A07P')!=0 and GetUnitAbilityLevel(u,'A07G')!=0 and GetUnitAbilityLevel(u,'A084')!=0 and GetUnitAbilityLevel(u,'A07Q')!=0 and GetUnitAbilityLevel(u,'A07X')!=0 and GetUnitAbilityLevel(u,'A07R')!=0 thenset BW=BW*6*2endifset cW=bW(u,uc,80.,80.,BW,'A06L')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction bF takes nothing returns booleanreturn((GetSpellAbilityId()=='A06M')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction CF takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A06M')call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07H')!=0))thenset H7=1loopexitwhen H7>4call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),300.,((90.)*(I2R(H7)))))call CreateNUnitsAtLoc(1,1697656883,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00A0)call Gw(20.,bj_lastCreatedUnit)call CreateNUnitsAtLoc(1,1697656884,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call Gw(20.,bj_lastCreatedUnit)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))set H7=H7+1endloopif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A086')!=0)and(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07X')!=0))thenset H7=1loopexitwhen H7>8call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),650.,((45.)*(I2R(H7)))))call CreateNUnitsAtLoc(1,1697656883,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00A0)call Gw(20.,bj_lastCreatedUnit)call CreateNUnitsAtLoc(1,1697656884,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call Gw(20.,bj_lastCreatedUnit)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))set H7=H7+1endloopendifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),1093678935)!=0))thencall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093678670)call Gw(20.,bj_lastCreatedUnit)call ShowUnit(bj_lastCreatedUnit,false)endifelseset H7=1loopexitwhen H7>4call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),300.,((90.)*(I2R(H7)))))call CreateNUnitsAtLoc(1,1697656883,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00A0)call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLoc(1,1697656884,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call Gw(10.,bj_lastCreatedUnit)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))set H7=H7+1endloopif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A086')!=0)and(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),'A07X')!=0))thenset H7=1loopexitwhen H7>8call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),650.,((45.)*(I2R(H7)))))call CreateNUnitsAtLoc(1,1697656883,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00A0)call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLoc(1,1697656884,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call Gw(10.,bj_lastCreatedUnit)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))set H7=H7+1endloopendifif((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),1093678935)!=0))thencall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093678670)call Gw(10.,bj_lastCreatedUnit)call ShowUnit(bj_lastCreatedUnit,false)endifendifcall GW(GetTriggerUnit(),'A06M',250.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction DF takes nothing returns booleanreturn((GetEventDamage()==.27))endfunctionfunction EF takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,'A07P')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A086')!=0))and(GetUnitAbilityLevel(u,'A07X')!=0)thenset BW=BW+1.5endifif GetUnitAbilityLevel(u,'A07P')!=0 and GetUnitAbilityLevel(u,'A086')!=0 and GetUnitAbilityLevel(u,'A07X')!=0 and GetUnitAbilityLevel(u,1093678935)!=0 and GetUnitAbilityLevel(u,'A07H')!=0 thenset BW=BW*5*2endifset cW=bW(u,uc,7.2,7.2,BW,'A06M')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction GF takes nothing returns booleanreturn((GetSpellAbilityId()=='A06P')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction HF takes nothing returns nothinglocal location vJ=GetUnitLoc(GetTriggerUnit())local location Zz=nulllocal integer i=1if((GetUnitAbilityLevel(GetTriggerUnit(),1093679152)!=0)and(GetRandomInt(1,100)<=40))thencall SetUnitManaBJ(GetTriggerUnit(),(GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)+80.))endifcall GW(GetTriggerUnit(),'A06P',250.)if(GetUnitAbilityLevel(GetTriggerUnit(),'A09D')!=0 and GetUnitAbilityLevel(GetTriggerUnit(),'A085')!=0)thenloopexitwhen i>=6set Zz=pu(vJ,200.,60.*i)call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetTriggerUnit()),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A06P')call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D009D,Zz)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(Zz)set i=i+1endloopendifcall RemoveLocation(vJ)set vJ=nullset Zz=nullendfunctionfunction lF takes nothing returns booleanreturn((GetEventDamage()==.29))and IsUnitAliveBJ(GetTriggerUnit())endfunctionfunction JF takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)local location Zz=nullif((GetUnitAbilityLevel(u,'A07O')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A0DN')!=0))thenset BW=BW+.7endifif GetUnitAbilityLevel(u,'A07O')!=0 and GetUnitAbilityLevel(u,'A0DN')!=0 and GetUnitAbilityLevel(u,'A07U')!=0 and GetUnitAbilityLevel(u,'A09D')!=0 and GetUnitAbilityLevel(u,'A085')!=0 and GetUnitAbilityLevel(u,1093679152)!=0 thenset BW=BW*6*2endifset cW=bW(u,uc,40.,40.,BW,'A06P')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,'A07U')!=0)and((IsUnitType((u),(UNIT_TYPE_HERO))!=null)))thenif((GetUnitState(uc,UNIT_STATE_LIFE)<=(.05*(1.*GetUnitState(uc,UNIT_STATE_MAX_LIFE)))))thencall Ww(uc)call SetWidgetLife(uc,1.)elsecall SetWidgetLife(uc,(GetUnitState(uc,UNIT_STATE_LIFE)-(.05*(1.*GetUnitState(uc,UNIT_STATE_MAX_LIFE)))))endifendifif((cR[(1+GetPlayerId(GetOwningPlayer(u)))]>=30)and((IsUnitType((GetEventDamageSource()),(UNIT_TYPE_HERO))!=null)))thencall PW(u,uc,12)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullset Zz=nullendfunctionfunction LF takes nothing returns booleanreturn((GetEventDamage()==.31))endfunctionfunction MF takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)if((GetUnitAbilityLevel(u,'A06J')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A07F')!=0))thenset BW=BW+.8endifif((GetUnitAbilityLevel(u,'A07X')!=0))thenset BW=BW+1.endifif GetUnitAbilityLevel(u,'A06J')!=0 and GetUnitAbilityLevel(u,'A07F')!=0 and GetUnitAbilityLevel(u,'A07X')!=0 and GetUnitAbilityLevel(u,'A06M')!=0 and GetUnitAbilityLevel(u,1093678935)!=0 and GetUnitAbilityLevel(u,'A084')!=0 and GetUnitAbilityLevel(u,1093678930)!=0 thenset BW=BW*7*2endifset cW=bW(u,uc,38.7,38.7,BW,'A071')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,'A06M')!=0)and(GetRandomInt(1,$A)<5)and(UnitHasBuffBJ(uc,1110454323)==false))thencall PW(u,uc,3)endifif((GetUnitAbilityLevel(u,1093678935)!=0)and(GetRandomInt(1,$A)<5)and(UnitHasBuffBJ(uc,'Bcri')==false))thencall PW(u,uc,4)endifif((GetUnitAbilityLevel(u,'A084')!=0)and(GetRandomInt(1,$A)<5)and(UnitHasBuffBJ(uc,1110454324)==false))thencall PW(u,uc,7)endifif((GetUnitAbilityLevel(u,1093678930)!=0))thencall SetWidgetLife(u,(GetUnitState(u,UNIT_STATE_LIFE)+(cW*.02)))endifcall GW(GetEventDamageSource(),'A071',950.)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction OF takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A07M')>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction PF takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction QF takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.local real cW=0.call DestroyEffect(AddSpecialEffectLocBJ(vJ,"war3mapImported\\PhoenixAttack.mdx"))if GetUnitAbilityLevel(u,'A07P')!=0 and GetUnitAbilityLevel(u,'A07G')!=0 and GetUnitAbilityLevel(u,'A084')!=0 and GetUnitAbilityLevel(u,'A07X')!=0 and GetUnitAbilityLevel(u,'A07U')!=0 and GetUnitAbilityLevel(u,1395666994)!=0 and GetUnitAbilityLevel(u,'A06P')!=0 thenset BW=BW*7*2endifset cW=bW(u,uc,12.,16.,BW,'A07M')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,'A07P')!=0)and(GetRandomReal(.0,100.)<=5.)and(UnitHasBuffBJ(uc,'B002')==false))thencall PW(u,uc,1)endifif((GetUnitAbilityLevel(u,'A07G')!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1111844210)==false))thencall PW(u,uc,8)endifif((GetUnitAbilityLevel(u,'A084')!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1111847784)==false))thencall PW(u,uc,13)endifif((GetUnitAbilityLevel(u,'A07X')!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1110454323)==false))thencall PW(u,uc,3)endifif((GetUnitAbilityLevel(u,'A07U')!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,'Bcri')==false))thencall PW(u,uc,4)endifif((GetUnitAbilityLevel(u,1395666994)!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1110454326)==false))thencall PW(u,uc,6)endifif((GetUnitAbilityLevel(u,'A06P')!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,1110454328)==false))thencall PW(u,uc,11)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction RF takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetAttacker())call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call SaveLocationHandle(Jv,id*cx,-$3348E012,GetUnitLoc(GetAttacker()))call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07M')call SaveReal(Jv,id*cx,$2392447A,25.)call SaveReal(Jv,id*cx,$41713DA3,500.)call SaveReal(Jv,id*cx,-$2CEF3086,((3.+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))/ 2.))+(I2R(HR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))])*.06)))call SaveReal(Jv,id*cx,$1968F401,(1.5+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*LoadReal(Jv,id*cx,$1968F401)))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3))==9))thencall SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*10.))endifif((GetRandomReal(.0,100.)<=LoadReal(Jv,id*cx,$2392447A)))thencall ForGroupBJ(pl(LoadReal(Jv,id*cx,$41713DA3),LoadLocationHandle(Jv,id*cx,-$72C3E060),Condition(function PF)),function QF)call GW(GetAttacker(),'A07M',2000.)endifcall RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction TF takes nothing returns booleanreturn((GetEventDamage()==.35))endfunctionfunction UF takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.if((GetUnitAbilityLevel(u,1093678930)!=0))thenset BW=BW+.5endifif((GetUnitAbilityLevel(u,'A06H')!=0))thenset BW=BW+.6endifif((GetUnitAbilityLevel(u,'A089')!=0))thenset BW=BW+.7endifif((GetUnitAbilityLevel(u,'A07S')!=0))thenset BW=BW+.8endifif((GetUnitAbilityLevel(u,1093679154)!=0))thenset BW=BW+.6endifif CX[1+GetPlayerId(GetOwningPlayer(u))]==11 thenset BW=BW*20endifif GetUnitAbilityLevel(u,1093678930)!=0 and GetUnitAbilityLevel(u,'A06H')!=0 and GetUnitAbilityLevel(u,'A089')!=0 and GetUnitAbilityLevel(u,'A07S')!=0 and GetUnitAbilityLevel(u,1093679154)!=0 thenset BW=BW*5*2endifset cW=bW(u,uc,36,36,BW,'A07N')call gW(u,uc,cW)call GW(GetEventDamageSource(),'A07N',3000.)set u=nullset uc=nullendfunctionfunction WF takes nothing returns booleanreturn((GetSpellAbilityId()=='A07E')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction XF takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07E')call GroupAddUnit(j9,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call GW(GetTriggerUnit(),'A07E',100.)call uM(29.)call GroupRemoveUnit(j9,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction ZF takes nothing returns booleanreturn((CountUnitsInGroup(j9)>0))endfunctionfunction dG takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction eG takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetTriggeringTrigger())*LoadInteger(Jv,GetHandleId(GetTriggeringTrigger()),-$1317DA19),$59BEA0CB)local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl"))set cW=bW(u,uc,60.,60.,BW,'A07E')call gW(u,uc,cW)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction fG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())if((IsUnitDeadBJ(GetEnumUnit())))thenelsecall SaveUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB,GetEnumUnit())call SaveLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060,GetUnitLoc(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB)))call SaveInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2A41B3A3,'A07E')call SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086,(((3.+I2R(qO[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))]))+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB),LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2A41B3A3)))/ 2.))+(I2R(cR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))])*.06)))call SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),$1968F401,(10.+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))]))call SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086,(LoadReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086)*(LoadReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),$1968F401)*2.5)))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB),LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2A41B3A3))==9))thencall SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086,(LoadReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086)*10.))endifcall ForGroupBJ(pl(700.,LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060),Condition(function dG)),function eG)call RemoveLocation(LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$3348E012))call rp()endifendfunctionfunction gG takes nothing returns nothingcall ForGroupBJ(j9,function fG)endfunctionfunction iG takes nothing returns booleanreturn((GetSpellAbilityId()=='A07F')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction jG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07F')call GroupAddUnit(k9,LoadUnitHandle(Jv,id*cx,$59BEA0CB))set m9=.0set n9=.0set o9[0]=GetUnitLoc(LoadUnitHandle(Jv,id*cx,$59BEA0CB))set p9=1loopexitwhen p9>48set m9=m9+18.set o9[1]=pu(o9[0],400.,(I2R(p9)*28.))call CreateNUnitsAtLoc(1,1747988531,GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),o9[1],bj_UNIT_FACING)set q9[p9]=bj_lastCreatedUnitcall RemoveLocation(o9[1])call SetUnitAnimation(q9[p9],"birth")call SetUnitFlyHeight(q9[p9],m9,100.)set p9=p9+1endloopcall RemoveLocation(o9[0])call GW(GetTriggerUnit(),'A07F',120.)call uM(15.)call GroupRemoveUnit(k9,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction mG takes nothing returns booleanreturn((CountUnitsInGroup(k9)>0))endfunctionfunction nG takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction oG takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetTriggeringTrigger())*LoadInteger(Jv,GetHandleId(GetTriggeringTrigger()),-$1317DA19),$59BEA0CB)local unit uc=GetEnumUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.set cW=bW(u,uc,4.,4.,BW,'A07F')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction pG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())if((IsUnitDeadBJ(GetEnumUnit())))thenelsecall SaveUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB,GetEnumUnit())call SaveLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060,GetUnitLoc(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB)))set n9=(n9+12.)set p9=1loopexitwhen p9>48set o9[2]=pu(LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060),450.,((I2R(p9)*16.)+n9))call SetUnitPositionLoc(q9[p9],o9[2])call RemoveLocation(o9[2])set p9=p9+1endloopcall SaveInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2A41B3A3,'A07F')call SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086,(((1.+I2R(qO[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))]))+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB),LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2A41B3A3)))/ 2.))+(I2R(XR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))])*.06)))call SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),$1968F401,(.2+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))]))call SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086,(LoadReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086)*LoadReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),$1968F401)))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB),LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2A41B3A3))==9))thencall SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086,(LoadReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086)*10.))endifcall ForGroupBJ(pl(450.,LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060),Condition(function nG)),function oG)call RemoveLocation(LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060))call rp()endifendfunctionfunction qG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call ForGroupBJ(k9,function pG)call FlushChildHashtable(Jv,id*cx)endfunctionfunction sG takes nothing returns booleanreturn((GetSpellAbilityId()=='A07G')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction tG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07G')call GW(GetTriggerUnit(),'A07G',90.)call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction vG takes nothing returns booleanreturn((GetEventDamage()==4.21))endfunctionfunction wG takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.local location vJ=GetUnitLoc(uc)set cW=bW(u,uc,33.,33.,BW,'A07G')call gW(u,uc,cW)if((GetRandomInt(1,50)>=20)and(UnitHasBuffBJ(uc,1110454328)==false))thencall PW(u,uc,11)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction yG takes nothing returns booleanreturn((GetSpellAbilityId()=='A07H')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction zG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetUnitLoc(LoadUnitHandle(Jv,id*cx,$59BEA0CB)))call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07H')call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093681495)call IssueTargetOrderById(bj_lastCreatedUnit,$D0062,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call ShowUnitHide(bj_lastCreatedUnit)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call GW(GetTriggerUnit(),'A07H',90.)call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction aG takes nothing returns booleanreturn((GetEventDamage()==4.13))endfunctionfunction BG takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.set cW=bW(u,uc,50.,50.,BW,'A07H')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction CG takes nothing returns booleanreturn((GetSpellAbilityId()=='A07I')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction cG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07I')call CreateNUnitsAtLoc(1,1697656904,GetOwningPlayer(GetTriggerUnit()),pu(GetUnitLoc(GetTriggerUnit()),325.,0),bj_UNIT_FACING)call Yv(bj_lastCreatedUnit,GetTriggerUnit(),6.,.0,0,20.,.03)call Gw(20.,bj_lastCreatedUnit)call CreateNUnitsAtLoc(1,1697656904,GetOwningPlayer(GetTriggerUnit()),pu(GetUnitLoc(GetTriggerUnit()),325.,120.),bj_UNIT_FACING)call Yv(bj_lastCreatedUnit,GetTriggerUnit(),6.,.0,0,20.,.03)call Gw(20.,bj_lastCreatedUnit)call CreateNUnitsAtLoc(1,1697656904,GetOwningPlayer(GetTriggerUnit()),pu(GetUnitLoc(GetTriggerUnit()),325.,240.),bj_UNIT_FACING)call Yv(bj_lastCreatedUnit,GetTriggerUnit(),6.,.0,0,20.,.03)call Gw(20.,bj_lastCreatedUnit)call GW(GetTriggerUnit(),'A07I',90.)call GroupAddUnit(r9,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call uM(19.)call GroupRemoveUnit(r9,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction EG takes nothing returns booleanreturn((CountUnitsInGroup(r9)>0))endfunctionfunction FG takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction GG takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetTriggeringTrigger())*LoadInteger(Jv,GetHandleId(GetTriggeringTrigger()),-$1317DA19),$59BEA0CB)local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.call DestroyEffect(AddSpecialEffectLocBJ(vJ,"war3mapImported\\CrimsonWake.mdx"))set cW=bW(u,uc,30,30,BW,'A07I')call gW(u,uc,cW)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction HG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())call SaveUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB,ER[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])call SaveLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060,GetUnitLoc(GetEnumUnit()))call SaveInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2A41B3A3,'A07I')call ForGroupBJ(pl(650.,LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060),Condition(function FG)),function GG)call RemoveLocation(LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060))endfunctionfunction IG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call ForGroupBJ(r9,function HG)call FlushChildHashtable(Jv,id*cx)endfunctionfunction JG takes nothing returns booleanreturn((GetSpellAbilityId()=='A07J')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction KG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))set t9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=GetSpellTargetLoc()call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07J')call GW(GetTriggerUnit(),'A07J',80.)call GroupAddUnit(s9,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call uM(20.)call GroupRemoveUnit(s9,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call RemoveLocation(t9[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction MG takes nothing returns booleanreturn((CountUnitsInGroup(s9)>0))endfunctionfunction NG takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction OG takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetTriggeringTrigger())*LoadInteger(Jv,GetHandleId(GetTriggeringTrigger()),-$1317DA19),$59BEA0CB)local unit uc=GetEnumUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.set cW=bW(u,uc,43,43,BW,'A07J')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction PG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())if((IsUnitDeadBJ(GetEnumUnit())))thenelsecall SaveUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB,ER[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))])call SaveLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060,t9[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))])call SaveInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2A41B3A3,'A07J')call SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086,(((1.7+I2R(qO[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))]))+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB),LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2A41B3A3)))/ 2.))+(I2R(bR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))])*.05)))call SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),$1968F401,(8.5+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))]))call SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086,(LoadReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086)*LoadReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),$1968F401)))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB),LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2A41B3A3))==9))thencall SaveReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086,(LoadReal(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$2CEF3086)*10.))endifcall ForGroupBJ(pl(600.,LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060),Condition(function NG)),function OG)call rp()endifendfunctionfunction QG takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call ForGroupBJ(s9,function PG)call FlushChildHashtable(Jv,id*cx)endfunctionfunction SG takes nothing returns booleanreturn((GetSpellAbilityId()=='A086'))endfunctionfunction TG takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction UG takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)local unit uc=GetEnumUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.set cW=bW(u,uc,20,20,BW,'A086')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction VG takes nothing returns nothingif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)>=500.))thencall FlushChildHashtable(Jv,GetHandleId(GetExpiredTimer()))call DestroyTimer(GetExpiredTimer())elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)+10.))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,pu(GetUnitLoc(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)),GetRandomReal(100.,350.),(GetRandomReal(0,360.))))call CreateNUnitsAtLoc(1,1697656908,GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)),LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),bj_UNIT_FACING)call Gw(2.,bj_lastCreatedUnit)call ForGroupBJ(pl(350.,LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),Condition(function TG)),function UG)endifendfunctionfunction WG takes nothing returns nothinglocal timer kylocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A086')call SaveReal(Jv,id*cx,-$2CEF3086,(((2.+I2R(qO[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))/ 2.))+(I2R(cR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))])*.07)))call SaveReal(Jv,id*cx,$1968F401,(8.3+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*LoadReal(Jv,id*cx,$1968F401)))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*1.8))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3))==9))thencall SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*10.))endifcall SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(LoadUnitHandle(Jv,id*cx,$59BEA0CB)))call GW(GetTriggerUnit(),'A086',100.)set H7=1loopexitwhen H7>18call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),256,((20.)*(I2R(H7)))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093679159)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,id*cx,-$3348E012))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))set H7=H7+1endloopset ky=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(ky),$59BEA0CB,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call SaveReal(Jv,GetHandleId(ky),-$2CEF3086,LoadReal(Jv,id*cx,-$2CEF3086))call TimerStart(ky,.3,true,function VG)call FlushChildHashtable(Jv,id*cx)set ky=nullendfunctionfunction YG takes nothing returns booleanreturn((GetEventDamage()==4.22))endfunctionfunction ZG takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.set cW=bW(u,uc,16.6,16.6,BW,'A086')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction e6 takes nothing returns booleanreturn(GetSpellAbilityId()=='A089' and(IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))endfunctionfunction f6 takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)call CreateNUnitsAtLoc(1,'e00M',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A088')call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D7)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',31.)call RemoveLocation(vJ)call GW(GetTriggerUnit(),'A089',100.)set u=nullset vJ=nullendfunctionfunction h6 takes nothing returns booleanreturn(GetEventDamage()==4.35)endfunctionfunction i6 takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.if sw(u,'I09B')thenset BW=BW*8endifset cW=bW(u,uc,45.,45.,BW,'A089')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction k6 takes nothing returns booleanreturn((GetSpellAbilityId()=='A085'))endfunctionfunction m6 takes nothing returns booleanreturn(((IsUnitAliveBJ(GetFilterUnit()))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),1))))))endfunctionfunction o6 takes nothing returns nothingcall GroupRemoveUnit(LoadGroupHandle(Jv,GetHandleId(GetExpiredTimer()),6),GetEnumUnit())endfunctionfunction p6 takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),1)local unit uc=GetEnumUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.local location vJ=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)local location c1=pu(Zz,GetRandomReal(5.,15.),AngleBetweenPoints(vJ,Zz))call PauseUnit(uc,true)call SetUnitPositionLoc(uc,c1)call Jw(1.,AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",uc,"chest"))set cW=bW(u,uc,19.,19.,BW,'A085')call gW(u,uc,cW)call PauseUnit(uc,false)call RemoveLocation(vJ)call RemoveLocation(Zz)call RemoveLocation(c1)set u=nullset uc=nullset vJ=nullset Zz=nullset c1=nullendfunctionfunction q6 takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local location vJ=GetUnitLoc(LoadUnitHandle(Jv,GetHandleId(t),1))local real r=LoadReal(Jv,GetHandleId(t),4)if(r>=500.)thencall KillUnit(u)call RemoveLocation(vJ)call FlushChildHashtable(Jv,GetHandleId(t))call PauseTimer(t)call DestroyTimer(t)elsecall SaveReal(Jv,GetHandleId(t),4,r+10.)call SetUnitPositionLoc(u,vJ)call SaveGroupHandle(Jv,GetHandleId(t),5,pl(r+20.,vJ,Condition(function m6)))call SaveGroupHandle(Jv,GetHandleId(t),6,pl(r+40.,vJ,Condition(function m6)))call SetUnitScalePercent(u,r+10,r+10,r+10)call ForGroupBJ(LoadGroupHandle(Jv,GetHandleId(t),5),function o6)call ForGroupBJ(LoadGroupHandle(Jv,GetHandleId(t),6),function p6)call DestroyGroup(LoadGroupHandle(Jv,GetHandleId(t),5))call DestroyGroup(LoadGroupHandle(Jv,GetHandleId(t),6))call RemoveLocation(vJ)endifset u=nullset t=nullset vJ=nullendfunctionfunction l2 takes nothing returns nothinglocal timer kylocal integer i=1local location vJcall GW(GetTriggerUnit(),'A085',100.)loopexitwhen i>6set vJ=GetUnitLoc(GetTriggerUnit())call Jw(1.,AddSpecialEffectLoc("war3mapImported\\DarkNova.mdx",vJ))call CreateNUnitsAtLoc(1,'e00K',GetOwningPlayer(GetTriggerUnit()),vJ,bj_UNIT_FACING)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',1.)call SetUnitTimeScalePercent(bj_lastCreatedUnit,200.)set ky=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(ky),0,bj_lastCreatedUnit)call SaveUnitHandle(Jv,GetHandleId(ky),1,GetTriggerUnit())call TimerStart(ky,0.02,true,function q6)call TriggerSleepAction(1.5)call RemoveLocation(vJ)set i=i+1endloopset ky=nullset vJ=nullendfunctionfunction O6 takes nothing returns booleanreturn((GetSpellAbilityId()=='A07L'))endfunctionfunction P6 takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(C9)))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction Q6 takes nothing returns nothinglocal unit u=C9local unit uc=GetEnumUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.if sw(u,'I097')thenset BW=BW*8endifset cW=bW(u,uc,35.,35.,BW,'A07L')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction R6 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call DisableTrigger(GetTriggeringTrigger())set C9=GetTriggerUnit()set c9=GetUnitLoc(GetTriggerUnit())call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07L')call SaveReal(Jv,id*cx,-$2CEF3086,(((1.8+I2R(qO[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))/ 2.))+(I2R(cR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))])*.06)))call SaveReal(Jv,id*cx,$1968F401,(9.+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*LoadReal(Jv,id*cx,$1968F401)))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*1.5))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3))==9))thencall SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*10.))endifcall GW(GetTriggerUnit(),'A07L',70.)call TriggerSleepAction(.2)call SaveInteger(Jv,id,-$1317DA19,cx)call PauseUnit(C9,true)call CreateNUnitsAtLoc(1,1747988532,GetOwningPlayer(C9),c9,bj_UNIT_FACING)set D9=bj_lastCreatedUnitcall SetUnitPositionLocFacingLocBJ(C9,pu(c9,800.,135.),c9)call SetUnitAnimation(C9,"ATTACK")call SetUnitPositionLocFacingLocBJ(D9,GetUnitLoc(C9),GetUnitLoc(C9))call TriggerSleepAction(.15)call SaveInteger(Jv,id,-$1317DA19,cx)call SetUnitPositionLocFacingLocBJ(C9,pu(c9,800.,45.),c9)call SetUnitAnimation(C9,"ATTACK")call SetUnitPositionLocFacingLocBJ(D9,GetUnitLoc(C9),GetUnitLoc(C9))call TriggerSleepAction(.15)call SaveInteger(Jv,id,-$1317DA19,cx)call SetUnitPositionLocFacingLocBJ(C9,pu(c9,600.,225.),c9)call SetUnitAnimation(C9,"ATTACK")call SetUnitPositionLocFacingLocBJ(D9,GetUnitLoc(C9),GetUnitLoc(C9))call TriggerSleepAction(.15)call SaveInteger(Jv,id,-$1317DA19,cx)call SetUnitPositionLocFacingLocBJ(C9,pu(c9,900.,90.),c9)call SetUnitAnimation(C9,"ATTACK")call SetUnitPositionLocFacingLocBJ(D9,GetUnitLoc(C9),GetUnitLoc(C9))call TriggerSleepAction(.15)call SaveInteger(Jv,id,-$1317DA19,cx)call SetUnitPositionLocFacingLocBJ(C9,pu(c9,600.,315.),c9)call SetUnitAnimation(C9,"ATTACK")call SetUnitPositionLocFacingLocBJ(D9,GetUnitLoc(C9),GetUnitLoc(C9))call TriggerSleepAction(.15)call SaveInteger(Jv,id,-$1317DA19,cx)call SetUnitPositionLocFacingLocBJ(GetTriggerUnit(),pu(c9,800.,135.),c9)call SetUnitAnimation(C9,"ATTACK")call SetUnitPositionLocFacingLocBJ(D9,GetUnitLoc(C9),GetUnitLoc(C9))call TriggerSleepAction(.15)call SaveInteger(Jv,id,-$1317DA19,cx)call AddLightningLoc("FORK",pu(c9,800.,135.),pu(c9,800.,45.))set E9[1]=bj_lastCreatedLightningcall AddLightningLoc("FORK",pu(c9,800.,45.),pu(c9,600.,225.))set E9[2]=bj_lastCreatedLightningcall AddLightningLoc("FORK",pu(c9,600.,225.),pu(c9,900.,90.))set E9[3]=bj_lastCreatedLightningcall AddLightningLoc("FORK",pu(c9,900.,90.),pu(c9,600.,315.))set E9[4]=bj_lastCreatedLightningcall AddLightningLoc("FORK",pu(c9,600.,315.),pu(c9,800.,135.))set E9[5]=bj_lastCreatedLightningcall SetUnitPositionLocFacingLocBJ(C9,c9,c9)call RemoveUnit(D9)set F9=1loopexitwhen F9>12call AddSpecialEffectLocBJ(pu(c9,100.,(30.*I2R(F9))),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call AddSpecialEffectLocBJ(pu(c9,300.,(30.*I2R(F9))),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)call AddSpecialEffectLocBJ(pu(c9,500.,(30.*I2R(F9))),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)set F9=F9+1endloopcall ForGroupBJ(pl(600.,c9,Condition(function P6)),function Q6)call TriggerSleepAction(1.)call SaveInteger(Jv,id,-$1317DA19,cx)call DestroyLightning(E9[1])call DestroyLightning(E9[2])call DestroyLightning(E9[3])call DestroyLightning(E9[4])call DestroyLightning(E9[5])call PauseUnit(C9,false)call ResetUnitAnimation(C9)call EnableTrigger(jn)call TriggerSleepAction(6.)call SaveInteger(Jv,id,-$1317DA19,cx)call DisableTrigger(jn)call RemoveLocation(c9)call EnableTrigger(in)call FlushChildHashtable(Jv,id*cx)endfunctionfunction T6 takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(C9)))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction U6 takes nothing returns nothinglocal unit u=C9local unit uc=GetEnumUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.set cW=bW(u,uc,18.,18.,BW,'A07L')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction V6 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,C9)call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07L')call SaveLocationHandle(Jv,id*cx,$5E83114F,pu(GetUnitLoc(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),GetRandomReal(100.,350.),(GetRandomReal(0,360.))))call CreateNUnitsAtLoc(1,1697656905,GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call Gw(2.,bj_lastCreatedUnit)call SaveReal(Jv,id*cx,-$2CEF3086,(((1.8+I2R(qO[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))/ 2.))+(I2R(cR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))])*.06)))call SaveReal(Jv,id*cx,$1968F401,(9.*fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*LoadReal(Jv,id*cx,$1968F401)))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*1.5))if((GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3))==9))thencall SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*10.))endifcall ForGroupBJ(pl(400.,LoadLocationHandle(Jv,id*cx,$5E83114F),Condition(function T6)),function U6)call FlushChildHashtable(Jv,id*cx)endfunctionfunction X6 takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A07J')>=1)and(GetRandomReal(.0,100.)<=5.)and(Kd[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction Y6 takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction Z6 takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl"))set cW=bW(u,uc,18.,18.,BW,'A07J')call gW(u,uc,cW)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction dH takes nothing returns nothingif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)>=400.))thencall FlushChildHashtable(Jv,GetHandleId(GetExpiredTimer()))call DestroyTimer(GetExpiredTimer())elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)+11.))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,GetUnitLoc(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),-$2EC5CBA0)))call ForGroupBJ(pl(200.,LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),Condition(function Y6)),function Z6)call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F))endifendfunctionfunction eH takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction fH takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl"))set cW=bW(u,uc,18.,18.,BW,'A07J')call gW(u,uc,cW)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction gH takes nothing returns nothingif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)>=400.))thencall FlushChildHashtable(Jv,GetHandleId(GetExpiredTimer()))call DestroyTimer(GetExpiredTimer())elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)+11.))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,GetUnitLoc(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),-$2EC5CBA0)))call ForGroupBJ(pl(200.,LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),Condition(function eH)),function fH)call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$3348E012))endifendfunctionfunction hH takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction iH takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl"))set cW=bW(u,uc,18.,18.,BW,'A07J')call gW(u,uc,cW)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction jH takes nothing returns nothingif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)>=400.))thencall FlushChildHashtable(Jv,GetHandleId(GetExpiredTimer()))call DestroyTimer(GetExpiredTimer())elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)+11.))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,GetUnitLoc(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),-$2EC5CBA0)))call ForGroupBJ(pl(200.,LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),Condition(function hH)),function iH)call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$3348E012))endifendfunctionfunction kH takes nothing returns nothinglocal timer kylocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetAttacker())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07J')call SaveReal(Jv,id*cx,-$2CEF3086,(((1.6+I2R(qO[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))/ 2.))+(I2R(cR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))])*.07)))call SaveReal(Jv,id*cx,$1968F401,(8.3+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*(LoadReal(Jv,id*cx,$1968F401)*3.)))call SaveLocationHandle(Jv,id*cx,-$6923AD87,GetUnitLoc(GetAttacker()))call CreateTextTagLocBJ("辟邪剑法之流星赶月",LoadLocationHandle(Jv,id*cx,-$6923AD87),0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$6923AD87))call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call CreateNUnitsAtLoc(1,1697656910,GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,bj_lastCreatedUnit)call zw(bj_lastCreatedUnit,GetAttacker(),.5,600.,1500.,2000.,100)call Gw(20.,bj_lastCreatedUnit)set ky=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(ky),$59BEA0CB,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call SaveUnitHandle(Jv,GetHandleId(ky),-$2EC5CBA0,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call SaveReal(Jv,GetHandleId(ky),-$2CEF3086,LoadReal(Jv,id*cx,-$2CEF3086))call TimerStart(ky,.5,true,function dH)call FL(1.)call SaveInteger(Jv,id,-$1317DA19,cx)call CreateNUnitsAtLoc(1,1697656910,GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,bj_lastCreatedUnit)call zw(bj_lastCreatedUnit,GetAttacker(),.5,600.,1500.,2000.,100)call Gw(25.,bj_lastCreatedUnit)set ky=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(ky),$59BEA0CB,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call SaveUnitHandle(Jv,GetHandleId(ky),-$2EC5CBA0,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call SaveReal(Jv,GetHandleId(ky),-$2CEF3086,LoadReal(Jv,id*cx,-$2CEF3086))call TimerStart(ky,.5,true,function gH)call FL(1.)call SaveInteger(Jv,id,-$1317DA19,cx)call CreateNUnitsAtLoc(1,1697656910,GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,bj_lastCreatedUnit)call zw(bj_lastCreatedUnit,GetAttacker(),.5,600.,1500.,2000.,100)call Gw(25.,bj_lastCreatedUnit)set ky=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(ky),$59BEA0CB,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call SaveUnitHandle(Jv,GetHandleId(ky),-$2EC5CBA0,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call SaveReal(Jv,GetHandleId(ky),-$2CEF3086,LoadReal(Jv,id*cx,-$2CEF3086))call TimerStart(ky,.5,true,function jH)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call rp()call FlushChildHashtable(Jv,id*cx)set ky=nullendfunctionfunction nH takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A07L')>=1)and(GetRandomReal(.0,100.)<=6.)and(Qd[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction oH takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,-$6923AD87,GetUnitLoc(GetAttacker()))call CreateTextTagLocBJ("打狗棒法之恶狗拦路",LoadLocationHandle(Jv,id*cx,-$6923AD87),0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$6923AD87))call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$72C3E060),256,((GetUnitPropWindowBJ(GetTriggerUnit()))+(90.))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetAttacker()),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678938)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0271,LoadLocationHandle(Jv,id*cx,-$3348E012))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',12.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$72C3E060))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call FlushChildHashtable(Jv,id*cx)endfunctionfunction qH takes nothing returns booleanreturn((GetEventDamage()==4.51))endfunctionfunction rH takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.set cW=bW(u,uc,35.,35.,BW,'A07L')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction tH takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A07E')>=1)and(GetRandomReal(.0,100.)<=8.)and(Nd[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction uH takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction vH takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)local unit uc=GetEnumUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.set cW=bW(u,uc,70.,70.,BW,'A07E')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction wH takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local location vJ=GetUnitLoc(LoadUnitHandle(Jv,p,$59BEA0CB))if((LoadReal(Jv,p,-$4DA64D97)>=600.))thencall FlushChildHashtable(Jv,p)call PauseTimer(t)call DestroyTimer(t)elsecall SaveReal(Jv,p,-$4DA64D97,(LoadReal(Jv,p,-$4DA64D97)+10.))call SaveLocationHandle(Jv,p,$50525CFC,GetUnitLoc(LoadUnitHandle(Jv,p,$59BEA0CB)))call SaveLocationHandle(Jv,p,-$2103C000,pu(vJ,GetRandomReal(50.,600.),(GetRandomReal(0,360.))))call AddSpecialEffectLocBJ(LoadLocationHandle(Jv,p,-$2103C000),"war3mapImported\\FireStomp.mdx")call DestroyEffect(bj_lastCreatedEffect)call ForGroupBJ(pl(300.,LoadLocationHandle(Jv,p,-$2103C000),Condition(function uH)),function vH)call RemoveLocation(LoadLocationHandle(Jv,p,$50525CFC))call RemoveLocation(LoadLocationHandle(Jv,p,-$2103C000))endifcall RemoveLocation(vJ)set vJ=nullset t=nullendfunctionfunction L2 takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),0))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction m2 takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),0)local unit uc=GetEnumUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.set cW=bW(u,uc,80.,80.,BW,'A07E')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction M2 takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local unit u=LoadUnitHandle(Jv,p,0)local location vJ=GetUnitLoc(u)local location Zz=pu(vJ,GetRandomReal(50.,600.),(GetRandomReal(0,360.)))if((LoadReal(Jv,p,1)>=600.))thencall FlushChildHashtable(Jv,p)call PauseTimer(t)call DestroyTimer(t)elsecall SaveReal(Jv,p,1,LoadReal(Jv,p,1)+10.)call DestroyEffect(AddSpecialEffectLocBJ(Zz,"war3mapImported\\ChaosExplosion.mdl"))call ForGroupBJ(pl(300.,Zz,Condition(function L2)),function m2)endifcall RemoveLocation(vJ)call RemoveLocation(Zz)set t=nullset u=nullset vJ=nullset Zz=nullendfunctionfunction xH takes nothing returns nothinglocal timer t=nulllocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)if Nd[1+GetPlayerId(GetOwningPlayer(u))]==2 and GetRandomInt(1,3)==1 thenset t=CreateTimer()call CreateTextTagLocBJ("降龙十八掌之亢龙有悔",vJ,0,14.,21.,15.,90.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)call SaveUnitHandle(Jv,GetHandleId(t),0,u)call TimerStart(t,.3,true,function M2)elseset t=CreateTimer()call CreateTextTagLocBJ("降龙十八掌之神龙摆尾",vJ,0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)call SaveUnitHandle(Jv,GetHandleId(t),$59BEA0CB,u)call TimerStart(t,.3,true,function wH)endifcall RemoveLocation(vJ)call RemoveLocation(Zz)set t=nullset u=nullset uc=nullset vJ=nullset Zz=nullendfunctionfunction zH takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A086')>=1)and(GetRandomReal(.0,100.)<=8.)and(Od[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction p2 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING))endfunctionfunction P2 takes nothing returns nothingcall gW(GetAttacker(),GetEnumUnit(),4.53)endfunctionfunction AH takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)local unit u=GetAttacker()local group g=CreateGroup()set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call SaveLocationHandle(Jv,id*cx,-$6923AD87,GetUnitLoc(GetAttacker()))call CreateTextTagLocBJ("胡家刀法之八方藏刀式",LoadLocationHandle(Jv,id*cx,-$6923AD87),0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)set H7=1loopexitwhen H7>8call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$6923AD87),256,((45.)*(I2R(H7)))))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetAttacker()),LoadLocationHandle(Jv,id*cx,-$6923AD87),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093679430)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D024B,LoadLocationHandle(Jv,id*cx,-$3348E012))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))set H7=H7+1endloopcall GroupEnumUnitsInRangeOfLoc(g,LoadLocationHandle(Jv,id*cx,-$6923AD87),700,Condition(function p2))call ForGroupBJ(g,function P2)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$6923AD87))call rp()call FlushChildHashtable(Jv,id*cx)call DestroyGroup(g)set u=nullset g=nullendfunctionfunction BH takes nothing returns booleanreturn((GetEventDamage()==4.53))endfunctionfunction bH takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.local location vJ=GetUnitLoc(uc)call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl"))set cW=bW(u,uc,500.,500.,BW,'A086')call gW(u,uc,cW)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction cH takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A089')>=1)and(GetRandomReal(.0,100.)<=5.)and(Pd[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction DH takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call SaveLocationHandle(Jv,id*cx,-$6923AD87,GetUnitLoc(GetAttacker()))call CreateTextTagLocBJ("西毒棍法之蛇盘青竹",LoadLocationHandle(Jv,id*cx,-$6923AD87),0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)set H7=1loopexitwhen H7>12call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$6923AD87),350.,((30.)*(I2R(H7)))))call CreateNUnitsAtLoc(1,1869836340,GetOwningPlayer(GetAttacker()),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))set H7=H7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,-$6923AD87))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction FH takes nothing returns booleanreturn((GetEventDamage()==4.54))endfunctionfunction GH takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.set cW=bW(u,uc,42.,42.,BW,'A089')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction IH takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A07H')>=1)and(GetRandomReal(.0,100.)<=10.)and(Jd[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction lH takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())call SetUnitFlyHeight(GetEnumUnit(),600.,200.)call IssuePointOrderByIdLoc(GetEnumUnit(),$D0012,LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$6923AD87))endfunctionfunction JH takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction KH takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction LH takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetEnumUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.set cW=bW(u,uc,40.,40.,BW,'A07H')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction MH takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetAttacker())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07H')call SaveLocationHandle(Jv,id*cx,-$6923AD87,GetUnitLoc(GetAttacker()))call CreateTextTagLocBJ("反两仪刀法之行气如虹",LoadLocationHandle(Jv,id*cx,-$6923AD87),0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)call SaveGroupHandle(Jv,id*cx,$312C4181,CreateGroup())set H7=1loopexitwhen H7>9call SaveReal(Jv,id*cx,-$6329FB8A,(LoadReal(Jv,id*cx,-$6329FB8A)+45.))call SaveLocationHandle(Jv,id*cx,-$3348E012,pu(LoadLocationHandle(Jv,id*cx,-$6923AD87),700.,LoadReal(Jv,id*cx,-$6329FB8A)))call CreateNUnitsAtLoc(1,1747988528,GetOwningPlayer(GetAttacker()),LoadLocationHandle(Jv,id*cx,-$6923AD87),bj_UNIT_FACING)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,LoadLocationHandle(Jv,id*cx,-$3348E012))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call GroupAddUnit(LoadGroupHandle(Jv,id*cx,$312C4181),bj_lastCreatedUnit)set H7=H7+1endloopcall TriggerSleepAction(3.)call SaveInteger(Jv,id,-$1317DA19,cx)call ForGroupBJ(LoadGroupHandle(Jv,id*cx,$312C4181),function lH)call TriggerSleepAction(3.)call SaveInteger(Jv,id,-$1317DA19,cx)call ForGroupBJ(LoadGroupHandle(Jv,id*cx,$312C4181),function JH)call CreateNUnitsAtLoc(1,1747988529,GetOwningPlayer(GetAttacker()),LoadLocationHandle(Jv,id*cx,-$6923AD87),bj_UNIT_FACING)call SaveUnitHandle(Jv,id*cx,$197A3E5D,bj_lastCreatedUnit)call DestroyGroup(LoadGroupHandle(Jv,id*cx,$312C4181))call TriggerSleepAction(.5)call SaveInteger(Jv,id,-$1317DA19,cx)call AddSpecialEffectLocBJ(LoadLocationHandle(Jv,id*cx,-$6923AD87),"war3mapImported\\LightningWrath.mdx")call DestroyEffect(bj_lastCreatedEffect)call TriggerSleepAction(.3)call SaveInteger(Jv,id,-$1317DA19,cx)call RemoveUnit(LoadUnitHandle(Jv,id*cx,$197A3E5D))call AddSpecialEffectLocBJ(LoadLocationHandle(Jv,id*cx,-$6923AD87),"war3mapImported\\FrostNova.mdx")call DestroyEffect(bj_lastCreatedEffect)call SaveReal(Jv,id*cx,-$2CEF3086,(((2.5+I2R(qO[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))/ 2.))+(I2R(bR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))])*.05)))call SaveReal(Jv,id*cx,$1968F401,(8.+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*(LoadReal(Jv,id*cx,$1968F401)*6.)))call ForGroupBJ(pl(800.,LoadLocationHandle(Jv,id*cx,-$6923AD87),Condition(function KH)),function LH)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$6923AD87))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction OH takes nothing returns booleanreturn((GetEventDamage()==4.55))endfunctionfunction PH takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.set cW=bW(u,uc,20.,20.,BW,'A07H')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction RH takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A07G')>=1)and(GetRandomReal(.0,100.)<=6.)and(Md[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction SH takes nothing returns nothingif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)>=2400.))thencall FlushChildHashtable(Jv,GetHandleId(GetExpiredTimer()))call DestroyTimer(GetExpiredTimer())elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)+20.))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$50525CFC,GetUnitLoc(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$3348E012,pu(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$50525CFC),256,LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB)),LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$50525CFC),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093677131)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$3348E012))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$50525CFC))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$3348E012))endifendfunctionfunction TH takes nothing returns nothinglocal timer kylocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetAttacker())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07G')call SaveLocationHandle(Jv,id*cx,-$6923AD87,GetUnitLoc(GetAttacker()))call CreateTextTagLocBJ("黯然销魂掌之无中生有",LoadLocationHandle(Jv,id*cx,-$6923AD87),0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)set ky=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(ky),$59BEA0CB,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call TimerStart(ky,.1,true,function SH)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$6923AD87))call rp()call FlushChildHashtable(Jv,id*cx)set ky=nullendfunctionfunction VH takes nothing returns booleanreturn((GetEventDamage()==4.56))endfunctionfunction WH takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.set cW=bW(u,uc,36.,36.,BW,'A07G')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction YH takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A07F')>=1)and(GetRandomReal(.0,100.)<=10.)and(ld[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction ZH takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetAttacker())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07F')call SaveLocationHandle(Jv,id*cx,-$6923AD87,GetUnitLoc(GetAttacker()))call CreateTextTagLocBJ("独孤九剑奥义之破剑式",LoadLocationHandle(Jv,id*cx,-$6923AD87),0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)call SaveLocationHandle(Jv,id*cx,$5E83114F,pu(LoadLocationHandle(Jv,id*cx,-$6923AD87),500.,((GetUnitFacing(GetAttacker()))+(180.))))call CreateNUnitsAtLoc(1,1747988530,GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,$5E83114F),GetUnitFacing(GetAttacker()))call Gw(4.,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D02AC,LoadLocationHandle(Jv,id*cx,-$6923AD87))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$6923AD87))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction eI takes nothing returns booleanreturn((GetEventDamage()==4.57))endfunctionfunction fI takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.set cW=bW(u,uc,44.,44.,BW,'A07F')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction hI takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A085')>=1)and(GetRandomReal(.0,100.)<=10.)and(Id[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction iI takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call LM()call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetAttacker())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A085')call SaveLocationHandle(Jv,id*cx,-$6923AD87,GetUnitLoc(GetAttacker()))call CreateTextTagLocBJ("六脉神剑之少商剑",LoadLocationHandle(Jv,id*cx,-$6923AD87),0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$6923AD87),GetUnitFacing(GetAttacker()))call ShowUnitHide(bj_lastCreatedUnit)call Gw(4.,bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093679439)call IssueTargetOrderById(bj_lastCreatedUnit,$D0097,GetTriggerUnit())call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$6923AD87))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction kI takes nothing returns booleanreturn((GetEventDamage()==4.58))endfunctionfunction mI takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])/ 3local real cW=0.set cW=bW(u,uc,300.,300.,BW,'A085')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction oI takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A07I')>=1)and(GetRandomReal(.0,100.)<=10.)and(Ld[(1+GetPlayerId(GetOwningPlayer(GetAttacker())))]>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction pI takes nothing returns booleanreturn(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction qI takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),$59BEA0CB)local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1.+qO[i]/ 3local real cW=0.call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"))set cW=bW(u,uc,44.,44.,BW,'A07I')call gW(u,uc,cW)call RemoveLocation(vJ)set t=nullset u=nullset uc=nullset vJ=nullendfunctionfunction rI takes nothing returns nothingif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)>=420.))thencall FlushChildHashtable(Jv,GetHandleId(GetExpiredTimer()))call DestroyTimer(GetExpiredTimer())elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$4DA64D97)+11.))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,GetUnitLoc(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),-$2EC5CBA0)))call ForGroupBJ(pl(250.,LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),Condition(function pI)),function qI)call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F))endifendfunctionfunction sI takes nothing returns nothinglocal timer kylocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetAttacker())call SaveInteger(Jv,id*cx,-$2A41B3A3,'A07I')call SaveLocationHandle(Jv,id*cx,-$6923AD87,GetUnitLoc(GetAttacker()))call CreateTextTagLocBJ("野球拳之翻肘裂捶",LoadLocationHandle(Jv,id*cx,-$6923AD87),0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$6923AD87))call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(GetTriggerUnit()))call CreateNUnitsAtLoc(1,1697656912,GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$72C3E060),bj_UNIT_FACING)call zw(bj_lastCreatedUnit,GetAttacker(),.5,600.,1500.,2000.,100)call Gw(20.,bj_lastCreatedUnit)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,bj_lastCreatedUnit)call CreateNUnitsAtLoc(1,1697656913,GetOwningPlayer(GetAttacker()),pu(GetUnitLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0)),250.,0),bj_UNIT_FACING)call Yv(bj_lastCreatedUnit,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),6.,.0,0,20.,.03)call Gw(20.,bj_lastCreatedUnit)call CreateNUnitsAtLoc(1,1697656913,GetOwningPlayer(GetAttacker()),pu(GetUnitLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0)),250.,90.),bj_UNIT_FACING)call Yv(bj_lastCreatedUnit,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),6.,.0,0,20.,.03)call Gw(20.,bj_lastCreatedUnit)call CreateNUnitsAtLoc(1,1697656913,GetOwningPlayer(GetAttacker()),pu(GetUnitLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0)),250.,180.),bj_UNIT_FACING)call Yv(bj_lastCreatedUnit,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),6.,.0,0,20.,.03)call Gw(20.,bj_lastCreatedUnit)call CreateNUnitsAtLoc(1,1697656913,GetOwningPlayer(GetAttacker()),pu(GetUnitLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0)),250.,270.),bj_UNIT_FACING)call Yv(bj_lastCreatedUnit,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),6.,.0,0,20.,.03)call Gw(20.,bj_lastCreatedUnit)call SaveReal(Jv,id*cx,-$2CEF3086,(((3.+I2R(qO[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))+(I2R(GetUnitAbilityLevel(LoadUnitHandle(Jv,id*cx,$59BEA0CB),LoadInteger(Jv,id*cx,-$2A41B3A3)))/ 2.))+(I2R(HR[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))])*.07)))call SaveReal(Jv,id*cx,$1968F401,(11.+fA[(1+GetPlayerId(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB))))]))call SaveReal(Jv,id*cx,-$2CEF3086,(LoadReal(Jv,id*cx,-$2CEF3086)*(LoadReal(Jv,id*cx,$1968F401)*3.)))set ky=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(ky),$59BEA0CB,LoadUnitHandle(Jv,id*cx,$59BEA0CB))call SaveUnitHandle(Jv,GetHandleId(ky),-$2EC5CBA0,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call SaveReal(Jv,GetHandleId(ky),-$2CEF3086,LoadReal(Jv,id*cx,-$2CEF3086))call TimerStart(ky,.5,true,function rI)call FlushChildHashtable(Jv,id*cx)set ky=nullendfunctionfunction uI takes nothing returns booleanreturn GetKillingUnit()!=null and((GetUnitAbilityLevel(GetKillingUnit(),'A07O')>0))endfunctionfunction vI takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))set G9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(G9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((G9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=100))thenset G9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call Hl(GetKillingUnit(),2,0,$A)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"防御+10")endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction xI takes nothing returns booleanreturn((GetSpellAbilityId()=='A07P')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction yI takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction zI takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())call SaveLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$3348E012,GetUnitLoc(GetEnumUnit()))call AddLightningLoc("DRAM",LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$72C3E060),LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$3348E012))call Lw(2,bj_lastCreatedLightning)call SaveInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),$45541105,(LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),$45541105)+1))endfunctionfunction AI takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)local integer i=GetUnitAbilityLevel(GetTriggerUnit(),'A07P')if GetUnitAbilityLevel(GetTriggerUnit(),'A0BQ')>=1 thenif sw(GetTriggerUnit(),'I0AM')thencall GW(GetTriggerUnit(),'A07P',150)elsecall GW(GetTriggerUnit(),'A07P',300)endifendifset cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,-$72C3E060,GetUnitLoc(LoadUnitHandle(Jv,id*cx,$59BEA0CB)))call SaveInteger(Jv,id*cx,$45541105,0)call ForGroupBJ(pl(1000.,LoadLocationHandle(Jv,id*cx,-$72C3E060),Condition(function yI)),function zI)call ModifyHeroStat(1,LoadUnitHandle(Jv,id*cx,$59BEA0CB),0,(i*50*LoadInteger(Jv,id*cx,$45541105)))call DisplayTimedTextToPlayer(GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),0,0,5.,("内力提升 ： "+I2S((i*50*LoadInteger(Jv,id*cx,$45541105)))))call uM(20.)call ModifyHeroStat(1,LoadUnitHandle(Jv,id*cx,$59BEA0CB),1,(i*50*LoadInteger(Jv,id*cx,$45541105)))call rp()call FlushChildHashtable(Jv,id*cx)endfunctionfunction BI takes nothing returns booleanreturn GetKillingUnit()!=null and((GetUnitAbilityLevel(GetKillingUnit(),1093678930)>0))endfunctionfunction bI takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))set H9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(H9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((H9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=$C8))thenset H9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call ModifyHeroStat(1,GetKillingUnit(),0,$A)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"内力+10")endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction q2 takes nothing returns booleanreturn(GetUnitAbilityLevel(GetAttacker(),'A0D1')>=1 or GetUnitAbilityLevel(GetAttacker(),'A0D3')>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))endfunctionfunction Q2 takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction S2 takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local real BW=1.local real cW=0.call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"))if GetUnitAbilityLevel(GetAttacker(),'A07S')>=1 thenset BW=BW+1.endifif CX[1+GetPlayerId(GetOwningPlayer(u))]==11 thenset BW=BW*20endifset cW=bW(u,uc,30.,30.,BW,'A0D1')call gW(u,uc,cW)if((GetUnitAbilityLevel(u,'A07N')!=0)and(GetRandomReal(.0,100.)<=10.)and(UnitHasBuffBJ(uc,'B008')==false))thencall PW(u,uc,11)endifcall RemoveLocation(vJ)set vJ=nullset u=nullset uc=nullendfunctionfunction T2 takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(u)local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local real cW=0.local real BW=1.if GetUnitAbilityLevel(GetAttacker(),'A0D1')>=1 thenif GetRandomReal(.0,100.)<=15.+I2R(fR[i])/ 5. thencall ForGroupBJ(pl(500.,vJ,Condition(function Q2)),function S2)call GW(GetAttacker(),'A0D1',700.)endifendifif GetUnitAbilityLevel(GetAttacker(),'A0D3')>=1 thenif GetRandomReal(.0,100.)<=15.+I2R(fR[i])/ 5. thenif GetUnitAbilityLevel(u,'A07S')>=1 thenset BW=BW+1.endifif CX[1+GetPlayerId(GetOwningPlayer(u))]==11 thenset BW=BW*20endifif((GetUnitAbilityLevel(u,'A0D2')!=0)and(GetRandomInt(1,$A)<5)and(UnitHasBuffBJ(uc,'Bcri')==false))thencall PW(u,uc,4)endifif((GetUnitAbilityLevel(u,'A0D6')!=0)and(GetRandomInt(1,$A)<5)and(UnitHasBuffBJ(uc,1110454324)==false))thencall PW(u,uc,7)endifset cW=bW(u,uc,80,64,BW,'A0D3')call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\OrbDarkness\\OrbDarkness.mdl")call DestroyEffect(GetLastCreatedEffectBJ())call gW(u,uc,cW)call GW(u,'A0D3',1050.)endifendifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullset p=nullendfunctionfunction cI takes nothing returns booleanreturn(GetUnitAbilityLevel(GetKillingUnit(),'A07S')>0 or GetUnitAbilityLevel(GetKillingUnit(),'A0D2')>0 or GetUnitAbilityLevel(GetKillingUnit(),'A0D6')>0)endfunctionfunction DI takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)local integer i=1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))set I9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(I9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((I9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=100))thenset I9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0if GetUnitAbilityLevel(GetKillingUnit(),'A07S')>0 thencall ModifyHeroStat(0,GetKillingUnit(),0,$A)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"招式伤害+10")endifif GetUnitAbilityLevel(GetKillingUnit(),'A0D2')>0 thenif GetRandomInt(1,2)==1 thencall ModifyHeroStat(0,GetKillingUnit(),1,$A)call ModifyHeroStat(1,GetKillingUnit(),0,30)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"招式伤害-10")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"内力+30")elsecall ModifyHeroStat(2,GetKillingUnit(),0,$A)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"真实伤害+10")endifendifif GetUnitAbilityLevel(GetKillingUnit(),'A0D6')>0 thenif GetRandomInt(1,6)==1 thenset XR[i]=XR[i]+1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"悟性+1")elseif GetRandomInt(1,5)==1 thenset cR[i]=cR[i]+1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"根骨+1")elseif GetRandomInt(1,4)==1 thenset HR[i]=HR[i]+1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"胆魄+1")elseif GetRandomInt(1,3)==1 thenset JR[i]=JR[i]+1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"医术+1")elseif GetRandomInt(1,2)==1 thenset bR[i]=bR[i]+1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"经脉+1")elseset fR[i]=fR[i]+1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"福缘+1")endifif GetRandomInt(1,5)<=3 thenif GetRandomInt(1,6)==1 thenset XR[i]=XR[i]-1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"悟性-1")elseif GetRandomInt(1,5)==1 thenset cR[i]=cR[i]-1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"根骨-1")elseif GetRandomInt(1,4)==1 thenset HR[i]=HR[i]-1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"胆魄-1")elseif GetRandomInt(1,3)==1 thenset JR[i]=JR[i]-1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"医术-1")elseif GetRandomInt(1,2)==1 thenset bR[i]=bR[i]-1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"经脉-1")elseset fR[i]=fR[i]-1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"福缘-1")endifendifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction FI takes nothing returns booleanreturn((GetSpellAbilityId()=='A07U')and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction GI takes nothing returns nothingcall UnitResetCooldown(GetTriggerUnit())endfunctionfunction II takes nothing returns booleanreturn GetKillingUnit()!=null and((GetUnitAbilityLevel(GetKillingUnit(),'A0DN')>0))endfunctionfunction lI takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))set l9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(l9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((l9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=100))thenset l9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"生命值提高2000")call YJ('I04T',GetKillingUnit())endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction u2 takes nothing returns booleanlocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if aX==true thenreturn falseendifif xX==true or IsUnitType(u,UNIT_TYPE_HERO)==false thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000青龙圣兽正在安睡")set u=nullset p=nullreturn falseendifset u=nullset p=nullreturn trueendfunctionfunction U2 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if fR[i]<30 or GetRandomInt(1,3)!=1 thenset xX=truecall DisplayTextToPlayer(p,0,0,"|cFFFF0000汝等凡夫俗子与圣兽无缘")call FL(2.00)set xX=falseelseif fR[i]>=40 and GetRandomInt(1,5)==1 thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000少侠为有缘人，青龙圣兽愿助尔一臂之力")call UnitRemoveAbility(yE,'Avul')call SetUnitOwner(yE,p,true)call ShowUnitShow(yE)set aX=trueelsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000青龙圣兽现世，你能打败它吗？")call UnitRemoveAbility(yE,'Avul')call SetUnitOwner(yE,Player(12),true)call ShowUnitShow(yE)set aX=trueendifset u=nullset p=nullendfunctionfunction W2 takes nothing returns booleanlocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if nX==true thenreturn falseendifif oX==true or IsUnitType(u,UNIT_TYPE_HERO)==false thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000白虎圣兽正在安睡")set u=nullset p=nullreturn falseendifset u=nullset p=nullreturn trueendfunctionfunction Y2 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if fR[i]<20 or GetRandomInt(1,3)!=1 thenset oX=truecall DisplayTextToPlayer(p,0,0,"|cFFFF0000汝等凡夫俗子与圣兽无缘")call FL(2.00)set oX=falseelseif fR[i]>=30 and GetRandomInt(1,5)==1 thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000少侠为有缘人，白虎圣兽愿助尔一臂之力")call UnitRemoveAbility(zE,'Avul')call SetUnitOwner(zE,p,true)call ShowUnitShow(zE)set nX=trueelsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000白虎圣兽现世，你能打败它吗？")call UnitRemoveAbility(zE,'Avul')call SetUnitOwner(zE,Player(12),true)call ShowUnitShow(zE)set nX=trueendifset u=nullset p=nullendfunctionfunction z2 takes nothing returns booleanlocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if VX==true thenreturn falseendifif rX==true or IsUnitType(u,UNIT_TYPE_HERO)==false thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000玄武圣兽正在安睡")set u=nullset p=nullreturn falseendifset u=nullset p=nullreturn trueendfunctionfunction Z2 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if fR[i]<15 or GetRandomInt(1,3)!=1 thenset rX=truecall DisplayTextToPlayer(p,0,0,"|cFFFF0000汝等凡夫俗子与圣兽无缘")call FL(2.00)set rX=falseelseif fR[i]>=25 and GetRandomInt(1,5)==1 thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000少侠为有缘人，玄武圣兽愿助尔一臂之力")call UnitRemoveAbility(vX,'Avul')call SetUnitOwner(vX,p,true)call ShowUnitShow(vX)set VX=trueelsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000玄武圣兽现世，你能打败它吗？")call UnitRemoveAbility(vX,'Avul')call SetUnitOwner(vX,Player(12),true)call ShowUnitShow(vX)set VX=trueendifset u=nullset p=nullendfunctionfunction o3 takes nothing returns booleanlocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if EX==true thenreturn falseendifif iX==true or IsUnitType(u,UNIT_TYPE_HERO)==false thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000朱雀圣兽正在安睡")set u=nullset p=nullreturn falseendifset u=nullset p=nullreturn trueendfunctionfunction R3 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if fR[i]<25 or GetRandomInt(1,3)!=1 thenset iX=truecall DisplayTextToPlayer(p,0,0,"|cFFFF0000汝等凡夫俗子与圣兽无缘")call FL(2.00)set iX=falseelseif fR[i]>=35 and GetRandomInt(1,5)==1 thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000少侠为有缘人，朱雀圣兽愿助尔一臂之力")call UnitRemoveAbility(eX,'Avul')call SetUnitOwner(eX,p,true)call ShowUnitShow(eX)set EX=trueelsecall DisplayTextToPlayer(p,0,0,"|cFFFF0000朱雀圣兽现世，你能打败它吗？")call UnitRemoveAbility(eX,'Avul')call SetUnitOwner(eX,Player(12),true)call ShowUnitShow(eX)set EX=trueendifset u=nullset p=nullendfunctionfunction N3 takes nothing returns booleanreturn IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))and IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetAttacker(),'A04E')!=0endfunctionfunction B3 takes nothing returns nothingif GetRandomInt(1,100)==1 thencall KillUnit(GetAttackedUnitBJ())call CreateTextTagLocBJ("圣兽之击",GetUnitLoc(GetAttacker()),0,14.,90.,21.,15.,.0)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,(GetRandomReal(80.,100.)))call Nw(4.,bj_lastCreatedTextTag)endifendfunctionfunction c3 takes nothing returns nothinglocal trigger t=CreateTrigger()set yE=CreateUnit(Player(15),'o01D',920.,-10149.,276.63)set zE=CreateUnit(Player(15),'o01E',1850.1,-10171.1,270.564)set vX=CreateUnit(Player(15),'o01F',947.7,-11312.4,93.469)set eX=CreateUnit(Player(15),'o01G',1816.8,-11288.6,96.447)call ShowUnitHide(yE)call ShowUnitHide(zE)call ShowUnitHide(vX)call ShowUnitHide(eX)call TriggerRegisterUnitInRangeSimple(t,256,yE)call TriggerAddCondition(t,Condition(function u2))call TriggerAddAction(t,function U2)set t=CreateTrigger()call TriggerRegisterUnitInRangeSimple(t,256,zE)call TriggerAddCondition(t,Condition(function W2))call TriggerAddAction(t,function Y2)set t=CreateTrigger()call TriggerRegisterUnitInRangeSimple(t,256,vX)call TriggerAddCondition(t,Condition(function z2))call TriggerAddAction(t,function Z2)set t=CreateTrigger()call TriggerRegisterUnitInRangeSimple(t,256,eX)call TriggerAddCondition(t,Condition(function o3))call TriggerAddAction(t,function R3)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function N3))call TriggerAddAction(t,function B3)set t=nullendfunctionfunction d3 takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A04L')>=1endfunctionfunction F3 takes nothing returns nothinglocal location array plocal real rlocal real r1local real r2local integer alocal integer blocal integer i=0local unit u=GetAttacker()local unit bU=nulllocal unit array h3local player k3=GetOwningPlayer(u)local integer id=0local real DD=RMinBJ(GetCameraField(CAMERA_FIELD_TARGET_DISTANCE),2500)if((GetUnitTypeId(GetAttacker())=='O004'))thenset id=1747988533elseif((GetUnitTypeId(GetAttacker())=='O001'))thenset id=1747988535elseif((GetUnitTypeId(GetAttacker())=='O002'))thenset id=1747988536elseif((GetUnitTypeId(GetAttacker())=='O003'))thenset id=1747988537elseif((GetUnitTypeId(GetAttacker())=='O000'))thenset id=1747988534elseif((GetUnitTypeId(GetAttacker())=='O023' or GetUnitTypeId(GetAttacker())=='O02H' or GetUnitTypeId(GetAttacker())=='O02I'))thenset id='h00I'elseif((GetUnitTypeId(GetAttacker())=='O02J'))thenset id='h00K'endifset p[0]=GetUnitLoc(u)call CreateNUnitsAtLoc(1,id,k3,p[0],GetUnitFacing(u))set bU=bj_lastCreatedUnitset p[17]=AD(p[0],300,GetUnitFacing(u))set r=GetUnitFacing(u)+270set p[0]=p[17]set p[1]=AD(p[0],241.96,(-47.89+r))set p[2]=AD(p[0],258.87,(-66.01+r))set p[3]=AD(p[0],263.73,(-82.54+r))set p[4]=AD(p[0],238.72,(-111.24+r))set p[5]=AD(p[0],219.18,(-139.53+r))set p[6]=AD(p[0],220.88,(-170.75+r))set p[7]=AD(p[0],237.01,(159.50+r))set p[8]=AD(p[0],432.59,(159.71+r))set p[9]=AD(p[0],257.35,(133.15+r))set p[10]=AD(p[0],639.01,(117.27+r))set p[11]=AD(p[0],238.57,(104.94+r))set p[12]=AD(p[0],775.44,(102.34+r))set p[13]=AD(p[0],208.18,(67.62+r))set p[14]=AD(p[0],687.95,(87.44+r))set p[15]=AD(p[0],208.61,(-29.12+r))set p[16]=AD(p[0],521.16,(65.24+r))call UnitAddAbilityBJ('Aloc',bU)call SetCameraFieldForPlayer(k3,CAMERA_FIELD_TARGET_DISTANCE,4000.00,2.00)call SetUnitFlyHeight(bU,2000.00,400.00)call IssuePointOrderLoc(bU,"move",p[0])call FL(2.00)call SetUnitFlyHeight(bU,0.00,800.00)set a=1set b=6loopexitwhen a>bset p[18]=AD(p[0],110.00,(60.00*I2R(a)))call CreateNUnitsAtLoc(1,'e019',k3,p[18],0)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)set a=a+1set h3[i]=bj_lastCreatedUnitset i=i+1call RemoveLocation(p[18])endloopset a=0set b=16loopexitwhen a>bcall CreateNUnitsAtLoc(1,'e019',k3,p[a],0)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)set h3[i]=bj_lastCreatedUnitset i=i+1set a=a+1endloopset a=1set b=3loopexitwhen a>bset r1=DistanceBetweenPoints(p[9],p[10])*(I2R(a)/ 4.00)set r2=AngleBetweenPoints(p[9],p[10])set p[18]=AD(p[9],r1,r2)call CreateNUnitsAtLoc(1,'e019',k3,p[18],0)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)set h3[i]=bj_lastCreatedUnitset i=i+1set r1=DistanceBetweenPoints(p[13],p[14])*(I2R(a)/ 4.00)set r2=AngleBetweenPoints(p[13],p[14])set p[18]=AD(p[13],r1,r2)call CreateNUnitsAtLoc(1,'e019',k3,p[18],0)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)set h3[i]=bj_lastCreatedUnitset i=i+1set a=a+1endloopset a=1set b=4loopexitwhen a>bset r1=DistanceBetweenPoints(p[11],p[12])*(I2R(a)/ 5.00)set r2=AngleBetweenPoints(p[11],p[12])set p[18]=AD(p[11],r1,r2)call CreateNUnitsAtLoc(1,'e019',k3,p[18],0)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)set h3[i]=bj_lastCreatedUnitset i=i+1set a=a+1endloopset a=1set b=5loopexitwhen a>bset r1=DistanceBetweenPoints(p[15],p[16])*(I2R(a)/ 6.00)set r2=AngleBetweenPoints(p[15],p[16])set p[18]=AD(p[15],r1,r2)call CreateNUnitsAtLoc(1,'e019',k3,p[18],0)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)set h3[i]=bj_lastCreatedUnitset i=i+1set a=a+1endloopset r1=DistanceBetweenPoints(p[7],p[8])/ 2.00set r2=AngleBetweenPoints(p[7],p[8])set p[18]=AD(p[7],r1,r2)call CreateNUnitsAtLoc(1,'e019',k3,p[18],0)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)set h3[i]=bj_lastCreatedUnitcall CameraSetEQNoiseForPlayer(k3,10.00)call SetCameraFieldForPlayer(GetOwningPlayer(u),CAMERA_FIELD_TARGET_DISTANCE,DD,5.00)call CinematicFilterGenericBJ(5.00,BLEND_MODE_BLEND,"ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp",0.00,0.00,0.00,0.00,100.00,100.00,100.00,100.00)set a=0set b=iloopexitwhen a>bcall SetUnitTimeScale(h3[a],0.80)set a=a+1endloopcall FL(2.20)set a=0set b=iloopexitwhen a>bcall SetUnitTimeScale(h3[a],0.02)set a=a+1endloopcall UnitRemoveAbilityBJ('Aloc',bU)call ShowUnitHide(bU)call ShowUnitShow(bU)call RemoveUnit(bU)call FL(4.00)call CameraClearNoiseForPlayer(k3)set a=0set b=18loopexitwhen a>bcall RemoveLocation(p[a])set p[a]=nullset a=a+1endloopset a=0set b=iloopexitwhen a>bset h3[a]=nullset a=a+1endloopset u=nullset a=0set b=0set i=0set r=0.00set r1=0.00set r2=0.00set k3=nullendfunctionfunction l3 takes nothing returns booleanreturn(GetEventDamage()==5.17)and(GetUnitAbilityLevel(ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))],'A04L')>=1)endfunctionfunction M3 takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.set cW=bW(u,uc,65,75,BW,'A04L')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction t3 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function d3))call TriggerAddAction(t,function F3)set t=CreateTrigger()call Ov(t)call TriggerAddCondition(t,Condition(function l3))call TriggerAddAction(t,function M3)set t=nullendfunctionfunction U3 takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local item it=LoadItemHandle(Jv,GetHandleId(t),1)call UnitRemoveItem(u,it)call FlushChildHashtable(Jv,GetHandleId(t))call DestroyTimer(t)set t=nullset u=nullset it=nullendfunctionfunction w3 takes integer id,integer z3 returns integerlocal integer Z3set Z3=Tg()set bc[Z3]=z3set dc[Z3]=idreturn Z3endfunctionfunction I4 takes integer wF,unit u,item it returns booleanif kR[1+GetPlayerId(GetOwningPlayer(u))]==2 and GetItemTypeId(it)=='I09C' thenset Dc[wF]=trueendifif kR[1+GetPlayerId(GetOwningPlayer(u))]==3 and GetItemTypeId(it)=='I097' thenset Dc[wF]=trueendifif kR[1+GetPlayerId(GetOwningPlayer(u))]==6 and GetItemTypeId(it)=='I098' thenset Dc[wF]=trueendifif kR[1+GetPlayerId(GetOwningPlayer(u))]==11 and(GetItemTypeId(it)=='I09B' or GetItemTypeId(it)=='I09D')thenset Dc[wF]=trueendifif JI[1+GetPlayerId(GetOwningPlayer(u))]<bc[wF]and Dc[wF]==false and Ce[1+GetPlayerId(GetOwningPlayer(u))]!=3 thencall DisplayTextToPlayer(GetOwningPlayer(u),0,0,"需历练"+I2S(bc[wF])+"以上方可冶炼该武器")call AdjustPlayerStateBJ(60000,GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD)return falseendifreturn trueendfunctionfunction N4 takes integer wF,unit u,item it returns nothinglocal timer t=CreateTimer()if kR[1+GetPlayerId(GetOwningPlayer(u))]==2 and GetItemTypeId(it)=='I09C' thenset Dc[wF]=trueendifif kR[1+GetPlayerId(GetOwningPlayer(u))]==3 and GetItemTypeId(it)=='I097' thenset Dc[wF]=trueendifif kR[1+GetPlayerId(GetOwningPlayer(u))]==6 and GetItemTypeId(it)=='I098' thenset Dc[wF]=trueendifif GetItemTypeId(it)=='I09B' or GetItemTypeId(it)=='I09D' thenset Dc[wF]=trueendifif JI[1+GetPlayerId(GetOwningPlayer(u))]<bc[wF]and Dc[wF]==false and Ce[1+GetPlayerId(GetOwningPlayer(u))]!=3 thencall DisplayTextToPlayer(GetOwningPlayer(u),0,0,"需历练"+I2S(bc[wF])+"以上方可使用该武器")call SaveUnitHandle(Jv,GetHandleId(t),0,u)call SaveItemHandle(Jv,GetHandleId(t),1,it)call TimerStart(t,0.,false,function U3)endifset t=nullendfunctionfunction F4 takes nothing returns booleanlocal integer j=1if GetItemTypeId(GetManipulatedItem())=='I0BG' thenif(GetItemType(UnitItemInSlotBJ(GetTriggerUnit(),1))!=ITEM_TYPE_ARTIFACT)thencall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10,"|cffff0000装备栏第一格不是武器")call AdjustPlayerStateBJ(60000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)return falseelseloopexitwhen j>=30if GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1))==dc[XX[j]]thenif I4(XX[j],GetTriggerUnit(),UnitItemInSlotBJ(GetTriggerUnit(),1))thenreturn trueelsereturn falseendifendifset j=j+1endloopreturn trueendifendifreturn falseendfunctionfunction G4 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local item it=UnitItemInSlotBJ(u,1)local integer id=GetItemTypeId(it)local real H4=LoadReal(Jv,id,StringHash("招式伤害"))local real j4=LoadReal(Jv,id,StringHash("内力"))local real J4=LoadReal(Jv,id,StringHash("真实伤害"))local real l4=LoadReal(Jv,id,StringHash("暴击伤害"))local real M4=LoadReal(Jv,id,StringHash("暴击率"))local real Z4=LoadReal(Jv,id,StringHash("绝学领悟"))local real v5=LoadReal(Jv,id,StringHash("根骨"))+LoadReal(Jv,id,StringHash("全属性"))local real e5=LoadReal(Jv,id,StringHash("胆魄"))+LoadReal(Jv,id,StringHash("全属性"))local real o5=LoadReal(Jv,id,StringHash("悟性"))+LoadReal(Jv,id,StringHash("全属性"))local real r5=LoadReal(Jv,id,StringHash("医术"))+LoadReal(Jv,id,StringHash("全属性"))local real a5=LoadReal(Jv,id,StringHash("经脉"))+LoadReal(Jv,id,StringHash("全属性"))local real V5=LoadReal(Jv,id,StringHash("福缘"))+LoadReal(Jv,id,StringHash("全属性"))local real E5=LoadReal(Jv,id,StringHash("伤害回复"))local real X5=LoadReal(Jv,id,StringHash("杀怪回复"))local real C5=LoadReal(Jv,id,StringHash("生命回复"))local real h5=LoadReal(Jv,id,StringHash("法力回复"))local real H5=LoadReal(Jv,id,StringHash("升级概率"))+LoadReal(Jv,GetHandleId(it),StringHash("升级概率"))if dI[i]<=2000 thencall DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000声望不足2000不可以冶炼武器")call AdjustPlayerStateBJ(60000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)elseif H5<=0. thencall DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000该武器已不可继续冶炼")call AdjustPlayerStateBJ(60000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)elseif GetRandomReal(0.,100.)<H5 thencall DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000恭喜你，冶炼成功")if OA[i]==false and Ce[i]==3 thenset xA[i]=xA[i]+1call DisplayTextToPlayer(p,0,0,"|CFF66FF00恭喜您冶炼成功第"+I2S(xA[i])+"次，您需要冶炼成功5次才能获得兵器大师哦")endifif xA[i]>=5 and OA[i]==false and Ce[i]==3 thenset OA[i]=trueif DX[i]==true thenelsecall SaveStr(Jv,GetHandleId(p),GetHandleId(p),"〓兵器大师〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15,"|CFF66FF00恭喜"+GetPlayerName(p)+"获得兵器大师")call SetPlayerName(p,"〓兵器大师〓"+GetPlayerName(p))endifif id!='I0BH' thencall RemoveItem(UU(u,id))set it=UnitAddItemById(u,'I0BH')elseset H4=LoadReal(Jv,GetHandleId(it),StringHash("招式伤害"))set j4=LoadReal(Jv,GetHandleId(it),StringHash("内力"))set J4=LoadReal(Jv,GetHandleId(it),StringHash("真实伤害"))set l4=LoadReal(Jv,GetHandleId(it),StringHash("暴击伤害"))set M4=LoadReal(Jv,GetHandleId(it),StringHash("暴击率"))set Z4=LoadReal(Jv,GetHandleId(it),StringHash("绝学领悟"))set v5=LoadReal(Jv,GetHandleId(it),StringHash("根骨"))set e5=LoadReal(Jv,GetHandleId(it),StringHash("胆魄"))set o5=LoadReal(Jv,GetHandleId(it),StringHash("悟性"))set r5=LoadReal(Jv,GetHandleId(it),StringHash("医术"))set a5=LoadReal(Jv,GetHandleId(it),StringHash("经脉"))set V5=LoadReal(Jv,GetHandleId(it),StringHash("福缘"))set E5=LoadReal(Jv,GetHandleId(it),StringHash("伤害回复"))set X5=LoadReal(Jv,GetHandleId(it),StringHash("杀怪回复"))set C5=LoadReal(Jv,GetHandleId(it),StringHash("生命回复"))set h5=LoadReal(Jv,GetHandleId(it),StringHash("法力回复"))endifif OA[i]thenset H5=H5*LU(0.78,0.95)elseset H5=H5*LU(0.68,0.95)endifif H5<3. thenset H5=0.endifif YX[i]>=1 thenset H5=RMinBJ(H5*GetRandomReal(1.0,1.04),100.)endifcall SaveReal(Jv,GetHandleId(it),StringHash("升级概率"),H5)call UnitRemoveItem(u,it)call SaveReal(Jv,GetHandleId(it),StringHash("招式伤害"),(LU(0.,100.)+H4)*LU(1.0,1.3))call SaveReal(Jv,GetHandleId(it),StringHash("内力"),(LU(0.,100.)+j4)*LU(1.0,1.3))call SaveReal(Jv,GetHandleId(it),StringHash("真实伤害"),(LU(0.,100.)+J4)*LU(1.0,1.3))call SaveReal(Jv,GetHandleId(it),StringHash("暴击伤害"),l4*LU(1.0,1.1))call SaveReal(Jv,GetHandleId(it),StringHash("暴击率"),M4*LU(1.0,1.05))call SaveReal(Jv,GetHandleId(it),StringHash("绝学领悟"),Z4*LU(1.0,1.25))call SaveReal(Jv,GetHandleId(it),StringHash("根骨"),(GetRandomReal(0.,0.4)+v5)*LU(1.0,1.15))call SaveReal(Jv,GetHandleId(it),StringHash("胆魄"),(GetRandomReal(0.,0.4)+e5)*LU(1.0,1.15))call SaveReal(Jv,GetHandleId(it),StringHash("悟性"),(GetRandomReal(0.,0.4)+o5)*LU(1.0,1.15))call SaveReal(Jv,GetHandleId(it),StringHash("医术"),(GetRandomReal(0.,0.4)+r5)*LU(1.0,1.15))call SaveReal(Jv,GetHandleId(it),StringHash("经脉"),(GetRandomReal(0.,0.4)+a5)*LU(1.0,1.15))call SaveReal(Jv,GetHandleId(it),StringHash("福缘"),(GetRandomReal(0.,0.4)+V5)*LU(1.0,1.15))call SaveReal(Jv,GetHandleId(it),StringHash("伤害回复"),E5*LU(1.0,1.3))call SaveReal(Jv,GetHandleId(it),StringHash("杀怪回复"),X5*LU(1.0,1.3))call SaveReal(Jv,GetHandleId(it),StringHash("生命回复"),C5*LU(1.0,1.3))call SaveReal(Jv,GetHandleId(it),StringHash("法力回复"),h5*LU(1.0,1.3))elsecall DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000很遗憾，冶炼失败,声望减少100点")set H5=H5*LU(0.95,0.99)if H5<3. thenset H5=0.endifcall SaveReal(Jv,GetHandleId(it),StringHash("升级概率"),H5)set dI[i]=dI[i]-100endifendifset u=nullset p=nullset it=nullendfunctionfunction J5 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function F4))call TriggerAddAction(t,function G4)set t=nullendfunctionfunction k5 takes nothing returns nothingset XX[1]=w3('I01E',0)set XX[2]=w3('I01F',0)set XX[3]=w3('I01S',0)set XX[4]=w3('I020',0)set XX[5]=w3('I021',0)set XX[6]=w3('I016',1)set XX[7]=w3('I01L',1)set XX[8]=w3('I01N',1)set XX[9]=w3('I013',2)set XX[10]=w3('I04F',2)set XX[11]=w3('I00X',3)set XX[12]=w3('I099',3)set XX[13]=w3('I09A',3)set XX[14]=w3('I00P',4)set XX[15]=w3('I00Q',4)set XX[16]=w3('I00B',5)set XX[17]=w3('I00C',5)set XX[18]=w3('I00D',5)set XX[19]=w3('I08V',5)set XX[20]=w3('I097',6)set XX[21]=w3('I098',6)set XX[22]=w3('I09B',6)set XX[23]=w3('I09C',6)set XX[24]=w3('I09D',6)endfunctionfunction M5 takes nothing returns nothingcall CreateDestructableZ('YTfb',3616,-4384,0,270,1,0)call CreateDestructableZ('NTtc',224,4896,0,270,1.08,2)call CreateDestructableZ('NTtc',32,4384,0,270,1.08,2)call CreateDestructableZ('NTtw',-128,4224,0,270,1.18,9)call CreateDestructableZ('NTtw',128,4160,0,270,1.15,3)call CreateDestructableZ('NTtw',-128,3840,0,270,1.15,5)call CreateDestructableZ('NTtw',576,4672,0,270,.89,7)call CreateDestructableZ('NTtw',384,5440,0,270,1.05,5)call CreateDestructableZ('NTtw',256,5504,0,270,.88,0)call CreateDestructableZ('NTtw',-192,5888,0,270,.93,0)call CreateDestructableZ('NTtw',-320,5952,0,270,.87,5)call CreateDestructableZ('NTtw',-1344,5952,0,270,.88,6)call CreateDestructableZ('NTtw',-1472,5952,0,270,1.01,9)call CreateDestructableZ('NTtw',-2240,5824,0,270,.9,1)call CreateDestructableZ('NTtw',-1856,5504,0,270,1.19,0)call CreateDestructableZ('NTtw',-1728,5248,0,270,.95,6)call CreateDestructableZ('NTtw',-1664,5120,0,270,.96,7)call CreateDestructableZ('NTtw',-1664,4800,0,270,.96,3)call CreateDestructableZ('NTtw',-1408,4480,0,270,1.19,5)call CreateDestructableZ('NTtw',-1216,4160,0,270,1.19,2)call CreateDestructableZ('NTtw',-1280,4032,0,270,.82,7)call CreateDestructableZ('NTtw',-1344,3776,0,270,.93,6)call CreateDestructableZ('NTtw',-1472,3584,0,270,.93,5)call CreateDestructableZ('NTtw',-1408,3392,0,270,.86,7)call CreateDestructableZ('NTtw',-1280,3072,0,270,1.1,7)call CreateDestructableZ('NTtw',-1216,2880,0,270,1.01,4)call CreateDestructableZ('NTtw',-1216,2752,0,270,.97,5)call CreateDestructableZ('NTtw',-1344,2432,0,270,.91,1)call CreateDestructableZ('NTtw',-1600,2432,0,270,1.06,2)call CreateDestructableZ('NTtw',-1792,2496,0,270,.94,7)call CreateDestructableZ('NTtw',-2112,2304,0,270,1.04,5)call CreateDestructableZ('NTtw',-2176,2816,0,270,.95,1)call CreateDestructableZ('NTtw',-2176,2944,0,270,1.08,1)call CreateDestructableZ('NTtw',-2176,3136,0,270,1.07,7)call CreateDestructableZ('NTtw',-2176,3264,0,270,1.05,0)call CreateDestructableZ('NTtw',-2240,3584,0,270,1.03,5)call CreateDestructableZ('NTtw',-2176,3840,0,270,.92,0)call CreateDestructableZ('NTtw',-2112,3968,0,270,1.01,9)call CreateDestructableZ('NTtw',-2112,4096,0,270,1.05,7)call CreateDestructableZ('NTtw',-2176,4224,0,270,.97,0)call CreateDestructableZ('NTtw',-2368,4352,0,270,.91,6)call CreateDestructableZ('NTtw',-3200,4544,0,270,1.08,5)call CreateDestructableZ('NTtw',-3328,4480,0,270,.93,1)call CreateDestructableZ('NTtw',-3456,4352,0,270,1,4)call CreateDestructableZ('NTtw',-3584,4288,0,270,1.02,3)call CreateDestructableZ('NTtw',-4032,4416,0,270,.81,3)call CreateDestructableZ('NTtw',-4032,4288,0,270,1.15,4)call CreateDestructableZ('NTtw',-3968,3968,0,270,1.09,5)call CreateDestructableZ('NTtw',-3904,3712,0,270,1.06,6)call CreateDestructableZ('NTtw',-4032,3328,0,270,1.01,8)call CreateDestructableZ('NTtw',-4032,3136,0,270,1.08,1)call CreateDestructableZ('NTtw',-3968,3008,0,270,.81,9)call CreateDestructableZ('NTtw',-3840,3008,0,270,.86,7)call CreateDestructableZ('NTtw',-3776,2880,0,270,.81,8)call CreateDestructableZ('NTtw',-3648,2560,0,270,1.01,8)call CreateDestructableZ('NTtw',-3456,2496,0,270,.81,9)call CreateDestructableZ('NTtw',-3328,2432,0,270,1.04,1)call CreateDestructableZ('NTtw',-3200,2048,-.25,270,1.07,4)call CreateDestructableZ('NTtw',-3200,1920,-.25,270,1.19,9)call CreateDestructableZ('NTtw',-3264,1728,-.06,270,1.1,1)call CreateDestructableZ('NTtw',-3136,1536,0,270,1.16,7)call CreateDestructableZ('NTtw',-2752,1344,0,270,.9,5)call CreateDestructableZ('NTtw',-2624,1344,0,270,1.02,4)call CreateDestructableZ('NTtw',-2496,1280,0,270,1.19,0)call CreateDestructableZ('NTtw',-1984,1344,0,270,1.12,3)call CreateDestructableZ('NTtw',-1856,1344,0,270,.8,7)call CreateDestructableZ('NTtw',-1664,1280,0,270,.93,8)call CreateDestructableZ('NTtw',-1536,1344,0,270,.92,9)call CreateDestructableZ('NTtw',-1344,1408,0,270,.83,8)call CreateDestructableZ('NTtw',-128,1344,-.25,270,.95,4)call CreateDestructableZ('NTtw',0,1344,-.25,270,.84,1)call CreateDestructableZ('NTtw',320,1344,.06,270,1.19,2)call CreateDestructableZ('NTtw',512,1344,0,270,1.17,6)call CreateDestructableZ('NTtw',768,1280,0,270,1.03,9)call CreateDestructableZ('NTtw',896,1280,0,270,.81,0)call CreateDestructableZ('NTtw',1600,1792,0,270,1.01,5)call CreateDestructableZ('NTtw',1664,1920,0,270,.85,1)call CreateDestructableZ('NTtw',1664,2432,0,270,1.02,4)call CreateDestructableZ('NTtw',2112,2880,0,270,.92,9)call CreateDestructableZ('NTtw',2240,3008,0,270,.86,1)call CreateDestructableZ('NTtw',2304,3584,0,270,1.1,9)call CreateDestructableZ('NTtw',2304,3712,0,270,.9,0)call CreateDestructableZ('NTtw',2304,3840,0,270,.8,6)call CreateDestructableZ('NTtw',2304,4096,0,270,1.06,8)call CreateDestructableZ('NTtw',1984,4352,0,270,1.03,3)call CreateDestructableZ('NTtw',1536,4544,0,270,.87,0)call CreateDestructableZ('NTtw',1408,4544,0,270,1.05,8)call CreateDestructableZ('NTtw',2688,3712,0,270,1.16,2)call CreateDestructableZ('NTtw',2560,3584,0,270,.93,0)call CreateDestructableZ('NTtw',2112,2688,0,270,1.11,4)call CreateDestructableZ('NTtw',1920,2560,0,270,.9,0)call CreateDestructableZ('NTtw',1856,2432,0,270,.99,0)call CreateDestructableZ('NTtw',2048,2048,0,270,1.06,5)call CreateDestructableZ('NTtw',-3776,1728,0,270,1.01,2)call CreateDestructableZ('NTtw',1856,1600,0,270,1.17,5)call CreateDestructableZ('VTlt',960,-3136,-6.12,270,.86,3)call CreateDestructableZ('NTtw',0,2432,0,270,1.01,2)call CreateDestructableZ('NTtw',-192,2432,-.25,270,.99,6)call CreateDestructableZ('NTtw',-192,3200,0,270,1.17,1)call CreateDestructableZ('NTtw',-192,3328,0,270,.94,1)call CreateDestructableZ('NTtw',-192,3520,0,270,1.13,4)call CreateDestructableZ('NTtw',-192,3712,0,270,1.1,6)call CreateDestructableZ('NTtw',128,2752,0,270,.89,2)call CreateDestructableZ('NTtw',256,2624,0,270,1.07,0)call CreateDestructableZ('NTtw',384,3456,0,270,1.17,7)call CreateDestructableZ('NTtw',832,4352,0,270,.92,2)call CreateDestructableZ('NTtw',896,4480,0,270,.98,8)call CreateDestructableZ('NTtw',1088,4544,0,270,.94,0)call CreateDestructableZ('NTtw',1664,4736,0,270,1.13,8)call CreateDestructableZ('NTtw',2048,4480,0,270,.97,8)call CreateDestructableZ('NTtw',2240,4288,0,270,.91,2)call CreateDestructableZ('NTtw',-2624,4736,0,270,1.02,9)call CreateDestructableZ('NTtw',-3072,4672,0,270,.82,7)call CreateDestructableZ('NTtw',-3712,4736,0,270,1.06,6)call CreateDestructableZ('NTtw',-4032,4864,0,270,1.12,0)call CreateDestructableZ('NTtw',-4544,4352,0,270,1.19,4)call CreateDestructableZ('NTtw',-4544,4160,0,270,.94,2)call CreateDestructableZ('NTtw',-4416,3776,0,270,.9,9)call CreateDestructableZ('NTtw',-4672,3264,0,270,.94,9)call CreateDestructableZ('NTtw',-4544,3008,0,270,1.05,7)call CreateDestructableZ('NTtw',-4480,2752,0,270,1.16,7)call CreateDestructableZ('NTtw',-3712,2432,0,270,1.06,8)call CreateDestructableZ('NTtw',-3648,2304,0,270,1.03,5)call CreateDestructableZ('NTtw',-3456,2304,0,270,.96,8)call CreateDestructableZ('NTtw',-4032,2752,0,270,1.05,7)call CreateDestructableZ('NTtw',1792,1728,0,270,.92,2)call CreateDestructableZ('VTlt',1344,-3712,256,270,1.01,2)call CreateDestructableZ('VTlt',1984,-3712,256,270,.8,9)call CreateDestructableZ('VTlt',2112,-3776,256,270,1.19,1)call CreateDestructableZ('VTlt',2048,-3584,256,270,.89,4)call CreateDestructableZ('VTlt',1216,-3584,256,270,.83,1)call CreateDestructableZ('VTlt',1216,-3904,256,270,.88,1)call CreateDestructableZ('VTlt',1344,-3840,256,270,.95,4)call CreateDestructableZ('VTlt',1984,-3840,256,270,.95,8)call CreateDestructableZ('VTlt',2112,-3904,256,270,.87,3)call CreateDestructableZ('YTfc',1472,-3712,256,270,1,0)call CreateDestructableZ('YTfc',1600,-3712,256,270,1,0)call CreateDestructableZ('YTfc',1728,-3712,256,270,1,0)call CreateDestructableZ('YTfc',1856,-3712,256,270,1,0)call CreateDestructableZ('YTfc',2176,-4096,256,270,1,0)call CreateDestructableZ('YTfb',2912,-736,0,270,1,0)call CreateDestructableZ('VTlt',1216,-4096,256,270,.88,1)call CreateDestructableZ('VTlt',1216,-4288,256,270,.88,1)call CreateDestructableZ('YTfc',256,-4032,128,270,1,0)call CreateDestructableZ('YTfc',128,-3584,128,270,1,0)call CreateDestructableZ('VTlt',1344,-2496,-1.37,270,.88,3)call CreateDestructableZ('YTfb',6368,-5088,0,270,1,0)call CreateDestructableZ('VTlt',1472,-2368,-.38,270,.9,6)call CreateDestructableZ('VTlt',1344,-2368,2.87,270,.83,0)call CreateDestructableZ('YTfb',6304,-5088,0,270,1,0)call CreateDestructableZ('VTlt',1984,-3072,14,270,.87,8)call CreateDestructableZ('VTlt',1856,-2496,6.44,270,1.1,6)call CreateDestructableZ('VTlt',1920,-3264,0,270,1.19,8)call CreateDestructableZ('VTlt',2240,-2880,7.19,270,.89,7)call CreateDestructableZ('VTlt',1472,-3264,-.75,270,1.06,8)call CreateDestructableZ('VTlt',2112,-3264,0,270,1.03,9)call CreateDestructableZ('VTlt',1664,-3264,0,270,1.15,3)call CreateDestructableZ('VTlt',2240,-3200,0,270,1.03,6)call CreateDestructableZ('VTlt',1152,-2560,-8.25,270,.99,4)call CreateDestructableZ('VTlt',1216,-2688,-14.63,270,1.04,6)call CreateDestructableZ('VTlt',704,-2688,-28.5,270,1.18,8)call CreateDestructableZ('VTlt',448,-2688,-13.75,270,1.12,8)call CreateDestructableZ('VTlt',1024,-2624,-15.25,270,1.11,6)call CreateDestructableZ('VTlt',1280,-3264,-4.12,270,1.18,1)call CreateDestructableZ('YTfb',4192,-4064,0,270,1,0)call CreateDestructableZ('VTlt',1472,-2496,-2.44,270,.86,3)call CreateDestructableZ('VTlt',1792,-3200,7.25,270,1.06,3)call CreateDestructableZ('YTfb',7008,-2912,0,270,1,0)call CreateDestructableZ('YTfc',6464,-4544,0,270,1,0)call CreateDestructableZ('YTfc',6464,-4416,0,270,1,0)call CreateDestructableZ('YTfc',1088,-3392,95.56,270,1,0)call CreateDestructableZ('YTfc',6336,-4416,0,270,1,0)call CreateDestructableZ('YTfb',5472,-5088,0,270,1,0)call CreateDestructableZ('YTfc',5376,-4544,0,270,1,0)call CreateDestructableZ('YTfb',3296,-4384,0,270,1,0)call CreateDestructableZ('YTfb',3360,-4384,0,270,1,0)call CreateDestructableZ('YTfc',6208,-4416,0,270,1,0)call CreateDestructableZ('VTlt',1920,-4800,133.87,270,1.13,7)call CreateDestructableZ('VTlt',1600,-4928,101.62,270,1.12,1)call CreateDestructableZ('VTlt',1536,-4800,120.62,270,.89,6)call CreateDestructableZ('VTlt',1408,-4800,126.62,270,1.06,3)call CreateDestructableZ('VTlt',2048,-4800,129.87,270,1.04,5)call CreateDestructableZ('VTlt',1664,-4800,115.62,270,.99,3)call CreateDestructableZ('VTlt',1792,-4800,132.75,270,1.18,4)call CreateDestructableZ('YTfc',320,-2688,-10.63,270,1,0)call CreateDestructableZ('YTfc',576,-2688,-13.13,270,1,0)call CreateDestructableZ('YTfc',896,-2688,-10,270,1,0)call CreateDestructableZ('YTfc',896,-2560,-6.5,270,1,0)call CreateDestructableZ('YTfc',768,-2560,-38.5,270,1,0)call CreateDestructableZ('YTfc',1024,-2496,-1.75,270,1,0)call CreateDestructableZ('YTfc',1152,-2432,34.25,270,1,0)call CreateDestructableZ('YTfc',192,-2752,-11.25,270,1,0)call CreateDestructableZ('YTfc',64,-2752,-4.44,270,1,0)call CreateDestructableZ('YTfc',-64,-2752,-1.12,270,1,0)call CreateDestructableZ('YTfc',-192,-2752,0,270,1,0)call CreateDestructableZ('YTfc',-320,-2752,0,270,1,0)call CreateDestructableZ('YTfc',-384,-2624,0,270,1,0)call CreateDestructableZ('YTfc',-384,-2496,0,270,1,0)call CreateDestructableZ('YTfc',-384,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-256,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-128,-2368,0,270,1,0)call CreateDestructableZ('YTfc',0,-2368,0,270,1,0)call CreateDestructableZ('YTfc',128,-2368,0,270,1,0)call CreateDestructableZ('YTfc',256,-2368,28.75,270,1,0)call CreateDestructableZ('YTfc',192,-2176,0,270,1,0)call CreateDestructableZ('YTfc',320,-2176,0,270,1,0)call CreateDestructableZ('YTfc',448,-2240,-1.62,270,1,0)call CreateDestructableZ('YTfc',576,-2240,-1.62,270,1,0)call CreateDestructableZ('YTfc',704,-2240,0,270,1,0)call CreateDestructableZ('YTfc',832,-2240,0,270,1,0)call CreateDestructableZ('YTfc',896,-2112,0,270,1,0)call CreateDestructableZ('YTfc',896,-1984,0,270,1,0)call CreateDestructableZ('YTfc',896,-1856,0,270,1,0)call CreateDestructableZ('YTfc',896,-1728,0,270,1,0)call CreateDestructableZ('YTfc',896,-1600,0,270,1,0)call CreateDestructableZ('YTfc',896,-1472,0,270,1,0)call CreateDestructableZ('YTfc',896,-1344,0,270,1,0)call CreateDestructableZ('YTfc',896,-1152,0,270,1,0)call CreateDestructableZ('YTfc',1024,-1024,0,270,1,0)call CreateDestructableZ('YTfc',1024,-1152,0,270,1,0)call CreateDestructableZ('YTfc',1024,-1280,0,270,1,0)call CreateDestructableZ('YTfc',1024,-1408,0,270,1,0)call CreateDestructableZ('YTfc',1024,-1536,0,270,1,0)call CreateDestructableZ('YTfc',1024,-1664,0,270,1,0)call CreateDestructableZ('YTfc',1024,-1792,0,270,1,0)call CreateDestructableZ('YTfc',1024,-1920,0,270,1,0)call CreateDestructableZ('YTfc',1024,-2112,0,270,1,0)call CreateDestructableZ('YTfc',960,-2240,12.75,270,1,0)call CreateDestructableZ('YTfc',1280,-1216,0,270,1,0)call CreateDestructableZ('YTfc',960,-448,0,270,1,0)call CreateDestructableZ('YTfc',768,-448,0,270,1,0)call CreateDestructableZ('YTfc',768,-320,0,270,1,0)call CreateDestructableZ('YTfc',768,-192,0,270,1,0)call CreateDestructableZ('YTfc',768,-64,0,270,1,0)call CreateDestructableZ('YTfc',768,64,0,270,1,0)call CreateDestructableZ('YTfc',768,192,0,270,1,0)call CreateDestructableZ('YTfc',768,320,0,270,1,0)call CreateDestructableZ('YTfc',768,448,0,270,1,0)call CreateDestructableZ('YTfc',768,576,0,270,1,0)call CreateDestructableZ('YTfc',768,704,0,270,1,0)call CreateDestructableZ('YTfc',640,704,0,270,1,0)call CreateDestructableZ('YTfc',512,704,0,270,1,0)call CreateDestructableZ('YTfc',384,704,0,270,1,0)call CreateDestructableZ('YTfc',384,832,0,270,1,0)call CreateDestructableZ('YTfc',384,960,0,270,1,0)call CreateDestructableZ('YTfc',384,1088,0,270,1,0)call CreateDestructableZ('YTfc',256,1024,0,270,1,0)call CreateDestructableZ('YTfc',128,1024,0,270,1,0)call CreateDestructableZ('YTfc',0,1024,0,270,1,0)call CreateDestructableZ('YTfc',-128,1024,0,270,1,0)call CreateDestructableZ('YTfb',-224,992,0,270,1,0)call CreateDestructableZ('YTfb',-224,1056,0,270,1,0)call CreateDestructableZ('YTfb',-224,1120,0,270,1,0)call CreateDestructableZ('YTfb',-160,1120,0,270,1,0)call CreateDestructableZ('YTfc',640,960,0,270,1,0)call CreateDestructableZ('YTfc',768,960,0,270,1,0)call CreateDestructableZ('YTfc',896,960,0,270,1,0)call CreateDestructableZ('YTfc',1024,960,-128,270,1,0)call CreateDestructableZ('YTfc',-1280,1152,0,270,1,0)call CreateDestructableZ('YTfc',-1280,1024,0,270,1,0)call CreateDestructableZ('YTfc',-1408,960,0,270,1,0)call CreateDestructableZ('YTfc',-1408,1088,0,270,1,0)call CreateDestructableZ('YTfc',-1536,960,0,270,1,0)call CreateDestructableZ('YTfc',-1664,960,0,270,1,0)call CreateDestructableZ('YTfc',-1792,960,0,270,1,0)call CreateDestructableZ('YTfc',-1920,960,0,270,1,0)call CreateDestructableZ('YTfc',-2048,1024,0,270,1,0)call CreateDestructableZ('YTfc',-2176,1024,0,270,1,0)call CreateDestructableZ('YTfc',-2304,1024,0,270,1,0)call CreateDestructableZ('YTfc',-2432,1024,0,270,1,0)call CreateDestructableZ('YTfc',-2560,1088,0,270,1,0)call CreateDestructableZ('YTfc',-2624,960,0,270,1,0)call CreateDestructableZ('YTfc',-1600,832,0,270,1,0)call CreateDestructableZ('YTfc',-1664,704,0,270,1,0)call CreateDestructableZ('YTfc',-1792,768,0,270,1,0)call CreateDestructableZ('YTfc',-1920,768,0,270,1,0)call CreateDestructableZ('YTfc',-2048,768,0,270,1,0)call CreateDestructableZ('YTfc',-2176,768,0,270,1,0)call CreateDestructableZ('YTfc',-2304,704,0,270,1,0)call CreateDestructableZ('YTfc',-2432,640,0,270,1,0)call CreateDestructableZ('YTfc',-2496,512,0,270,1,0)call CreateDestructableZ('YTfc',-2496,384,0,270,1,0)call CreateDestructableZ('YTfc',-2496,256,0,270,1,0)call CreateDestructableZ('YTfc',-2496,128,0,270,1,0)call CreateDestructableZ('YTfc',-2560,0,0,270,1,0)call CreateDestructableZ('YTfc',-2496,-128,0,270,1,0)call CreateDestructableZ('YTfc',-2496,-320,0,270,1,0)call CreateDestructableZ('YTfc',-2624,-384,0,270,1,0)call CreateDestructableZ('YTfc',-2752,-384,0,270,1,0)call CreateDestructableZ('YTfc',-2880,-320,1.69,270,1,0)call CreateDestructableZ('YTfc',-2624,-1216,-64,270,1,0)call CreateDestructableZ('YTfc',-2624,-1344,-128,270,1,0)call CreateDestructableZ('YTfc',-2624,-1472,-64,270,1,0)call CreateDestructableZ('YTfc',-2624,-1600,0,270,1,0)call CreateDestructableZ('YTfc',-2624,-1728,0,270,1,0)call CreateDestructableZ('YTfc',-2624,-1856,0,270,1,0)call CreateDestructableZ('YTfc',-2624,-1984,0,270,1,0)call CreateDestructableZ('YTfc',-2624,-2112,0,270,1,0)call CreateDestructableZ('YTfc',-2624,-2240,0,270,1,0)call CreateDestructableZ('YTfc',-2624,-2368,4.25,270,1,0)call CreateDestructableZ('YTfc',-2624,-2496,10.75,270,1,0)call CreateDestructableZ('YTfc',-2624,-2624,23.75,270,1,0)call CreateDestructableZ('YTfc',-2496,-2624,10.63,270,1,0)call CreateDestructableZ('YTfc',-2368,-2624,4.25,270,1,0)call CreateDestructableZ('YTfc',-2240,-2624,0,270,1,0)call CreateDestructableZ('YTfc',-2240,-2752,-.13,270,1,0)call CreateDestructableZ('YTfc',-2240,-2880,-.25,270,1,0)call CreateDestructableZ('YTfc',-2176,-3008,0,270,1,0)call CreateDestructableZ('YTfc',-2176,-3136,0,270,1,0)call CreateDestructableZ('YTfc',-2176,-3264,0,270,1,0)call CreateDestructableZ('YTfc',-2048,-3264,0,270,1,0)call CreateDestructableZ('YTfc',-1920,-3264,0,270,1,0)call CreateDestructableZ('YTfc',-1984,-2944,0,270,1,0)call CreateDestructableZ('YTfc',-1408,-3264,0,270,1,0)call CreateDestructableZ('YTfc',-1280,-3264,0,270,1,0)call CreateDestructableZ('YTfc',-1152,-3264,0,270,1,0)call CreateDestructableZ('YTfc',-1088,-3136,0,270,1,0)call CreateDestructableZ('YTfc',-1088,-3008,0,270,1,0)call CreateDestructableZ('YTfc',-1088,-2880,0,270,1,0)call CreateDestructableZ('YTfc',-1088,-2752,0,270,1,0)call CreateDestructableZ('YTfc',-1088,-2624,0,270,1,0)call CreateDestructableZ('YTfc',-1088,-2496,0,270,1,0)call CreateDestructableZ('YTfc',-1216,-2496,0,270,1,0)call CreateDestructableZ('YTfc',-1344,-2496,0,270,1,0)call CreateDestructableZ('YTfc',-1472,-2496,0,270,1,0)call CreateDestructableZ('YTfc',-1536,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-1664,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-1792,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-1920,-2304,0,270,1,0)call CreateDestructableZ('YTfc',-1920,-2432,0,270,1,0)call CreateDestructableZ('YTfc',-1408,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-2048,-2304,0,270,1,0)call CreateDestructableZ('YTfc',-2176,-2304,0,270,1,0)call CreateDestructableZ('YTfc',-2368,-2304,0,270,1,0)call CreateDestructableZ('YTfc',-2304,-2176,0,270,1,0)call CreateDestructableZ('YTfc',-2304,-2048,0,270,1,0)call CreateDestructableZ('YTfc',-2304,-1920,0,270,1,0)call CreateDestructableZ('YTfc',-2304,-1792,0,270,1,0)call CreateDestructableZ('YTfc',-2432,-1792,0,270,1,0)call CreateDestructableZ('YTfc',-1344,-3136,0,270,1,0)call CreateDestructableZ('YTfc',-1344,-3008,0,270,1,0)call CreateDestructableZ('YTfc',-1344,-2880,0,270,1,0)call CreateDestructableZ('YTfc',-1472,-2752,0,270,1,0)call CreateDestructableZ('YTfc',-1600,-2752,0,270,1,0)call CreateDestructableZ('YTfc',-1728,-2752,0,270,1,0)call CreateDestructableZ('YTfc',-1856,-2752,0,270,1,0)call CreateDestructableZ('YTfc',-1984,-2688,0,270,1,0)call CreateDestructableZ('YTfc',-1984,-2560,0,270,1,0)call CreateDestructableZ('YTfc',-2112,-2560,0,270,1,0)call CreateDestructableZ('YTfc',320,-1536,0,270,1,0)call CreateDestructableZ('YTfc',320,-1408,0,270,1,0)call CreateDestructableZ('YTfc',320,-1280,0,270,1,0)call CreateDestructableZ('YTfc',320,-1152,0,270,1,0)call CreateDestructableZ('YTfc',320,-1024,0,270,1,0)call CreateDestructableZ('YTfc',192,-1024,0,270,1,0)call CreateDestructableZ('YTfc',128,-1152,0,270,1,0)call CreateDestructableZ('YTfc',128,-1280,0,270,1,0)call CreateDestructableZ('YTfc',128,-1408,0,270,1,0)call CreateDestructableZ('YTfc',128,-1536,0,270,1,0)call CreateDestructableZ('YTfb',32,-1568,0,270,1,0)call CreateDestructableZ('YTfb',-32,-1568,0,270,1,0)call CreateDestructableZ('YTfb',-96,-1568,0,270,1,0)call CreateDestructableZ('YTfb',-160,-1568,0,270,1,0)call CreateDestructableZ('YTfb',-224,-1568,0,270,1,0)call CreateDestructableZ('YTfb',-288,-1568,0,270,1,0)call CreateDestructableZ('YTfb',-352,-1568,0,270,1,0)call CreateDestructableZ('YTfb',-416,-1568,0,270,1,0)call CreateDestructableZ('YTfb',-480,-1568,0,270,1,0)call CreateDestructableZ('YTfb',-928,-1568,0,270,1,0)call CreateDestructableZ('YTfb',96,-608,0,270,1,0)call CreateDestructableZ('YTfb',96,-544,0,270,1,0)call CreateDestructableZ('YTfb',96,-480,0,270,1,0)call CreateDestructableZ('YTfb',96,-416,0,270,1,0)call CreateDestructableZ('YTfb',96,-352,0,270,1,0)call CreateDestructableZ('YTfb',96,-288,0,270,1,0)call CreateDestructableZ('YTfb',96,-224,0,270,1,0)call CreateDestructableZ('YTfb',96,-160,0,270,1,0)call CreateDestructableZ('YTfb',96,-96,0,270,1,0)call CreateDestructableZ('YTfb',96,-32,0,270,1,0)call CreateDestructableZ('YTfc',-10112,-512,0,270,1,0)call CreateDestructableZ('YTfc',-10240,-448,0,270,1,0)call CreateDestructableZ('YTfb',-1248,-32,0,270,1,0)call CreateDestructableZ('YTfb',-1312,-32,0,270,1,0)call CreateDestructableZ('YTfb',-1376,-32,0,270,1,0)call CreateDestructableZ('YTfb',-1440,-32,0,270,1,0)call CreateDestructableZ('YTfb',-1504,-32,0,270,1,0)call CreateDestructableZ('YTfb',-1568,-32,0,270,1,0)call CreateDestructableZ('YTfc',-1600,-128,0,270,1,0)call CreateDestructableZ('YTfc',-1600,-256,0,270,1,0)call CreateDestructableZ('YTfc',-1600,-384,0,270,1,0)call CreateDestructableZ('YTfc',-1600,-512,0,270,1,0)call CreateDestructableZ('YTfc',-1600,-640,0,270,1,0)call CreateDestructableZ('YTfc',-1728,-640,0,270,1,0)call CreateDestructableZ('YTfc',-1856,-640,0,270,1,0)call CreateDestructableZ('YTfc',-1920,-512,0,270,1,0)call CreateDestructableZ('YTfc',-1920,-384,0,270,1,0)call CreateDestructableZ('YTfc',-1920,-256,0,270,1,0)call CreateDestructableZ('YTfc',-1920,-128,0,270,1,0)call CreateDestructableZ('YTfc',-1792,-64,0,270,1,0)call CreateDestructableZ('YTfb',-1696,-32,0,270,1,0)call CreateDestructableZ('YTfb',-1632,-32,0,270,1,0)call CreateDestructableZ('YTfc',-1600,-1152,0,270,1,0)call CreateDestructableZ('YTfc',-1728,-1152,0,270,1,0)call CreateDestructableZ('YTfc',-1856,-1152,0,270,1,0)call CreateDestructableZ('YTfc',-1856,-1280,0,270,1,0)call CreateDestructableZ('YTfc',-1856,-1408,0,270,1,0)call CreateDestructableZ('YTfc',-1856,-1536,0,270,1,0)call CreateDestructableZ('YTfc',-1856,-1664,0,270,1,0)call CreateDestructableZ('YTfc',-1728,-1664,0,270,1,0)call CreateDestructableZ('YTfc',-1600,-1664,0,270,1,0)call CreateDestructableZ('YTfc',-1472,-1728,0,270,1,0)call CreateDestructableZ('YTfc',-1344,-1728,0,270,1,0)call CreateDestructableZ('YTfc',-1216,-1728,0,270,1,0)call CreateDestructableZ('YTfc',-1088,-1728,0,270,1,0)call CreateDestructableZ('YTfc',-1024,-1600,0,270,1,0)call CreateDestructableZ('YTfc',-1152,-1600,0,270,1,0)call CreateDestructableZ('YTfc',-1280,-1600,0,270,1,0)call CreateDestructableZ('YTfc',-1408,-1600,0,270,1,0)call CreateDestructableZ('YTfc',1088,-320,0,270,1,0)call CreateDestructableZ('YTfc',1088,-64,0,270,1,0)call CreateDestructableZ('YTfc',1088,64,0,270,1,0)call CreateDestructableZ('YTfc',1088,192,0,270,1,0)call CreateDestructableZ('YTfc',1088,320,0,270,1,0)call CreateDestructableZ('YTfc',1088,448,0,270,1,0)call CreateDestructableZ('YTfc',1088,576,0,270,1,0)call CreateDestructableZ('YTfc',1088,-448,0,270,1,0)call CreateDestructableZ('YTfc',1088,-192,0,270,1,0)call CreateDestructableZ('YTfc',1024,704,0,270,1,0)call CreateDestructableZ('YTfc',1920,-2624,12.25,270,1,0)call CreateDestructableZ('YTfc',2048,-2688,25.5,270,1,0)call CreateDestructableZ('YTfc',2112,-2816,-9.75,270,1,0)call CreateDestructableZ('YTfc',1088,-3264,-2.06,270,1,0)call CreateDestructableZ('YTfc',896,-3264,-2.25,270,1,0)call CreateDestructableZ('YTfc',960,-3392,63.69,270,1,0)call CreateDestructableZ('YTfb',2464,-1440,0,270,1,0)call CreateDestructableZ('YTfc',3264,-3008,0,270,1,0)call CreateDestructableZ('YTfc',3392,-3008,0,270,1,0)call CreateDestructableZ('YTfc',3520,-3008,0,270,1,0)call CreateDestructableZ('YTfc',3648,-3008,0,270,1,0)call CreateDestructableZ('YTfc',3776,-3008,0,270,1,0)call CreateDestructableZ('YTfc',3904,-3008,0,270,1,0)call CreateDestructableZ('YTfc',4032,-3008,0,270,1,0)call CreateDestructableZ('YTfc',4160,-3008,0,270,1,0)call CreateDestructableZ('YTfc',4288,-3008,0,270,1,0)call CreateDestructableZ('YTfc',6080,-4416,0,270,1,0)call CreateDestructableZ('YTfc',5952,-4416,0,270,1,0)call CreateDestructableZ('YTfc',5824,-4416,0,270,1,0)call CreateDestructableZ('YTfc',5696,-4416,0,270,1,0)call CreateDestructableZ('YTfc',5568,-4416,0,270,1,0)call CreateDestructableZ('YTfc',5440,-4416,0,270,1,0)call CreateDestructableZ('YTfc',4288,-4416,0,270,1,0)call CreateDestructableZ('YTfc',4288,-4544,0,270,1,0)call CreateDestructableZ('YTfc',4288,-4672,0,270,1,0)call CreateDestructableZ('YTfc',4288,-4800,0,270,1,0)call CreateDestructableZ('YTfc',4288,-4928,0,270,1,0)call CreateDestructableZ('YTfc',4288,-5056,0,270,1,0)call CreateDestructableZ('YTfc',4160,-5056,0,270,1,0)call CreateDestructableZ('YTfc',4032,-5056,0,270,1,0)call CreateDestructableZ('YTfc',3904,-5056,0,270,1,0)call CreateDestructableZ('YTfc',3776,-5056,0,270,1,0)call CreateDestructableZ('YTfc',3648,-5056,0,270,1,0)call CreateDestructableZ('YTfc',3520,-5056,0,270,1,0)call CreateDestructableZ('YTfc',3392,-5056,0,270,1,0)call CreateDestructableZ('YTfc',3264,-5056,0,270,1,0)call CreateDestructableZ('YTfc',3200,-4928,0,270,1,0)call CreateDestructableZ('YTfc',3200,-4800,0,270,1,0)call CreateDestructableZ('YTfc',3200,-4672,0,270,1,0)call CreateDestructableZ('YTfc',3200,-4544,0,270,1,0)call CreateDestructableZ('YTfc',3200,-4416,0,270,1,0)call CreateDestructableZ('YTfc',3200,-4288,0,270,1,0)call CreateDestructableZ('YTfc',5376,-4672,0,270,1,0)call CreateDestructableZ('YTfc',3200,-3904,0,270,1,0)call CreateDestructableZ('YTfc',3200,-3776,0,270,1,0)call CreateDestructableZ('YTfc',3200,-3648,0,270,1,0)call CreateDestructableZ('YTfc',3200,-3520,0,270,1,0)call CreateDestructableZ('YTfc',3200,-3392,0,270,1,0)call CreateDestructableZ('YTfc',3200,-3264,0,270,1,0)call CreateDestructableZ('YTfc',3200,-3136,0,270,1,0)call CreateDestructableZ('YTfc',5376,-4800,0,270,1,0)call CreateDestructableZ('YTfc',5376,-4928,0,270,1,0)call CreateDestructableZ('YTfc',5376,-5056,0,270,1,0)call CreateDestructableZ('YTfc',6464,-5056,0,270,1,0)call CreateDestructableZ('YTfc',6464,-4928,0,270,1,0)call CreateDestructableZ('YTfc',6464,-4800,0,270,1,0)call CreateDestructableZ('YTfb',4192,-4384,0,270,1,0)call CreateDestructableZ('YTfb',4128,-4384,0,270,1,0)call CreateDestructableZ('YTfb',4064,-4384,0,270,1,0)call CreateDestructableZ('YTfb',4000,-4384,0,270,1,0)call CreateDestructableZ('YTfb',3872,-4384,0,270,1,0)call CreateDestructableZ('YTfb',3936,-4384,0,270,1,0)call CreateDestructableZ('YTfb',3808,-4384,0,270,1,0)call CreateDestructableZ('YTfb',3744,-4384,0,270,1,0)call CreateDestructableZ('YTfb',3552,-4384,0,270,1,0)call CreateDestructableZ('YTfb',3424,-4384,0,270,1,0)call CreateDestructableZ('YTfb',3488,-4384,0,270,1,0)call CreateDestructableZ('YTfc',3200,-4032,0,270,1,0)call CreateDestructableZ('YTfc',3200,-4160,0,270,1,0)call CreateDestructableZ('YTfb',2400,-1248,0,270,1,0)call CreateDestructableZ('YTfb',2400,-1440,0,270,1,0)call CreateDestructableZ('YTfc',6464,-4672,0,270,1,0)call CreateDestructableZ('YTfb',3680,-4384,0,270,1,0)call CreateDestructableZ('BTtc',-2592,-2784,56,270,.92,2)call CreateDestructableZ('FTtw',-2368,-2880,19.56,270,.81,7)call CreateDestructableZ('FTtw',-2496,-2880,48.5,270,.87,8)call CreateDestructableZ('FTtw',-2496,-3904,0,270,1.11,7)call CreateDestructableZ('FTtw',-2624,-3776,10.88,270,.88,3)call CreateDestructableZ('FTtw',-2496,-3776,4.62,270,.95,2)call CreateDestructableZ('FTtw',-2752,-3648,32.38,270,1.14,3)call CreateDestructableZ('FTtw',-2944,-3648,38.75,270,1.02,0)call CreateDestructableZ('FTtw',-3008,-3520,64.44,270,1.14,8)call CreateDestructableZ('FTtw',-2816,-2624,43.75,270,.9,7)call CreateDestructableZ('FTtw',-2944,-2432,16.75,270,.89,8)call CreateDestructableZ('FTtw',-2816,-2496,32.38,270,.96,7)call CreateDestructableZ('FTtw',-3264,-3392,107.25,270,1.13,2)call CreateDestructableZ('FTtw',-3264,-3520,45.44,270,1.01,4)call CreateDestructableZ('FTtw',-3136,-3392,101.94,270,.84,3)call CreateDestructableZ('YTfc',-4608,-3264,179.5,270,1,0)call CreateDestructableZ('YTfc',-4608,-3136,179.5,270,1,0)call CreateDestructableZ('YTfc',-4608,-3008,179.5,270,1,0)call CreateDestructableZ('YTfc',-4672,-2880,179.5,270,1,0)call CreateDestructableZ('YTfc',-4736,-2752,179.5,270,1,0)call CreateDestructableZ('YTfc',-4992,-2432,179.5,270,1,0)call CreateDestructableZ('YTfc',-5056,-2304,179.5,270,1,0)call CreateDestructableZ('YTfc',-5184,-2240,179.5,270,1,0)call CreateDestructableZ('YTfc',-5312,-2112,172.69,270,1,0)call CreateDestructableZ('YTfc',-5440,-2112,179.5,270,1,0)call CreateDestructableZ('YTfc',-5568,-2048,179.5,270,1,0)call CreateDestructableZ('YTfc',-5696,-1984,177.87,270,1,0)call CreateDestructableZ('YTfc',-5824,-1920,179.5,270,1,0)call CreateDestructableZ('YTfc',-5440,-3392,179.5,270,1,0)call CreateDestructableZ('YTfc',-5504,-3264,179.5,270,1,0)call CreateDestructableZ('YTfc',-5632,-3200,179.5,270,1,0)call CreateDestructableZ('YTfc',-5696,-3072,179.5,270,1,0)call CreateDestructableZ('YTfc',-5824,-3008,179.5,270,1,0)call CreateDestructableZ('YTfc',-5760,-2560,179.5,270,1,0)call CreateDestructableZ('YTfc',-5632,-2496,179.5,270,1,0)call CreateDestructableZ('YTfc',-5568,-2368,179.5,270,1,0)call CreateDestructableZ('YTfc',-5632,-2240,179.5,270,1,0)call CreateDestructableZ('YTfc',-5760,-2368,179.5,270,1,0)call CreateDestructableZ('YTfc',-5888,-2432,179.5,270,1,0)call CreateDestructableZ('YTfc',-4928,-3072,179.5,270,1,0)call CreateDestructableZ('YTfc',-5056,-3200,179.5,270,1,0)call CreateDestructableZ('YTfc',-4928,-3264,179.5,270,1,0)call CreateDestructableZ('YTfc',-4800,-3200,179.5,270,1,0)call CreateDestructableZ('YTfc',-5504,2432,346.25,270,1,0)call CreateDestructableZ('YTfb',2400,-1184,0,270,1,0)call CreateDestructableZ('YTfc',-5504,2304,340.25,270,1,0)call CreateDestructableZ('YTfc',-5504,2176,346.25,270,1,0)call CreateDestructableZ('YTfb',3296,-1440,0,270,1,0)call CreateDestructableZ('YTfb',3232,-1440,0,270,1,0)call CreateDestructableZ('YTfc',1984,-896,0,270,1,0)call CreateDestructableZ('YTfc',1984,-1024,0,270,1,0)call CreateDestructableZ('YTfc',1984,-1152,0,270,1,0)call CreateDestructableZ('YTfc',1984,-1280,0,270,1,0)call CreateDestructableZ('YTfc',1984,-1408,0,270,1,0)call CreateDestructableZ('YTfc',1984,-1536,0,270,1,0)call CreateDestructableZ('YTfc',1984,-1664,0,270,1,0)call CreateDestructableZ('YTfc',2112,-1600,0,270,1,0)call CreateDestructableZ('YTfc',2112,-1728,0,270,1,0)call CreateDestructableZ('YTfc',2240,-1792,0,270,1,0)call CreateDestructableZ('YTfc',2368,-1728,0,270,1,0)call CreateDestructableZ('YTfc',2496,-1792,0,270,1,0)call CreateDestructableZ('YTfc',2624,-1856,-64,270,1,0)call CreateDestructableZ('YTfc',2752,-1920,0,270,1,0)call CreateDestructableZ('YTfc',2880,-2048,0,270,1,0)call CreateDestructableZ('YTfc',3008,-2112,0,270,1,0)call CreateDestructableZ('YTfc',3136,-2112,0,270,1,0)call CreateDestructableZ('YTfc',3136,-2240,0,270,1,0)call CreateDestructableZ('YTfc',3136,-2368,0,270,1,0)call CreateDestructableZ('YTfc',3136,-2496,0,270,1,0)call CreateDestructableZ('YTfc',3136,-2624,0,270,1,0)call CreateDestructableZ('YTfc',3136,-2752,0,270,1,0)call CreateDestructableZ('YTfc',3136,-2880,0,270,1,0)call CreateDestructableZ('YTfc',4288,-2880,0,270,1,0)call CreateDestructableZ('YTfc',4288,-2752,0,270,1,0)call CreateDestructableZ('YTfc',4288,-2624,0,270,1,0)call CreateDestructableZ('YTfc',4288,-2496,0,270,1,0)call CreateDestructableZ('YTfc',4352,-2368,0,270,1,0)call CreateDestructableZ('YTfc',4352,-2240,0,270,1,0)call CreateDestructableZ('YTfc',4224,-2240,0,270,1,0)call CreateDestructableZ('YTfc',4352,-1984,0,270,1,0)call CreateDestructableZ('YTfc',4352,-2112,0,270,1,0)call CreateDestructableZ('YTfc',4224,-2368,0,270,1,0)call CreateDestructableZ('YTfc',4352,-1856,0,270,1,0)call CreateDestructableZ('YTfc',4352,-1728,0,270,1,0)call CreateDestructableZ('YTfc',4352,-1600,0,270,1,0)call CreateDestructableZ('YTfc',4352,-1472,0,270,1,0)call CreateDestructableZ('YTfc',4160,-1344,121.44,270,1,0)call CreateDestructableZ('YTfc',4032,-1344,0,270,1,0)call CreateDestructableZ('YTfc',4032,-1216,0,270,1,0)call CreateDestructableZ('YTfc',4032,-1088,0,270,1,0)call CreateDestructableZ('YTfc',4032,-960,0,270,1,0)call CreateDestructableZ('YTfc',3904,-960,0,270,1,0)call CreateDestructableZ('YTfc',3776,-960,0,270,1,0)call CreateDestructableZ('YTfc',3648,-960,0,270,1,0)call CreateDestructableZ('YTfc',3648,-832,0,270,1,0)call CreateDestructableZ('YTfc',3648,-704,0,270,1,0)call CreateDestructableZ('YTfc',3648,-576,0,270,1,0)call CreateDestructableZ('YTfc',3648,-448,0,270,1,0)call CreateDestructableZ('YTfc',3648,-320,0,270,1,0)call CreateDestructableZ('YTfc',3648,-192,0,270,1,0)call CreateDestructableZ('YTfc',3648,-64,0,270,1,0)call CreateDestructableZ('YTfc',3520,-64,0,270,1,0)call CreateDestructableZ('YTfc',3392,-64,0,270,1,0)call CreateDestructableZ('YTfc',3264,-64,0,270,1,0)call CreateDestructableZ('YTfc',3264,-192,0,270,1,0)call CreateDestructableZ('YTfc',3136,-192,0,270,1,0)call CreateDestructableZ('YTfc',3008,-192,0,270,1,0)call CreateDestructableZ('YTfc',2880,-192,0,270,1,0)call CreateDestructableZ('YTfc',2752,-192,0,270,1,0)call CreateDestructableZ('YTfc',2624,-192,0,270,1,0)call CreateDestructableZ('YTfc',2496,-192,0,270,1,0)call CreateDestructableZ('YTfc',2368,-192,0,270,1,0)call CreateDestructableZ('YTfc',2240,-192,0,270,1,0)call CreateDestructableZ('YTfc',2048,-192,0,270,1,0)call CreateDestructableZ('YTfc',2048,-320,0,270,1,0)call CreateDestructableZ('YTfc',1984,-448,0,270,1,0)call CreateDestructableZ('YTfc',1984,-576,0,270,1,0)call CreateDestructableZ('YTfc',2048,-64,0,270,1,0)call CreateDestructableZ('YTfc',2176,-64,0,270,1,0)call CreateDestructableZ('YTfc',2304,-64,0,270,1,0)call CreateDestructableZ('YTfc',2432,-64,0,270,1,0)call CreateDestructableZ('YTfc',2560,-64,0,270,1,0)call CreateDestructableZ('YTfc',2688,-64,0,270,1,0)call CreateDestructableZ('YTfc',2816,-64,0,270,1,0)call CreateDestructableZ('YTfc',2944,-64,0,270,1,0)call CreateDestructableZ('YTfc',3072,-64,0,270,1,0)call CreateDestructableZ('YTfc',3776,-64,0,270,1,0)call CreateDestructableZ('YTfc',3904,-64,0,270,1,0)call CreateDestructableZ('YTfc',4032,0,0,270,1,0)call CreateDestructableZ('YTfc',4032,-128,0,270,1,0)call CreateDestructableZ('YTfc',4032,-256,0,270,1,0)call CreateDestructableZ('YTfc',4032,-384,0,270,1,0)call CreateDestructableZ('YTfc',4032,-512,0,270,1,0)call CreateDestructableZ('YTfc',4032,-640,0,270,1,0)call CreateDestructableZ('YTfc',4032,-768,0,270,1,0)call CreateDestructableZ('YTfc',3264,-1216,0,270,1,0)call CreateDestructableZ('YTfc',3264,-1344,0,270,1,0)call CreateDestructableZ('YTfc',2944,-1408,0,270,1,0)call CreateDestructableZ('YTfc',3136,-1216,0,270,1,0)call CreateDestructableZ('YTfc',3008,-1216,0,270,1,0)call CreateDestructableZ('YTfc',2880,-1216,0,270,1,0)call CreateDestructableZ('YTfc',2752,-1216,0,270,1,0)call CreateDestructableZ('YTfc',2624,-1216,0,270,1,0)call CreateDestructableZ('YTfc',2496,-1216,0,270,1,0)call CreateDestructableZ('YTfc',2432,-1344,0,270,1,0)call CreateDestructableZ('YTfc',2560,-1408,0,270,1,0)call CreateDestructableZ('YTfc',2688,-1408,0,270,1,0)call CreateDestructableZ('YTfc',2816,-1408,0,270,1,0)call CreateDestructableZ('YTfc',3072,-1408,0,270,1,0)call CreateDestructableZ('YTfb',3168,-1440,0,270,1,0)call CreateDestructableZ('YTfb',2528,-608,0,270,1,0)call CreateDestructableZ('YTfb',2528,-672,0,270,1,0)call CreateDestructableZ('YTfb',2528,-736,0,270,1,0)call CreateDestructableZ('YTfb',2528,-800,0,270,1,0)call CreateDestructableZ('YTfb',2528,-864,0,270,1,0)call CreateDestructableZ('YTfc',-13632,1344,13.38,270,1,0)call CreateDestructableZ('YTfc',-13632,1472,17.19,270,1,0)call CreateDestructableZ('YTfc',-13632,1600,55.88,270,1,0)call CreateDestructableZ('YTfc',-13696,1728,120,270,1,0)call CreateDestructableZ('YTfc',-13760,1856,163.81,270,1,0)call CreateDestructableZ('YTfc',-13824,1984,262.62,270,1,0)call CreateDestructableZ('YTfc',-13824,2112,293.5,270,1,0)call CreateDestructableZ('YTfc',-13824,2240,304,270,1,0)call CreateDestructableZ('YTfc',-13824,2368,304,270,1,0)call CreateDestructableZ('YTfc',-13824,2496,285.37,270,1,0)call CreateDestructableZ('YTfc',-13824,2624,266.87,270,1,0)call CreateDestructableZ('YTfc',-13696,2688,266.75,270,1,0)call CreateDestructableZ('YTfc',-13568,2688,304,270,1,0)call CreateDestructableZ('YTfc',-13440,2688,304,270,1,0)call CreateDestructableZ('YTfc',-13312,2688,282,270,1,0)call CreateDestructableZ('YTfc',-13184,2624,266.75,270,1,0)call CreateDestructableZ('YTfc',-13184,2496,265.62,270,1,0)call CreateDestructableZ('YTfc',-13184,2368,267,270,1,0)call CreateDestructableZ('YTfc',-13184,2240,267.25,270,1,0)call CreateDestructableZ('YTfc',-13184,2112,265,270,1,0)call CreateDestructableZ('YTfc',-13184,1984,241.87,270,1,0)call CreateDestructableZ('YTfc',-13184,1856,132.37,270,1,0)call CreateDestructableZ('YTfc',-13184,1728,25.12,270,1,0)call CreateDestructableZ('YTfc',-13312,1664,41.75,270,1,0)call CreateDestructableZ('YTfc',-13312,1536,10.5,270,1,0)call CreateDestructableZ('YTfc',-13312,1408,11.5,270,1,0)call CreateDestructableZ('YTfc',-13312,1280,3.25,270,1,0)call CreateDestructableZ('YTfc',-11584,10752,0,270,1,0)call CreateDestructableZ('YTfc',-5504,2048,346.25,270,1,0)call CreateDestructableZ('LTrc',-2944,-64,39.5,282,1,0)call CreateDestructableZ('LTrc',-3072,-128,46.25,224,1,1)call CreateDestructableZ('LTrc',-3072,0,74.25,237,1,3)call CreateDestructableZ('LTrc',-6080,-320,-.38,9,1,3)call CreateDestructableZ('LTrc',-6080,-448,0,196,1,0)call CreateDestructableZ('LTrc',-6208,-448,0,327,1,1)call CreateDestructableZ('OTtw',-4032,576,1.06,270,.71,7)call CreateDestructableZ('OTtw',-4096,704,-.13,270,.73,3)call CreateDestructableZ('OTtw',-4224,640,18.5,270,.67,1)call CreateDestructableZ('LTrc',-4416,448,79.12,218,1,1)call CreateDestructableZ('JTtw',-4288,448,43.31,270,1.14,1)call CreateDestructableZ('JTtw',-4160,512,13,270,.85,0)call CreateDestructableZ('JTtw',-4224,320,19.25,270,.96,9)call CreateDestructableZ('JTtw',-4160,192,25,270,1.08,2)call CreateDestructableZ('JTtw',-4032,256,66.37,270,.86,9)call CreateDestructableZ('JTtw',-4032,384,46.88,270,.88,7)call CreateDestructableZ('JTtw',-3968,128,66,270,1.17,8)call CreateDestructableZ('JTtw',-3840,512,82.5,270,.9,3)call CreateDestructableZ('JTtw',-4288,192,10.63,270,.99,7)call CreateDestructableZ('JTtw',-3008,-256,12.5,270,.85,8)call CreateDestructableZ('JTtw',-3136,-256,24.37,270,1.18,5)call CreateDestructableZ('JTtw',-3072,-384,5,270,1.12,7)call CreateDestructableZ('JTtw',-4928,-640,-.5,270,.9,9)call CreateDestructableZ('JTtw',-4672,-832,.38,270,.93,9)call CreateDestructableZ('JTtw',-4736,-704,-11.38,270,1.13,2)call CreateDestructableZ('JTtw',-5056,-640,1,270,1.19,0)call CreateDestructableZ('JTtw',-4928,-512,9.75,270,1.17,2)call CreateDestructableZ('JTtw',-4800,-512,-2.62,270,1,4)call CreateDestructableZ('JTtw',-3712,-896,0,270,1.14,9)call CreateDestructableZ('JTtw',-3520,-896,0,270,.94,4)call CreateDestructableZ('JTtw',-3520,-768,16.37,270,1.16,7)call CreateDestructableZ('JTtw',-3392,-768,17.75,270,1.07,6)call CreateDestructableZ('JTtw',-3328,-896,0,270,1.09,5)call CreateDestructableZ('JTtw',-3456,-1024,0,270,.88,7)call CreateDestructableZ('JTtw',-3840,-896,-.75,270,.92,5)call CreateDestructableZ('JTtw',-5632,-448,0,270,1.16,8)call CreateDestructableZ('JTtw',-5760,-384,0,270,1.06,8)call CreateDestructableZ('JTtw',-5504,-576,-.13,270,.84,2)call CreateDestructableZ('JTtw',-5440,-448,-3,270,.84,0)call CreateDestructableZ('JTtw',-3968,-960,.38,270,.92,5)call CreateDestructableZ('JTtw',-3904,-768,-5.12,270,.92,5)call CreateDestructableZ('JTtw',-3776,-704,-12.5,270,.92,5)call CreateDestructableZ('YTfc',-3200,-128,61.75,270,1,0)call CreateDestructableZ('YTfc',-3072,128,82.5,270,1,0)call CreateDestructableZ('YTfc',-2944,64,68.5,270,1,0)call CreateDestructableZ('YTfc',-3136,256,82.5,270,1,0)call CreateDestructableZ('YTfc',-3264,320,82.5,270,1,0)call CreateDestructableZ('YTfc',-3392,384,82.5,270,1,0)call CreateDestructableZ('YTfc',-3520,384,82.5,270,1,0)call CreateDestructableZ('YTfc',-3648,448,82.5,270,1,0)call CreateDestructableZ('YTfc',-3904,320,80.81,270,1,0)call CreateDestructableZ('YTfc',-4416,320,41.63,270,1,0)call CreateDestructableZ('YTfc',-4480,576,113.12,270,1,0)call CreateDestructableZ('YTfc',-4352,576,104.87,270,1,0)call CreateDestructableZ('YTfc',-4608,576,116.75,270,1,0)call CreateDestructableZ('YTfc',-4736,576,117.87,270,1,0)call CreateDestructableZ('YTfc',-4864,640,118.25,270,1,0)call CreateDestructableZ('YTfc',-4992,576,118.25,270,1,0)call CreateDestructableZ('YTfc',-5120,640,113.75,270,1,0)call CreateDestructableZ('YTfc',-5184,768,97.12,270,1,0)call CreateDestructableZ('YTfc',-5312,768,56.13,270,1,0)call CreateDestructableZ('YTfc',-5376,640,53.5,270,1,0)call CreateDestructableZ('YTfc',-5504,512,20,270,1,0)call CreateDestructableZ('YTfc',-5632,384,0,270,1,0)call CreateDestructableZ('YTfc',-5952,64,-20.12,270,1,0)call CreateDestructableZ('YTfc',-6080,-64,59.38,270,1,0)call CreateDestructableZ('YTfc',-6144,-192,22.37,270,1,0)call CreateDestructableZ('YTfc',-6272,-320,0,270,1,0)call CreateDestructableZ('YTfc',-6400,-384,0,270,1,0)call CreateDestructableZ('YTfc',-6464,-512,0,270,1,0)call CreateDestructableZ('YTfc',-6528,-640,0,270,1,0)call CreateDestructableZ('YTfc',-6656,-704,0,270,1,0)call CreateDestructableZ('YTfc',-6720,-832,-128,270,1,0)call CreateDestructableZ('YTfc',-5120,1088,0,270,1,0)call CreateDestructableZ('YTfc',-5312,1152,0,270,1,0)call CreateDestructableZ('YTfc',-5376,1280,346.25,270,1,0)call CreateDestructableZ('YTfc',-5504,1408,346.25,270,1,0)call CreateDestructableZ('YTfc',-5504,1536,346.25,270,1,0)call CreateDestructableZ('YTfc',-5504,1664,346.25,270,1,0)call CreateDestructableZ('YTfc',-5504,1792,346.25,270,1,0)call CreateDestructableZ('YTfc',-5504,1920,346.25,270,1,0)call CreateDestructableZ('YTfc',5312,-3456,0,270,1,0)call CreateDestructableZ('YTfc',5312,-3328,0,270,1,0)call CreateDestructableZ('YTfc',5184,-3328,0,270,1,0)call CreateDestructableZ('YTfb',4320,-4000,0,270,1,0)call CreateDestructableZ('YTfc',4224,-3456,0,270,1,0)call CreateDestructableZ('YTfc',5056,-3328,0,270,1,0)call CreateDestructableZ('YTfc',4928,-3328,0,270,1,0)call CreateDestructableZ('YTfc',4800,-3328,0,270,1,0)call CreateDestructableZ('YTfc',4672,-3328,0,270,1,0)call CreateDestructableZ('YTfc',4544,-3328,0,270,1,0)call CreateDestructableZ('YTfc',4416,-3328,0,270,1,0)call CreateDestructableZ('YTfc',4288,-3328,0,270,1,0)call CreateDestructableZ('YTfc',4224,-3584,0,270,1,0)call CreateDestructableZ('YTfc',4224,-3712,0,270,1,0)call CreateDestructableZ('YTfc',4224,-3840,0,270,1,0)call CreateDestructableZ('YTfc',4224,-3968,0,270,1,0)call CreateDestructableZ('YTfc',5312,-3968,0,270,1,0)call CreateDestructableZ('YTfc',5312,-3840,0,270,1,0)call CreateDestructableZ('YTfc',5312,-3712,0,270,1,0)call CreateDestructableZ('YTfc',5312,-3584,0,270,1,0)call CreateDestructableZ('YTfc',4416,-3008,0,270,1,0)call CreateDestructableZ('YTfc',4544,-3008,0,270,1,0)call CreateDestructableZ('YTfc',4672,-3008,0,270,1,0)call CreateDestructableZ('YTfc',4800,-3008,0,270,1,0)call CreateDestructableZ('YTfc',4928,-3008,0,270,1,0)call CreateDestructableZ('YTfc',5056,-3008,0,270,1,0)call CreateDestructableZ('YTfc',5184,-3008,0,270,1,0)call CreateDestructableZ('YTfc',5312,-3008,0,270,1,0)call CreateDestructableZ('YTfc',5440,-3008,0,270,1,0)call CreateDestructableZ('YTfc',5568,-3008,0,270,1,0)call CreateDestructableZ('YTfc',5696,-3008,0,270,1,0)call CreateDestructableZ('YTfc',5824,-3008,0,270,1,0)call CreateDestructableZ('YTfc',5952,-3008,0,270,1,0)call CreateDestructableZ('YTfc',6080,-3008,0,270,1,0)call CreateDestructableZ('YTfc',6208,-3008,0,270,1,0)call CreateDestructableZ('YTfc',6336,-3008,0,270,1,0)call CreateDestructableZ('YTfc',6464,-3008,0,270,1,0)call CreateDestructableZ('YTfc',6592,-3008,0,270,1,0)call CreateDestructableZ('YTfc',6720,-3008,0,270,1,0)call CreateDestructableZ('YTfc',6848,-3008,0,270,1,0)call CreateDestructableZ('YTfc',6976,-3008,-64,270,1,0)call CreateDestructableZ('YTfc',4416,-5056,0,270,1,0)call CreateDestructableZ('YTfc',4544,-5056,0,270,1,0)call CreateDestructableZ('YTfc',4672,-5056,0,270,1,0)call CreateDestructableZ('YTfc',4800,-5056,0,270,1,0)call CreateDestructableZ('YTfc',4928,-5056,0,270,1,0)call CreateDestructableZ('YTfc',5056,-5056,0,270,1,0)call CreateDestructableZ('YTfc',5184,-5056,0,270,1,0)call CreateDestructableZ('YTfc',6464,-3904,0,270,1,0)call CreateDestructableZ('YTfc',6464,-3776,0,270,1,0)call CreateDestructableZ('YTfc',6464,-3648,0,270,1,0)call CreateDestructableZ('YTfc',6464,-3520,0,270,1,0)call CreateDestructableZ('YTfc',6464,-3392,0,270,1,0)call CreateDestructableZ('YTfc',6464,-3264,0,270,1,0)call CreateDestructableZ('YTfc',6464,-3136,0,270,1,0)call CreateDestructableZ('YTfc',6464,-4032,0,270,1,0)call CreateDestructableZ('YTfc',6464,-4160,0,270,1,0)call CreateDestructableZ('YTfc',6464,-4288,0,270,1,0)call CreateDestructableZ('NTtw',-960,-5440,0,270,1,4)call CreateDestructableZ('YTfc',-13760,6592,59.63,270,1,0)call CreateDestructableZ('YTfc',-13760,6464,50.94,270,1,0)call CreateDestructableZ('YTfc',-13888,6336,24.81,270,1,0)call CreateDestructableZ('YTfc',-13888,6464,46.81,270,1,0)call CreateDestructableZ('YTfc',-14016,6208,6.19,270,1,0)call CreateDestructableZ('YTfc',-14080,6080,1,270,1,0)call CreateDestructableZ('YTfc',-14144,5952,.13,270,1,0)call CreateDestructableZ('YTfc',-14208,5824,0,270,1,0)call CreateDestructableZ('YTfc',-14208,5696,0,270,1,0)call CreateDestructableZ('YTfc',-13888,6656,64.62,270,1,0)call CreateDestructableZ('YTfc',-14016,6656,64.87,270,1,0)call CreateDestructableZ('YTfc',-14144,6656,64.37,270,1,0)call CreateDestructableZ('YTfc',-14272,6656,66.25,270,1,0)call CreateDestructableZ('YTfc',-14336,6528,50.75,270,1,0)call CreateDestructableZ('YTfc',-14720,6528,50,270,1,0)call CreateDestructableZ('YTfc',-14720,6656,62,270,1,0)call CreateDestructableZ('YTfc',-14848,6720,81.62,270,1,0)call CreateDestructableZ('YTfc',-14976,6720,81.87,270,1,0)call CreateDestructableZ('YTfc',-15104,6720,82.75,270,1,0)call CreateDestructableZ('YTfc',-15232,6720,83,270,1,0)call CreateDestructableZ('YTfc',-15296,6848,106.37,270,1,0)call CreateDestructableZ('YTfc',-15296,6976,112.25,270,1,0)call CreateDestructableZ('YTfc',-15168,7040,112.25,270,1,0)call CreateDestructableZ('YTfc',-15040,7040,112.25,270,1,0)call CreateDestructableZ('YTfc',-15040,7168,112.25,270,1,0)call CreateDestructableZ('YTfc',-15040,7296,112.25,270,1,0)call CreateDestructableZ('YTfc',-15040,7424,112.25,270,1,0)call CreateDestructableZ('YTfc',-15168,7424,112.25,270,1,0)call CreateDestructableZ('YTfc',-15296,7424,112.25,270,1,0)call CreateDestructableZ('YTfc',-15296,7552,112.25,270,1,0)call CreateDestructableZ('YTfc',-15296,7680,112,270,1,0)call CreateDestructableZ('YTfc',-15168,7744,115,270,1,0)call CreateDestructableZ('YTfc',-15040,7744,112.44,270,1,0)call CreateDestructableZ('YTfc',-14912,7744,113.69,270,1,0)call CreateDestructableZ('YTfc',-14784,7744,114.19,270,1,0)call CreateDestructableZ('YTfc',-14784,7872,135.25,270,1,0)call CreateDestructableZ('YTfc',-14784,8000,180.56,270,1,0)call CreateDestructableZ('YTfc',-14784,8128,237.19,270,1,0)call CreateDestructableZ('YTfc',-14784,8256,286.44,270,1,0)call CreateDestructableZ('YTfc',-14912,8256,287.44,270,1,0)call CreateDestructableZ('YTfc',-15040,8256,285.44,270,1,0)call CreateDestructableZ('YTfc',-15168,8256,282.56,270,1,0)call CreateDestructableZ('YTfc',-15296,8256,278,270,1,0)call CreateDestructableZ('YTfc',-15296,8384,301.44,270,1,0)call CreateDestructableZ('YTfc',-15296,8512,305.25,270,1,0)call CreateDestructableZ('YTfc',-15296,8640,305.25,270,1,0)call CreateDestructableZ('YTfc',-15296,8768,305.25,270,1,0)call CreateDestructableZ('YTfc',-15296,8896,305.25,270,1,0)call CreateDestructableZ('YTfc',-15296,9024,305.25,270,1,0)call CreateDestructableZ('YTfc',-15296,9152,305.25,270,1,0)call CreateDestructableZ('YTfc',-15296,9280,305.25,270,1,0)call CreateDestructableZ('YTfc',-15296,9408,305.25,270,1,0)call CreateDestructableZ('YTfc',-15296,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-15168,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-15040,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-14912,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-14784,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-14784,9408,305.25,270,1,0)call CreateDestructableZ('YTfc',-14784,9280,305.25,270,1,0)call CreateDestructableZ('YTfc',-14656,9280,305.25,270,1,0)call CreateDestructableZ('YTfc',-14528,9280,305.25,270,1,0)call CreateDestructableZ('YTfc',-14400,9280,305.25,270,1,0)call CreateDestructableZ('YTfc',-14272,9280,305.25,270,1,0)call CreateDestructableZ('YTfc',-14272,9408,305.25,270,1,0)call CreateDestructableZ('YTfc',-14272,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-14144,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-14016,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-13888,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-13760,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-13632,9536,305.25,270,1,0)call CreateDestructableZ('YTfc',-13632,9408,305.25,270,1,0)call CreateDestructableZ('YTfc',-13632,9280,305.12,270,1,0)call CreateDestructableZ('YTfc',-13632,9152,305.37,270,1,0)call CreateDestructableZ('YTfc',-13504,9152,314,270,1,0)call CreateDestructableZ('YTfc',-13376,9152,324.37,270,1,0)call CreateDestructableZ('YTfc',-13248,9152,341.81,270,1,0)call CreateDestructableZ('YTfc',-13120,9152,380.06,270,1,0)call CreateDestructableZ('YTfc',-12992,9152,432.87,270,1,0)call CreateDestructableZ('YTfc',-12928,9280,468.25,270,1,0)call CreateDestructableZ('YTfc',-12928,9408,455.25,270,1,0)call CreateDestructableZ('YTfc',-12928,9536,370.5,270,1,0)call CreateDestructableZ('YTfc',-12800,9344,488.25,270,1,0)call CreateDestructableZ('YTfc',-12800,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-12672,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-12544,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-12416,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-12288,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-12160,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-12032,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-11904,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-11776,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-11648,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-11520,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-11392,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-11264,9472,488.25,270,1,0)call CreateDestructableZ('YTfc',-11264,9344,488.25,270,1,0)call CreateDestructableZ('YTfc',-11264,9216,488.25,270,1,0)call CreateDestructableZ('YTfc',-11264,9088,488.25,270,1,0)call CreateDestructableZ('YTfc',-11264,8960,488.25,270,1,0)call CreateDestructableZ('YTfc',-11392,8960,488.25,270,1,0)call CreateDestructableZ('YTfc',-11520,8960,488.25,270,1,0)call CreateDestructableZ('YTfc',-11520,8832,488.25,270,1,0)call CreateDestructableZ('YTfc',-11520,8704,488.25,270,1,0)call CreateDestructableZ('YTfc',-11520,8576,488.25,270,1,0)call CreateDestructableZ('YTfc',-11520,8448,488.25,270,1,0)call CreateDestructableZ('YTfc',-11392,8384,488.25,270,1,0)call CreateDestructableZ('YTfc',-11264,8384,488.25,270,1,0)call CreateDestructableZ('YTfc',-11200,8256,488.25,270,1,0)call CreateDestructableZ('YTfc',-11200,8128,488.25,270,1,0)call CreateDestructableZ('YTfc',-11200,8000,488.25,270,1,0)call CreateDestructableZ('YTfc',-11264,7872,487.75,270,1,0)call CreateDestructableZ('YTfc',-11392,7808,487.5,270,1,0)call CreateDestructableZ('YTfc',-11520,7808,487.5,270,1,0)call CreateDestructableZ('YTfc',-11648,7808,488.25,270,1,0)call CreateDestructableZ('YTfc',-11776,7808,496.25,270,1,0)call CreateDestructableZ('YTfc',-11776,7680,526.5,270,1,0)call CreateDestructableZ('YTfc',-11776,7552,566.75,270,1,0)call CreateDestructableZ('YTfc',-11776,7424,612.25,270,1,0)call CreateDestructableZ('YTfc',-11648,7424,612.5,270,1,0)call CreateDestructableZ('YTfc',-11520,7424,607.75,270,1,0)call CreateDestructableZ('YTfc',-11392,7424,605.5,270,1,0)call CreateDestructableZ('YTfc',-11264,7424,605.75,270,1,0)call CreateDestructableZ('YTfc',-11200,7296,639.75,270,1,0)call CreateDestructableZ('YTfc',-11200,7168,648,270,1,0)call CreateDestructableZ('YTfc',-11200,7040,648,270,1,0)call CreateDestructableZ('YTfc',-11200,6912,648,270,1,0)call CreateDestructableZ('YTfc',-11200,6784,648,270,1,0)call CreateDestructableZ('YTfc',-11200,6656,648,270,1,0)call CreateDestructableZ('YTfc',-11200,6528,648,270,1,0)call CreateDestructableZ('YTfc',-11200,6400,648,270,1,0)call CreateDestructableZ('YTfc',-11200,6272,648,270,1,0)call CreateDestructableZ('YTfc',-11200,6144,648,270,1,0)call CreateDestructableZ('YTfc',-11200,6016,648,270,1,0)call CreateDestructableZ('YTfc',-11200,5888,648,270,1,0)call CreateDestructableZ('YTfc',-11200,5760,648,270,1,0)call CreateDestructableZ('YTfc',-11328,5760,648,270,1,0)call CreateDestructableZ('YTfc',-11456,5760,648,270,1,0)call CreateDestructableZ('YTfc',-11584,5760,648,270,1,0)call CreateDestructableZ('YTfc',-11712,5760,648,270,1,0)call CreateDestructableZ('YTfc',-11840,5760,648,270,1,0)call CreateDestructableZ('YTfc',-11968,5760,648,270,1,0)call CreateDestructableZ('YTfc',-12096,5760,648,270,1,0)call CreateDestructableZ('YTfc',-12224,5760,648,270,1,0)call CreateDestructableZ('YTfc',-12352,5760,648,270,1,0)call CreateDestructableZ('YTfc',-12480,5760,648,270,1,0)call CreateDestructableZ('YTfc',-12608,5760,648,270,1,0)call CreateDestructableZ('YTfc',-12736,5760,648,270,1,0)call CreateDestructableZ('YTfc',-12864,5760,648,270,1,0)call CreateDestructableZ('YTfc',-12992,5760,648,270,1,0)call CreateDestructableZ('YTfc',-13120,5760,648,270,1,0)call CreateDestructableZ('YTfc',-13184,5888,648,270,1,0)call CreateDestructableZ('YTfc',-13184,6016,648,270,1,0)call CreateDestructableZ('YTfc',-13184,6144,648,270,1,0)call CreateDestructableZ('YTfc',-13184,6272,648,270,1,0)call CreateDestructableZ('YTfc',-13184,6400,648,270,1,0)call CreateDestructableZ('YTfc',-13056,6400,648,270,1,0)call CreateDestructableZ('YTfc',-12928,6400,648,270,1,0)call CreateDestructableZ('YTfc',-12928,6528,648,270,1,0)call CreateDestructableZ('YTfc',-12928,6656,648,270,1,0)call CreateDestructableZ('YTfc',-12928,6784,648,270,1,0)call CreateDestructableZ('YTfc',-13056,6848,648,270,1,0)call CreateDestructableZ('YTfc',-13184,6848,648,270,1,0)call CreateDestructableZ('YTfc',-13184,6976,648,270,1,0)call CreateDestructableZ('YTfc',-13184,7104,648,270,1,0)call CreateDestructableZ('YTfc',-13184,7232,648,270,1,0)call CreateDestructableZ('YTfc',-13184,7360,648,270,1,0)call CreateDestructableZ('YTfc',-13056,7424,648,270,1,0)call CreateDestructableZ('YTfc',-12928,7424,623.75,270,1,0)call CreateDestructableZ('YTfc',-12800,7424,625,270,1,0)call CreateDestructableZ('YTfc',-12672,7424,627.75,270,1,0)call CreateDestructableZ('YTfc',-12544,7424,625.25,270,1,0)call CreateDestructableZ('YTfc',-12416,7424,625,270,1,0)call CreateDestructableZ('YTfc',-12352,7552,562.5,270,1,0)call CreateDestructableZ('YTfc',-12352,7680,520.5,270,1,0)call CreateDestructableZ('YTfc',-12352,7808,495.87,270,1,0)call CreateDestructableZ('YTfc',-12480,7808,495.87,270,1,0)call CreateDestructableZ('YTfc',-12608,7808,497.87,270,1,0)call CreateDestructableZ('YTfc',-12736,7808,496,270,1,0)call CreateDestructableZ('YTfc',-12864,7808,493.75,270,1,0)call CreateDestructableZ('YTfc',-12928,7936,493.75,270,1,0)call CreateDestructableZ('YTfc',-12928,8064,493.75,270,1,0)call CreateDestructableZ('YTfc',-12928,8192,493.75,270,1,0)call CreateDestructableZ('YTfc',-12928,8320,469.75,270,1,0)call CreateDestructableZ('YTfc',-12928,8448,478.75,270,1,0)call CreateDestructableZ('YTfc',-12928,8576,470,270,1,0)call CreateDestructableZ('YTfc',-12928,8704,466.25,270,1,0)call CreateDestructableZ('YTfc',-13056,8768,405.5,270,1,0)call CreateDestructableZ('YTfc',-13184,8768,358.12,270,1,0)call CreateDestructableZ('YTfc',-13312,8768,324.37,270,1,0)call CreateDestructableZ('YTfc',-13440,8768,310.12,270,1,0)call CreateDestructableZ('YTfc',-13568,8768,305.62,270,1,0)call CreateDestructableZ('YTfc',-13568,8640,305.25,270,1,0)call CreateDestructableZ('YTfc',-13568,8512,305.25,270,1,0)call CreateDestructableZ('YTfc',-13568,8384,305.25,270,1,0)call CreateDestructableZ('YTfc',-13568,8256,292,270,1,0)call CreateDestructableZ('YTfc',-13696,8256,279.75,270,1,0)call CreateDestructableZ('YTfc',-13824,8256,274.62,270,1,0)call CreateDestructableZ('YTfc',-13952,8256,272,270,1,0)call CreateDestructableZ('YTfc',-14080,8256,273.62,270,1,0)call CreateDestructableZ('YTfc',-14208,8256,274.25,270,1,0)call CreateDestructableZ('YTfc',-14208,8128,233.12,270,1,0)call CreateDestructableZ('YTfc',-14208,8000,186.12,270,1,0)call CreateDestructableZ('YTfc',-14208,7872,146.25,270,1,0)call CreateDestructableZ('YTfc',-14208,7744,121,270,1,0)call CreateDestructableZ('YTfc',-14080,7744,121.12,270,1,0)call CreateDestructableZ('YTfc',-13952,7744,118.87,270,1,0)call CreateDestructableZ('YTfc',-13824,7744,116.25,270,1,0)call CreateDestructableZ('YTfc',-13696,7744,112.87,270,1,0)call CreateDestructableZ('YTfc',-13696,7616,112.25,270,1,0)call CreateDestructableZ('YTfc',-13696,7488,112.25,270,1,0)call CreateDestructableZ('YTfc',-13696,7360,112.25,270,1,0)call CreateDestructableZ('YTfc',-13824,7360,112.25,270,1,0)call CreateDestructableZ('YTfc',-13888,7232,112.25,270,1,0)call CreateDestructableZ('YTfc',-13888,7104,112.25,270,1,0)call CreateDestructableZ('YTfc',-13888,6976,110.81,270,1,0)call CreateDestructableZ('YTfc',-13760,6976,111.5,270,1,0)call CreateDestructableZ('YTfc',-13632,6912,111.75,270,1,0)call CreateDestructableZ('YTfc',-13632,6784,108.37,270,1,0)call CreateDestructableZ('YTfc',-13760,6720,83.56,270,1,0)call CreateDestructableZ('YTfb',-12448,6176,648,270,1,0)call CreateDestructableZ('YTfb',-12064,6176,648,270,1,0)call CreateDestructableZ('YTfb',-11616,6176,648,270,1,0)call CreateDestructableZ('YTfb',-11744,7008,648,270,1,0)call CreateDestructableZ('YTfb',-12512,7008,648,270,1,0)call CreateDestructableZ('YTfb',-12256,8736,488.25,270,1,0)call CreateDestructableZ('YTfb',-15072,7584,112.25,270,1,0)call CreateDestructableZ('YTfb',-14944,6368,30.91,270,1,0)call CreateDestructableZ('YTfb',-15200,6560,53.53,270,1,0)call CreateDestructableZ('YTfb',-15200,6496,45.06,270,1,0)call CreateDestructableZ('YTfb',-15200,6432,37.19,270,1,0)call CreateDestructableZ('YTfb',-15200,6368,27.3,270,1,0)call CreateDestructableZ('YTfb',-15200,6304,15.39,270,1,0)call CreateDestructableZ('YTfb',-15264,6240,7.73,270,1,0)call CreateDestructableZ('YTfb',-15264,6176,2.58,270,1,0)call CreateDestructableZ('YTfb',-15328,6112,0,270,1,0)call CreateDestructableZ('YTfb',-15328,6048,0,270,1,0)call CreateDestructableZ('YTfb',-15392,5984,0,270,1,0)call CreateDestructableZ('YTfb',-15392,5920,0,270,1,0)call CreateDestructableZ('YTfb',-15456,5920,0,270,1,0)call CreateDestructableZ('YTfb',-15520,5856,0,270,1,0)call CreateDestructableZ('YTfb',-15584,5792,0,270,1,0)call CreateDestructableZ('YTfb',-15520,5792,0,270,1,0)call CreateDestructableZ('YTfb',-15456,5856,0,270,1,0)call CreateDestructableZ('YTfb',-15328,5984,0,270,1,0)call CreateDestructableZ('YTfb',-15264,6112,0,270,1,0)call CreateDestructableZ('YTfb',-15200,6240,7.08,270,1,0)call CreateDestructableZ('YTfb',-15136,6560,54.09,270,1,0)call CreateDestructableZ('YTfb',-15136,6624,62.28,270,1,0)call CreateDestructableZ('YTfc',-10048,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-9920,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-9792,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-9664,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-9536,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-9408,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-9280,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-9152,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-9024,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-8896,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-8832,-4992,0,270,1,0)call CreateDestructableZ('YTfc',-8832,-4864,0,270,1,0)call CreateDestructableZ('YTfc',-8960,-4864,356.75,270,1,0)call CreateDestructableZ('YTfc',-9088,-4864,356.75,270,1,0)call CreateDestructableZ('YTfc',-9216,-4864,356.75,270,1,0)call CreateDestructableZ('YTfc',-9344,-4864,356.75,270,1,0)call CreateDestructableZ('YTfc',-9472,-4864,356.75,270,1,0)call CreateDestructableZ('YTfc',-9600,-4864,356.75,270,1,0)call CreateDestructableZ('YTfc',-9728,-4864,356.75,270,1,0)call CreateDestructableZ('YTfc',-9792,-4736,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-4608,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-4480,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-4352,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-4224,178.37,270,1,0)call CreateDestructableZ('YTfc',-9664,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-9536,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-9408,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-9280,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-9152,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-9024,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-8896,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-8768,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-8640,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-8512,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-8384,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-8256,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-8128,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-8000,-4160,89.19,270,1,0)call CreateDestructableZ('YTfc',-8000,-4032,178.37,270,1,0)call CreateDestructableZ('YTfc',-8000,-3904,178.37,270,1,0)call CreateDestructableZ('YTfc',-8000,-3776,178.37,270,1,0)call CreateDestructableZ('YTfc',-8064,-3648,178.37,270,1,0)call CreateDestructableZ('YTfc',-8192,-3520,178.37,270,1,0)call CreateDestructableZ('YTfc',-8320,-3392,178.37,270,1,0)call CreateDestructableZ('YTfc',-8384,-3520,178.37,270,1,0)call CreateDestructableZ('YTfc',-8384,-3648,178.37,270,1,0)call CreateDestructableZ('YTfc',-8384,-3776,178.37,270,1,0)call CreateDestructableZ('YTfc',-8384,-3904,267.56,270,1,0)call CreateDestructableZ('YTfc',-8512,-3968,356.75,270,1,0)call CreateDestructableZ('YTfc',-8640,-3968,356.75,270,1,0)call CreateDestructableZ('YTfc',-8768,-3968,356.75,270,1,0)call CreateDestructableZ('YTfc',-8832,-3840,0,270,1,0)call CreateDestructableZ('YTfc',-8832,-3712,0,270,1,0)call CreateDestructableZ('YTfc',-8832,-3584,0,270,1,0)call CreateDestructableZ('YTfc',-8832,-3456,0,270,1,0)call CreateDestructableZ('YTfc',-8832,-3328,0,270,1,0)call CreateDestructableZ('YTfc',-8832,-3200,0,270,1,0)call CreateDestructableZ('YTfc',-8832,-3072,0,270,1,0)call CreateDestructableZ('YTfc',-8704,-3008,178.37,270,1,0)call CreateDestructableZ('YTfc',-8576,-3008,178.37,270,1,0)call CreateDestructableZ('YTfc',-8448,-3008,178.37,270,1,0)call CreateDestructableZ('YTfc',-8320,-3008,178.37,270,1,0)call CreateDestructableZ('YTfc',-8256,-2880,178.37,270,1,0)call CreateDestructableZ('YTfc',-8256,-2752,178.37,270,1,0)call CreateDestructableZ('YTfc',-8256,-2624,178.37,270,1,0)call CreateDestructableZ('YTfc',-8256,-2496,178.37,270,1,0)call CreateDestructableZ('YTfc',-8256,-2368,178.37,270,1,0)call CreateDestructableZ('YTfc',-8256,-2240,267.56,270,1,0)call CreateDestructableZ('YTfc',-8128,-2240,178.37,270,1,0)call CreateDestructableZ('YTfc',-8000,-2240,178.37,270,1,0)call CreateDestructableZ('YTfc',-7872,-2240,178.37,270,1,0)call CreateDestructableZ('YTfc',-7744,-2240,178.37,270,1,0)call CreateDestructableZ('YTfc',-7616,-2240,178.37,270,1,0)call CreateDestructableZ('YTfc',-7488,-2240,178.37,270,1,0)call CreateDestructableZ('YTfc',-7360,-2240,267.56,270,1,0)call CreateDestructableZ('YTfc',-7360,-2368,178.37,270,1,0)call CreateDestructableZ('YTfc',-7360,-2496,178.37,270,1,0)call CreateDestructableZ('YTfc',-7360,-2624,178.37,270,1,0)call CreateDestructableZ('YTfc',-7360,-2752,178.37,270,1,0)call CreateDestructableZ('YTfc',-7360,-2880,267.56,270,1,0)call CreateDestructableZ('YTfc',-7488,-2880,178.37,270,1,0)call CreateDestructableZ('YTfc',-7616,-2880,178.37,270,1,0)call CreateDestructableZ('YTfc',-7744,-2880,178.37,270,1,0)call CreateDestructableZ('YTfc',-7872,-2880,89.19,270,1,0)call CreateDestructableZ('YTfc',-7872,-3008,178.37,270,1,0)call CreateDestructableZ('YTfc',-7872,-3136,178.37,270,1,0)call CreateDestructableZ('YTfc',-7872,-3264,89.19,270,1,0)call CreateDestructableZ('YTfc',-7744,-3328,178.37,270,1,0)call CreateDestructableZ('YTfc',-7616,-3392,178.37,270,1,0)call CreateDestructableZ('YTfc',-7488,-3392,178.37,270,1,0)call CreateDestructableZ('YTfc',-7360,-3392,178.37,270,1,0)call CreateDestructableZ('YTfc',-7296,-3520,0,270,1,0)call CreateDestructableZ('YTfc',-7296,-3648,0,270,1,0)call CreateDestructableZ('YTfc',-7296,-3776,178.37,270,1,0)call CreateDestructableZ('YTfc',-7424,-3776,178.37,270,1,0)call CreateDestructableZ('YTfc',-7552,-3776,178.37,270,1,0)call CreateDestructableZ('YTfc',-7616,-3904,178.37,270,1,0)call CreateDestructableZ('YTfc',-7616,-4032,178.37,270,1,0)call CreateDestructableZ('YTfc',-7616,-4160,178.37,270,1,0)call CreateDestructableZ('YTfc',-7616,-4288,178.37,270,1,0)call CreateDestructableZ('YTfc',-7616,-4416,178.37,270,1,0)call CreateDestructableZ('YTfc',-7616,-4544,267.56,270,1,0)call CreateDestructableZ('YTfc',-7680,-4672,356.75,270,1,0)call CreateDestructableZ('YTfc',-7808,-4672,178.37,270,1,0)call CreateDestructableZ('YTfc',-7936,-4672,178.37,270,1,0)call CreateDestructableZ('YTfc',-8064,-4672,178.37,270,1,0)call CreateDestructableZ('YTfc',-8192,-4672,178.37,270,1,0)call CreateDestructableZ('YTfc',-8320,-4672,178.37,270,1,0)call CreateDestructableZ('YTfc',-8384,-4800,178.37,270,1,0)call CreateDestructableZ('YTfc',-8384,-4928,178.37,270,1,0)call CreateDestructableZ('YTfc',-8320,-5056,178.37,270,1,0)call CreateDestructableZ('YTfc',-8192,-5056,178.37,270,1,0)call CreateDestructableZ('YTfc',-8064,-5056,178.37,270,1,0)call CreateDestructableZ('YTfc',-7936,-5056,178.37,270,1,0)call CreateDestructableZ('YTfc',-7872,-5184,178.37,270,1,0)call CreateDestructableZ('YTfc',-7872,-5312,89.19,270,1,0)call CreateDestructableZ('YTfc',-7744,-5312,178.37,270,1,0)call CreateDestructableZ('YTfc',-7616,-5312,178.37,270,1,0)call CreateDestructableZ('YTfc',-7488,-5312,89.19,270,1,0)call CreateDestructableZ('YTfc',-7488,-5184,178.37,270,1,0)call CreateDestructableZ('YTfc',-7488,-5056,178.37,270,1,0)call CreateDestructableZ('YTfc',-7488,-4928,178.37,270,1,0)call CreateDestructableZ('YTfc',-7488,-4800,267.56,270,1,0)call CreateDestructableZ('YTfc',-7360,-4800,178.37,270,1,0)call CreateDestructableZ('YTfc',-7232,-4800,178.37,270,1,0)call CreateDestructableZ('YTfc',-7104,-4800,178.37,270,1,0)call CreateDestructableZ('YTfc',-6976,-4800,89.19,270,1,0)call CreateDestructableZ('YTfc',-9088,-3904,178.37,270,1,0)call CreateDestructableZ('YTfc',-9216,-3904,178.37,270,1,0)call CreateDestructableZ('YTfc',-9344,-3904,178.37,270,1,0)call CreateDestructableZ('YTfc',-9472,-3904,178.37,270,1,0)call CreateDestructableZ('YTfc',-9600,-3904,178.37,270,1,0)call CreateDestructableZ('YTfc',-9728,-3904,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-3776,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-3648,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-3520,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-3392,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-3264,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-3136,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-3008,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-2880,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-2752,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-2624,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-2496,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-2368,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-2240,178.37,270,1,0)call CreateDestructableZ('YTfc',-9792,-2112,267.56,270,1,0)call CreateDestructableZ('YTfc',-9664,-2112,178.37,270,1,0)call CreateDestructableZ('YTfc',-9536,-2112,178.37,270,1,0)call CreateDestructableZ('YTfc',-9600,-2240,0,270,1,0)call CreateDestructableZ('YTfc',-9600,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-9472,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-9344,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-9216,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-9088,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-8960,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-8960,-2240,0,270,1,0)call CreateDestructableZ('YTfc',-8960,-2112,178.37,270,1,0)call CreateDestructableZ('YTfc',-8960,-1984,356.75,270,1,0)call CreateDestructableZ('YTfc',-8832,-2112,178.37,270,1,0)call CreateDestructableZ('YTfc',-8832,-2240,0,270,1,0)call CreateDestructableZ('YTfc',-8832,-2368,0,270,1,0)call CreateDestructableZ('YTfc',-8768,-2496,178.37,270,1,0)call CreateDestructableZ('YTfc',-8768,-2624,178.37,270,1,0)call CreateDestructableZ('YTfc',-8768,-2752,267.56,270,1,0)call CreateDestructableZ('YTfc',-8896,-2752,178.37,270,1,0)call CreateDestructableZ('YTfc',-9024,-2752,89.19,270,1,0)call CreateDestructableZ('YTfc',-9024,-3776,178.37,270,1,0)call CreateDestructableZ('YTfc',-9024,-2880,178.37,270,1,0)call CreateDestructableZ('YTfc',-9024,-3008,178.37,270,1,0)call CreateDestructableZ('YTfc',-9024,-3136,178.37,270,1,0)call CreateDestructableZ('YTfc',-9024,-3264,178.37,270,1,0)call CreateDestructableZ('YTfc',-9024,-3392,178.37,270,1,0)call CreateDestructableZ('YTfc',-9024,-3520,178.37,270,1,0)call CreateDestructableZ('YTfc',-9024,-3648,178.37,270,1,0)call CreateDestructableZ('YTfc',6976,-2816,0,270,1,0)call CreateDestructableZ('YTfc',5760,-512,485.75,270,1,0)call CreateDestructableZ('YTfc',5824,-640,485.75,270,1,0)call CreateDestructableZ('YTfc',6016,-832,485.75,270,1,0)call CreateDestructableZ('YTfc',6208,-832,485.75,270,1,0)call CreateDestructableZ('YTfc',6336,-896,485.75,270,1,0)call CreateDestructableZ('YTfc',6464,-960,485.75,270,1,0)call CreateDestructableZ('YTfc',6592,-1024,485.75,270,1,0)call CreateDestructableZ('YTfc',6720,-960,485.75,270,1,0)call CreateDestructableZ('YTfc',6848,-960,485.75,270,1,0)call CreateDestructableZ('YTfc',6976,-896,485.75,270,1,0)call CreateDestructableZ('YTfc',7104,-768,485.75,270,1,0)call CreateDestructableZ('YTfc',7168,-640,485.75,270,1,0)call CreateDestructableZ('YTfc',7232,-512,485.75,270,1,0)call CreateDestructableZ('YTfc',7232,-384,485.75,270,1,0)call CreateDestructableZ('YTfc',7232,-256,485.75,270,1,0)call CreateDestructableZ('YTfc',7232,-128,485.75,270,1,0)call CreateDestructableZ('YTfc',7232,0,485.75,270,1,0)call CreateDestructableZ('YTfc',7232,128,485.75,270,1,0)call CreateDestructableZ('YTfc',7232,256,242.87,270,1,0)call CreateDestructableZ('YTfc',7168,384,485.75,270,1,0)call CreateDestructableZ('YTfc',7040,512,485.75,270,1,0)call CreateDestructableZ('YTfc',6912,576,485.75,270,1,0)call CreateDestructableZ('YTfc',6784,576,485.75,270,1,0)call CreateDestructableZ('YTfc',6656,576,485.75,270,1,0)call CreateDestructableZ('YTfc',6528,576,485.75,270,1,0)call CreateDestructableZ('YTfc',6400,576,485.75,270,1,0)call CreateDestructableZ('YTfc',6272,576,485.75,270,1,0)call CreateDestructableZ('YTfc',6144,512,485.75,270,1,0)call CreateDestructableZ('YTfc',6016,448,485.75,270,1,0)call CreateDestructableZ('YTfc',5952,320,485.75,270,1,0)call CreateDestructableZ('YTfc',5888,192,485.75,270,1,0)call CreateDestructableZ('YTfc',5824,64,485.75,270,1,0)call CreateDestructableZ('YTfc',5760,-64,485.75,270,1,0)call CreateDestructableZ('YTfc',5760,-192,485.75,270,1,0)call CreateDestructableZ('YTfc',5696,-320,485.75,270,1,0)call CreateDestructableZ('YTfb',5728,-416,485.75,270,1,0)call CreateDestructableZ('YTfb',5920,-736,485.75,270,1,0)call CreateDestructableZ('YTfb',5856,-800,485.75,270,1,0)call CreateDestructableZ('YTfb',5920,-800,485.75,270,1,0)call CreateDestructableZ('YTfb',5792,-736,485.75,270,1,0)call CreateDestructableZ('YTfb',5728,-608,485.75,270,1,0)call CreateDestructableZ('YTfb',5856,-864,485.75,270,1,0)call CreateDestructableZ('YTfc',-320,0,0,270,1,0)call CreateDestructableZ('YTfc',-192,0,0,270,1,0)call CreateDestructableZ('YTfc',-64,0,0,270,1,0)call CreateDestructableZ('JTtw',-10176,1024,0,270,.93,7)call CreateDestructableZ('YTfc',-320,192,0,270,1,0)call CreateDestructableZ('YTfc',-192,192,0,270,1,0)call CreateDestructableZ('YTfc',-64,192,0,270,1,0)call CreateDestructableZ('YTfc',64,192,0,270,1,0)call CreateDestructableZ('YTfc',64,64,0,270,1,0)call CreateDestructableZ('YTfc',4480,-1408,0,270,1,0)call CreateDestructableZ('YTfc',4608,-1408,0,270,1,0)call CreateDestructableZ('YTfc',4736,-1408,0,270,1,0)call CreateDestructableZ('YTfc',4864,-1408,0,270,1,0)call CreateDestructableZ('YTfc',4992,-1408,0,270,1,0)call CreateDestructableZ('YTfc',5120,-1408,0,270,1,0)call CreateDestructableZ('YTfc',5248,-1408,0,270,1,0)call CreateDestructableZ('YTfc',5376,-1408,0,270,1,0)call CreateDestructableZ('YTfc',5504,-1408,0,270,1,0)call CreateDestructableZ('YTfc',5632,-1408,0,270,1,0)call CreateDestructableZ('YTfc',5760,-1408,0,270,1,0)call CreateDestructableZ('YTfc',5888,-1408,0,270,1,0)call CreateDestructableZ('YTfc',6016,-1408,0,270,1,0)call CreateDestructableZ('YTfc',6144,-1408,0,270,1,0)call CreateDestructableZ('YTfc',6272,-1408,0,270,1,0)call CreateDestructableZ('YTfc',6400,-1408,0,270,1,0)call CreateDestructableZ('YTfc',6528,-1408,0,270,1,0)call CreateDestructableZ('YTfc',6656,-1408,0,270,1,0)call CreateDestructableZ('YTfc',6784,-1408,0,270,1,0)call CreateDestructableZ('YTfc',6912,-1408,0,270,1,0)call CreateDestructableZ('YTfc',7040,-1408,0,270,1,0)call CreateDestructableZ('YTfc',6976,-2304,0,270,1,0)call CreateDestructableZ('YTfc',6976,-2432,0,270,1,0)call CreateDestructableZ('YTfc',6976,-2560,0,270,1,0)call CreateDestructableZ('YTfc',6976,-2688,0,270,1,0)call CreateDestructableZ('YTfc',5632,-576,485.75,270,1,0)call CreateDestructableZ('YTfc',5504,-576,485.75,270,1,0)call CreateDestructableZ('YTfc',5376,-576,485.75,270,1,0)call CreateDestructableZ('YTfc',5248,-512,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,-384,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,-256,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,-128,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,0,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,128,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,256,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,384,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,512,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,640,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,768,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,896,485.75,270,1,0)call CreateDestructableZ('YTfc',5056,896,485.75,270,1,0)call CreateDestructableZ('YTfc',4928,896,485.75,270,1,0)call CreateDestructableZ('YTfc',4800,896,485.75,270,1,0)call CreateDestructableZ('YTfc',4672,896,382.25,270,1,0)call CreateDestructableZ('YTfc',4544,896,246.37,270,1,0)call CreateDestructableZ('YTfc',4416,896,294.5,270,1,0)call CreateDestructableZ('YTfc',4288,896,369.12,270,1,0)call CreateDestructableZ('YTfc',4160,896,388.62,270,1,0)call CreateDestructableZ('YTfc',4032,896,442.62,270,1,0)call CreateDestructableZ('YTfc',3904,832,456.5,270,1,0)call CreateDestructableZ('YTfc',3776,832,388.44,270,1,0)call CreateDestructableZ('YTfc',3648,832,327.94,270,1,0)call CreateDestructableZ('YTfc',3520,832,303.19,270,1,0)call CreateDestructableZ('YTfc',3392,832,283.69,270,1,0)call CreateDestructableZ('YTfc',3264,768,276.75,270,1,0)call CreateDestructableZ('YTfc',3136,768,248.37,270,1,0)call CreateDestructableZ('YTfc',3008,768,225.12,270,1,0)call CreateDestructableZ('YTfc',2880,768,215,270,1,0)call CreateDestructableZ('YTfc',2752,768,186.25,270,1,0)call CreateDestructableZ('YTfc',2624,768,145.25,270,1,0)call CreateDestructableZ('YTfc',2496,768,121.25,270,1,0)call CreateDestructableZ('YTfc',2368,768,115.12,270,1,0)call CreateDestructableZ('YTfc',2240,768,83.75,270,1,0)call CreateDestructableZ('YTfc',2112,704,53.38,270,1,0)call CreateDestructableZ('YTfc',2176,256,63.25,270,1,0)call CreateDestructableZ('YTfc',2176,128,49.25,270,1,0)call CreateDestructableZ('YTfc',2304,64,61.63,270,1,0)call CreateDestructableZ('YTfc',2432,64,61.63,270,1,0)call CreateDestructableZ('YTfc',2560,64,61.63,270,1,0)call CreateDestructableZ('YTfc',2688,64,117.25,270,1,0)call CreateDestructableZ('YTfc',2816,64,117.25,270,1,0)call CreateDestructableZ('YTfc',2944,64,117.25,270,1,0)call CreateDestructableZ('YTfc',3072,64,117.25,270,1,0)call CreateDestructableZ('YTfc',3200,64,117.25,270,1,0)call CreateDestructableZ('YTfc',3328,64,111.75,270,1,0)call CreateDestructableZ('YTfc',3456,64,139.12,270,1,0)call CreateDestructableZ('YTfc',3584,64,139.37,270,1,0)call CreateDestructableZ('YTfc',3776,64,193.87,270,1,0)call CreateDestructableZ('YTfc',3904,128,398.62,270,1,0)call CreateDestructableZ('YTfc',4032,128,441.75,270,1,0)call CreateDestructableZ('YTfc',4160,64,360.69,270,1,0)call CreateDestructableZ('YTfc',4160,-64,242.87,270,1,0)call CreateDestructableZ('YTfc',4160,-192,242.87,270,1,0)call CreateDestructableZ('YTfc',4160,-320,242.87,270,1,0)call CreateDestructableZ('YTfc',4160,-448,242.87,270,1,0)call CreateDestructableZ('YTfc',4160,-576,242.87,270,1,0)call CreateDestructableZ('YTfc',4160,-704,242.87,270,1,0)call CreateDestructableZ('YTfc',4160,-832,242.87,270,1,0)call CreateDestructableZ('YTfc',4160,-960,242.87,270,1,0)call CreateDestructableZ('YTfc',4160,-1088,242.87,270,1,0)call CreateDestructableZ('YTfc',4160,-1216,242.87,270,1,0)call CreateDestructableZ('YTfc',4288,-1344,242.87,270,1,0)call CreateDestructableZ('YTfc',4416,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',4544,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',4672,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',4800,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',4928,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',5056,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',5184,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',5312,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',5440,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',5568,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',5696,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',5824,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',5952,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',6080,-1280,485.75,270,1,0)call CreateDestructableZ('YTfc',6144,-1152,485.75,270,1,0)call CreateDestructableZ('YTfc',6144,-1024,485.75,270,1,0)call CreateDestructableZ('YTfc',6016,-960,485.75,270,1,0)call CreateDestructableZ('NTtw',-12992,12480,166.56,270,1.11,4)call CreateDestructableZ('NTtw',-12992,12352,166.69,270,1.13,5)call CreateDestructableZ('NTtw',-13120,12416,170.25,270,1.16,5)call CreateDestructableZ('NTtw',-13120,12288,160.37,270,.9,3)call CreateDestructableZ('NTtw',-12992,12224,169.75,270,1.06,3)call CreateDestructableZ('NTtw',-12736,10816,269,270,1.06,6)call CreateDestructableZ('NTtw',-12864,10816,273.87,270,.99,1)call CreateDestructableZ('NTtw',-12864,11008,280.12,270,1.15,2)call CreateDestructableZ('NTtw',-12992,10816,264.06,270,1.14,6)call CreateDestructableZ('NTtw',-12736,10944,274.31,270,.8,3)call CreateDestructableZ('NTtw',-12224,11776,248,270,.96,8)call CreateDestructableZ('NTtw',-12224,11648,248,270,.86,2)call CreateDestructableZ('NTtw',-11392,12160,171.25,270,1.09,4)call CreateDestructableZ('NTtw',-11520,12224,212.75,270,1.11,1)call CreateDestructableZ('NTtw',-11456,12352,232.62,270,.83,4)call CreateDestructableZ('NTtw',-11456,12544,241.25,270,.97,1)call CreateDestructableZ('NTtw',-11520,12672,241.25,270,.96,1)call CreateDestructableZ('NTtw',-11392,12928,241.25,270,1.2,1)call CreateDestructableZ('NTtw',-11392,13056,241.25,270,.99,9)call CreateDestructableZ('NTtw',-11520,12800,241.25,270,.83,6)call CreateDestructableZ('NTtw',-11392,12672,241.25,270,.96,7)call CreateDestructableZ('NTtw',-11328,12544,241.25,270,.87,8)call CreateDestructableZ('NTtw',-11328,12416,241.25,270,1,4)call CreateDestructableZ('NTtw',-12032,12288,241.25,270,.84,9)call CreateDestructableZ('NTtw',-12032,12416,241.25,270,.83,2)call CreateDestructableZ('NTtw',-12096,12544,230.12,270,1.14,8)call CreateDestructableZ('NTtw',-12096,12672,236.12,270,.88,6)call CreateDestructableZ('NTtw',-12096,12800,239.62,270,.82,3)call CreateDestructableZ('NTtw',-11712,13888,241.25,270,1.06,2)call CreateDestructableZ('NTtw',-11840,13760,241.25,270,.92,5)call CreateDestructableZ('NTtw',-11776,15168,0,270,1.12,7)call CreateDestructableZ('NTtw',-11904,15168,0,270,1.04,9)call CreateDestructableZ('NTtw',-11328,14528,.06,270,1.09,1)call CreateDestructableZ('NTtw',-11328,14400,4.06,270,.9,1)call CreateDestructableZ('NTtw',-11456,14400,9.44,270,.89,0)call CreateDestructableZ('NTtw',-11584,14464,-10.38,270,.82,3)call CreateDestructableZ('NTtw',-12224,15104,147.75,270,1.04,2)call CreateDestructableZ('NTtw',-12352,15104,147.75,270,1.12,5)call CreateDestructableZ('NTtw',-12416,14976,147.75,270,.99,8)call CreateDestructableZ('NTtw',-12416,14848,147.75,270,1.13,7)call CreateDestructableZ('NTtw',-12416,14720,147.75,270,.95,7)call CreateDestructableZ('NTtw',-12544,14656,147.75,270,1.08,1)call CreateDestructableZ('NTtw',-12608,14528,147.75,270,1.07,4)call CreateDestructableZ('NTtw',-12672,14400,147.75,270,1.19,9)call CreateDestructableZ('NTtw',-12800,14208,147.75,270,.98,2)call CreateDestructableZ('NTtw',-12928,14080,147.75,270,.88,2)call CreateDestructableZ('NTtw',-14080,14528,147.75,270,1.12,0)call CreateDestructableZ('NTtw',-14144,14656,147.75,270,.81,9)call CreateDestructableZ('NTtw',-14208,14784,147.75,270,.96,7)call CreateDestructableZ('NTtw',-14208,14912,147.75,270,1.15,8)call CreateDestructableZ('NTtw',-14208,15040,147.75,270,1.05,5)call CreateDestructableZ('NTtw',-14656,15040,0,270,.87,5)call CreateDestructableZ('NTtw',-14528,15040,0,270,.81,6)call CreateDestructableZ('NTtw',-14592,14848,0,270,.93,4)call CreateDestructableZ('NTtw',-14464,14848,0,270,1.19,1)call CreateDestructableZ('NTtw',-14784,15168,0,270,1.14,9)call CreateDestructableZ('NTtw',-14464,14720,0,270,1.1,7)call CreateDestructableZ('NTtw',-15424,13888,61.25,270,.82,8)call CreateDestructableZ('NTtw',-15680,14016,0,270,1.18,2)call CreateDestructableZ('NTtw',-15424,13760,19.62,270,.99,5)call CreateDestructableZ('NTtw',-15424,13632,12.06,270,.81,2)call CreateDestructableZ('NTtw',-14784,13696,108,270,.94,2)call CreateDestructableZ('NTtw',-14848,13568,108,270,1.06,9)call CreateDestructableZ('NTtw',-14912,13440,108,270,1.17,1)call CreateDestructableZ('NTtw',-13184,13440,147.75,270,1.01,2)call CreateDestructableZ('NTtw',-13312,13504,147.75,270,.81,2)call CreateDestructableZ('NTtw',-13440,13504,147.75,270,.99,6)call CreateDestructableZ('NTtw',-13568,13504,147.75,270,.92,7)call CreateDestructableZ('NTtw',-13696,13504,147.75,270,1.09,9)call CreateDestructableZ('NTtw',-13824,13504,147.75,270,.82,4)call CreateDestructableZ('NTtw',-11456,14144,241.25,270,1.17,4)call CreateDestructableZ('NTtw',-11328,14080,241.25,270,1.05,6)call CreateDestructableZ('NTtw',-12096,12096,241.25,270,1.08,2)call CreateDestructableZ('NTtw',-12160,11904,241.25,270,.81,4)call CreateDestructableZ('NTtw',-12480,11328,260.69,270,.82,1)call CreateDestructableZ('NTtw',-12352,11392,254.87,270,.87,8)call CreateDestructableZ('NTtw',-12352,11520,253.5,270,1.03,1)call CreateDestructableZ('LTrc',-13952,12608,162.25,52,1,5)call CreateDestructableZ('LTrc',-14080,12480,164.12,46,1,4)call CreateDestructableZ('LTrc',-13952,12416,148.5,42,1,0)call CreateDestructableZ('LTrc',-14976,13312,0,296,1,0)call CreateDestructableZ('LTrc',-14848,13248,0,148,1,2)call CreateDestructableZ('LTrc',-14912,13120,0,72,1,4)call CreateDestructableZ('LTrc',-15296,14464,0,320,1,0)call CreateDestructableZ('LTrc',-15168,14400,0,224,1,2)call CreateDestructableZ('LTrc',-14080,15104,147.75,252,1,1)call CreateDestructableZ('LTrc',-14016,14976,147.75,42,1,2)call CreateDestructableZ('LTrc',-12544,15104,147.75,54,1,3)call CreateDestructableZ('LTrc',-12544,14848,147.75,105,1,0)call CreateDestructableZ('LTrc',-12608,14976,147.75,113,1,1)call CreateDestructableZ('LTrc',-12224,13440,241.25,347,1,5)call CreateDestructableZ('LTrc',-12096,13440,241.25,302,1,4)call CreateDestructableZ('LTrc',-12096,13568,241.25,157,1,2)call CreateDestructableZ('LTrc',-14464,11328,36.38,86,1,1)call CreateDestructableZ('LTrc',-14336,11264,0,228,1,0)call CreateDestructableZ('LTrc',-14336,11392,122.25,262,1,2)call CreateDestructableZ('LTrc',-15040,11648,.5,347,1,4)call CreateDestructableZ('LTrc',-15040,11520,1.5,165,1,5)call CreateDestructableZ('LTrc',-14912,11520,21.25,64,1,4)call CreateDestructableZ('LTrc',-15424,11392,0,132,1,4)call CreateDestructableZ('LTrc',-15424,11264,-.13,287,1,5)call CreateDestructableZ('LTrc',-15488,11520,0,2,1,1)call CreateDestructableZ('LTrc',-15424,12736,0,90,1,3)call CreateDestructableZ('LTrc',-15488,12544,0,171,1,3)call CreateDestructableZ('LTrc',-15360,12544,0,5,1,4)call CreateDestructableZ('LTrc',-13568,10752,0,116,1,0)call CreateDestructableZ('LTrc',-13760,10752,-.5,217,1,1)call CreateDestructableZ('LTrc',-13632,10880,-1.5,107,1,3)call CreateDestructableZ('LTrc',-13888,10816,-9.56,252,1,4)call CreateDestructableZ('LTrc',-14080,12736,166.75,96,1,2)call CreateDestructableZ('LTbr',-13280,12512,186.34,175,1.32,0)call CreateDestructableZ('LTbr',-12512,10720,250.73,129,1.42,0)call CreateDestructableZ('LTbr',-12576,10784,250.12,60,1.36,0)call CreateDestructableZ('LTbr',-12576,10720,253.03,280,1.46,0)call CreateDestructableZ('LTbr',-11168,11552,58.06,201,1.47,0)call CreateDestructableZ('LTbr',-11104,11488,64.98,175,1.14,0)call CreateDestructableZ('LTbr',-11168,11488,6.64,90,1.48,0)call CreateDestructableZ('LTbr',-11104,11424,64.33,301,1.2,0)call CreateDestructableZ('LTbr',-11168,11424,4.3,193,1.14,0)call CreateDestructableZ('YTfc',-14208,11392,166.75,270,1,0)call CreateDestructableZ('YTfc',-14080,11392,146.5,270,1,0)call CreateDestructableZ('YTfc',-13952,11392,146.25,270,1,0)call CreateDestructableZ('YTfc',-13824,11392,146.5,270,1,0)call CreateDestructableZ('YTfc',-13696,11392,166.75,270,1,0)call CreateDestructableZ('YTfc',-13568,11456,78.12,270,1,0)call CreateDestructableZ('YTfc',-13440,11520,146.25,270,1,0)call CreateDestructableZ('YTfc',-13312,11584,147.62,270,1,0)call CreateDestructableZ('YTfc',-13184,11648,152.75,270,1,0)call CreateDestructableZ('YTfc',-13056,11712,83.37,270,1,0)call CreateDestructableZ('YTfc',-12992,11840,128.31,270,1,0)call CreateDestructableZ('YTfc',-12928,11968,166.75,270,1,0)call CreateDestructableZ('YTfc',-12864,12096,124.12,270,1,0)call CreateDestructableZ('YTfc',-12800,12224,166.75,270,1,0)call CreateDestructableZ('YTfc',-12800,12352,166.75,270,1,0)call CreateDestructableZ('YTfc',-12800,12480,166.75,270,1,0)call CreateDestructableZ('YTfc',-12800,12608,96.62,270,1,0)call CreateDestructableZ('YTfc',-12928,12672,166.75,270,1,0)call CreateDestructableZ('YTfc',-13056,12736,91.87,270,1,0)call CreateDestructableZ('YTfc',-13184,12800,150.75,270,1,0)call CreateDestructableZ('YTfc',-13312,12864,97.62,270,1,0)call CreateDestructableZ('YTfc',-13440,12864,106,270,1,0)call CreateDestructableZ('YTfc',-13568,12864,81.37,270,1,0)call CreateDestructableZ('YTfc',-13696,12864,90,270,1,0)call CreateDestructableZ('YTfc',-13824,12864,86.62,270,1,0)call CreateDestructableZ('YTfc',-13952,12864,91.25,270,1,0)call CreateDestructableZ('YTfc',-13824,12480,140.75,270,1,0)call CreateDestructableZ('YTfc',-13696,12480,150.5,270,1,0)call CreateDestructableZ('YTfc',-13568,12480,145.62,270,1,0)call CreateDestructableZ('YTfc',-13440,12480,159.12,270,1,0)call CreateDestructableZ('YTfc',-14080,12864,69.75,270,1,0)call CreateDestructableZ('YTfc',-14208,12864,87.37,270,1,0)call CreateDestructableZ('YTfc',-14336,12864,83.37,270,1,0)call CreateDestructableZ('YTfc',-14464,12800,166.75,270,1,0)call CreateDestructableZ('YTfc',-14528,12672,166.75,270,1,0)call CreateDestructableZ('YTfc',-14656,12608,125.19,270,1,0)call CreateDestructableZ('YTfc',-14784,12480,93.31,270,1,0)call CreateDestructableZ('YTfc',-14656,12480,166.75,270,1,0)call CreateDestructableZ('YTfc',-14848,12352,97.5,270,1,0)call CreateDestructableZ('YTfc',-14720,12352,166.75,270,1,0)call CreateDestructableZ('YTfc',-14848,12224,166.75,270,1,0)call CreateDestructableZ('YTfc',-14848,12096,166.75,270,1,0)call CreateDestructableZ('YTfc',-14848,11968,166.75,270,1,0)call CreateDestructableZ('YTfc',-14848,11840,144.5,270,1,0)call CreateDestructableZ('YTfc',-14848,11712,93.25,270,1,0)call CreateDestructableZ('YTfc',-14720,11648,95.5,270,1,0)call CreateDestructableZ('YTfc',-13120,10752,248.87,270,1,0)call CreateDestructableZ('YTfc',-13120,10880,146.87,270,1,0)call CreateDestructableZ('YTfc',-13056,11008,243.5,270,1,0)call CreateDestructableZ('YTfc',-12992,11136,188.25,270,1,0)call CreateDestructableZ('YTfc',-12864,11200,226.62,270,1,0)call CreateDestructableZ('YTfc',-12800,11328,170.37,270,1,0)call CreateDestructableZ('YTfc',-12672,11456,153.5,270,1,0)call CreateDestructableZ('YTfc',-12544,11584,111,270,1,0)call CreateDestructableZ('YTfc',-12416,11648,227.5,270,1,0)call CreateDestructableZ('YTfc',-12352,11776,137.62,270,1,0)call CreateDestructableZ('YTfc',-12288,11904,0,270,1,0)call CreateDestructableZ('YTfc',-12224,12032,128.25,270,1,0)call CreateDestructableZ('YTfc',-12224,12160,120.62,270,1,0)call CreateDestructableZ('YTfc',-12160,12288,241.25,270,1,0)call CreateDestructableZ('YTfc',-12160,12416,241.25,270,1,0)call CreateDestructableZ('YTfc',-12224,12544,130.12,270,1,0)call CreateDestructableZ('YTfc',-12224,12672,207.25,270,1,0)call CreateDestructableZ('YTfc',-12224,12800,221.5,270,1,0)call CreateDestructableZ('YTfc',-12352,12864,188.62,270,1,0)call CreateDestructableZ('YTfc',-12416,12992,241.25,270,1,0)call CreateDestructableZ('YTfc',-12416,13120,241.25,270,1,0)call CreateDestructableZ('YTfc',-12480,13248,155.37,270,1,0)call CreateDestructableZ('YTfc',-12416,13376,235,270,1,0)call CreateDestructableZ('YTfc',-12352,13504,193.62,270,1,0)call CreateDestructableZ('YTfc',-12224,13568,241.25,270,1,0)call CreateDestructableZ('YTfc',-12160,13696,241.25,270,1,0)call CreateDestructableZ('YTfc',-12032,13760,241.25,270,1,0)call CreateDestructableZ('YTfc',-11968,13888,189.31,270,1,0)call CreateDestructableZ('YTfc',-11904,14016,139.5,270,1,0)call CreateDestructableZ('YTfc',-11776,14080,241.25,270,1,0)call CreateDestructableZ('YTfc',-11648,14208,241.25,270,1,0)call CreateDestructableZ('YTfc',-11520,14272,131.5,270,1,0)call CreateDestructableZ('YTfc',-11392,14272,128.62,270,1,0)call CreateDestructableZ('YTfc',-11712,13760,241.25,270,1,0)call CreateDestructableZ('YTfc',-11584,13696,241.25,270,1,0)call CreateDestructableZ('YTfc',-11456,13632,241.25,270,1,0)call CreateDestructableZ('YTfc',-11328,13568,241.25,270,1,0)call CreateDestructableZ('YTfc',-11840,11072,241.25,270,1,0)call CreateDestructableZ('YTfc',-11776,10944,241.25,270,1,0)call CreateDestructableZ('YTfc',-11776,10816,241.25,270,1,0)call CreateDestructableZ('YTfc',-11968,11008,241.25,270,1,0)call CreateDestructableZ('YTfc',-12032,10880,241.25,270,1,0)call CreateDestructableZ('YTfc',-12160,10816,273.62,270,1,0)call CreateDestructableZ('YTfc',-12288,10816,247.12,270,1,0)call CreateDestructableZ('YTfc',-12352,10688,252.75,270,1,0)call CreateDestructableZ('YTfc',-11776,11200,241.25,270,1,0)call CreateDestructableZ('YTfc',-11776,11392,241.25,270,1,0)call CreateDestructableZ('YTfc',-11776,11520,217,270,1,0)call CreateDestructableZ('YTfc',-11776,11648,224.75,270,1,0)call CreateDestructableZ('YTfc',-11712,11776,197.37,270,1,0)call CreateDestructableZ('YTfc',-12096,14976,147.75,270,1,0)call CreateDestructableZ('YTfc',-12160,14848,147.75,270,1,0)call CreateDestructableZ('YTfc',-12224,14720,73.87,270,1,0)call CreateDestructableZ('YTfc',-12288,14592,147.75,270,1,0)call CreateDestructableZ('YTfc',-12352,14464,73.87,270,1,0)call CreateDestructableZ('YTfc',-12416,14336,147.75,270,1,0)call CreateDestructableZ('YTfc',-12480,14208,80.75,270,1,0)call CreateDestructableZ('YTfc',-12608,14080,73.87,270,1,0)call CreateDestructableZ('YTfc',-12736,13952,73.87,270,1,0)call CreateDestructableZ('YTfc',-12800,13824,147.75,270,1,0)call CreateDestructableZ('YTfc',-12864,13696,147.75,270,1,0)call CreateDestructableZ('YTfc',-12864,13568,147.75,270,1,0)call CreateDestructableZ('YTfc',-12864,13440,73.87,270,1,0)call CreateDestructableZ('YTfc',-12928,13312,147.75,270,1,0)call CreateDestructableZ('YTfc',-12928,13184,132.25,270,1,0)call CreateDestructableZ('YTfc',-13056,13184,147.75,270,1,0)call CreateDestructableZ('YTfc',-13184,13184,132.25,270,1,0)call CreateDestructableZ('YTfc',-13312,13184,139.25,270,1,0)call CreateDestructableZ('YTfc',-13440,13248,127.5,270,1,0)call CreateDestructableZ('YTfc',-13568,13248,75.25,270,1,0)call CreateDestructableZ('YTfc',-13696,13248,68.75,270,1,0)call CreateDestructableZ('YTfc',-13824,13312,147.75,270,1,0)call CreateDestructableZ('YTfc',-13952,13312,16,270,1,0)call CreateDestructableZ('YTfc',-14080,13376,73.87,270,1,0)call CreateDestructableZ('YTfc',-14080,13504,147.75,270,1,0)call CreateDestructableZ('YTfc',-14080,13632,147.75,270,1,0)call CreateDestructableZ('YTfc',-14080,13760,147.75,270,1,0)call CreateDestructableZ('YTfc',-14080,13888,147.75,270,1,0)call CreateDestructableZ('YTfc',-14080,14016,147.75,270,1,0)call CreateDestructableZ('YTfc',-14080,14144,147.75,270,1,0)call CreateDestructableZ('YTfc',-14144,14272,110.81,270,1,0)call CreateDestructableZ('YTfc',-14272,14336,86,270,1,0)call CreateDestructableZ('YTfc',-14272,14464,73.87,270,1,0)call CreateDestructableZ('YTfc',-14272,14592,73.87,270,1,0)call CreateDestructableZ('YTfc',-14336,14720,147.75,270,1,0)call CreateDestructableZ('YTfc',-14336,14848,147.75,270,1,0)call CreateDestructableZ('YTfc',-14336,14976,147.75,270,1,0)call CreateDestructableZ('YTfc',-14336,15104,147.75,270,1,0)call CreateDestructableZ('YTfc',-14336,15232,147.75,270,1,0)call CreateDestructableZ('YTfc',-14784,13376,54,270,1,0)call CreateDestructableZ('YTfc',-14720,13504,108,270,1,0)call CreateDestructableZ('YTfc',-14656,13632,52.75,270,1,0)call CreateDestructableZ('YTfc',-14656,13760,53.44,270,1,0)call CreateDestructableZ('YTfc',-14656,13888,59.69,270,1,0)call CreateDestructableZ('YTfc',-14720,14080,93.5,270,1,0)call CreateDestructableZ('YTfc',-14912,14144,108,270,1,0)call CreateDestructableZ('YTfc',-15040,14144,107.81,270,1,0)call CreateDestructableZ('YTfc',-15168,14144,107.81,270,1,0)call CreateDestructableZ('YTfc',-15296,14208,108,270,1,0)call CreateDestructableZ('YTfc',-15296,13952,85.25,270,1,0)call CreateDestructableZ('YTfc',-15168,13952,86.37,270,1,0)call CreateDestructableZ('YTfc',-14976,13952,108,270,1,0)call CreateDestructableZ('YTfc',-14912,13824,108,270,1,0)call CreateDestructableZ('YTfc',-15296,14912,0,270,1,0)call CreateDestructableZ('YTfc',-15168,14912,0,270,1,0)call CreateDestructableZ('YTfc',-15104,15040,0,270,1,0)call CreateDestructableZ('YTfc',-15104,15168,0,270,1,0)call CreateDestructableZ('YTfc',-13504,15168,147.75,270,1,0)call CreateDestructableZ('YTfc',-13504,15040,147.75,270,1,0)call CreateDestructableZ('YTfc',-13376,15040,147.75,270,1,0)call CreateDestructableZ('YTfc',-13248,15040,147.75,270,1,0)call CreateDestructableZ('YTfc',-13120,15040,147.75,270,1,0)call CreateDestructableZ('YTfc',-12992,15040,147.75,270,1,0)call CreateDestructableZ('YTfc',-12992,15168,147.75,270,1,0)call CreateDestructableZ('YTfc',-11648,15040,-.38,270,1,0)call CreateDestructableZ('YTfc',-11520,14976,0,270,1,0)call CreateDestructableZ('YTfc',-11392,14912,0,270,1,0)call CreateDestructableZ('YTfc',-11264,14976,0,270,1,0)call CreateDestructableZ('YTfc',-11200,10752,0,270,1,0)call CreateDestructableZ('YTfc',-11328,10752,0,270,1,0)call CreateDestructableZ('YTfc',-11456,10752,0,270,1,0)call CreateDestructableZ('NTtw',-12224,12928,241.25,270,.88,6)call CreateDestructableZ('NTtw',-12032,11968,241.25,270,.88,6)call CreateDestructableZ('NTtw',-12928,13952,147.75,270,.88,6)call CreateDestructableZ('NTtw',-12992,13824,147.75,270,.88,6)call CreateDestructableZ('NTtw',-12992,13696,147.75,270,.88,6)call CreateDestructableZ('NTtw',-12288,13056,241.25,270,.88,6)call CreateDestructableZ('NTtw',-12096,12928,241.25,270,.88,6)call CreateDestructableZ('YTfc',4416,-4032,0,270,1,0)call CreateDestructableZ('YTfc',4544,-4032,0,270,1,0)call CreateDestructableZ('YTfc',4672,-4032,0,270,1,0)call CreateDestructableZ('YTfc',4800,-4032,0,270,1,0)call CreateDestructableZ('YTfc',4928,-4032,0,270,1,0)call CreateDestructableZ('YTfc',5056,-4032,0,270,1,0)call CreateDestructableZ('YTfc',5184,-4032,0,270,1,0)call CreateDestructableZ('YTfc',5312,-4096,0,270,1,0)call CreateDestructableZ('YTfc',4288,-4096,0,270,1,0)call CreateDestructableZ('YTfc',6976,-1664,0,270,1,0)call CreateDestructableZ('YTfc',6976,-1536,0,270,1,0)call CreateDestructableZ('YTfc',6976,-2176,0,270,1,0)call CreateDestructableZ('YTfc',6976,-2048,0,270,1,0)call CreateDestructableZ('YTfc',6976,-1920,0,270,1,0)call CreateDestructableZ('YTfc',6976,-1792,0,270,1,0)call CreateDestructableZ('YTfb',6944,-2912,0,270,1,0)call CreateDestructableZ('YTfc',4224,-2112,0,270,1,0)call CreateDestructableZ('YTfc',4224,-1984,0,270,1,0)call CreateDestructableZ('YTfc',-15424,-6528,0,270,1,0)call CreateDestructableZ('YTfc',-15424,-6400,0,270,1,0)call CreateDestructableZ('YTfc',-15424,-6272,0,270,1,0)call CreateDestructableZ('YTfc',-15360,-6144,0,270,1,0)call CreateDestructableZ('YTfc',-15232,-6080,0,270,1,0)call CreateDestructableZ('YTfc',-15104,-6016,0,270,1,0)call CreateDestructableZ('YTfc',-14976,-6016,0,270,1,0)call CreateDestructableZ('YTfc',-14848,-5952,0,270,1,0)call CreateDestructableZ('YTfc',-14720,-5952,0,270,1,0)call CreateDestructableZ('YTfc',-14592,-5888,0,270,1,0)call CreateDestructableZ('YTfc',-14464,-5888,0,270,1,0)call CreateDestructableZ('YTfc',-14336,-5824,0,270,1,0)call CreateDestructableZ('YTfc',-14208,-5824,0,270,1,0)call CreateDestructableZ('YTfc',-14080,-5824,0,270,1,0)call CreateDestructableZ('YTfc',-13952,-5824,0,270,1,0)call CreateDestructableZ('YTfc',-13824,-5824,0,270,1,0)call CreateDestructableZ('YTfc',-13696,-5760,0,270,1,0)call CreateDestructableZ('YTfc',-13568,-5824,0,270,1,0)call CreateDestructableZ('YTfc',-13440,-5760,0,270,1,0)call CreateDestructableZ('YTfc',-13312,-5760,0,270,1,0)call CreateDestructableZ('YTfc',-13184,-5696,0,270,1,0)call CreateDestructableZ('YTfc',-13056,-5632,0,270,1,0)call CreateDestructableZ('YTfc',-12992,-5504,0,270,1,0)call CreateDestructableZ('YTfc',-12864,-5440,0,270,1,0)call CreateDestructableZ('YTfc',-12800,-5312,0,270,1,0)call CreateDestructableZ('YTfc',-12736,-5184,53.81,270,1,0)call CreateDestructableZ('YTfc',-12928,-5248,136,270,1,0)call CreateDestructableZ('YTfc',-13056,-5312,68,270,1,0)call CreateDestructableZ('YTfc',-13184,-5376,136,270,1,0)call CreateDestructableZ('YTfc',-13312,-5376,136,270,1,0)call CreateDestructableZ('YTfc',-13440,-5376,136,270,1,0)call CreateDestructableZ('YTfc',-13568,-5376,31.75,270,1,0)call CreateDestructableZ('YTfc',-13696,-5312,57.75,270,1,0)call CreateDestructableZ('YTfc',-13824,-5248,11.25,270,1,0)call CreateDestructableZ('YTfc',-13824,-5120,136,270,1,0)call CreateDestructableZ('YTfc',-13824,-4992,136,270,1,0)call CreateDestructableZ('YTfc',-13824,-4864,136,270,1,0)call CreateDestructableZ('YTfc',-13824,-4736,136,270,1,0)call CreateDestructableZ('YTfc',-13824,-4608,136,270,1,0)call CreateDestructableZ('YTfc',-13824,-4480,136,270,1,0)call CreateDestructableZ('YTfc',-13824,-4352,0,270,1,0)call CreateDestructableZ('YTfc',-13696,-4352,136,270,1,0)call CreateDestructableZ('YTfc',-13632,-4224,136,270,1,0)call CreateDestructableZ('YTfc',-13504,-4224,135.62,270,1,0)call CreateDestructableZ('YTfc',-13440,-4096,136,270,1,0)call CreateDestructableZ('YTfc',-13312,-4032,131.87,270,1,0)call CreateDestructableZ('YTfc',-13184,-4032,127.75,270,1,0)call CreateDestructableZ('YTfc',-13056,-4096,129,270,1,0)call CreateDestructableZ('YTfc',-12928,-4160,136,270,1,0)call CreateDestructableZ('YTfc',-12864,-4288,102,270,1,0)call CreateDestructableZ('YTfc',-12736,-4352,68,270,1,0)call CreateDestructableZ('YTfc',-12672,-4480,136,270,1,0)call CreateDestructableZ('YTfc',-12608,-4608,81.5,270,1,0)call CreateDestructableZ('YTfc',-12480,-4672,36.63,270,1,0)call CreateDestructableZ('YTfc',-12480,-4544,13.06,270,1,0)call CreateDestructableZ('YTfc',-12608,-4352,0,270,1,0)call CreateDestructableZ('YTfc',-12736,-4224,0,270,1,0)call CreateDestructableZ('YTfc',-12928,-4032,68,270,1,0)call CreateDestructableZ('YTfc',-13184,-3904,61.13,270,1,0)call CreateDestructableZ('YTfc',-13312,-3840,0,270,1,0)call CreateDestructableZ('YTfc',-13440,-3776,0,270,1,0)call CreateDestructableZ('YTfc',-13568,-3776,0,270,1,0)call CreateDestructableZ('YTfc',-13696,-3840,0,270,1,0)call CreateDestructableZ('YTfc',-13824,-3904,0,270,1,0)call CreateDestructableZ('YTfc',-13952,-4032,0,270,1,0)call CreateDestructableZ('YTfc',-14080,-4032,0,270,1,0)call CreateDestructableZ('YTfc',-14208,-4096,0,270,1,0)call CreateDestructableZ('YTfc',-14272,-4224,0,270,1,0)call CreateDestructableZ('YTfc',-14272,-4352,0,270,1,0)call CreateDestructableZ('YTfc',-14272,-4480,0,270,1,0)call CreateDestructableZ('YTfc',-14272,-4608,0,270,1,0)call CreateDestructableZ('YTfc',-14208,-4736,0,270,1,0)call CreateDestructableZ('YTfc',-14208,-4864,0,270,1,0)call CreateDestructableZ('YTfc',-14208,-4992,0,270,1,0)call CreateDestructableZ('YTfc',-14272,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-14336,-5248,0,270,1,0)call CreateDestructableZ('YTfc',-14464,-5184,0,270,1,0)call CreateDestructableZ('YTfc',-14528,-5056,0,270,1,0)call CreateDestructableZ('YTfc',-14656,-5056,0,270,1,0)call CreateDestructableZ('YTfc',-14784,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-14912,-5184,0,270,1,0)call CreateDestructableZ('YTfc',-14912,-5312,0,270,1,0)call CreateDestructableZ('YTfc',-15040,-5440,0,270,1,0)call CreateDestructableZ('YTfc',-15168,-5440,0,270,1,0)call CreateDestructableZ('YTfc',-15232,-5312,0,270,1,0)call CreateDestructableZ('YTfc',-15232,-5184,0,270,1,0)call CreateDestructableZ('YTfc',-15232,-5056,0,270,1,0)call CreateDestructableZ('YTfc',-15232,-4928,0,270,1,0)call CreateDestructableZ('YTfc',-15232,-4800,0,270,1,0)call CreateDestructableZ('YTfc',-15232,-4672,0,270,1,0)call CreateDestructableZ('YTfc',-15296,-4544,0,270,1,0)call CreateDestructableZ('YTfc',-15296,-4416,0,270,1,0)call CreateDestructableZ('YTfc',-15232,-4288,0,270,1,0)call CreateDestructableZ('YTfc',-15168,-4160,0,270,1,0)call CreateDestructableZ('YTfc',-15040,-4160,0,270,1,0)call CreateDestructableZ('YTfc',-15040,-4032,0,270,1,0)call CreateDestructableZ('YTfc',-14912,-4032,0,270,1,0)call CreateDestructableZ('YTfc',-14848,-3904,0,270,1,0)call CreateDestructableZ('YTfc',-14720,-3840,0,270,1,0)call CreateDestructableZ('YTfc',-14720,-3712,0,270,1,0)call CreateDestructableZ('YTfc',-14592,-3648,0,270,1,0)call CreateDestructableZ('YTfc',-14464,-3584,0,270,1,0)call CreateDestructableZ('YTfc',-14336,-3520,0,270,1,0)call CreateDestructableZ('YTfc',-14208,-3456,0,270,1,0)call CreateDestructableZ('YTfc',-14144,-3328,0,270,1,0)call CreateDestructableZ('YTfc',-14016,-3328,0,270,1,0)call CreateDestructableZ('YTfc',-13952,-3200,0,270,1,0)call CreateDestructableZ('YTfc',-13824,-3200,0,270,1,0)call CreateDestructableZ('YTfc',-13696,-3136,0,270,1,0)call CreateDestructableZ('YTfc',-13568,-3136,0,270,1,0)call CreateDestructableZ('YTfc',-13440,-3136,0,270,1,0)call CreateDestructableZ('YTfc',-13376,-3008,0,270,1,0)call CreateDestructableZ('YTfc',-13248,-3072,109.25,270,1,0)call CreateDestructableZ('YTfc',-13184,-3200,0,270,1,0)call CreateDestructableZ('YTfc',-13120,-3328,109.25,270,1,0)call CreateDestructableZ('YTfc',-13056,-3456,0,270,1,0)call CreateDestructableZ('YTfc',-12928,-3520,109.25,270,1,0)call CreateDestructableZ('YTfc',-12800,-3648,109.25,270,1,0)call CreateDestructableZ('YTfc',-12672,-3712,218.5,270,1,0)call CreateDestructableZ('YTfc',-12544,-3776,109.25,270,1,0)call CreateDestructableZ('YTfc',-12416,-3776,102.12,270,1,0)call CreateDestructableZ('YTfc',-13312,-2880,109.25,270,1,0)call CreateDestructableZ('YTfc',-13376,-2688,109.25,270,1,0)call CreateDestructableZ('YTfc',-13376,-2560,109.25,270,1,0)call CreateDestructableZ('YTfc',-13376,-2432,109.25,270,1,0)call CreateDestructableZ('YTfc',-13376,-2304,109.25,270,1,0)call CreateDestructableZ('YTfc',-13312,-2176,218.5,270,1,0)call CreateDestructableZ('YTfc',-13312,-2048,218.5,270,1,0)call CreateDestructableZ('YTfc',-13248,-1920,109.25,270,1,0)call CreateDestructableZ('YTfc',-13184,-1792,0,270,1,0)call CreateDestructableZ('YTfc',-13056,-1792,218.5,270,1,0)call CreateDestructableZ('YTfc',-12928,-1728,218.5,270,1,0)call CreateDestructableZ('YTfc',-12800,-1664,218.5,270,1,0)call CreateDestructableZ('YTfc',-12672,-1600,218.5,270,1,0)call CreateDestructableZ('YTfc',-12544,-1536,218.5,270,1,0)call CreateDestructableZ('YTfc',-12416,-1536,218.5,270,1,0)call CreateDestructableZ('YTfc',-12288,-1536,218.5,270,1,0)call CreateDestructableZ('YTfc',-12160,-1536,218.5,270,1,0)call CreateDestructableZ('YTfc',-12032,-1536,218.5,270,1,0)call CreateDestructableZ('YTfc',-11904,-1536,218.5,270,1,0)call CreateDestructableZ('YTfc',-11776,-1600,218.5,270,1,0)call CreateDestructableZ('YTfc',-11648,-1664,218.5,270,1,0)call CreateDestructableZ('YTfc',-11584,-1792,109.25,270,1,0)call CreateDestructableZ('YTfc',-11520,-1920,218.5,270,1,0)call CreateDestructableZ('YTfc',-11520,-2048,218.5,270,1,0)call CreateDestructableZ('YTfc',-11456,-2176,218.5,270,1,0)call CreateDestructableZ('YTfc',-11456,-2304,218.5,270,1,0)call CreateDestructableZ('YTfc',-11456,-2432,218.5,270,1,0)call CreateDestructableZ('YTfc',-11456,-2560,218.5,270,1,0)call CreateDestructableZ('YTfc',-11456,-2688,218.5,270,1,0)call CreateDestructableZ('YTfc',-11520,-2816,218.5,270,1,0)call CreateDestructableZ('YTfc',-11520,-2944,218.5,270,1,0)call CreateDestructableZ('YTfc',-11584,-3072,218.5,270,1,0)call CreateDestructableZ('YTfc',-11648,-3200,218.5,270,1,0)call CreateDestructableZ('YTfc',-11712,-3328,109.25,270,1,0)call CreateDestructableZ('YTfc',-11840,-3456,218.5,270,1,0)call CreateDestructableZ('YTfc',-11776,-3584,0,270,1,0)call CreateDestructableZ('YTfc',-11648,-3584,0,270,1,0)call CreateDestructableZ('YTfc',-11520,-3520,0,270,1,0)call CreateDestructableZ('YTfc',-12736,-6272,0,270,1,0)call CreateDestructableZ('YTfc',-12736,-6144,0,270,1,0)call CreateDestructableZ('YTfc',-12608,-6144,0,270,1,0)call CreateDestructableZ('YTfc',-12480,-6080,0,270,1,0)call CreateDestructableZ('YTfc',-12608,-6272,0,270,1,0)call CreateDestructableZ('YTfc',-12480,-6208,0,270,1,0)call CreateDestructableZ('YTfc',-11904,-5376,0,270,1,0)call CreateDestructableZ('YTfc',-12800,-1856,218.5,270,1,0)call CreateDestructableZ('YTfc',-12672,-1920,218.5,270,1,0)call CreateDestructableZ('YTfc',-12544,-1920,218.5,270,1,0)call CreateDestructableZ('YTfc',-12416,-1920,218.5,270,1,0)call CreateDestructableZ('YTfc',-12288,-1920,218.5,270,1,0)call CreateDestructableZ('YTfc',-12160,-1856,218.5,270,1,0)call CreateDestructableZ('YTfc',-12160,-1728,218.5,270,1,0)call CreateDestructableZ('YTfc',-12032,-1664,218.5,270,1,0)call CreateDestructableZ('YTfc',-15104,-4736,0,270,1,0)call CreateDestructableZ('YTfc',-14976,-4864,0,270,1,0)call CreateDestructableZ('YTfc',-14976,-4992,0,270,1,0)call CreateDestructableZ('YTfc',-15040,-5120,0,270,1,0)call CreateDestructableZ('YTfc',-13696,-4928,136,270,1,0)call CreateDestructableZ('YTfc',-13568,-4928,136,270,1,0)call CreateDestructableZ('YTfc',-13568,-4800,136,270,1,0)call CreateDestructableZ('YTfc',-13504,-4672,136,270,1,0)call CreateDestructableZ('YTfc',-13440,-4544,136,270,1,0)call CreateDestructableZ('YTfc',-13504,-4416,136,270,1,0)call CreateDestructableZ('YTfc',-13632,-4480,136,270,1,0)call CreateDestructableZ('ZTtw',-13312,-7552,128,270,1.02,1)call CreateDestructableZ('ZTtc',-13408,-7648,128,270,1.05,2)call CreateDestructableZ('ZTtc',-13344,-7648,128,270,.91,0)call CreateDestructableZ('ZTtc',-13280,-7648,128,270,1.02,0)call CreateDestructableZ('ZTtc',-13088,-7520,128,270,1.18,2)call CreateDestructableZ('ZTtc',-13024,-7520,128,270,.89,1)call CreateDestructableZ('ZTtc',-12960,-7520,128,270,1.08,0)call CreateDestructableZ('ZTtc',-12896,-7584,128,270,.89,1)call CreateDestructableZ('ZTtc',-12896,-7648,128,270,.92,0)call CreateDestructableZ('ZTtc',-12896,-7712,128,270,.99,2)call CreateDestructableZ('ZTtc',-12832,-7776,128,270,1.03,2)call CreateDestructableZ('ZTtc',-13152,-7648,128,270,.92,1)call CreateDestructableZ('ZTtc',-12960,-7840,128,270,.87,1)call CreateDestructableZ('ZTtc',-12768,-8032,128,270,.81,1)call CreateDestructableZ('ZTtc',-12704,-8160,128,270,.89,0)call CreateDestructableZ('ZTtc',-13216,-7840,128,270,.97,1)call CreateDestructableZ('ZTtc',-13024,-8096,128,270,1.06,1)call CreateDestructableZ('ZTtc',-12896,-8288,128,270,.98,1)call CreateDestructableZ('ZTtc',-12896,-8352,128,270,1.12,2)call CreateDestructableZ('ZTtc',-12960,-8416,128,270,.87,0)call CreateDestructableZ('ZTtc',-12960,-8480,128,270,.9,2)call CreateDestructableZ('ZTtc',-12960,-8544,128,270,1.18,0)call CreateDestructableZ('ZTtc',-14624,-7648,256,270,.94,0)call CreateDestructableZ('ZTtc',-14880,-7648,256,270,.84,0)call CreateDestructableZ('ZTtc',-15136,-7712,256,270,.96,2)call CreateDestructableZ('ZTtc',-15200,-7712,256,270,.9,2)call CreateDestructableZ('ZTtc',-15328,-7904,256,270,.89,1)call CreateDestructableZ('ZTtc',-15328,-7968,256,270,.86,1)call CreateDestructableZ('ZTtc',-15456,-7776,256,270,.83,1)call CreateDestructableZ('ZTtc',-15520,-7968,256,270,.99,1)call CreateDestructableZ('ZTtc',-15520,-8160,256,270,1.15,2)call CreateDestructableZ('ZTtc',-15520,-8224,256,270,.9,1)call CreateDestructableZ('ZTtc',-15520,-8352,256,270,.97,1)call CreateDestructableZ('ZTtc',-15520,-8416,256,270,1.19,0)call CreateDestructableZ('ZTtc',-15392,-8352,256,270,1.17,2)call CreateDestructableZ('ZTtc',-15392,-8224,256,270,.96,2)call CreateDestructableZ('ZTtc',-15328,-8160,256,270,1.07,1)call CreateDestructableZ('ZTtc',-14816,-7776,256,270,.83,1)call CreateDestructableZ('ZTtc',-14624,-7712,256,270,1.03,2)call CreateDestructableZ('ZTtc',-14560,-7648,256,270,1.17,2)call CreateDestructableZ('ZTtc',-15456,-7584,256,270,.81,0)call CreateDestructableZ('ZTtc',-15456,-7648,256,270,1.08,0)call CreateDestructableZ('ZTtc',-15456,-7712,256,270,.96,0)call CreateDestructableZ('ZTtc',-15008,-7648,256,270,.94,1)call CreateDestructableZ('ZTtc',-15264,-9312,256,270,.99,0)call CreateDestructableZ('ZTtc',-15136,-9312,256,270,.97,2)call CreateDestructableZ('ZTtc',-15072,-9376,256,270,1.17,2)call CreateDestructableZ('ZTtc',-15008,-9376,256,270,.97,1)call CreateDestructableZ('ZTtc',-14944,-9376,256,270,1.14,2)call CreateDestructableZ('ZTtc',-14880,-9376,256,270,1.04,1)call CreateDestructableZ('ZTtc',-14880,-9440,256,270,.99,1)call CreateDestructableZ('ZTtc',-15456,-9440,256,270,.99,2)call CreateDestructableZ('ZTtc',-12832,-9824,256,270,1.14,0)call CreateDestructableZ('ZTtc',-12896,-10016,256,270,.95,2)call CreateDestructableZ('ZTtc',-12960,-10144,256,270,1.14,0)call CreateDestructableZ('ZTtc',-13024,-10272,256,270,.97,2)call CreateDestructableZ('ZTtc',-13088,-10336,256,270,1.18,0)call CreateDestructableZ('ZTtc',-13216,-10400,256,270,.99,1)call CreateDestructableZ('ZTtc',-13280,-10400,256,270,1.1,2)call CreateDestructableZ('ZTtc',-13088,-10464,256,270,1.13,2)call CreateDestructableZ('ZTtc',-12960,-10464,256,270,1,0)call CreateDestructableZ('ZTtc',-12896,-10400,256,270,1.03,0)call CreateDestructableZ('ZTtc',-12896,-10336,256,270,1.13,2)call CreateDestructableZ('ZTtc',-12832,-10208,256,270,.89,1)call CreateDestructableZ('ZTtc',-12704,-10080,256,270,.99,1)call CreateDestructableZ('ZTtc',-12704,-10016,256,270,1.19,0)call CreateDestructableZ('ZTtc',-12704,-9952,256,270,1.01,2)call CreateDestructableZ('ZTtc',-12640,-9888,256,270,1.01,2)call CreateDestructableZ('ZTtc',-13216,-10464,256,270,1.09,1)call CreateDestructableZ('ZTtc',-13344,-10336,256,270,1.06,0)call CreateDestructableZ('ZTtc',-13152,-8032,128,270,1.15,0)call CreateDestructableZ('ZTtc',-12640,-7712,128,270,1.03,2)call CreateDestructableZ('ZTtc',-15072,-7712,256,270,.86,0)call CreateDestructableZ('ZTtc',-15264,-7712,256,270,.83,2)call CreateDestructableZ('ZTtc',-15328,-7648,256,270,1.08,2)call CreateDestructableZ('ZTtc',-13280,-7840,128,270,.96,0)call CreateDestructableZ('ATg1',-1152,11584,512,270,.1,0)call CreateDestructableZ('YTfc',2112,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',2240,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',2368,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',2496,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',2624,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',2752,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',2880,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',3008,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',3136,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',3264,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',3392,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',3520,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',3648,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',3776,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',3904,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',4032,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',4160,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',4288,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',4416,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',4544,11584,196.25,270,1,0)call CreateDestructableZ('YTfc',4672,11648,196.25,270,1,0)call CreateDestructableZ('YTfc',4672,11776,196.25,270,1,0)call CreateDestructableZ('YTfc',4672,11904,196.25,270,1,0)call CreateDestructableZ('YTfc',4672,12032,196.25,270,1,0)call CreateDestructableZ('YTfc',4672,12160,196.25,270,1,0)call CreateDestructableZ('YTfc',4672,12288,196.25,270,1,0)call CreateDestructableZ('YTfc',4672,12416,196.25,270,1,0)call CreateDestructableZ('YTfc',4736,12544,392.5,270,1,0)call CreateDestructableZ('YTfc',4864,12544,392.5,270,1,0)call CreateDestructableZ('YTfc',4928,12672,392.5,270,1,0)call CreateDestructableZ('YTfc',4928,12800,392.5,270,1,0)call CreateDestructableZ('YTfc',4928,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',4928,13056,392.5,270,1,0)call CreateDestructableZ('YTfc',4928,13184,392.5,270,1,0)call CreateDestructableZ('YTfc',4928,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',4800,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',4672,13184,392.5,270,1,0)call CreateDestructableZ('YTfc',4544,13184,392.5,270,1,0)call CreateDestructableZ('YTfc',4416,13184,392.5,270,1,0)call CreateDestructableZ('YTfc',4288,13184,392.5,270,1,0)call CreateDestructableZ('YTfc',4288,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',4160,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',4032,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',3904,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',3776,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',3648,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',3520,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',3392,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',3264,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',3136,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',3008,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',2880,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',2752,13376,294.37,270,1,0)call CreateDestructableZ('YTfc',2688,13504,392.5,270,1,0)call CreateDestructableZ('YTfc',2688,13632,392.5,270,1,0)call CreateDestructableZ('YTfc',2688,13760,392.5,270,1,0)call CreateDestructableZ('YTfc',2816,13824,392.5,270,1,0)call CreateDestructableZ('YTfc',2944,13824,392.5,270,1,0)call CreateDestructableZ('YTfc',3072,13824,392.5,270,1,0)call CreateDestructableZ('YTfc',3200,13952,392.5,270,1,0)call CreateDestructableZ('YTfc',3328,13952,392.5,270,1,0)call CreateDestructableZ('YTfc',3456,13952,392.5,270,1,0)call CreateDestructableZ('YTfc',3584,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',3712,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',3840,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',3968,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',4096,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',4224,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',4352,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',4480,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',4608,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',4736,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',4864,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',4992,13888,392.5,270,1,0)call CreateDestructableZ('YTfc',5056,14016,392.5,270,1,0)call CreateDestructableZ('YTfc',5056,14144,392.5,270,1,0)call CreateDestructableZ('YTfc',5056,14272,392.5,270,1,0)call CreateDestructableZ('YTfc',5056,14400,392.5,270,1,0)call CreateDestructableZ('YTfc',5056,14528,392.5,270,1,0)call CreateDestructableZ('YTfc',5056,14656,392.5,270,1,0)call CreateDestructableZ('YTfc',5056,14784,392.5,270,1,0)call CreateDestructableZ('YTfc',5056,14912,392.5,270,1,0)call CreateDestructableZ('YTfc',5056,15040,392.5,270,1,0)call CreateDestructableZ('YTfc',5056,15168,392.5,270,1,0)call CreateDestructableZ('YTfc',4928,15168,392.5,270,1,0)call CreateDestructableZ('YTfc',4800,15168,392.5,270,1,0)call CreateDestructableZ('YTfc',4672,15168,392.5,270,1,0)call CreateDestructableZ('YTfc',4672,15040,392.5,270,1,0)call CreateDestructableZ('YTfc',4672,14912,392.5,270,1,0)call CreateDestructableZ('YTfc',4544,14912,392.5,270,1,0)call CreateDestructableZ('YTfc',4352,14912,392.5,270,1,0)call CreateDestructableZ('YTfc',4224,14912,392.5,270,1,0)call CreateDestructableZ('YTfc',4096,14912,392.5,270,1,0)call CreateDestructableZ('YTfc',3968,14912,392.5,270,1,0)call CreateDestructableZ('YTfc',3968,15040,392.5,270,1,0)call CreateDestructableZ('YTfc',3968,15168,392.5,270,1,0)call CreateDestructableZ('YTfc',3840,15168,392.5,270,1,0)call CreateDestructableZ('YTfc',3712,15168,392.5,270,1,0)call CreateDestructableZ('YTfc',3584,15168,392.5,270,1,0)call CreateDestructableZ('YTfc',3584,15040,392.5,270,1,0)call CreateDestructableZ('YTfc',3584,14912,392.5,270,1,0)call CreateDestructableZ('YTfc',3584,14784,392.5,270,1,0)call CreateDestructableZ('YTfc',3584,14656,392.5,270,1,0)call CreateDestructableZ('YTfc',3520,14528,196.25,270,1,0)call CreateDestructableZ('YTfc',3520,14400,294.37,270,1,0)call CreateDestructableZ('YTfc',3392,14336,392.5,270,1,0)call CreateDestructableZ('YTfc',3264,14336,392.5,270,1,0)call CreateDestructableZ('YTfc',3136,14336,392.5,270,1,0)call CreateDestructableZ('YTfc',3008,14464,392.5,270,1,0)call CreateDestructableZ('YTfc',2880,14464,392.5,270,1,0)call CreateDestructableZ('YTfc',2752,14464,392.5,270,1,0)call CreateDestructableZ('YTfc',2624,14464,392.5,270,1,0)call CreateDestructableZ('YTfc',2496,14464,392.5,270,1,0)call CreateDestructableZ('YTfc',2368,14464,392.5,270,1,0)call CreateDestructableZ('YTfc',2240,14464,392.5,270,1,0)call CreateDestructableZ('YTfc',2176,14336,392.5,270,1,0)call CreateDestructableZ('YTfc',2176,14208,392.5,270,1,0)call CreateDestructableZ('YTfc',2176,14080,392.5,270,1,0)call CreateDestructableZ('YTfc',2176,13952,392.5,270,1,0)call CreateDestructableZ('YTfc',2240,13824,392.5,270,1,0)call CreateDestructableZ('YTfc',2240,13696,196.25,270,1,0)call CreateDestructableZ('YTfc',2304,13568,392.5,270,1,0)call CreateDestructableZ('YTfc',2304,13440,392.5,270,1,0)call CreateDestructableZ('YTfc',2304,13312,392.5,270,1,0)call CreateDestructableZ('YTfc',2304,13184,392.5,270,1,0)call CreateDestructableZ('YTfc',2304,13056,392.5,270,1,0)call CreateDestructableZ('YTfc',2432,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',2560,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',2688,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',2816,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',2944,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',3072,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',3200,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',3328,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',3456,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',3584,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',3712,12928,392.5,270,1,0)call CreateDestructableZ('YTfc',3776,12800,196.25,270,1,0)call CreateDestructableZ('YTfc',3840,12672,392.5,270,1,0)call CreateDestructableZ('YTfc',3968,12672,392.5,270,1,0)call CreateDestructableZ('YTfc',4096,12672,392.5,270,1,0)call CreateDestructableZ('YTfc',4224,12672,392.5,270,1,0)call CreateDestructableZ('YTfc',4288,12544,196.25,270,1,0)call CreateDestructableZ('YTfc',4288,12416,196.25,270,1,0)call CreateDestructableZ('YTfc',4288,12288,196.25,270,1,0)call CreateDestructableZ('YTfc',4224,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',4096,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',3968,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',3840,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',3712,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',3584,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',3456,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',3328,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',3200,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',3072,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',2944,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',2816,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',2688,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',2560,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',2432,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',2304,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',2176,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',2048,12160,392.5,270,1,0)call CreateDestructableZ('YTfc',2048,12032,392.5,270,1,0)call CreateDestructableZ('YTfc',2048,11904,392.5,270,1,0)call CreateDestructableZ('YTfc',2048,11776,392.5,270,1,0)call CreateDestructableZ('YTfc',1984,11648,196.25,270,1,0)call CreateDestructableZ('VTlt',2624,896,85.25,270,1.01,8)call CreateDestructableZ('VTlt',3200,960,81.37,270,1.09,5)call CreateDestructableZ('VTlt',3584,192,299,270,1.1,5)call CreateDestructableZ('VTlt',3456,192,291.5,270,1.17,6)call CreateDestructableZ('VTlt',3328,192,250.87,270,1.14,8)call CreateDestructableZ('VTlt',2048,64,24.62,270,1.13,0)call CreateDestructableZ('VTlt',3008,192,235,270,.91,9)call CreateDestructableZ('VTlt',3712,192,395.37,270,1.06,2)call CreateDestructableZ('VTlt',4096,704,470.62,270,1.16,6)call CreateDestructableZ('VTlt',4288,704,482.69,270,.81,5)call CreateDestructableZ('VTlt',4416,704,473.94,270,1.14,6)call CreateDestructableZ('VTlt',4800,768,485.75,270,.94,1)call CreateDestructableZ('VTlt',4928,768,485.75,270,.91,1)call CreateDestructableZ('VTlt',5056,192,485.75,270,.8,0)call CreateDestructableZ('VTlt',5056,64,485.75,270,1.09,6)call CreateDestructableZ('VTlt',5056,-256,485.75,270,1.17,9)call CreateDestructableZ('VTlt',5120,-512,485.75,270,1.05,0)call CreateDestructableZ('VTlt',5120,-1152,485.75,270,.91,7)call CreateDestructableZ('VTlt',4992,-1152,485.75,270,1.09,3)call CreateDestructableZ('VTlt',4736,-1152,485.75,270,.93,3)call CreateDestructableZ('VTlt',4544,-1152,485.75,270,.89,8)call CreateDestructableZ('VTlt',4416,-1152,485.75,270,.95,7)call CreateDestructableZ('VTlt',4288,-1216,485.75,270,1.06,6)call CreateDestructableZ('VTlt',4288,-960,485.75,270,1.08,6)call CreateDestructableZ('VTlt',4288,-832,485.75,270,1.06,8)call CreateDestructableZ('VTlt',4288,-704,485.75,270,.91,9)call CreateDestructableZ('VTlt',4288,-576,485.75,270,.82,2)call CreateDestructableZ('VTlt',4288,-192,485.75,270,1.15,3)call CreateDestructableZ('VTlt',4288,-384,485.75,270,.93,8)call CreateDestructableZ('VTlt',3776,704,418.94,270,.91,9)call CreateDestructableZ('VTlt',3648,704,370.94,270,.83,9)call CreateDestructableZ('VTlt',3328,960,172,270,.99,2)call CreateDestructableZ('VTlt',3392,1088,38.56,270,.88,7)call CreateDestructableZ('VTlt',3456,704,309.37,270,1.11,2)call CreateDestructableZ('VTlt',3072,640,254.5,270,.83,9)call CreateDestructableZ('VTlt',6016,-1088,485.75,270,1.15,6)call CreateDestructableZ('VTlt',5888,-1088,485.75,270,.91,3)call CreateDestructableZ('VTlt',5760,-1152,485.75,270,1.14,3)call CreateDestructableZ('YTfc',6080,-704,485.75,270,1,0)call CreateDestructableZ('YTfc',5952,-576,485.75,270,1,0)call CreateDestructableZ('YTfc',5888,-448,485.75,270,1,0)call CreateDestructableZ('YTfb',6048,-608,485.75,270,1,0)call CreateDestructableZ('YTfb',5984,-480,485.75,270,1,0)call CreateDestructableZ('YTfb',6112,-608,485.75,270,1,0)call CreateDestructableZ('YTfb',6048,-544,485.75,270,1,0)call CreateDestructableZ('YTfb',-10656,-9184,256,270,1,0)call CreateDestructableZ('YTfb',-10592,-9184,256,270,1,0)call CreateDestructableZ('YTfb',-10528,-9184,256,270,1,0)call CreateDestructableZ('YTfb',-10464,-9184,256,270,1,0)call CreateDestructableZ('YTfb',-10400,-9184,256,270,1,0)call CreateDestructableZ('YTfc',-10816,-8256,256,270,1,0)call CreateDestructableZ('YTfc',-10688,-8256,256,270,1,0)call CreateDestructableZ('YTfc',-10560,-8256,256,270,1,0)call CreateDestructableZ('YTfc',-10432,-8256,256,270,1,0)call CreateDestructableZ('YTfc',-10304,-8256,256,270,1,0)call CreateDestructableZ('OTds',-14784,-15232,0,291,1,0)call CreateDestructableZ('YTfb',5280,-5088,0,270,1,0)call CreateDestructableZ('YTfb',5408,-5152,-16,270,1,0)call CreateDestructableZ('YTfb',5472,-5152,-48,270,1,0)call CreateDestructableZ('YTfb',5536,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',5600,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',5664,-5152,-56,270,1,0)call CreateDestructableZ('YTfb',5728,-5152,-40,270,1,0)call CreateDestructableZ('YTfb',5792,-5152,-40,270,1,0)call CreateDestructableZ('YTfb',5856,-5152,-56,270,1,0)call CreateDestructableZ('YTfb',5920,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',5984,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',6048,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',6112,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',6176,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',6240,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',6304,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',6368,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',6432,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',6496,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',6560,-5152,-112,270,1,0)call CreateDestructableZ('YTfb',3232,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',3296,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',3360,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',3488,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',3552,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',3616,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',3680,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',3744,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',3808,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',3872,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',3936,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',4000,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',4064,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',4128,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',4192,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',4256,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',4320,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',4384,-5152,-64,270,1,0)call CreateDestructableZ('YTfb',5536,-5088,0,270,1,0)call CreateDestructableZ('YTfb',5600,-5088,0,270,1,0)call CreateDestructableZ('YTfb',5664,-5088,0,270,1,0)call CreateDestructableZ('YTfb',5728,-5088,0,270,1,0)call CreateDestructableZ('YTfb',5792,-5088,0,270,1,0)call CreateDestructableZ('YTfb',5856,-5088,0,270,1,0)call CreateDestructableZ('YTfb',5920,-5088,0,270,1,0)call CreateDestructableZ('YTfb',5984,-5088,0,270,1,0)call CreateDestructableZ('YTfb',6048,-5088,0,270,1,0)call CreateDestructableZ('YTfb',6112,-5088,0,270,1,0)call CreateDestructableZ('YTfb',6176,-5088,0,270,1,0)call CreateDestructableZ('YTfb',6240,-5088,0,270,1,0)call CreateDestructableZ('YTfc',1920,8512,512,270,1,0)call CreateDestructableZ('YTfc',1856,8704,512,270,1,0)call CreateDestructableZ('YTfc',1856,8896,512,270,1,0)call CreateDestructableZ('YTfc',1856,9024,512,270,1,0)call CreateDestructableZ('YTfc',1856,9280,512,270,1,0)call CreateDestructableZ('YTfc',1856,9408,512,270,1,0)call CreateDestructableZ('YTfc',1856,9536,512,270,1,0)call CreateDestructableZ('YTfc',2048,9664,512,270,1,0)call CreateDestructableZ('YTfc',2176,9664,512,270,1,0)call CreateDestructableZ('YTfc',2432,9664,512,270,1,0)call CreateDestructableZ('YTfc',2560,9600,512,270,1,0)call CreateDestructableZ('YTfc',1984,8384,512,270,1,0)call CreateDestructableZ('YTfc',2112,8320,512,270,1,0)call CreateDestructableZ('YTfc',2240,8320,512,270,1,0)call CreateDestructableZ('YTfc',2368,8320,512,270,1,0)call CreateDestructableZ('YTfc',2496,8320,512,270,1,0)call CreateDestructableZ('YTfc',2624,8320,512,270,1,0)call CreateDestructableZ('YTfc',2752,8320,512,270,1,0)call CreateDestructableZ('YTfc',2880,8320,512,270,1,0)call CreateDestructableZ('YTfc',3008,8320,512,270,1,0)call CreateDestructableZ('YTfc',3200,8320,512,270,1,0)call CreateDestructableZ('YTfc',1984,9536,512,270,1,0)call CreateDestructableZ('YTfc',2368,9536,512,270,1,0)call CreateDestructableZ('YTfc',2240,9536,512,270,1,0)call CreateDestructableZ('YTfc',2112,9536,512,270,1,0)call CreateDestructableZ('YTfc',2560,9472,512,270,1,0)call CreateDestructableZ('YTfc',2624,9344,512,270,1,0)call CreateDestructableZ('YTfc',2688,9216,512,270,1,0)call CreateDestructableZ('YTfc',2688,9088,512,270,1,0)call CreateDestructableZ('YTfc',2688,8960,512,270,1,0)call CreateDestructableZ('YTfc',2816,8832,512,270,1,0)call CreateDestructableZ('YTfc',3072,8832,512,270,1,0)call CreateDestructableZ('YTfc',3264,8832,512,270,1,0)call CreateDestructableZ('YTfc',2944,8832,512,270,1,0)call CreateDestructableZ('YTfc',2880,8960,512,270,1,0)call CreateDestructableZ('YTfc',3328,8256,512,270,1,0)call CreateDestructableZ('YTfc',3648,10368,512,270,1,0)call CreateDestructableZ('YTfc',3776,10432,512,270,1,0)call CreateDestructableZ('YTfc',3968,10432,512,270,1,0)call CreateDestructableZ('YTfc',4096,10496,512,270,1,0)call CreateDestructableZ('YTfc',4224,10496,512,270,1,0)call CreateDestructableZ('YTfc',4352,10496,512,270,1,0)call CreateDestructableZ('YTfc',4480,10496,512,270,1,0)call CreateDestructableZ('YTfc',4608,10432,512,270,1,0)call CreateDestructableZ('YTfc',4672,10304,512,270,1,0)call CreateDestructableZ('YTfc',4672,10176,512,270,1,0)call CreateDestructableZ('YTfc',4672,10048,512,270,1,0)call CreateDestructableZ('YTfc',4672,9920,512,270,1,0)call CreateDestructableZ('YTfc',4736,9792,512,270,1,0)call CreateDestructableZ('YTfc',4544,9728,512,270,1,0)call CreateDestructableZ('YTfc',4416,9728,512,270,1,0)call CreateDestructableZ('YTfc',4224,9728,512,270,1,0)call CreateDestructableZ('YTfc',4096,9728,512,270,1,0)call CreateDestructableZ('YTfc',3968,9600,512,270,1,0)call CreateDestructableZ('YTfc',3968,9472,512,270,1,0)call CreateDestructableZ('YTfc',3968,9344,512,270,1,0)call CreateDestructableZ('YTfc',3968,9216,512,270,1,0)call CreateDestructableZ('YTfc',3968,9088,512,270,1,0)call CreateDestructableZ('YTfc',3904,8960,512,270,1,0)call CreateDestructableZ('YTfc',3968,8832,512,270,1,0)call CreateDestructableZ('YTfc',4096,8832,512,270,1,0)call CreateDestructableZ('YTfc',4352,8768,512,270,1,0)call CreateDestructableZ('YTfc',4224,8768,512,270,1,0)call CreateDestructableZ('YTfc',4544,8768,512,270,1,0)call CreateDestructableZ('YTfc',4672,8768,512,270,1,0)call CreateDestructableZ('YTfc',4800,8768,512,270,1,0)call CreateDestructableZ('YTfc',4928,8768,512,270,1,0)call CreateDestructableZ('YTfc',5056,8704,512,270,1,0)call CreateDestructableZ('YTfc',5184,8704,512,270,1,0)call CreateDestructableZ('YTfc',5376,8704,512,270,1,0)call CreateDestructableZ('YTfc',5504,8704,512,270,1,0)call CreateDestructableZ('YTfc',5696,8704,512,270,1,0)call CreateDestructableZ('YTfc',5760,8576,512,270,1,0)call CreateDestructableZ('YTfc',5760,8448,512,270,1,0)call CreateDestructableZ('YTfc',5760,8320,512,270,1,0)call CreateDestructableZ('YTfc',5760,8192,512,270,1,0)call CreateDestructableZ('YTfc',5760,8064,512,270,1,0)call CreateDestructableZ('YTfc',5760,7936,512,270,1,0)call CreateDestructableZ('YTfc',5760,7808,512,270,1,0)call CreateDestructableZ('YTfc',5632,7808,512,270,1,0)call CreateDestructableZ('YTfc',5504,7744,512,270,1,0)call CreateDestructableZ('YTfc',5376,7744,512,270,1,0)call CreateDestructableZ('YTfc',5248,7680,512,270,1,0)call CreateDestructableZ('YTfc',5056,7680,512,270,1,0)call CreateDestructableZ('YTfc',4928,7680,512,270,1,0)call CreateDestructableZ('YTfc',4928,7808,512,270,1,0)call CreateDestructableZ('YTfc',4928,7936,512,270,1,0)call CreateDestructableZ('YTfc',4928,8064,512,270,1,0)call CreateDestructableZ('YTfc',4928,8192,512,270,1,0)call CreateDestructableZ('YTfc',4928,8320,512,270,1,0)call CreateDestructableZ('YTfc',4736,8320,512,270,1,0)call CreateDestructableZ('YTfc',4608,8320,512,270,1,0)call CreateDestructableZ('YTfc',4480,8320,512,270,1,0)call CreateDestructableZ('YTfc',4352,8320,512,270,1,0)call CreateDestructableZ('YTfc',4160,8320,512,270,1,0)call CreateDestructableZ('YTfc',4032,8320,512,270,1,0)call CreateDestructableZ('YTfc',3968,8192,512,270,1,0)call CreateDestructableZ('YTfc',3968,8064,512,270,1,0)call CreateDestructableZ('YTfc',3968,7872,512,270,1,0)call CreateDestructableZ('YTfc',3968,7744,512,270,1,0)call CreateDestructableZ('YTfc',3968,7616,512,270,1,0)call CreateDestructableZ('YTfc',3904,7488,512,270,1,0)call CreateDestructableZ('YTfc',3904,7360,512,270,1,0)call CreateDestructableZ('YTfc',3904,7232,512,270,1,0)call CreateDestructableZ('YTfc',3904,7104,512,270,1,0)call CreateDestructableZ('YTfc',3904,6976,512,270,1,0)call CreateDestructableZ('YTfc',3904,6848,512,270,1,0)call CreateDestructableZ('YTfc',3904,6720,512,270,1,0)call CreateDestructableZ('YTfc',3776,6592,512,270,1,0)call CreateDestructableZ('YTfc',3648,6592,512,270,1,0)call CreateDestructableZ('YTfc',3520,6592,512,270,1,0)call CreateDestructableZ('YTfc',3392,6592,512,270,1,0)call CreateDestructableZ('YTfc',3264,6592,512,270,1,0)call CreateDestructableZ('YTfc',3136,6592,512,270,1,0)call CreateDestructableZ('YTfc',3008,6592,512,270,1,0)call CreateDestructableZ('YTfc',2880,6592,512,270,1,0)call CreateDestructableZ('YTfc',2752,6592,512,270,1,0)call CreateDestructableZ('YTfc',2688,6720,512,270,1,0)call CreateDestructableZ('YTfc',2752,6848,512,270,1,0)call CreateDestructableZ('YTfc',2752,6976,512,270,1,0)call CreateDestructableZ('YTfc',2752,7104,512,270,1,0)call CreateDestructableZ('YTfc',2752,7232,512,270,1,0)call CreateDestructableZ('YTfc',2752,7360,512,270,1,0)call CreateDestructableZ('YTfc',2880,7360,512,270,1,0)call CreateDestructableZ('YTfc',3008,7424,512,270,1,0)call CreateDestructableZ('YTfc',3136,7424,512,270,1,0)call CreateDestructableZ('YTfc',3264,7424,512,270,1,0)call CreateDestructableZ('YTfc',3392,7424,512,270,1,0)call CreateDestructableZ('JTtw',-5696,1472,346,270,1.02,8)call CreateDestructableZ('JTtw',-5760,1792,343.25,270,1.12,1)call CreateDestructableZ('JTtw',-5696,1984,337.25,270,1.18,3)call CreateDestructableZ('JTtw',-5632,2176,346,270,.9,0)call CreateDestructableZ('JTtw',-5696,2368,343.69,270,1.16,1)call CreateDestructableZ('JTtw',-5632,2496,346,270,1.17,6)call CreateDestructableZ('JTtw',-5632,2624,345.87,270,1.11,2)call CreateDestructableZ('JTtw',-5632,2752,345.87,270,.87,2)call CreateDestructableZ('JTtw',-5696,3200,345.75,270,1.17,7)call CreateDestructableZ('JTtw',-5760,3072,346.25,270,1.02,9)call CreateDestructableZ('JTtw',-5952,2816,347.25,270,1.15,8)call CreateDestructableZ('JTtw',-6272,2560,341.75,270,.93,5)call CreateDestructableZ('JTtw',-6400,2496,346,270,.96,4)call CreateDestructableZ('JTtw',-6656,2048,346.75,270,1.15,5)call CreateDestructableZ('JTtw',-6400,-128,270.5,270,.87,0)call CreateDestructableZ('JTtw',-6592,-320,270.62,270,.99,5)call CreateDestructableZ('JTtw',-6720,-384,271.37,270,1.16,5)call CreateDestructableZ('JTtw',-7040,-640,270.5,270,1.01,4)call CreateDestructableZ('JTtw',-7168,-768,270.5,270,1.04,9)call CreateDestructableZ('JTtw',-7296,-832,270.5,270,1.03,6)call CreateDestructableZ('JTtw',-7360,-1024,270.5,270,.93,9)call CreateDestructableZ('JTtw',-7424,-896,270.5,270,.81,5)call CreateDestructableZ('JTtw',-7552,-896,270.5,270,1.1,9)call CreateDestructableZ('JTtw',-7680,-896,270.5,270,.98,0)call CreateDestructableZ('JTtw',-7808,-896,270.5,270,1.17,8)call CreateDestructableZ('JTtw',-8000,-832,270.69,270,.85,5)call CreateDestructableZ('JTtw',-8192,-704,268.87,270,1.09,6)call CreateDestructableZ('JTtw',-8320,-640,269.75,270,1.06,1)call CreateDestructableZ('JTtw',-8064,192,270.25,270,1.08,6)call CreateDestructableZ('JTtw',-7936,256,270.25,270,.92,1)call CreateDestructableZ('JTtw',-7808,320,269.5,270,1.03,1)call CreateDestructableZ('JTtw',-7680,320,268.12,270,1.11,1)call CreateDestructableZ('JTtw',-7552,320,263.5,270,.96,7)call CreateDestructableZ('JTtw',-7360,256,268.87,270,1.18,1)call CreateDestructableZ('JTtw',-7168,256,265.25,270,1.02,0)call CreateDestructableZ('JTtw',-6784,64,267.75,270,.88,6)call CreateDestructableZ('JTtw',-8512,1344,0,270,1,0)call CreateDestructableZ('JTtw',-8576,1536,0,270,.88,0)call CreateDestructableZ('JTtw',-8640,1728,0,270,1.19,1)call CreateDestructableZ('JTtw',-8704,1856,0,270,.8,0)call CreateDestructableZ('JTtw',-8832,1920,0,270,1.18,4)call CreateDestructableZ('JTtw',-8960,1984,0,270,.94,5)call CreateDestructableZ('JTtw',-9024,2112,0,270,.96,7)call CreateDestructableZ('JTtw',-8960,1728,0,270,1.11,9)call CreateDestructableZ('JTtw',-8896,1536,-.25,270,.88,4)call CreateDestructableZ('JTtw',-8768,1408,0,270,.87,0)call CreateDestructableZ('JTtw',-9344,2240,.75,270,1.15,7)call CreateDestructableZ('JTtw',-9472,2432,0,270,.93,3)call CreateDestructableZ('JTtw',-9536,2816,-.13,270,1.13,2)call CreateDestructableZ('JTtw',-9664,3008,.06,270,1.07,8)call CreateDestructableZ('JTtw',-9728,3136,.13,270,1.01,6)call CreateDestructableZ('JTtw',-9280,4928,346.25,270,1.19,4)call CreateDestructableZ('JTtw',-9216,4800,346.25,270,.99,0)call CreateDestructableZ('JTtw',-9088,4672,346.25,270,.99,1)call CreateDestructableZ('JTtw',-8768,4288,346.37,270,.97,6)call CreateDestructableZ('JTtw',-8704,4160,346.25,270,.81,2)call CreateDestructableZ('JTtw',-8704,4032,346.25,270,1.1,5)call CreateDestructableZ('JTtw',-8576,3712,346.75,270,1.13,8)call CreateDestructableZ('JTtw',-8576,3584,346.25,270,.98,2)call CreateDestructableZ('JTtw',-8128,3200,346.25,270,.95,7)call CreateDestructableZ('JTtw',-8064,3072,346.25,270,1.01,4)call CreateDestructableZ('JTtw',-7936,3008,346.25,270,.82,8)call CreateDestructableZ('JTtw',-7552,2688,346.25,270,.99,8)call CreateDestructableZ('JTtw',-7424,2816,346.25,270,1.11,9)call CreateDestructableZ('JTtw',-7680,3520,345.37,270,.92,7)call CreateDestructableZ('JTtw',-7680,3712,346,270,1.05,8)call CreateDestructableZ('JTtw',-7744,3904,346.19,270,1.01,3)call CreateDestructableZ('JTtw',-7744,4096,346.25,270,.99,6)call CreateDestructableZ('JTtw',-7680,4224,346.25,270,1.03,7)call CreateDestructableZ('JTtw',-7552,4608,345.5,270,1.15,4)call CreateDestructableZ('JTtw',-7360,4800,341.87,270,1.05,7)call CreateDestructableZ('JTtw',-7296,4928,346.25,270,1.04,5)call CreateDestructableZ('JTtw',-6848,5120,346.25,270,1.11,7)call CreateDestructableZ('JTtw',-6656,5184,339,270,1.02,0)call CreateDestructableZ('JTtw',-5888,5056,346.25,270,1.18,6)call CreateDestructableZ('JTtw',-5760,4928,346.25,270,.94,0)call CreateDestructableZ('JTtw',-5632,4736,346.25,270,1.12,6)call CreateDestructableZ('JTtw',-5632,4480,346.25,270,.95,1)call CreateDestructableZ('JTtw',-9856,3648,-.25,270,1.02,5)call CreateDestructableZ('JTtw',-9920,3776,-1.56,270,1.09,3)call CreateDestructableZ('JTtw',-9984,4032,-.38,270,1.15,8)call CreateDestructableZ('JTtw',-10176,4352,-.88,270,1.02,9)call CreateDestructableZ('JTtw',-10304,4608,-5.62,270,1.01,3)call CreateDestructableZ('JTtw',-10432,4864,.25,270,.96,2)call CreateDestructableZ('JTtw',-10496,4992,3.5,270,.96,3)call CreateDestructableZ('JTtw',-10688,4992,-.25,270,.88,8)call CreateDestructableZ('JTtw',-10816,4800,.13,270,1.2,0)call CreateDestructableZ('JTtw',-10048,1472,0,270,.96,2)call CreateDestructableZ('JTtw',-10112,1152,0,270,1.04,9)call CreateDestructableZ('JTtw',-10240,-128,0,270,.88,4)call CreateDestructableZ('JTtw',-9792,1344,-.06,270,1.11,8)call CreateDestructableZ('JTtw',-9600,1344,-1,270,.81,6)call CreateDestructableZ('JTtw',-9472,1280,-40.5,270,1.07,0)call CreateDestructableZ('JTtw',-8896,1088,-.13,270,1.07,3)call CreateDestructableZ('JTtw',-9152,1792,.38,270,.8,3)call CreateDestructableZ('JTtw',-9216,1920,2.5,270,.9,3)call CreateDestructableZ('JTtw',-9856,2240,-.25,270,1,4)call CreateDestructableZ('JTtw',-9920,2112,-.13,270,1.17,0)call CreateDestructableZ('JTtw',-9792,1728,-.13,270,1.02,9)call CreateDestructableZ('JTtw',-10176,64,0,270,1.04,8)call CreateDestructableZ('JTtw',-10240,-320,0,270,.84,9)call CreateDestructableZ('JTtw',-10048,-704,0,270,.96,5)call CreateDestructableZ('JTtw',-9664,-896,0,270,1.17,3)call CreateDestructableZ('JTtw',-9536,-896,0,270,.94,2)call CreateDestructableZ('JTtw',-8896,-768,0,270,.92,7)call CreateDestructableZ('JTtw',-9984,-128,0,270,.97,5)call CreateDestructableZ('JTtw',-9856,0,7,270,1.1,1)call CreateDestructableZ('JTtw',-9216,-768,.25,270,.94,9)call CreateDestructableZ('JTtw',-8896,-448,-.06,270,.8,0)call CreateDestructableZ('JTtw',-9856,448,.38,270,.92,0)call CreateDestructableZ('JTtw',-8192,-192,265.87,270,.82,3)call CreateDestructableZ('JTtw',-6784,1600,346.25,270,.96,8)call CreateDestructableZ('JTtw',-6592,1472,346.25,270,.84,1)call CreateDestructableZ('JTtw',-6464,1472,346.25,270,1.12,9)call CreateDestructableZ('JTtw',-6336,1472,346.69,270,1.19,0)call CreateDestructableZ('JTtw',-7744,2944,346.25,270,1.15,5)call CreateDestructableZ('JTtw',-8384,3392,347.06,270,1.04,8)call CreateDestructableZ('JTtw',-8448,3584,346.75,270,.88,6)call CreateDestructableZ('JTtw',-8448,4288,337.5,270,.97,2)call CreateDestructableZ('JTtw',-8128,4032,360.19,270,1.17,8)call CreateDestructableZ('JTtw',-8064,3776,360.25,270,.92,0)call CreateDestructableZ('JTtw',-8000,3456,306,270,1.11,6)call CreateDestructableZ('JTtw',-8000,4800,337.25,270,1.11,1)call CreateDestructableZ('JTtw',-7872,4928,324,270,1.02,5)call CreateDestructableZ('JTtw',-8704,4736,324.5,270,.94,8)call CreateDestructableZ('JTtw',-9024,-640,-.38,270,1.01,6)call CreateDestructableZ('JTtw',-9088,-768,0,270,1.16,6)call CreateDestructableZ('JTtw',-9088,-960,0,270,1.06,8)call CreateDestructableZ('JTtw',-9216,-1024,0,270,.84,0)call CreateDestructableZ('JTtw',-9344,-1024,0,270,1.05,5)call CreateDestructableZ('JTtw',-9472,-1024,0,270,1.06,0)call CreateDestructableZ('LT07',3904,-11584,-88.78,90,.1,0)call CreateDestructableZ('YTfc',-9728,-768,0,270,1,0)call CreateDestructableZ('YTfc',-10112,-256,0,270,1,0)call CreateDestructableZ('YTfc',-9856,-512,1,270,1,0)call CreateDestructableZ('YTfc',-9856,-896,0,270,1,0)call CreateDestructableZ('YTfc',-9792,-640,-.5,270,1,0)call CreateDestructableZ('YTfc',-9920,-384,4,270,1,0)call CreateDestructableZ('YTfc',-10240,5056,127.62,270,1,0)call CreateDestructableZ('YTfc',-10368,5120,128.5,270,1,0)call CreateDestructableZ('YTfc',-10176,4928,98.37,270,1,0)call CreateDestructableZ('YTfc',-10112,4800,59,270,1,0)call CreateDestructableZ('YTfc',-10048,4672,59.25,270,1,0)call CreateDestructableZ('YTfc',-9984,4544,57.63,270,1,0)call CreateDestructableZ('YTfc',-9920,4416,54.69,270,1,0)call CreateDestructableZ('YTfc',-9856,4288,56.88,270,1,0)call CreateDestructableZ('YTfc',-9792,4160,55.88,270,1,0)call CreateDestructableZ('YTfc',-9728,4032,120.25,270,1,0)call CreateDestructableZ('YTfc',-9728,3904,64.25,270,1,0)call CreateDestructableZ('YTfc',-9600,3776,60.75,270,1,0)call CreateDestructableZ('YTfc',-9600,3648,9.5,270,1,0)call CreateDestructableZ('YTfc',-9536,3520,45.88,270,1,0)call CreateDestructableZ('YTfc',-9536,3392,32.13,270,1,0)call CreateDestructableZ('YTfc',-9536,3264,0,270,1,0)call CreateDestructableZ('YTfc',-9472,3136,0,270,1,0)call CreateDestructableZ('YTfc',-9408,3008,0,270,1,0)call CreateDestructableZ('YTfc',-9280,2944,64.25,270,1,0)call CreateDestructableZ('YTfc',-9280,2816,5.25,270,1,0)call CreateDestructableZ('YTfc',-9216,2688,0,270,1,0)call CreateDestructableZ('YTfc',-9152,2560,0,270,1,0)call CreateDestructableZ('YTfc',-9024,2496,1.37,270,1,0)call CreateDestructableZ('YTfc',-8960,2368,0,270,1,0)call CreateDestructableZ('YTfc',-8832,2304,0,270,1,0)call CreateDestructableZ('YTfc',-8768,2176,0,270,1,0)call CreateDestructableZ('YTfc',-8704,2048,0,270,1,0)call CreateDestructableZ('YTfc',-8576,1984,64.25,270,1,0)call CreateDestructableZ('YTfc',-8512,1856,29.31,270,1,0)call CreateDestructableZ('YTfc',-8448,1728,0,270,1,0)call CreateDestructableZ('YTfc',-8384,1600,60.94,270,1,0)call CreateDestructableZ('YTfc',-8384,1472,58.06,270,1,0)call CreateDestructableZ('YTfc',-8384,1344,50.38,270,1,0)call CreateDestructableZ('YTfc',-8384,1216,34.63,270,1,0)call CreateDestructableZ('YTfc',-5440,1088,86.56,270,1,0)call CreateDestructableZ('YTfc',-5568,1088,173.12,270,1,0)call CreateDestructableZ('YTfc',-5696,1088,173.12,270,1,0)call CreateDestructableZ('YTfc',-5824,1088,86.56,270,1,0)call CreateDestructableZ('YTfc',-5952,1088,86.56,270,1,0)call CreateDestructableZ('YTfc',-6080,1088,173.12,270,1,0)call CreateDestructableZ('YTfc',-6208,1152,187.12,270,1,0)call CreateDestructableZ('YTfc',-6336,1216,188.31,270,1,0)call CreateDestructableZ('YTfc',-6464,1216,118.62,270,1,0)call CreateDestructableZ('YTfc',-6592,1280,60.38,270,1,0)call CreateDestructableZ('YTfc',-6720,1344,198.5,270,1,0)call CreateDestructableZ('YTfc',-6848,1344,117.37,270,1,0)call CreateDestructableZ('YTfc',-6912,1472,199.12,270,1,0)call CreateDestructableZ('YTfc',-7040,1536,133.25,270,1,0)call CreateDestructableZ('YTfc',-7168,1600,200,270,1,0)call CreateDestructableZ('YTfc',-7232,1728,218.44,270,1,0)call CreateDestructableZ('YTfc',-7232,1856,218.31,270,1,0)call CreateDestructableZ('YTfc',-7168,1984,220.62,270,1,0)call CreateDestructableZ('YTfc',-7040,2048,273.5,270,1,0)call CreateDestructableZ('YTfc',-6976,2176,191.75,270,1,0)call CreateDestructableZ('YTfc',-6848,2304,253.37,270,1,0)call CreateDestructableZ('YTfc',-6784,2432,283.75,270,1,0)call CreateDestructableZ('YTfc',-6720,2560,296.12,270,1,0)call CreateDestructableZ('YTfc',-6592,2688,265.25,270,1,0)call CreateDestructableZ('YTfc',-6592,2560,335.37,270,1,0)call CreateDestructableZ('YTfc',-6464,2752,297.06,270,1,0)call CreateDestructableZ('YTfc',-6400,2880,286.25,270,1,0)call CreateDestructableZ('YTfc',-6272,2944,308.75,270,1,0)call CreateDestructableZ('YTfc',-6144,3008,256.37,270,1,0)call CreateDestructableZ('YTfc',-6080,3136,205.81,270,1,0)call CreateDestructableZ('YTfc',-6016,3264,145.5,270,1,0)call CreateDestructableZ('YTfc',-5952,3392,183,270,1,0)call CreateDestructableZ('YTfc',-5888,3520,158.62,270,1,0)call CreateDestructableZ('YTfc',-5888,3648,170.62,270,1,0)call CreateDestructableZ('YTfc',-5824,3776,255.06,270,1,0)call CreateDestructableZ('YTfc',-5824,3904,243.06,270,1,0)call CreateDestructableZ('YTfc',-5824,4032,232.56,270,1,0)call CreateDestructableZ('YTfc',-5824,4160,236.12,270,1,0)call CreateDestructableZ('YTfc',-5824,4288,180,270,1,0)call CreateDestructableZ('YTfc',-5760,4416,128.5,270,1,0)call CreateDestructableZ('YTfc',-5824,4544,186.62,270,1,0)call CreateDestructableZ('YTfc',-5888,4672,133.87,270,1,0)call CreateDestructableZ('YTfc',-5952,4800,183.81,270,1,0)call CreateDestructableZ('YTfc',-6080,4928,184.56,270,1,0)call CreateDestructableZ('YTfc',-6208,4992,136,270,1,0)call CreateDestructableZ('YTfc',-6336,4992,150.25,270,1,0)call CreateDestructableZ('YTfc',-6464,4992,160.87,270,1,0)call CreateDestructableZ('YTfc',-6592,4992,154.12,270,1,0)call CreateDestructableZ('YTfc',-6720,4992,149,270,1,0)call CreateDestructableZ('YTfc',-6848,4992,141.5,270,1,0)call CreateDestructableZ('YTfc',-6976,4992,237.37,270,1,0)call CreateDestructableZ('YTfc',-7104,4928,300.12,270,1,0)call CreateDestructableZ('YTfc',-6976,4864,147.5,270,1,0)call CreateDestructableZ('YTfc',-7104,4800,204.87,270,1,0)call CreateDestructableZ('YTfc',-7168,4672,155.87,270,1,0)call CreateDestructableZ('YTfc',-7296,4544,173.25,270,1,0)call CreateDestructableZ('YTfc',-7296,4416,159,270,1,0)call CreateDestructableZ('YTfc',-7360,4288,232.25,270,1,0)call CreateDestructableZ('YTfc',-7360,4160,197.44,270,1,0)call CreateDestructableZ('YTfc',-7424,4032,174.37,270,1,0)call CreateDestructableZ('YTfc',-7424,3904,142.37,270,1,0)call CreateDestructableZ('YTfc',-7424,3776,128.5,270,1,0)call CreateDestructableZ('YTfc',-7424,3648,128.5,270,1,0)call CreateDestructableZ('YTfc',-7424,3520,237.37,270,1,0)call CreateDestructableZ('YTfc',-7296,3392,128.5,270,1,0)call CreateDestructableZ('YTfc',-7296,3264,128.5,270,1,0)call CreateDestructableZ('YTfc',-7232,3136,199.44,270,1,0)call CreateDestructableZ('YTfc',-7168,3008,221.5,270,1,0)call CreateDestructableZ('YTfc',-7168,2880,232.12,270,1,0)call CreateDestructableZ('YTfc',-7232,2752,265.81,270,1,0)call CreateDestructableZ('YTfc',-7296,2624,256,270,1,0)call CreateDestructableZ('YTfc',-7424,2560,328.25,270,1,0)call CreateDestructableZ('YTfc',-7552,2496,333.75,270,1,0)call CreateDestructableZ('YTfc',-7680,2496,346.25,270,1,0)call CreateDestructableZ('YTfc',-7808,2496,346.25,270,1,0)call CreateDestructableZ('YTfc',-7936,2560,128.5,270,1,0)call CreateDestructableZ('YTfc',-8064,2688,128.5,270,1,0)call CreateDestructableZ('YTfc',-8192,2816,128.5,270,1,0)call CreateDestructableZ('YTfc',-8320,2944,128.5,270,1,0)call CreateDestructableZ('YTfc',-8384,3072,237.37,270,1,0)call CreateDestructableZ('YTfc',-8512,3136,185.56,270,1,0)call CreateDestructableZ('YTfc',-8576,3264,237.37,270,1,0)call CreateDestructableZ('YTfc',-8704,3328,346.25,270,1,0)call CreateDestructableZ('YTfc',-8832,3392,253.75,270,1,0)call CreateDestructableZ('YTfc',-8832,3520,346.25,270,1,0)call CreateDestructableZ('YTfc',-8832,3648,237.37,270,1,0)call CreateDestructableZ('YTfc',-8832,3776,128.5,270,1,0)call CreateDestructableZ('YTfc',-8832,3904,237.37,270,1,0)call CreateDestructableZ('YTfc',-8896,4032,182.94,270,1,0)call CreateDestructableZ('YTfc',-8896,4160,182.94,270,1,0)call CreateDestructableZ('YTfc',-9024,4288,128.5,270,1,0)call CreateDestructableZ('YTfc',-9088,4416,237.37,270,1,0)call CreateDestructableZ('YTfc',-9216,4480,147,270,1,0)call CreateDestructableZ('YTfc',-9280,4608,243,270,1,0)call CreateDestructableZ('YTfc',-9344,4736,128.5,270,1,0)call CreateDestructableZ('YTfc',-9472,4864,128.5,270,1,0)call CreateDestructableZ('YTfc',-9536,4992,237.37,270,1,0)call CreateDestructableZ('YTfc',-9536,5120,346.25,270,1,0)call CreateDestructableZ('YTfc',-6208,64,192.69,270,1,0)call CreateDestructableZ('YTfc',-6336,128,270.5,270,1,0)call CreateDestructableZ('YTfc',-6464,192,270.44,270,1,0)call CreateDestructableZ('YTfc',-6592,256,261,270,1,0)call CreateDestructableZ('YTfc',-6720,320,124.06,270,1,0)call CreateDestructableZ('YTfc',-6848,320,187.06,270,1,0)call CreateDestructableZ('YTfc',-6976,320,260.25,270,1,0)call CreateDestructableZ('YTfc',-7104,384,261.62,270,1,0)call CreateDestructableZ('YTfc',-7232,384,244.75,270,1,0)call CreateDestructableZ('YTfc',-7360,384,246.25,270,1,0)call CreateDestructableZ('YTfc',-7488,448,196.94,270,1,0)call CreateDestructableZ('YTfc',-7616,512,270.5,270,1,0)call CreateDestructableZ('YTfc',-7744,512,270.5,270,1,0)call CreateDestructableZ('YTfc',-7872,512,270.5,270,1,0)call CreateDestructableZ('YTfc',-8000,448,263.81,270,1,0)call CreateDestructableZ('YTfc',-8128,384,270.5,270,1,0)call CreateDestructableZ('YTfc',-8192,256,270.5,270,1,0)call CreateDestructableZ('YTfc',-8256,128,135.25,270,1,0)call CreateDestructableZ('YTfc',-8384,64,67.62,270,1,0)call CreateDestructableZ('YTfc',-8448,-64,0,270,1,0)call CreateDestructableZ('YTfc',-8512,-192,67.62,270,1,0)call CreateDestructableZ('YTfc',-8512,-320,135.25,270,1,0)call CreateDestructableZ('YTfc',-8512,-448,200.75,270,1,0)call CreateDestructableZ('YTfc',-8640,-512,135.25,270,1,0)call CreateDestructableZ('YTfc',-8640,-640,135.25,270,1,0)call CreateDestructableZ('YTfc',-8640,-768,135.25,270,1,0)call CreateDestructableZ('YTfc',-8512,-896,135.25,270,1,0)call CreateDestructableZ('YTfc',-6976,448,131.75,270,1,0)call CreateDestructableZ('VTlt',-10240,192,0,270,1.03,6)call CreateDestructableZ('VTlt',-9984,192,0,270,.84,2)call CreateDestructableZ('VTlt',-10048,64,.38,270,.87,0)call CreateDestructableZ('VTlt',-9856,192,-31.25,270,.98,0)call CreateDestructableZ('VTlt',-9856,320,-28.87,270,.93,2)call CreateDestructableZ('YTfc',-10496,5248,0,270,1,0)call CreateDestructableZ('YTfc',-10368,5248,128.5,270,1,0)call CreateDestructableZ('YTfc',-10304,4928,32.81,270,1,0)call CreateDestructableZ('ZTtc',2848,-9824,0,270,.89,1)call CreateDestructableZ('ZTtc',2656,-9888,0,270,1.08,1)call CreateDestructableZ('ZTtc',2656,-9952,0,270,1.01,1)call CreateDestructableZ('ZTtc',2720,-9952,0,270,1.11,0)call CreateDestructableZ('ZTtc',2720,-10016,0,270,1.04,1)call CreateDestructableZ('ZTtc',2656,-10144,0,270,1.07,0)call CreateDestructableZ('ZTtc',2656,-10272,0,270,1.04,2)call CreateDestructableZ('ZTtc',2912,-10208,0,270,1.07,0)call CreateDestructableZ('ZTtc',2976,-10016,0,270,1.17,1)call CreateDestructableZ('ZTtc',2720,-10528,0,270,.93,1)call CreateDestructableZ('ZTtc',2912,-10528,0,270,1.17,0)call CreateDestructableZ('ZTtc',3104,-10400,0,270,.91,1)call CreateDestructableZ('ZTtc',3168,-10336,0,270,1.09,1)call CreateDestructableZ('ZTtc',3168,-10208,0,270,1.13,1)call CreateDestructableZ('ZTtc',3360,-10016,0,270,1.05,2)call CreateDestructableZ('ZTtc',3296,-9824,0,270,.82,0)call CreateDestructableZ('ZTtc',4064,-9376,-18.25,270,.86,1)call CreateDestructableZ('ZTtc',3168,-9760,0,270,1.18,1)call CreateDestructableZ('ZTtc',3040,-9760,0,270,.85,2)call CreateDestructableZ('ZTtc',3104,-11808,0,270,.87,2)call CreateDestructableZ('ZTtc',3168,-11680,0,270,1.12,0)call CreateDestructableZ('ZTtc',3296,-11552,0,270,1.16,1)call CreateDestructableZ('ZTtc',3424,-11616,0,270,.84,0)call CreateDestructableZ('ZTtc',4000,-10656,0,270,.98,0)call CreateDestructableZ('ZTtc',4064,-10592,0,270,.87,2)call CreateDestructableZ('ZTtc',4128,-10464,0,270,1.01,2)call CreateDestructableZ('ZTtc',4128,-10400,0,270,.95,1)call CreateDestructableZ('ZTtc',4192,-10336,0,270,1.2,0)call CreateDestructableZ('ZTtc',4256,-9888,0,270,1.14,1)call CreateDestructableZ('ZTtc',4256,-9760,-1.27,270,.98,2)call CreateDestructableZ('YTfc',-9984,-832,0,270,1,0)call CreateDestructableZ('ZTtc',3296,-10272,0,270,.91,2)call CreateDestructableZ('ZTtc',3232,-10272,0,270,.83,2)call CreateDestructableZ('ZTtc',3104,-10016,0,270,1.03,1)call CreateDestructableZ('ZTtc',2592,-11488,0,270,.83,2)call CreateDestructableZ('ZTtc',2592,-11360,0,270,1.07,1)call CreateDestructableZ('ZTtc',2528,-11296,0,270,.8,2)call CreateDestructableZ('ZTtc',2720,-11296,0,270,1.03,2)call CreateDestructableZ('ZTtc',2528,-11936,0,270,1.1,1)call CreateDestructableZ('ZTtc',3040,-12000,0,270,.94,1)call CreateDestructableZ('ZTtc',2336,-11936,0,270,.87,0)call CreateDestructableZ('ZTtc',2208,-11936,0,270,.87,2)call CreateDestructableZ('ZTtc',2080,-11936,0,270,.97,0)call CreateDestructableZ('ZTtc',1888,-12000,0,270,.85,1)call CreateDestructableZ('ZTtc',1760,-12000,0,270,.8,2)call CreateDestructableZ('ZTtc',1632,-12000,0,270,1.07,2)call CreateDestructableZ('ZTtc',1568,-12000,0,270,.91,2)call CreateDestructableZ('ZTtc',1504,-12000,0,270,1.19,1)call CreateDestructableZ('ZTtc',1376,-12000,0,270,1,0)call CreateDestructableZ('ZTtc',1184,-11936,0,270,1.08,2)call CreateDestructableZ('ZTtc',1056,-11936,0,270,1.14,2)call CreateDestructableZ('ZTtc',4256,-9568,-2.95,270,1.15,1)call CreateDestructableZ('ZTtc',4384,-11360,-.05,270,.81,2)call CreateDestructableZ('ZTtc',4384,-11424,-.05,270,.86,0)call CreateDestructableZ('ZTtc',4576,-11424,.98,270,.86,0)call CreateDestructableZ('ZTtc',3808,-10976,0,270,1.16,1)call CreateDestructableZ('ZTtc',3744,-10976,0,270,1.04,1)call CreateDestructableZ('YTfc',2496,-10624,0,270,1,0)call CreateDestructableZ('YTfc',2496,-10496,0,270,1,0)call CreateDestructableZ('YTfc',2496,-10368,0,270,1,0)call CreateDestructableZ('YTfc',2496,-10240,0,270,1,0)call CreateDestructableZ('YTfc',2496,-10112,0,270,1,0)call CreateDestructableZ('YTfc',2368,-10048,0,270,1,0)call CreateDestructableZ('YTfc',2304,-9920,0,270,1,0)call CreateDestructableZ('YTfc',2240,-9792,0,270,1,0)call CreateDestructableZ('YTfc',2176,-9920,0,270,1,0)call CreateDestructableZ('YTfc',2048,-9984,0,270,1,0)call CreateDestructableZ('YTfc',1920,-9984,0,270,1,0)call CreateDestructableZ('YTfc',1792,-9984,0,270,1,0)call CreateDestructableZ('YTfc',1664,-9984,0,270,1,0)call CreateDestructableZ('YTfc',1536,-9984,0,270,1,0)call CreateDestructableZ('YTfc',1536,-9856,0,270,1,0)call CreateDestructableZ('YTfc',1408,-9856,0,270,1,0)call CreateDestructableZ('YTfc',1280,-9856,0,270,1,0)call CreateDestructableZ('YTfc',1216,-9984,0,270,1,0)call CreateDestructableZ('YTfc',1088,-9984,0,270,1,0)call CreateDestructableZ('YTfc',960,-9984,0,270,1,0)call CreateDestructableZ('YTfc',832,-9984,0,270,1,0)call CreateDestructableZ('YTfc',704,-9984,0,270,1,0)call CreateDestructableZ('YTfc',640,-9856,0,270,1,0)call CreateDestructableZ('YTfc',512,-9792,0,270,1,0)call CreateDestructableZ('YTfc',384,-9792,0,270,1,0)call CreateDestructableZ('YTfc',256,-9792,0,270,1,0)call CreateDestructableZ('YTfc',128,-9856,0,270,1,0)call CreateDestructableZ('YTfc',128,-9984,0,270,1,0)call CreateDestructableZ('YTfc',128,-10112,0,270,1,0)call CreateDestructableZ('YTfc',128,-10240,0,270,1,0)call CreateDestructableZ('YTfc',128,-10368,0,270,1,0)call CreateDestructableZ('YTfc',128,-10496,0,270,1,0)call CreateDestructableZ('YTfc',256,-10560,0,270,1,0)call CreateDestructableZ('YTfc',384,-10560,0,270,1,0)call CreateDestructableZ('YTfc',512,-10560,0,270,1,0)call CreateDestructableZ('YTfc',512,-10688,0,270,1,0)call CreateDestructableZ('YTfc',512,-10816,0,270,1,0)call CreateDestructableZ('YTfc',512,-10944,0,270,1,0)call CreateDestructableZ('YTfc',512,-11072,0,270,1,0)call CreateDestructableZ('YTfc',384,-11072,0,270,1,0)call CreateDestructableZ('YTfc',256,-11072,0,270,1,0)call CreateDestructableZ('YTfc',128,-11072,0,270,1,0)call CreateDestructableZ('YTfc',128,-11200,0,270,1,0)call CreateDestructableZ('YTfc',128,-11328,0,270,1,0)call CreateDestructableZ('YTfc',128,-11456,0,270,1,0)call CreateDestructableZ('YTfc',128,-11584,0,270,1,0)call CreateDestructableZ('YTfc',192,-11712,0,270,1,0)call CreateDestructableZ('YTfc',320,-11712,0,270,1,0)call CreateDestructableZ('YTfc',448,-11776,0,270,1,0)call CreateDestructableZ('YTfc',576,-11776,0,270,1,0)call CreateDestructableZ('YTfc',704,-11776,0,270,1,0)call CreateDestructableZ('YTfc',704,-11648,0,270,1,0)call CreateDestructableZ('YTfc',704,-11520,0,270,1,0)call CreateDestructableZ('YTfc',832,-11520,0,270,1,0)call CreateDestructableZ('YTfc',960,-11520,0,270,1,0)call CreateDestructableZ('YTfc',1088,-11520,0,270,1,0)call CreateDestructableZ('YTfc',1216,-11520,0,270,1,0)call CreateDestructableZ('YTfc',1216,-11648,0,270,1,0)call CreateDestructableZ('YTfc',1344,-11712,0,270,1,0)call CreateDestructableZ('YTfc',1472,-11712,0,270,1,0)call CreateDestructableZ('YTfc',1536,-11584,0,270,1,0)call CreateDestructableZ('YTfc',1536,-11456,0,270,1,0)call CreateDestructableZ('YTfc',1664,-11456,0,270,1,0)call CreateDestructableZ('YTfc',1792,-11456,0,270,1,0)call CreateDestructableZ('YTfc',1920,-11456,0,270,1,0)call CreateDestructableZ('YTfc',2048,-11456,0,270,1,0)call CreateDestructableZ('YTfc',2048,-11584,0,270,1,0)call CreateDestructableZ('YTfc',2048,-11712,0,270,1,0)call CreateDestructableZ('YTfc',2176,-11712,0,270,1,0)call CreateDestructableZ('YTfc',2304,-11712,0,270,1,0)call CreateDestructableZ('YTfc',2368,-11584,0,270,1,0)call CreateDestructableZ('YTfc',2368,-11456,0,270,1,0)call CreateDestructableZ('YTfc',2368,-11328,0,270,1,0)call CreateDestructableZ('YTfc',2368,-11200,0,270,1,0)call CreateDestructableZ('YTfc',2368,-11072,0,270,1,0)call CreateDestructableZ('YTfc',2944,-11712,0,270,1,0)call CreateDestructableZ('YTfc',2816,-11648,0,270,1,0)call CreateDestructableZ('YTfc',2688,-11648,0,270,1,0)call CreateDestructableZ('YTfc',2560,-11712,0,270,1,0)call CreateDestructableZ('YTfc',2496,-11840,0,270,1,0)call CreateDestructableZ('YTfc',3008,-11840,0,270,1,0)call CreateDestructableZ('YTfc',2944,-11968,0,270,1,0)call CreateDestructableZ('YTfc',3456,-12864,0,270,1,0)call CreateDestructableZ('YTfc',3456,-12736,0,270,1,0)call CreateDestructableZ('YTfc',3584,-12672,0,270,1,0)call CreateDestructableZ('YTfc',3712,-12608,-1.25,270,1,0)call CreateDestructableZ('YTfc',3840,-12544,-1,270,1,0)call CreateDestructableZ('YTfc',3776,-12416,-.38,270,1,0)call CreateDestructableZ('YTfc',-8512,128,0,270,1,0)call CreateDestructableZ('YTfc',-8640,192,-16.81,270,1,0)call CreateDestructableZ('YTfc',-8640,64,-2.37,270,1,0)call CreateDestructableZ('YTfc',-8704,-64,0,270,1,0)call CreateDestructableZ('YTfc',-8768,-192,.13,270,1,0)call CreateDestructableZ('YTfc',-8832,-320,.25,270,1,0)call CreateDestructableZ('YTfc',-8704,-384,0,270,1,0)call CreateDestructableZ('YTfc',-9984,-256,3,270,1,0)endfunctionfunction P5 takes nothing returns nothinglocal player p=Player(5)local unit u=nullset LN=CreateUnit(p,'nfrm',-768.,-768.,270.)set u=CreateUnit(p,'nbse',-5920.,-224.,270.)set u=CreateUnit(p,'nbse',-4448.,-2976.,270.)set u=CreateUnit(p,'nbse',1888.,-224.,270.)set u=CreateUnit(p,'nbse',-1440.,8160.,270.)set u=CreateUnit(p,'nbse',-2336.,-3872.,270.)set u=CreateUnit(p,'nbse',1632.,-2464.,270.)set u=CreateUnit(p,'nbse',3616.,-8928.,270.)set p=nullset u=nullendfunctionfunction S5 takes nothing returns nothinglocal player p=Player(12)local unit u=nullset u=CreateUnit(p,'nwlt',1456.2,-2702.9,345.717)set u=CreateUnit(p,'nwlt',1292.4,-3062.2,282.159)set u=CreateUnit(p,'nwlt',976.,-2795.9,171.798)set u=CreateUnit(p,'nwlt',792.7,-3097.9,308.143)set u=CreateUnit(p,'nwlt',588.4,-2846.8,286.411)set u=CreateUnit(p,'nwlt',1704.9,-3005.6,253.407)set u=CreateUnit(p,'nqb2',776.3,-4506.1,213.306)set u=CreateUnit(p,'nass',-12157.,824.7,21.907)set u=CreateUnit(p,'nqb2',1226.6,-4653.2,40.651)set u=CreateUnit(p,'nfrl',-14365.7,11054.6,266.525)set u=CreateUnit(p,'nqb2',1169.5,-5100.4,263.867)set u=CreateUnit(p,'nqb3',1916.5,-5171.2,190.732)set u=CreateUnit(p,'ngns',-2913.8,-3328.4,206.494)set u=CreateUnit(p,'ngns',-2932.2,-2943.6,51.099)set u=CreateUnit(p,'ngns',-3329.7,-2739.6,66.305)set u=CreateUnit(p,'ngns',-3756.6,-2500.1,303.023)set u=CreateUnit(p,'ngns',-4586.6,-2442.,262.746)set u=CreateUnit(p,'nass',-11958.4,1297.8,328.292)set u=CreateUnit(p,'ngns',-4257.5,-2708.6,40.244)set u=CreateUnit(p,'ngns',-4614.6,-2148.9,22.665)set u=CreateUnit(p,'ngns',-4901.,-2249.5,356.319)set u=CreateUnit(p,'ngns',-4918.3,-1944.5,194.332)set u=CreateUnit(p,'ngns',-5489.1,-1749.5,165.119)set u=CreateUnit(p,'ngns',-5874.2,-1506.,159.153)set u=CreateUnit(p,'ngns',-3780.6,-2955.4,310.736)set u=CreateUnit(p,'ngns',-4115.4,-2177.3,294.234)set u=CreateUnit(p,'nanb',1371.9,-6049.3,12.558)set u=CreateUnit(p,'nanb',1417.5,-6407.,323.14)set u=CreateUnit(p,'nanb',1739.3,-6366.4,183.631)set u=CreateUnit(p,'nanb',2001.2,-6587.5,65.327)set u=CreateUnit(p,'nass',-11556.2,1961.9,151.616)set u=CreateUnit(p,'nanb',2270.7,-6280.2,124.116)set u=CreateUnit(p,'nanb',2507.1,-6397.7,272.118)set u=CreateUnit(p,'nanb',2838.3,-6375.6,87.223)set u=CreateUnit(p,'nass',-12041.7,2502.1,354.408)set u=CreateUnit(p,'nass',-11753.8,2970.5,343.564)set u=CreateUnit(p,'nass',-12365.2,3640.6,246.98)set u=CreateUnit(p,'nass',-13564.5,3750.5,309.626)set u=CreateUnit(p,'nass',-14561.2,3817.1,338.675)set u=CreateUnit(p,'nass',-14973.8,2948.4,164.437)set u=CreateUnit(p,'nass',-15112.2,2181.7,248.617)set u=CreateUnit(p,'oshm',-12090.6,1743.3,71.435)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'oshm',-12505.3,2980.7,214.515)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'oshm',-14040.9,3503.2,7.614)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'oshm',-14836.4,3400.2,71.556)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'oshm',-14612.9,1634.5,166.679)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'oshm',-14526.5,1094.6,196.222)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'oshm',-15071.7,985.4,304.803)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'oshm',-14683.9,639.,126.676)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'oshm',-14255.2,334.2,347.453)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'oshm',-13786.,618.3,225.853)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'oshm',-13406.7,303.3,217.964)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'odoc',-11632.9,3526.4,248.33)set u=CreateUnit(p,'nfrl',-13768.6,11013.8,26.939)set u=CreateUnit(p,'orai',-15073.4,627.9,69.342)set u=CreateUnit(p,'nfrl',-13337.3,11162.,296.266)set u=CreateUnit(p,'nfrl',-14512.9,11751.2,329.105)set u=CreateUnit(p,'nfrl',-14160.7,12171.9,70.359)set u=CreateUnit(p,'nfrl',-13369.4,12026.6,351.057)set u=CreateUnit(p,'nfrl',-12020.4,11812.1,44.243)set u=CreateUnit(p,'nfrl',-11481.9,11877.2,.352)set u=CreateUnit(p,'nfrl',-11688.9,12311.7,39.684)set u=CreateUnit(p,'nfrl',-11930.7,12808.3,36.915)set u=CreateUnit(p,'nfrl',-13449.4,13827.7,89.377)set u=CreateUnit(p,'nfrl',-13699.4,14328.7,123.963)set u=CreateUnit(p,'nfrl',-13048.2,14421.4,285.434)set u=CreateUnit(p,'nfrl',-11933.3,14513.9,354.946)set u=CreateUnit(p,'nfrl',-12259.8,13985.9,268.119)set u=CreateUnit(p,'nfrl',-12522.3,13591.6,341.257)set u=CreateUnit(p,'nfrl',-12901.2,12929.9,71.117)set u=CreateUnit(p,'nfrl',-12411.2,12526.1,248.299)set u=CreateUnit(p,'nfrl',-12639.8,11877.,73.611)set u=CreateUnit(p,'nfrl',-15307.9,11731.7,126.105)set u=CreateUnit(p,'nfrl',-14938.,12761.9,338.082)set u=CreateUnit(p,'nfrl',-14360.7,13212.6,204.605)set u=CreateUnit(p,'nfrl',-13428.5,13047.6,65.151)set u=CreateUnit(p,'nfrl',-14331.4,13670.1,55.208)set u=CreateUnit(p,'nfrl',-14481.8,14188.4,25.841)set u=CreateUnit(p,'nfrl',-14987.,14628.,116.558)set u=CreateUnit(p,'nubw',-11610.2,13396.9,263.12)set u=CreateUnit(p,'nsqo',-13636.9,12292.7,269.383)set u=CreateUnit(p,'nhrr',-12256.3,10995.4,135.256)set u=CreateUnit(p,'nomg',-15162.7,13751.3,266.022)set u=CreateUnit(p,'nnwr',-9026.4,6848.3,6.229)set u=CreateUnit(p,'nnwr',-8413.3,6831.6,357.671)set u=CreateUnit(p,'nfor',-7792.1,7248.4,266.734)set u=CreateUnit(p,'nfor',-7908.6,8889.9,207.176)set u=CreateUnit(p,'nfor',-8798.7,10099.6,190.146)set u=CreateUnit(p,'nfor',-8226.,10636.6,187.224)set u=CreateUnit(p,'nfor',-7940.4,11474.2,155.582)set u=CreateUnit(p,'nfor',-8601.1,11872.3,344.509)set u=CreateUnit(p,'nfor',-9570.8,12514.5,287.136)set u=CreateUnit(p,'nfor',-9480.5,11722.3,215.383)set u=CreateUnit(p,'nfor',-9477.6,13831.8,188.63)set u=CreateUnit(p,'nfor',-8579.4,14378.1,7.438)set u=CreateUnit(p,'nfor',-7831.1,14977.,304.88)set u=CreateUnit(p,'nfor',-7802.7,13997.,135.762)set u=CreateUnit(p,'nfor',-6817.4,13990.2,137.201)set u=CreateUnit(p,'nfor',-6783.1,13080.5,187.784)set u=CreateUnit(p,'nfor',-7076.7,12152.2,345.289)set u=CreateUnit(p,'nfor',-7617.,12300.3,86.872)set u=CreateUnit(p,'nfor',-9621.,8505.5,50.901)set u=CreateUnit(p,'nfor',-7081.3,7260.3,129.555)set u=CreateUnit(p,'nnwr',-9222.1,7754.9,312.823)set u=CreateUnit(p,'nnwr',-8778.8,8595.9,212.251)set u=CreateUnit(p,'nnwr',-7732.1,9779.6,12.953)set u=CreateUnit(p,'nnwr',-9095.2,9803.3,14.843)set u=CreateUnit(p,'nnwr',-9590.,10390.3,34.026)set u=CreateUnit(p,'hsor',-3478.,-4354.1,273.75)set u=CreateUnit(p,'owar',-5591.7,-5366.8,357.78)set u=CreateUnit(p,'ntkt',-3401.8,-6576.7,342.687)set u=CreateUnit(p,'nogm',-5597.7,-6398.5,6.971)set u=CreateUnit(p,'opeo',-2411.9,-6253.7,107.714)set u=CreateUnit(p,'ohun',-4541.3,-4202.2,273.77)set u=CreateUnit(p,'nw2w',-5653.5,-4360.4,343.67)set u=CreateUnit(p,'hwat',-4757.9,-6079.6,213.987)set u=CreateUnit(p,'hwat',-4500.9,-5803.9,111.855)set u=CreateUnit(p,'hwat',-4999.7,-5294.7,357.121)set u=CreateUnit(p,'hwat',-4356.5,-5113.1,160.581)set u=CreateUnit(p,'hwat',-4790.6,-4519.7,4.45)set u=CreateUnit(p,'hwat',-3694.3,-5386.9,13.656)set u=CreateUnit(p,'hwat',-3358.8,-4973.8,135.982)set u=CreateUnit(p,'hwat',-3280.4,-5722.1,100.912)set u=CreateUnit(p,'hwat',-2808.8,-5243.2,5.57)set u=CreateUnit(p,'hwat',-3162.6,-6179.2,143.563)set u=CreateUnit(p,'hwat',-5086.2,-6464.6,294.201)set u=CreateUnit(p,'hwat',-5132.,-4311.6,70.205)set u=CreateUnit(p,'ndrw',-11769.7,8626.3,184.141)set u=CreateUnit(p,'nbdw',-14468.8,9138.2,271.753)set u=CreateUnit(p,'nowb',-14654.6,7353.7,60.537)set u=CreateUnit(p,'nowb',-14662.7,8675.2,241.893)set u=CreateUnit(p,'nowb',-14024.6,8955.4,54.505)set u=CreateUnit(p,'nowb',-12790.,8932.6,257.516)set u=CreateUnit(p,'nowb',-12185.4,8447.7,46.474)set u=CreateUnit(p,'nowb',-12203.5,6950.2,119.161)set u=CreateUnit(p,'nowb',-12755.9,7098.6,128.83)set u=CreateUnit(p,'nowb',-11582.2,6792.9,44.584)set u=CreateUnit(p,'nowb',-12616.1,6183.4,12.481)set u=CreateUnit(p,'nowb',-12123.6,6321.7,269.558)set u=CreateUnit(p,'efon',-14785.,6073.2,119.634)set u=CreateUnit(p,'efon',-14431.2,5863.3,242.794)set u=CreateUnit(p,'efon',-14211.2,7038.3,212.856)set u=CreateUnit(p,'efon',-14342.6,7650.2,333.83)set u=CreateUnit(p,'efon',-15000.2,8911.7,137.432)set u=CreateUnit(p,'efon',-14472.1,8182.7,92.574)set u=CreateUnit(p,'efon',-12125.2,9114.6,172.524)set u=CreateUnit(p,'efon',-12009.1,7651.9,66.678)set u=CreateUnit(p,'efon',-12495.2,8221.5,61.767)set u=CreateUnit(p,'ndqv',-9388.5,-5304.5,198.232)set u=CreateUnit(p,'ndqv',-8863.6,-5460.6,69.216)set u=CreateUnit(p,'ndqv',-8668.9,-5152.1,168.645)set u=CreateUnit(p,'ndqv',-8108.6,-5453.9,143.486)set u=CreateUnit(p,'ndqv',-8539.6,-4553.2,156.582)set u=CreateUnit(p,'ndqv',-9058.9,-4334.5,294.41)set u=CreateUnit(p,'ndqv',-9488.1,-4526.7,91.772)set u=CreateUnit(p,'ndqv',-8023.1,-4337.1,336.95)set u=CreateUnit(p,'ndqv',-7781.9,-3873.8,43.244)set u=CreateUnit(p,'ndqv',-7443.1,-3536.5,195.607)set u=CreateUnit(p,'ndqv',-8000.7,-3194.8,98.034)set u=CreateUnit(p,'ndqv',-8475.3,-3172.2,359.615)set u=CreateUnit(p,'ndqv',-7977.2,-2488.3,258.077)set u=CreateUnit(p,'ndqv',-9304.3,-3327.9,235.345)set u=CreateUnit(p,'ndqv',-9644.6,-2873.3,12.964)set u=CreateUnit(p,'ndqv',-9223.6,-2715.1,168.502)set u=CreateUnit(p,'ndqv',-9642.7,-3627.5,235.895)set u=CreateUnit(p,'ndqv',-7527.3,-5484.4,242.223)set u=CreateUnit(p,'ndqv',-7100.4,-5219.8,207.373)set u=CreateUnit(p,'ndqv',-7622.2,-2609.1,94.507)set u=CreateUnit(p,'ndqs',-9301.8,-2486.7,309.187)set u=CreateUnit(p,'nnwr',-8770.,10894.8,16.733)set u=CreateUnit(p,'nnwr',-8873.2,12457.8,12.843)set u=CreateUnit(p,'nnwr',-8064.7,12827.7,216.448)set u=CreateUnit(p,'nnwr',-7131.5,14976.5,344.41)set u=CreateUnit(p,'nnwr',-8742.7,13760.7,202.693)set u=CreateUnit(p,'nnwr',-9158.8,14291.,5.405)set u=CreateUnit(p,'nfor',-7305.8,11421.5,344.509)set u=CreateUnit(p,'nnwr',-6670.2,7880.8,182.532)set u=CreateUnit(p,'nnwr',-6507.8,7078.,77.731)set u=CreateUnit(p,'nnwr',-6750.7,9551.3,295.574)set u=CreateUnit(p,'nnwr',-6876.6,10806.8,250.979)set u=CreateUnit(p,'nfov',-8901.9,14908.1,277.826)set u=CreateUnit(p,'nfor',-8338.2,9687.3,190.146)set u=CreateUnit(p,'nnwr',-6716.6,10259.8,226.077)set u=CreateUnit(p,'nnwr',-6934.1,13520.,325.927)set u=CreateUnit(p,'nnwr',-7804.9,6826.,357.671)set u=CreateUnit(p,'nfor',-7765.8,7729.,266.734)set u=CreateUnit(p,'nfor',-8648.5,6633.5,95.101)set u=CreateUnit(p,'nfor',-8930.8,7902.6,154.297)set u=CreateUnit(p,'nfor',-8937.6,8268.5,174.809)set u=CreateUnit(p,'nfor',-8329.2,8666.6,326.062)set u=CreateUnit(p,'nfor',-7775.5,8544.4,33.52)set u=CreateUnit(p,'nfor',-7470.8,8841.2,59.987)set u=CreateUnit(p,'nfor',-8179.3,10039.3,27.533)set u=CreateUnit(p,'nfor',-7226.8,10843.3,309.681)set u=CreateUnit(p,'nfor',-8024.7,12369.3,11.195)set u=CreateUnit(p,'nfor',-6540.4,13723.9,115.228)set u=CreateUnit(p,'nnwr',-7059.5,12869.6,332.412)set u=CreateUnit(p,'nnwr',-7928.6,13708.7,251.375)set u=CreateUnit(p,'nnwr',-7733.6,14469.6,149.012)set u=CreateUnit(p,'nnwr',-7485.8,15140.4,225.776)set u=CreateUnit(p,'nnwr',-9156.5,13784.7,118.227)set u=CreateUnit(p,'nnwr',-9477.2,14666.3,308.758)set u=CreateUnit(p,'nnwr',-9374.9,12165.6,275.095)set u=CreateUnit(p,'nnwr',-8682.5,9543.,11.327)set u=CreateUnit(p,'nnwr',-6911.5,8331.2,331.501)set u=CreateUnit(p,'nnwr',-6744.8,7382.2,271.689)set u=CreateUnit(p,'nnwr',-7044.7,6821.3,190.827)set u=CreateUnit(p,'nnwr',-8181.9,7160.5,160.471)set u=CreateUnit(p,'nnwr',-9481.9,7072.3,16.425)set u=CreateUnit(p,'nnwr',-9651.9,7969.8,16.414)set u=CreateUnit(p,'nnwr',-7944.7,10934.6,6.9)set u=CreateUnit(p,'nnwr',-7815.7,12057.6,355.276)set u=CreateUnit(p,'ndtb',-4275.,7430.,167.536)set u=CreateUnit(p,'ndtb',-4215.6,7142.6,171.227)set u=CreateUnit(p,'ndtb',-4002.8,7510.9,35.575)set u=CreateUnit(p,'ndtb',-3901.1,7125.6,328.534)set u=CreateUnit(p,'ndtb',-3743.5,7585.4,98.957)set u=CreateUnit(p,'ndtb',-3570.7,7302.6,273.392)set u=CreateUnit(p,'ndtb',-3351.4,7576.7,146.727)set u=CreateUnit(p,'ndtb',-3471.9,7869.4,44.309)set u=CreateUnit(p,'ndtb',-3687.5,8033.3,217.338)set u=CreateUnit(p,'ndtb',-3759.1,8222.6,345.047)set u=CreateUnit(p,'ndtb',-4007.4,8314.9,126.632)set u=CreateUnit(p,'ndtb',-4053.2,8118.3,131.983)set u=CreateUnit(p,'ndtb',-4262.5,8283.8,244.168)set u=CreateUnit(p,'ndtb',-4428.8,8154.5,289.949)set u=CreateUnit(p,'ndtb',-4693.5,8253.5,85.191)set u=CreateUnit(p,'ndtb',-4879.,8138.2,328.183)set u=CreateUnit(p,'ndtb',-5042.9,8425.5,215.778)set u=CreateUnit(p,'ndtb',-5269.5,8521.1,153.198)set u=CreateUnit(p,'ndtb',-5107.7,8810.2,288.773)set u=CreateUnit(p,'ndtb',-5212.1,9096.6,180.577)set u=CreateUnit(p,'ndtb',-4998.6,9432.3,260.549)set u=CreateUnit(p,'ndtb',-5007.5,9906.4,36.695)set u=CreateUnit(p,'ndtb',-4810.6,9362.7,153.758)set u=CreateUnit(p,'ndtb',-4796.5,9810.,322.634)set u=CreateUnit(p,'ndtb',-4644.5,9562.9,270.415)set u=CreateUnit(p,'ndtb',-4754.2,10103.3,50.022)set u=CreateUnit(p,'ndtb',-4849.7,10395.4,83.839)set u=CreateUnit(p,'ndtb',-4475.7,10340.8,269.887)set u=CreateUnit(p,'ndtb',-4523.7,10058.6,10.734)set u=CreateUnit(p,'ndtb',-4389.9,9811.2,237.367)set u=CreateUnit(p,'ndtb',-4329.,9586.7,355.979)set u=CreateUnit(p,'ndtb',-4203.1,10252.9,264.163)set u=CreateUnit(p,'ndtb',-4121.5,9939.9,97.111)set u=CreateUnit(p,'ndtb',-4117.4,9676.2,52.494)set u=CreateUnit(p,'ndtb',-4155.7,9450.6,169.612)set u=CreateUnit(p,'ndtb',-3861.7,9485.7,207.615)set u=CreateUnit(p,'ndtb',-3839.6,9845.2,274.161)set u=CreateUnit(p,'ndtb',-3815.7,10318.2,206.78)set u=CreateUnit(p,'ndtb',-3944.2,10167.6,253.177)set u=CreateUnit(p,'ndtb',-3478.5,10294.,8.416)set u=CreateUnit(p,'ndtb',-3615.5,9959.3,260.757)set u=CreateUnit(p,'ndtb',-3546.1,9642.5,298.233)set u=CreateUnit(p,'ndtb',-3656.1,9414.1,246.98)set u=CreateUnit(p,'ndtb',-3417.8,9482.1,161.141)set u=CreateUnit(p,'ndtb',-3365.3,10142.6,37.695)set u=CreateUnit(p,'ndtb',-3395.2,9888.4,51.989)set u=CreateUnit(p,'nsrh',6788.6,-2224.5,179.099)set u=CreateUnit(p,'nogr',6435.,-1894.1,95.969)set u=CreateUnit(p,'nogr',6438.7,-2248.3,158.724)set u=CreateUnit(p,'nogr',6154.1,-2604.,111.833)set u=CreateUnit(p,'nogr',6038.2,-2199.1,109.273)set u=CreateUnit(p,'nogr',5904.8,-1786.5,311.263)set u=CreateUnit(p,'nogr',5551.3,-1965.8,254.506)set u=CreateUnit(p,'nogr',5381.7,-2323.9,353.639)set u=CreateUnit(p,'nogr',5257.4,-2641.1,310.263)set u=CreateUnit(p,'nogr',5213.1,-1761.3,234.148)set u=CreateUnit(p,'nogr',6757.6,-1645.8,145.892)set u=CreateUnit(p,'nwrg',-14793.9,-6329.7,92.98)set u=CreateUnit(p,'nwrg',-14461.8,-6133.7,100.286)set u=CreateUnit(p,'nwrg',-14048.8,-6240.6,292.806)set u=CreateUnit(p,'nwrg',-13679.4,-6068.1,32.279)set u=CreateUnit(p,'nwrg',-13264.4,-6194.2,145.244)set u=CreateUnit(p,'nwrg',-12990.6,-5855.3,332.995)set u=CreateUnit(p,'nwrg',-12556.6,-5669.8,146.65)set u=CreateUnit(p,'nwrg',-12244.7,-5274.1,99.341)set u=CreateUnit(p,'nwrg',-12518.3,-4890.1,101.385)set u=CreateUnit(p,'nwrg',-12006.7,-4710.6,182.335)set u=CreateUnit(p,'nwrg',-12417.5,-4207.4,157.087)set u=CreateUnit(p,'nwrg',-11997.7,-3996.8,52.912)set u=CreateUnit(p,'nwrg',-12504.3,-3156.4,304.906)set u=CreateUnit(p,'nwrg',-12029.9,-3093.7,259.173)set u=CreateUnit(p,'nwrg',-12048.2,-2660.6,264.761)set u=CreateUnit(p,'nwrg',-12611.5,-2650.1,294.612)set u=CreateUnit(p,'nwrg',-12922.2,-2340.6,300.307)set u=CreateUnit(p,'nwrg',-11869.2,-2237.3,259.289)set u=CreateUnit(p,'nwrg',-12823.6,-3845.9,358.967)set u=CreateUnit(p,'nwrg',-13324.,-3563.9,123.424)set u=CreateUnit(p,'nwrg',-13850.1,-3490.5,266.976)set u=CreateUnit(p,'nwrg',-14336.5,-4002.,319.91)set u=CreateUnit(p,'nwrg',-14679.1,-4034.5,297.936)set u=CreateUnit(p,'nwrg',-14482.3,-4620.8,260.197)set u=CreateUnit(p,'nwrg',-13082.1,-4518.5,324.962)set u=CreateUnit(p,'nwrg',-13083.6,-5033.5,12.554)set u=CreateUnit(p,'nrzb',-13378.5,-4721.9,338.837)set u=CreateUnit(p,'nfpu',-12407.6,-2143.8,284.172)set u=CreateUnit(p,'nmpg',-14815.3,-10078.4,103.615)set u=CreateUnit(p,'nmpg',-14436.5,-10108.6,252.616)set u=CreateUnit(p,'nmpg',-14339.3,-9787.8,337.664)set u=CreateUnit(p,'nmpg',-13835.3,-9856.3,35.926)set u=CreateUnit(p,'nmpg',-13992.8,-9321.1,260.648)set u=CreateUnit(p,'nmpg',-13581.6,-9598.2,359.176)set u=CreateUnit(p,'nmpg',-13879.4,-8845.2,240.454)set u=CreateUnit(p,'nmpg',-14246.3,-9049.,278.094)set u=CreateUnit(p,'nmpg',-13576.5,-8492.8,185.828)set u=CreateUnit(p,'nmpg',-13830.7,-8241.2,86.959)set u=CreateUnit(p,'nmpg',-14189.9,-8505.9,10.196)set u=CreateUnit(p,'nmpg',-14597.9,-8710.5,40.936)set u=CreateUnit(p,'ntkc',-2634.1,12329.1,91.114)set u=CreateUnit(p,'nrvi',10235.4,15096.9,245.749)set u=CreateUnit(p,'nsgn',-1488.,14913.8,271.232)set u=CreateUnit(p,'nsgb',-742.8,12726.2,92.938)set u=CreateUnit(p,'nwzr',-4659.9,14915.5,273.386)set u=CreateUnit(p,'nstl',-4783.8,14102.9,277.997)set u=CreateUnit(p,'nstl',-4427.,14063.4,265.895)set u=CreateUnit(p,'nstl',-4819.5,13523.7,283.794)set u=CreateUnit(p,'nstl',-4429.5,13494.9,263.889)set u=CreateUnit(p,'nstl',-4777.4,12827.1,298.967)set u=CreateUnit(p,'nstl',-4437.1,12816.9,255.093)set u=CreateUnit(p,'nstl',-4545.6,12201.1,234.192)set u=CreateUnit(p,'nstl',-4069.5,12294.7,330.127)set u=CreateUnit(p,'hmtt',-12201.,-15223.2,248.28)set u=CreateUnit(p,1852207203,-7846.3,-9418.4,285.423)set u=CreateUnit(p,1852207203,-7499.2,-9250.3,285.423)set u=CreateUnit(p,'nstl',-2869.3,12660.5,353.21)set u=CreateUnit(p,'nstl',-2509.5,13262.8,302.023)set u=CreateUnit(p,'nstl',-2772.6,13610.9,96.254)set u=CreateUnit(p,'nstl',-2812.,13096.1,305.023)set u=CreateUnit(p,'nstl',-2433.1,12741.7,110.46)set u=CreateUnit(p,'nstl',-2443.,13759.6,136.685)set u=CreateUnit(p,'nstl',-2738.5,14172.5,308.495)set u=CreateUnit(p,'nstl',-2473.9,14246.3,217.877)set u=CreateUnit(p,'nstl',-2760.9,15020.9,197.101)set u=CreateUnit(p,'nstl',-2379.6,14865.7,335.533)set u=CreateUnit(p,'nstl',-2001.7,15075.5,168.393)set u=CreateUnit(p,'nstl',-1784.,14374.5,2.922)set u=CreateUnit(p,'nstl',-1429.4,14281.8,188.685)set u=CreateUnit(p,'nstl',-1688.6,13921.2,147.111)set u=CreateUnit(p,'nstl',-1401.8,13660.9,233.862)set u=CreateUnit(p,'nstl',-1736.4,13398.7,88.596)set u=CreateUnit(p,'nstl',-1467.2,13180.2,64.843)set u=CreateUnit(p,'nstl',-1789.5,12909.6,97.979)set u=CreateUnit(p,'nstl',-1493.3,12733.9,39.069)set u=CreateUnit(p,'nstl',-1776.5,12407.5,10.602)set u=CreateUnit(p,'nstl',-1414.2,12260.,5.647)set u=CreateUnit(p,'nstl',-978.7,12463.7,63.129)set u=CreateUnit(p,'nstl',-668.,12251.4,112.273)set u=CreateUnit(p,'nstl',-642.1,13261.8,301.496)set u=CreateUnit(p,'nstl',-924.3,13448.1,29.972)set u=CreateUnit(p,'nstl',-629.9,13829.5,167.931)set u=CreateUnit(p,'nstl',-872.2,14201.3,86.883)set u=CreateUnit(p,'nstl',-587.9,14519.1,102.297)set u=CreateUnit(p,'nstl',-833.4,14795.4,223.732)set u=CreateUnit(p,'nstl',-587.,15076.,300.32)set u=CreateUnit(p,'nstl',-233.4,14971.1,168.997)set u=CreateUnit(p,1853056884,200.,14891.6,267.94)set u=CreateUnit(p,'nstl',362.3,14587.,177.237)set u=CreateUnit(p,'nstl',12.8,14449.1,288.202)set u=CreateUnit(p,'nstl',240.1,14185.1,326.612)set u=CreateUnit(p,'nstl',-68.2,14037.9,151.429)set u=CreateUnit(p,'nstl',315.7,13742.,209.593)set u=CreateUnit(p,'nstl',-.0,13524.8,86.707)set u=CreateUnit(p,'nstl',308.,13193.,83.389)set u=CreateUnit(p,'nstl',-19.7,13055.2,184.752)set u=CreateUnit(p,'nstl',333.8,12762.7,314.735)set u=CreateUnit(p,'nstl',-7.6,12558.8,82.795)set u=CreateUnit(p,'nstl',350.2,12368.5,278.193)set u=CreateUnit(p,'nstl',-2867.7,14559.8,20.974)set u=CreateUnit(p,1852861538,2765.4,11990.3,354.551)set u=CreateUnit(p,1852861538,3192.8,11863.9,36.509)set u=CreateUnit(p,1852207212,2489.2,11815.6,61.8)set u=CreateUnit(p,1852861538,4320.7,11980.7,281.852)set u=CreateUnit(p,1852861538,4503.5,12242.4,158.274)set u=CreateUnit(p,1852861538,4039.,13071.9,42.694)set u=CreateUnit(p,1852861538,3593.1,13185.8,82.752)set u=CreateUnit(p,1852207212,3505.,11993.9,335.785)set u=CreateUnit(p,1852861538,2454.7,13204.6,98.045)set u=CreateUnit(p,1852861538,3069.1,14146.7,288.477)set u=CreateUnit(p,1852861538,3607.9,14145.5,323.887)set u=CreateUnit(p,1852861538,3902.4,14598.5,316.921)set u=CreateUnit(p,1852861538,4668.3,14134.5,317.932)set u=CreateUnit(p,1852861538,4812.6,14612.9,339.092)set u=CreateUnit(p,1852207212,3983.6,11873.8,156.527)set u=CreateUnit(p,1852207212,4561.7,12712.3,177.687)set u=CreateUnit(p,1852207212,3142.1,13153.1,145.112)set u=CreateUnit(p,1852207212,2714.3,13246.9,83.268)set u=CreateUnit(p,1852207212,2471.,13575.8,222.304)set u=CreateUnit(p,1852207212,2605.,14035.9,105.45)set u=CreateUnit(p,1852207212,3899.3,14099.,310.637)set u=CreateUnit(p,1852207212,4277.5,14233.6,261.131)set u=CreateUnit(p,1852207212,4886.9,14357.2,189.08)set u=CreateUnit(p,1852270642,4457.5,12995.6,272.607)set u=CreateUnit(p,1852663652,4343.,14740.7,263.536)set u=CreateUnit(p,1852207984,2347.2,14172.4,350.717)set u=CreateUnit(p,1853320818,4287.7,10151.4,228.747)set u=CreateUnit(p,1853058150,2236.8,9150.8,298.574)set u=CreateUnit(p,1853323879,3039.,7028.4,17.448)set u=CreateUnit(p,1869050475,5348.,8028.,129.94)set u=CreateUnit(p,'nfrl',-15144.8,12236.8,202.253)set u=CreateUnit(p,'nfrl',-15278.3,13248.3,134.158)set u=CreateUnit(p,'nfrl',-13600.1,14777.7,226.831)set u=CreateUnit(p,'nfrl',-13929.8,13124.6,111.174)set u=CreateUnit(p,'nfrl',-13845.3,11670.9,12.909)set u=CreateUnit(p,'nfrl',-12193.3,11352.5,181.093)set u=CreateUnit(p,'nfrl',-11587.7,13124.9,205.725)set u=CreateUnit(p,1853252716,9795.2,15164.8,286.575)set u=CreateUnit(p,1852794732,9398.7,14965.4,317.012)set u=CreateUnit(p,1851944036,10511.7,15018.8,208.698)set u=CreateUnit(p,1852141158,-10306.4,4076.3,272.722)set u=CreateUnit(p,1852141158,-10005.8,3398.9,59.207)set u=CreateUnit(p,1852141158,-10118.7,2897.8,107.911)set u=CreateUnit(p,1852141158,-9694.7,2524.1,84.729)set u=CreateUnit(p,1852141158,-9428.9,1948.5,265.603)set u=CreateUnit(p,1852141158,-7637.7,1943.7,26.357)set u=CreateUnit(p,1852141158,-8193.2,1672.9,257.934)set u=CreateUnit(p,1852141158,-8126.7,2372.8,283.451)set u=CreateUnit(p,1852141158,-8402.5,2766.,258.582)set u=CreateUnit(p,1752395892,-14692.2,-15042.8,287.223)set u=CreateUnit(p,1969976430,7282.8,13564.4,268.457)set u=CreateUnit(p,1869836407,7140.3,14205.1,272.252)set u=CreateUnit(p,1869836407,7428.2,14196.2,270.132)set u=CreateUnit(p,1869836407,7139.1,13752.,272.252)set u=CreateUnit(p,1869836407,7427.,13743.1,270.132)set u=CreateUnit(p,1869836407,7163.,13336.6,272.252)set u=CreateUnit(p,1869836407,7450.9,13327.7,270.132)set u=CreateUnit(p,1869836407,7163.2,12871.5,272.252)set u=CreateUnit(p,1869836407,7451.1,12862.6,270.132)set u=CreateUnit(p,1869836407,7154.8,12443.3,272.252)set u=CreateUnit(p,1869836407,7442.7,12434.4,270.132)set u=CreateUnit(p,1852141158,-8881.8,2708.9,297.695)set u=CreateUnit(p,1852141158,-8811.2,3189.8,258.329)set u=CreateUnit(p,1852141158,-9304.6,3306.9,323.964)set u=CreateUnit(p,1852141158,-9142.7,3832.2,4.098)set u=CreateUnit(p,1852141158,-9673.4,4347.6,9.02)set u=CreateUnit(p,1852141158,-9456.6,3835.1,224.985)set u=CreateUnit(p,1852141158,-9612.5,4663.,120.776)set u=CreateUnit(p,1852141158,-9928.1,4934.5,66.887)set u=CreateUnit(p,1852141158,-9738.6,5210.6,344.421)set u=CreateUnit(p,1852141158,-9288.5,4243.4,122.622)set u=CreateUnit(p,1852141158,-8529.3,2186.1,139.959)set u=CreateUnit(p,'njgb',5236.1,-12937.8,1.681)set u=CreateUnit(p,'njgb',4818.5,-12457.3,10.108)set u=CreateUnit(p,'njgb',5432.7,-12048.3,259.197)set u=CreateUnit(p,'njgb',4864.3,-11493.7,285.939)set u=CreateUnit(p,'njgb',5190.9,-10875.7,21.841)set u=CreateUnit(p,'njgb',5575.9,-11433.9,43.123)set u=CreateUnit(p,'njgb',6112.7,-11116.9,196.464)set u=CreateUnit(p,'njgb',5871.2,-10670.6,352.529)set u=CreateUnit(p,'njgb',5516.4,-10235.7,253.539)set u=CreateUnit(p,'njgb',6100.6,-10189.3,65.942)set u=CreateUnit(p,'njgb',6007.,-9673.8,169.623)set u=CreateUnit(p,'njgb',5210.1,-10415.4,297.5)set u=CreateUnit(p,1751871081,-6915.4,3983.4,272.767)set u=CreateUnit(p,1751871081,-6857.,3524.6,272.767)set u=CreateUnit(p,1751871081,-7127.3,3460.5,272.767)set u=CreateUnit(p,1751871081,-6397.8,3139.2,233.41)set u=CreateUnit(p,1751871081,-6544.,3469.7,233.41)set u=CreateUnit(p,1751871081,-6331.6,3799.7,233.41)set u=CreateUnit(p,1751871081,-6722.1,4353.1,253.553)set u=CreateUnit(p,1751871081,-6231.4,4227.2,253.553)set u=CreateUnit(p,1751871081,-7045.6,2863.2,253.553)set u=CreateUnit(p,1751871081,-6644.2,2934.8,253.553)set u=CreateUnit(p,1751543663,-6426.9,4526.3,259.71)set u=nullset p=nullendfunctionfunction t5 takes nothing returns nothinglocal player p=Player(15)local unit u=nullset u=CreateUnit(p,'ncop',-6336.,-1536.,270.)set u=CreateUnit(p,'ncop',-8640.,-3776.,270.)set u=CreateUnit(p,'ncop',-9216.,-3776.,270.)set u=CreateUnit(p,'ncop',-9984.,-5376.,270.)set u=CreateUnit(p,'ncop',-13376.,11712.,270.)set u=CreateUnit(p,'ncop',-12736.,11200.,270.)set u=CreateUnit(p,'ncop',-12992.,13440.,270.)set u=CreateUnit(p,'ncop',-12352.,13248.,270.)set u=CreateUnit(p,'ncop',-10048.,5312.,270.)set u=CreateUnit(p,'ncop',-10624.,4800.,270.)set Ns=CreateUnit(p,'O004',1963.8,-4044.6,226.742)call SetUnitState(Ns,UNIT_STATE_MANA,0)set Os=CreateUnit(p,'O003',1655.,-3879.3,271.975)call SetUnitState(Os,UNIT_STATE_MANA,0)set Ps=CreateUnit(p,'O000',1877.,-4346.3,184.495)call SetUnitState(Ps,UNIT_STATE_MANA,0)set Qs=CreateUnit(p,'O001',1387.8,-4122.2,342.869)call SetUnitState(Qs,UNIT_STATE_MANA,0)set Ls=CreateUnit(p,'O002',1488.4,-4404.3,48.963)call SetUnitState(Ls,UNIT_STATE_MANA,0)set qN=CreateUnit(p,'O023',1720,-4430.3,229)call SetUnitState(qN,UNIT_STATE_MANA,0)set tN=CreateUnit(p,'O02J',1450,-3900,256)call SetUnitState(tN,UNIT_STATE_MANA,0)set UV[1]=CreateUnit(Player(0),'n00G',1860,-4140,254.7)set UV[2]=CreateUnit(Player(1),'n00G',1860,-4140,254.7)set UV[3]=CreateUnit(Player(2),'n00G',1860,-4140,254.7)set UV[4]=CreateUnit(Player(3),'n00G',1860,-4140,254.7)set UV[5]=CreateUnit(Player(4),'n00G',1860,-4140,254.7)set Rs=CreateUnit(p,'o005',1620,-4050,255)set ut=CreateUnit(p,1865429060,-5498.1,-3020.3,60.353)set ft=CreateUnit(p,1865429046,-5503.8,5213.9,156.857)set gt=CreateUnit(p,1865429046,-5538.1,5186.3,209.428)set u=CreateUnit(p,1865429067,-1256.,-1921.,266.75)set Ts=CreateUnit(p,1865429047,1939.6,-2738.2,217.84)set u=CreateUnit(p,1865429061,-5054.2,-3013.2,129.225)set nt=CreateUnit(p,1865429057,-2053.7,-339.5,181.33)set ot=CreateUnit(p,1865429058,347.5,-3809.3,20.701)set ht=CreateUnit(p,1865429046,-5425.9,5155.9,280.391)set jt=CreateUnit(p,1865429046,-5448.9,5202.9,106.67)set kt=CreateUnit(p,1865429046,-5487.7,5169.9,191.717)set Us=CreateUnit(p,1865429046,-5517.6,5090.4,182.565)set Zs=CreateUnit(p,1865429046,-5540.2,5134.9,255.418)set Ys=CreateUnit(p,1865429046,-5483.4,5122.9,225.216)set Xs=CreateUnit(p,1865429046,-5429.8,5108.7,262.307)set Ws=CreateUnit(p,1865429046,-5453.9,5084.4,242.388)set Vs=CreateUnit(p,1865429046,-5467.9,5207.8,242.388)set u=CreateUnit(p,1751671916,-2092.9,-2759.4,336.13)set u=CreateUnit(p,1751671916,-2095.1,-2894.8,344.957)set Ss=CreateUnit(p,1865429048,-1689.9,-2919.2,272.018)set u=CreateUnit(p,1865429062,-5514.,-2567.8,315.259)set u=CreateUnit(p,1865429063,2900.8,-6110.5,233.25)set u=CreateUnit(p,1865429064,3065.6,-415.5,260.325)set u=CreateUnit(p,1865429064,2800.7,-432.4,260.325)set u=CreateUnit(p,1865429064,2554.3,-442.,260.325)set u=CreateUnit(p,1865429064,2326.7,-440.3,260.325)set u=CreateUnit(p,1865429064,3095.5,-1042.9,88.198)set u=CreateUnit(p,1865429064,2830.6,-1059.8,88.075)set u=CreateUnit(p,1865429064,2584.1,-1069.5,89.265)set u=CreateUnit(p,1865429064,2356.6,-1067.7,91.855)set u=CreateUnit(p,1865429065,3414.3,-699.1,185.39)set vt=CreateUnit(p,1865429066,-4885.4,423.9,273.2)set xt=CreateUnit(p,1865429072,5741.1,-877.8,224.9)set yt=CreateUnit(p,1865429074,-3452.7,153.4,251.26)set u=CreateUnit(p,1865429075,4045.8,-2255.6,181.936)set u=CreateUnit(p,1865429329,3070.6,-1542.5,268.656)set u=CreateUnit(p,1865429077,-14635.1,-8394.7,327.01)set zt=CreateUnit(p,1865429078,-12182.9,-5939.8,148.96)set u=CreateUnit(p,1865429331,3343.6,-2375.3,5.029)set u=CreateUnit(p,1865429332,3322.4,-2730.6,11.064)set u=CreateUnit(p,1865429330,2649.6,-1514.4,277.06)set u=CreateUnit(p,1865429328,-134.4,372.9,106.56)set At=CreateUnit(p,1865429079,-1174.4,11346.6,274.031)set Bt=CreateUnit(p,1865429081,4580.,419.,179.83)set u=CreateUnit(p,1865429304,598.6,-2015.8,94.58)set u=CreateUnit(p,1865429305,-2081.6,-1962.8,24.21)set u=CreateUnit(p,1865429313,-4242.4,-492.4,63.2)set Ct=CreateUnit(p,1865429296,-129.2,-2927.6,277.91)set u=CreateUnit(p,'o011',670.9,-1270.5,175.947)set ct=CreateUnit(p,1865429298,-11366.8,10882.4,86.53)set u=CreateUnit(p,1865429299,-10757.5,-9392.7,335.57)set u=CreateUnit(p,1865429300,-10267.3,-9397.,236.63)set u=CreateUnit(p,1865429301,-10757.4,-8828.2,287.56)set u=CreateUnit(p,1865429302,-10344.1,-8824.9,251.35)set u=CreateUnit(p,1865429303,-10584.5,-8441.9,294.94)set Dt=CreateUnit(p,1865429314,-10140.6,719.9,154.876)set Et=CreateUnit(p,1865429315,-9636.7,-400.7,28.58)set Ft=CreateUnit(p,1865429320,-8902.4,-26.,141.62)set u=CreateUnit(p,1865429322,-2032.3,-1442.2,179.83)call ShowUnitHide(qV)set u=nullset p=nullendfunctionfunction T5 takes nothing returns nothinglocal weathereffect welocal destructable dcall SetCameraBounds(-15616.+GetCameraMargin(CAMERA_MARGIN_LEFT),-15872.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),15616.-GetCameraMargin(CAMERA_MARGIN_RIGHT),15360.-GetCameraMargin(CAMERA_MARGIN_TOP),-15616.+GetCameraMargin(CAMERA_MARGIN_LEFT),15360.-GetCameraMargin(CAMERA_MARGIN_TOP),15616.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-15872.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")call SetTerrainFogEx(0,3000.,5000.,.5,.0,.0,.0)call NewSoundEnvironment("Default")call SetAmbientDaySound("VillageDay")call SetAmbientNightSound("VillageNight")call SetMapMusic("Music",true,0)set wh=CreateSound("Sound\\Ambient\\DoodadEffects\\Seagull1.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(wh,"SeagullSound")call SetSoundDuration(wh,$E09)set Ah=CreateSound("Sound\\Music\\mp3Music\\UndeadVictory.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(Ah,$9B72)call SetSoundChannel(Ah,0)call SetSoundVolume(Ah,$7F)call SetSoundPitch(Ah,1.)set ah=CreateSound("Sound\\Music\\mp3Music\\Undead1.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(ah,$4A193)call SetSoundChannel(ah,0)call SetSoundVolume(ah,$7F)call SetSoundPitch(ah,1.)set Bh=CreateSound("Sound\\Music\\mp3Music\\SadMystery.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(Bh,84515)call SetSoundChannel(Bh,0)call SetSoundVolume(Bh,$7F)call SetSoundPitch(Bh,1.)set bh=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(bh,"Hint")call SetSoundDuration(bh,$7D6)set Ch=CreateSound("Sound\\Ambient\\DoodadEffects\\SargerasLaugh.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(Ch,"SargerasLaugh")call SetSoundDuration(Ch,$CFE)set Dh=CreateSound("Sound\\Ambient\\DoodadEffects\\UtherReturns.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(Dh,"UtherReturnsSound")call SetSoundDuration(Dh,6711)set Eh=CreateSound("Abilities\\Spells\\NightElf\\FaerieFire\\FaerieFireLaunch1.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(Eh,"FaerieFire")call SetSoundDuration(Eh,$813)set Fh=CreateSound("Abilities\\Spells\\Orc\\Reincarnation\\Reincarnation.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(Fh,"Reincarnation")call SetSoundDuration(Fh,$AA8)set Gh=CreateSound("Sound\\Interface\\Warning.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(Gh,"Warning")call SetSoundDuration(Gh,$770)set Hh=CreateSound("Sound\\Interface\\QuestCompleted.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(Hh,"QuestCompleted")call SetSoundDuration(Hh,5155)set Ih=CreateSound("Abilities\\Spells\\Items\\ResourceItems\\ReceiveGold.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(Ih,"ReceiveGold")call SetSoundDuration(Ih,589)set dN=Rect(9703.,-15845.,11395.,-13510.)set FN=Rect(-224,-1504,32,-1248)set gN=Rect(952,-4548,2330,-2956)set jN=Rect(10000,-13320,13530,-10600)set Ge=Rect(1504.,-4288.,1856.,-3968.)set He=Rect(1664.,-2944.,1920.,-2688.)set Ie=Rect(4192.,-4032.,5312.,-3264.)set le=Rect(3200.,-4992.,4256.,-4384.)set Je=Rect(-1472.,-1536.,64.,-864.)set Ke=Rect(-1568.,-672.,.0,-64.)set Le=Rect(-3296.,3488.,-2784.,3936.)set Me=Rect(-1056.,5024.,-448.,5600.)set Ne=Rect(1216.,3424.,1760.,3936.)set Oe=Rect(-960.,-5248.,-480.,-4896.)set JN=Rect(12300,1550,12800,2050)set Pe=Rect(-2240.,-544.,-1952.,-128.)set Qe=Rect(1024.,-2944.,1344.,-2752.)set Re=Rect(5344.,-5056.,6496.,-4448.)set Se=Rect(1728.,-5280.,1984.,-5088.)set Te=Rect(-5600.,-3104.,-5312.,-2816.)set Ue=Rect(-3840.,-2816.,-3328.,-2592.)set Ve=Rect(2688.,-6240.,3008.,-5952.)set We=Rect(1280.,-6464.,1632.,-6208.)set Xe=Rect(3168.,-864.,3488.,-576.)set Ye=Rect(-5056.,192.,-4736.,512.)set Ze=Rect(-11968.,448.,-11680.,736.)set df=Rect(-10688.,-1152.,-4864.,5792.)set KN=Rect(8800,-4500,14300,4500)set we=AddWeatherEffect(df,1464820599)call EnableWeatherEffect(we,true)set ef=Rect(-13568.,2272.,-13440.,2400.)set ff=Rect(1376.,-3840.,1472.,-3744.)set gf=Rect(-12448.,1440.,-12288.,1600.)set hf=Rect(-11584.,2496.,-11456.,2624.)set jf=Rect(-12704.,3680.,-12576.,3808.)set kf=Rect(-14688.,3552.,-14560.,3680.)set mf=Rect(-14752.,1760.,-14624.,1888.)set nf=Rect(-14080.,288.,-13952.,416.)set of=Rect(-15328.,96.,-11296.,4352.)set we=AddWeatherEffect(of,1178886760)call EnableWeatherEffect(we,true)set pf=Rect(-5568.,-5472.,-5280.,-5216.)set qf=Rect(-4064.,-5408.,-3744.,-5184.)set rf=Rect(-5600.,-4512.,-5376.,-4256.)set sf=Rect(-4608.,-4448.,-4416.,-4288.)set tf=Rect(-3520.,-4576.,-3296.,-4384.)set uf=Rect(-2560.,-6144.,-2368.,-5984.)set vf=Rect(-3424.,-6592.,-3200.,-6368.)set wf=Rect(-5568.,-6496.,-5344.,-6272.)set xf=Rect(-15712.,5568.,-11008.,10176.)set we=AddWeatherEffect(xf,1464755063)call EnableWeatherEffect(we,true)set yf=Rect(-15392.,5184.,-15136.,5440.)set zf=Rect(-12768.,6496.,-12576.,6688.)set Af=Rect(-14240.,6176.,-14080.,6304.)set af=Rect(-14144.,7136.,-13984.,7296.)set Bf=Rect(-13888.,8352.,-13728.,8480.)set bf=Rect(-11488.,7936.,-11328.,8096.)set Cf=Rect(-11456.,5856.,-11296.,6048.)set cf=Rect(-13088.,5856.,-12928.,5984.)set Df=Rect(-10272.,-5824.,-6752.,-1600.)set we=AddWeatherEffect(Df,1178886760)call EnableWeatherEffect(we,true)call SetSoundPosition(ah,-8512.,-3712.,.0)call RegisterStackedSound(ah,true,3520.,4224.)set Ef=Rect(-6080.,-7136.,-1728.,-4224.)set we=AddWeatherEffect(Ef,1380018290)call EnableWeatherEffect(we,true)set Ff=Rect(-6400.,-1600.,-6272.,-1472.)set Gf=Rect(-9760.,-5440.,-9632.,-5312.)set Hf=Rect(-10048.,-5440.,-9920.,-5312.)set If=Rect(-6208.,-1568.,-6080.,-1440.)set lf=Rect(-8704.,-3840.,-8576.,-3712.)set Jf=Rect(-8704.,-3648.,-8576.,-3520.)set Kf=Rect(-9280.,-3840.,-9152.,-3712.)set Lf=Rect(-9568.,-3840.,-9440.,-3712.)set Mf=Rect(6048.,-672.,7040.,384.)set Nf=Rect(-15680.,10432.,-10976.,15296.)set we=AddWeatherEffect(Nf,1464755063)call EnableWeatherEffect(we,true)set Of=Rect(-13440.,11648.,-13312.,11776.)set Pf=Rect(-13728.,11840.,-13600.,11968.)set Qf=Rect(-12800.,11136.,-12672.,11264.)set Rf=Rect(1664.,6336.,6048.,10624.)set we=AddWeatherEffect(Rf,1464822903)call EnableWeatherEffect(we,true)call SetSoundPosition(Bh,3856.,8480.,512.)call RegisterStackedSound(Bh,true,4384.,4288.)set Sf=Rect(-12480.,11168.,-12352.,11296.)set Tf=Rect(-12416.,13184.,-12288.,13312.)set Uf=Rect(-12160.,12992.,-12032.,13120.)set Vf=Rect(-13056.,13376.,-12928.,13504.)set Wf=Rect(-13248.,13664.,-13120.,13792.)set Xf=Rect(-15264.,10912.,-15136.,11040.)set Yf=Rect(-13312.,14688.,-13184.,14816.)set Zf=Rect(-15072.,14752.,-14944.,14880.)set dg=Rect(-9088.,13504.,-8896.,13664.)set eg=Rect(-6688.,15008.,-6496.,15168.)set fg=Rect(-7968.,13408.,-7776.,13568.)set gg=Rect(-8864.,12992.,-8672.,13152.)set hg=Rect(-8768.,11360.,-8576.,11552.)set ig=Rect(-9504.,12832.,-9312.,13024.)set jg=Rect(-6784.,11328.,-6592.,11520.)set kg=Rect(-6880.,9184.,-6688.,9376.)set mg=Rect(-9568.,11360.,-9376.,11552.)set ng=Rect(-9632.,10880.,-9440.,11072.)set og=Rect(-9056.,9344.,-8864.,9536.)set pg=Rect(-8992.,8832.,-8800.,9024.)set qg=Rect(-7456.,10144.,-7264.,10336.)set rg=Rect(-7136.,12736.,-6944.,12928.)set sg=Rect(-6656.,14176.,-6464.,14368.)set tg=Rect(-6848.,6688.,-6656.,6880.)set ug=Rect(-6912.,8576.,-6720.,8768.)set vg=Rect(-9728.,7584.,-9536.,7744.)set wg=Rect(-9632.,9184.,-9408.,9376.)set xg=Rect(-9088.,7008.,-8928.,7200.)set yg=Rect(-8192.,7776.,-8032.,7936.)set zg=Rect(-9856.,6624.,-9664.,6816.)set Ag=Rect(-5216.,6848.,-5088.,6976.)set ag=Rect(5568.,-1056.,5792.,-768.)set Bg=Rect(-3616.,-96.,-3328.,224.)set bg=Rect(-5856.,6784.,-2848.,11328.)set Cg=Rect(4576.,-2304.,4736.,-2112.)set cg=Rect(4160.,-3168.,7200.,-1216.)set we=AddWeatherEffect(cg,1296393331)call EnableWeatherEffect(we,true)set Dg=Rect(-14912.,-4928.,-14720.,-4768.)set Eg=Rect(-15264.,-6560.,-15072.,-6368.)set Fg=Rect(-13120.,-2112.,-12960.,-1952.)set Gg=Rect(-15744.,-6752.,-10656.,-320.)set Hg=Rect(-16096.,-10656.,-12352.,-7168.)set Ig=Rect(-15520.,-10208.,-15296.,-9952.)set lg=Rect(-12384.,-6080.,-12000.,-5600.)set Jg=Rect(-32.,11968.,256.,12224.)set Kg=Rect(-5760.,11520.,512.,15296.)set we=AddWeatherEffect(Kg,1280470369)call EnableWeatherEffect(we,true)set Lg=Rect(-1280.,10944.,-1056.,11200.)set Mg=Rect(1792.,11456.,5504.,15648.)set we=AddWeatherEffect(Mg,1397647475)call EnableWeatherEffect(we,true)set Ng=Rect(2112.,11840.,2304.,12032.)set Og=Rect(4800.,14016.,4992.,14208.)set Pg=Rect(3904.,12800.,4032.,12928.)set Qg=Rect(3616.,8448.,3840.,8672.)set Rg=Rect(4320.,320.,4512.,512.)set Sg=Rect(864.,-5248.,1024.,-5088.)set Ug=Rect(-15424.,-15904.,-13888.,-14368.)set Vg=Rect(-14816.,-15616.,-14592.,-15488.)set Wg=Rect(7200.,11904.,7392.,12064.)set Xg=Rect(7200.,14592.,7328.,14720.)set Yg=Rect(6432.,11648.,8256.,15264.)set we=AddWeatherEffect(Yg,1296393331)call EnableWeatherEffect(we,true)call SetSoundPosition(ah,7344.,13456.,.0)call RegisterStackedSound(ah,true,1824.,3616.)set Zg=Rect(-10080.,608.,-9888.,800.)set dh=Rect(9312.,13696.,9504.,13888.)set eh=Rect(8960.,13440.,10976.,15744.)set fh=Rect(-10688.,4704.,-10560.,4864.)set gh=Rect(-10112.,5216.,-9984.,5376.)set hh=Rect(-9824.,-320.,-9664.,-160.)set lN=Rect(5728.,-13472.,5952.,-13248.)set jh=Rect(3104.,-13344.,3328.,-13120.)set kh=Rect(-9248.,-96.,-8832.,320.)set mh=Rect(-6528.,4224.,-6336.,4384.)set nh=Rect(416.,-864.,576.,-704.)set oh=Rect(416.,-1152.,576.,-992.)set ph=Rect(416.,-1472.,576.,-1312.)set qh=Rect(416.,-1760.,576.,-1600.)set rh=Rect(-2784.,-832.,-2624.,-672.)set sh=Rect(-2336.,-832.,-2176.,-672.)set th=Rect(-2272.,-1280.,-2112.,-1120.)set uh=Rect(-9216.,-14464.,-8800.,-14048.)set vh=Rect(-7584.,-11648.,-7392.,-11456.)set Gt=CreateDestructable('ATg1',-12160.,-15104.,270.,.1,0)call yJ('I04S',-13670.,-5176.9)call yJ('I04S',-15044.5,-4362.7)call yJ('I04S',-14352.8,-5099.9)call yJ('I04S',-12961.7,-1926.6)call yJ('I04S',-11668.2,-3676.2)call yJ('I04S',-13280.1,-3255.6)call yJ('I04S',-14558.4,-3730.4)call yJ('I04S',-12682.9,-5421.)call yJ('I04S',-12819.6,-6280.9)call yJ('I04S',-11757.7,-1760.2)call yJ('I04S',-11871.1,-1750.7)call yJ('I04S',-12008.6,-5355.2)call yJ(1227897138,-1694.1,-1810.2)call yJ(1227897138,-1881.7,-1924.9)call yJ(1227897138,-1657.2,-1924.9)call yJ(1227897138,-1772.9,-1919.8)call yJ(1227897138,-1894.2,-1812.9)call yJ(1227897138,-1799.6,-1810.2)endfunctionfunction U5 takes nothing returns nothingcall P5()call S5()call t5()call T5()endfunctionfunction WI takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nqb3'))endfunctionfunction XI takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,100)<=BA[1]))thencall SJ('I021',LoadLocationHandle(Jv,id*cx,$1769D332))set BA[1]=BA[1]*9/ 10-1elseset BA[1]=BA[1]*11/ 10+1if BA[1]<0 thenset BA[1]=0endifif BA[1]>100 thenset BA[1]=100endifendifset N7=N7+1endloopcall SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((e8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall YJ(1227896391,GetKillingUnit())if((GetRandomInt(1,50)<=25))thencall YJ(1227895347,GetKillingUnit())elsecall YJ(1227895346,GetKillingUnit())endifcall AddHeroXP(GetKillingUnit(),$96,true)call PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|CFF34FF00完成任务获得经验+150、江湖声望+50、富可敌国令和"+GetItemName(bj_lastCreatedItem)))set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+50)set e8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0endifcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction ZI takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='ngns'))endfunctionfunction dl takes nothing returns nothingcall NU(GetKillingUnit(),GetTriggerUnit(),0,0,0,0,0,8,RN[1])endfunctionfunction fl takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='hwat'))endfunctionfunction gl takes nothing returns nothingcall NU(GetKillingUnit(),GetTriggerUnit(),0,0,0,0,0,8,RN[2])endfunctionfunction il takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='oshm')or(GetUnitTypeId(GetTriggerUnit())=='nass')or(GetUnitTypeId(GetTriggerUnit())=='odoc')or(GetUnitTypeId(GetTriggerUnit())=='orai')or(GetUnitTypeId(GetTriggerUnit())=='otau')or(GetUnitTypeId(GetTriggerUnit())=='odkt')or(GetUnitTypeId(GetTriggerUnit())=='uaco')endfunctionfunction jl takes nothing returns nothingif(GetUnitTypeId(GetTriggerUnit())=='oshm')or(GetUnitTypeId(GetTriggerUnit())=='nass')thencall NU(GetKillingUnit(),GetTriggerUnit(),8,'I02J','I02I',0,0,8,RN[3])elseif(GetUnitTypeId(GetTriggerUnit())=='odoc')thencall NU(GetKillingUnit(),GetTriggerUnit(),100,'I01U','I01W','I01Z',0,0,0)elseif(GetUnitTypeId(GetTriggerUnit())=='orai')thencall NU(GetKillingUnit(),GetTriggerUnit(),100,'I01S','I01Y','I01X',0,0,0)elseif(GetUnitTypeId(GetTriggerUnit())=='otau')thencall NU(GetKillingUnit(),GetTriggerUnit(),100,'I02Z','I03D',0,0,0,0)if GetRandomReal(1,100)<=3. or(GetRandomReal(1,100)<=6. and Ce[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==8)thencall SJ('I0C5',GetUnitLoc(GetKillingUnit()))endifelseif(GetUnitTypeId(GetTriggerUnit())=='odkt')thencall NU(GetKillingUnit(),GetTriggerUnit(),100,'I02U','I03G','I02W',0,0,0)elseif(GetUnitTypeId(GetTriggerUnit())=='uaco')thencall NU(GetKillingUnit(),GetTriggerUnit(),100,'I02L','I02N','I02K',0,0,0)if GetRandomReal(1,100)<=50. or Ce[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==8 thencall SJ('I0CB',GetUnitLoc(GetKillingUnit()))endifendifendfunctionfunction al takes nothing returns booleanreturn(((GetUnitTypeId(GetTriggerUnit())=='efon')or(GetUnitTypeId(GetTriggerUnit())=='nowb')))endfunctionfunction Bl takes nothing returns nothingcall NU(GetKillingUnit(),GetTriggerUnit(),10,'I01I',1227895114,'I02E','I02H',0,0)endfunctionfunction cl takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nbdw'))endfunctionfunction W5 takes nothing returns nothingcall NU(GetKillingUnit(),GetTriggerUnit(),100,'I01L','I01M','I01Q','I01R',0,0)endfunctionfunction Fl takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='ndrw'))endfunctionfunction Gl takes nothing returns nothingcall NU(GetKillingUnit(),GetTriggerUnit(),100,1227895118,1227895120,1227895119,0,0,0)endfunctionfunction Il takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1702258030))endfunctionfunction ll takes nothing returns nothingcall NU(GetKillingUnit(),GetTriggerUnit(),100,1227895621,1227895626,0,0,0,0)endfunctionfunction Kl takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1700884333))endfunctionfunction Ll takes nothing returns nothingcall NU(GetKillingUnit(),GetTriggerUnit(),100,'I03L',1227895382,0,0,0,0)endfunctionfunction Nl takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1852007777))endfunctionfunction Ol takes nothing returns nothingcall NU(GetKillingUnit(),GetTriggerUnit(),100,1227895603,1227895627,0,0,0,0)endfunctionfunction Ql takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='ndqs'))endfunctionfunction Rl takes nothing returns nothinglocal location vJ=GetUnitLoc(GetTriggerUnit())local location Zz=nulllocal integer i=1set dI[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(dI[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+50)call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,"|cff00ff00击杀林朝英，获得江湖声望+50")call NU(GetKillingUnit(),GetTriggerUnit(),100,vO[GetRandomInt(1,18)],0,0,0,0,0)if Ce[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==8 thenif GetRandomReal(1,100)<=10. thencall SJ('I0C4',vJ)endifif GetRandomReal(1,100)<=10. thencall SJ('I0C5',vJ)endifif GetRandomReal(1,100)<=10. thencall SJ('I0C8',vJ)endifif GetRandomReal(1,100)<=10. thencall SJ('I0CJ',vJ)endifelseif GetRandomReal(1,100)<=5. thencall SJ('I0C4',vJ)endifif GetRandomReal(1,100)<=5. thencall SJ('I0C5',vJ)endifif GetRandomReal(1,100)<=5. thencall SJ('I0C8',vJ)endifif GetRandomReal(1,100)<=5. thencall SJ('I0CJ',vJ)endifendifif aA[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==true thencall SJ(RN[9],vJ)endifset i=0loopexitwhen i>=5call AdjustPlayerStateBJ(16*(10-TU())/ 10,Player(i),PLAYER_STATE_RESOURCE_LUMBER)set i=i+1endloopcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"击杀林朝英，每位玩家奖励珍稀"+I2S(16*(10-TU())/ 10)+"个")set Zz=pu(vJ,GetRandomReal(30.,200.),GetRandomReal(0,360.))call SJ(wA[GetRandomInt(4,6)],Zz)call RemoveLocation(Zz)set Zz=pu(vJ,GetRandomReal(30.,200.),GetRandomReal(0,360.))call SJ(wA[GetRandomInt(1,6)],Zz)call RemoveLocation(Zz)set Zz=pu(vJ,GetRandomReal(30.,200.),GetRandomReal(0,360.))call SJ(wA[GetRandomInt(1,6)],Zz)call RemoveLocation(Zz)set Zz=pu(vJ,GetRandomReal(30.,200.),GetRandomReal(0,360.))call SJ(1227895897,Zz)call RemoveLocation(Zz)set Zz=pu(vJ,GetRandomReal(30.,200.),GetRandomReal(0,360.))call SJ(1227895897,Zz)call RemoveLocation(Zz)set Zz=pu(vJ,GetRandomReal(30.,200.),GetRandomReal(0,360.))call SJ(1227895897,Zz)call RemoveLocation(Zz)set Zz=pu(vJ,GetRandomReal(30.,200.),GetRandomReal(0,360.))call SJ(1227895897,Zz)call RemoveLocation(Zz)set Zz=pu(vJ,GetRandomReal(30.,200.),GetRandomReal(0,360.))call SJ(1227895897,Zz)call RemoveLocation(Zz)call RemoveLocation(vJ)set vJ=nullset Zz=nullendfunctionfunction Tl takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='ndqv'))endfunctionfunction Ul takes nothing returns nothingcall NU(GetKillingUnit(),GetTriggerUnit(),25,1227895897,0,0,0,15,RN[11])call NU(GetKillingUnit(),GetTriggerUnit(),fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]/ 4,wA[GetRandomInt(1,6)],0,0,0,0,0)endfunctionfunction Wl takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nsqo'))endfunctionfunction Xl takes nothing returns nothingcall NU(GetKillingUnit(),GetTriggerUnit(),100,1227895095,1227895107,1227895097,0,0,0)endfunctionfunction Zl takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='nhrr')endfunctionfunction y5 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,60)<=20))thencall SJ('I04E',LoadLocationHandle(Jv,id*cx,$1769D332))call SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$77543A28,0)call SaveInteger(Jv,id*cx,-$2D2EBEF5,0)call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,2))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))elseif((GetRandomInt(1,50)<=25))thencall SJ(1227895096,LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ(1227895106,LoadLocationHandle(Jv,id*cx,$1769D332))endifendifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction f1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nubw'))endfunctionfunction g1 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,60)<=30))thencall SJ(1227895878,LoadLocationHandle(Jv,id*cx,$1769D332))call SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$77543A28,0)call SaveInteger(Jv,id*cx,-$2D2EBEF5,0)call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,1))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))elsecall SJ(1227895108,LoadLocationHandle(Jv,id*cx,$1769D332))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction i1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1702061422))endfunctionfunction j1 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,60)<=20))thencall SJ(1227895624,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,50)<=25))thencall SJ('I03I',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I02X',LoadLocationHandle(Jv,id*cx,$1769D332))endifendifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction m1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nomg'))endfunctionfunction Y5 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,50)<=25))thencall SJ(1227895105,LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ(1227895094,LoadLocationHandle(Jv,id*cx,$1769D332))endifif GetRandomReal(1,100)<=10. or(GetRandomReal(1,100)<=20. and Ce[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==8)thencall SJ('I0CC',LoadLocationHandle(Jv,id*cx,$1769D332))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction p1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1701672039))endfunctionfunction q1 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,50)<=25))thencall SJ('I030',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ(1227895385,LoadLocationHandle(Jv,id*cx,$1769D332))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction t1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1970169187))endfunctionfunction u1 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,50)<=25))thencall SJ('I03F',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ(1227895601,LoadLocationHandle(Jv,id*cx,$1769D332))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction Z5 takes nothing returns booleanreturn(((GetUnitTypeId(GetTriggerUnit())=='nfor')or(GetUnitTypeId(GetTriggerUnit())=='nnwr')))endfunctionfunction z1 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,500)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))thencall SJ(wA[GetRandomInt(4,9)],LoadLocationHandle(Jv,id*cx,$1769D332))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((Td[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thenif((GetUnitTypeId(GetTriggerUnit())=='nfor'))thenif((Vd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<$A))thenset Vd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(Vd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("门派叛徒："+(I2S(Vd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 10")))elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("门派叛徒："+(I2S(Vd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 10")))endifelseif((Ud[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<$A))thenset Ud[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(Ud[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("武林恶徒："+(I2S(Ud[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 10")))elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("武林恶徒："+(I2S(Ud[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 10")))endifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction a1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nfov'))endfunctionfunction B1 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))call SJ('I02S',LoadLocationHandle(Jv,id*cx,$1769D332))call SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,6))call SaveInteger(Jv,id*cx,-$77543A28,0)call SaveInteger(Jv,id*cx,-$2D2EBEF5,0)call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,1))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ(wA[GetRandomInt(4,9)],LoadLocationHandle(Jv,id*cx,-$185C9FC2))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ(wA[GetRandomInt(4,9)],LoadLocationHandle(Jv,id*cx,-$185C9FC2))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ(wA[GetRandomInt(4,9)],LoadLocationHandle(Jv,id*cx,-$185C9FC2))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ(wA[GetRandomInt(4,9)],LoadLocationHandle(Jv,id*cx,-$185C9FC2))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ('texp',LoadLocationHandle(Jv,id*cx,-$185C9FC2))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ('texp',LoadLocationHandle(Jv,id*cx,-$185C9FC2))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ('texp',LoadLocationHandle(Jv,id*cx,-$185C9FC2))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ('texp',LoadLocationHandle(Jv,id*cx,-$185C9FC2))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ('texp',LoadLocationHandle(Jv,id*cx,-$185C9FC2))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ('texp',LoadLocationHandle(Jv,id*cx,-$185C9FC2))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SaveLocationHandle(Jv,id*cx,-$185C9FC2,pu(LoadLocationHandle(Jv,id*cx,$1769D332),GetRandomReal(30.,120.),(GetRandomReal(0,360.))))call SJ('texp',LoadLocationHandle(Jv,id*cx,-$185C9FC2))call SJ(RN[10],LoadLocationHandle(Jv,id*cx,$1769D332))if aA[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]thencall SJ(RN[10],LoadLocationHandle(Jv,id*cx,$1769D332))endifcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$185C9FC2))call FlushChildHashtable(Jv,id*cx)endfunctionfunction C1 takes nothing returns nothingif((GetRandomInt(1,4)==1))thenset Zd=1227896396elseif((GetRandomInt(1,3)==1))thenset Zd=1227896397elseif((GetRandomInt(1,2)==1))thenset Zd='I06K'elseset Zd='I02S'endifendifendifcall SJ(Zd,v7[$B])call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,("|cFFFFCC33边境刷新掉落：|cFF33FFFF"+GetItemName(bj_lastCreatedItem)))call RemoveItem(bj_lastCreatedItem)endfunctionfunction D1 takes nothing returns booleanreturn((RectContainsUnit(df,GetTriggerUnit())))endfunctionfunction E1 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,100)<=5))thencall SJ(Zd,LoadLocationHandle(Jv,id*cx,$1769D332))if((Zd=='I02S'))thencall SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,6))call SaveInteger(Jv,id*cx,-$77543A28,0)call SaveInteger(Jv,id*cx,-$2D2EBEF5,0)call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,1))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))endifendifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction G1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nsrh'))endfunctionfunction H1 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(GetKillingUnit())local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(u)set dI[i]=dI[i]+100call DisplayTextToPlayer(p,0,0,"|cff00ff00击杀扫地神僧，获得江湖声望+100")if(GetRandomInt(1,1000)<=fR[i]or(GetRandomInt(1,100)<=70 and Ce[i]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIcall SJ(iO[GetRandomInt(1,10)],vJ)call SJ(RN[9],vJ)if Ce[i]==8 thenif GetRandomReal(1,100)<=10. thencall SJ('I0C3',vJ)endifif GetRandomReal(1,100)<=10. thencall SJ('I0C9',vJ)endifif GetRandomReal(1,100)<=10. thencall SJ('I0CD',vJ)endifelseif GetRandomReal(1,100)<=5. thencall SJ('I0C3',vJ)endifif GetRandomReal(1,100)<=5. thencall SJ('I0C9',vJ)endifif GetRandomReal(1,100)<=5. thencall SJ('I0CD',vJ)endifendifif aA[i]==true thencall SJ(RN[9],vJ)endifset N7=N7+1endloopcall RemoveLocation(vJ)set u=nullset p=nullset vJ=nullendfunctionfunction l1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nelb'))endfunctionfunction J1 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIcall SJ(1227895374,LoadLocationHandle(Jv,id*cx,$1769D332))if((GetRandomInt(1,50)<=30))thencall SJ(RN[6],LoadLocationHandle(Jv,id*cx,$1769D332))if aA[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]thencall SJ(RN[6],LoadLocationHandle(Jv,id*cx,$1769D332))endifendifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction L1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nfpu'))endfunctionfunction v6 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,60)<=25))thencall SJ(1227895089,LoadLocationHandle(Jv,id*cx,$1769D332))call SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,6))call SaveInteger(Jv,id*cx,-$77543A28,0)call SaveInteger(Jv,id*cx,-$2D2EBEF5,0)call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,2))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))elseif((GetRandomInt(1,50)<=30))thencall SJ(1227895091,LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ(1227895371,LoadLocationHandle(Jv,id*cx,$1769D332))endifendifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction O1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nmgr'))endfunctionfunction P1 takes nothing returns nothinglocal location vJ=GetUnitLoc(GetTriggerUnit())if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif GetRandomInt(0,100)<=5 thencall SJ(1227895090,vJ)call SetItemUserData(bj_lastCreatedItem,(GetRandomInt(1,6)*$989680)+(GetRandomInt(1,5)*$F4240)+(GetRandomInt(0,2)*$3E8))elsecall SJ('I099',vJ)endifset N7=N7+1endloopcall RemoveLocation(vJ)set vJ=nullendfunctionfunction R1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nhfp'))endfunctionfunction S1 takes nothing returns nothinglocal location vJ=GetUnitLoc(GetTriggerUnit())if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif GetRandomInt(0,100)<=5 thencall SJ(1227895372,vJ)elsecall SJ('I09A',vJ)endifset N7=N7+1endloopcall RemoveLocation(vJ)set vJ=nullendfunctionfunction U1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nrzb'))endfunctionfunction V1 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,100)<=25))thencall SJ(1227895092,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,75)<=25))thencall SJ(1227895093,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,50)<=25))thencall SJ('I00Z',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I010',LoadLocationHandle(Jv,id*cx,$1769D332))endifendifendifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction X1 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1852270642))endfunctionfunction Y1 takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,50)<=25))thencall SJ('I00V',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I00U',LoadLocationHandle(Jv,id*cx,$1769D332))endifcall SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,7))call SaveInteger(Jv,id*cx,-$77543A28,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$2D2EBEF5,GetRandomInt(1,7))call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,2))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))set N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction dJ takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1852207984))endfunctionfunction eJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,50)<=25))thencall SJ('I00W',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I00T',LoadLocationHandle(Jv,id*cx,$1769D332))endifcall SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,7))call SaveInteger(Jv,id*cx,-$77543A28,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$2D2EBEF5,GetRandomInt(1,7))call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,2))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))set N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction gJ takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1852663652))endfunctionfunction hJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,50)<=25))thencall SJ('I00P',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I00O',LoadLocationHandle(Jv,id*cx,$1769D332))endifif GetRandomReal(1,100)<=3. or(GetRandomReal(1,100)<=6. and Ce[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==8)thencall SJ('I0CA',LoadLocationHandle(Jv,id*cx,$1769D332))endifcall SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,7))call SaveInteger(Jv,id*cx,-$77543A28,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$2D2EBEF5,GetRandomInt(1,7))call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,2))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))set N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction jJ takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1853058166))endfunctionfunction kJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIcall SJ(1227895861,LoadLocationHandle(Jv,id*cx,$1769D332))set N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction nJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='nsbm')endfunctionfunction oJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(u)if(GetRandomInt(1,1000)<=fR[i]or(GetRandomInt(1,100)<=70 and Ce[i]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIcall SJ(1227895860,vJ)set N7=N7+1endloopcall RemoveLocation(vJ)set u=nullset p=nullset vJ=nullendfunctionfunction qJ takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1752395892))endfunctionfunction rJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))set dI[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(dI[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+$C8)call DisplayTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,"|cff00ff00击杀黄裳，获得江湖声望+200")if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,80)<=$A))thencall SJ(1227895635,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,70)<=$A))thencall SJ('I03M',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,60)<=$A))thencall SJ(1227895637,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,50)<=$A))thencall SJ(1227895634,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,40)<=$A))thencall SJ(1227895632,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,30)<=$A))thencall SJ(1227895633,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,20)<=$A))thencall SJ(1227895631,LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ(1227895636,LoadLocationHandle(Jv,id*cx,$1769D332))endifendifendifendifendifendifendifcall SJ(RN[12],LoadLocationHandle(Jv,id*cx,$1769D332))if aA[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]thencall SJ(RN[12],LoadLocationHandle(Jv,id*cx,$1769D332))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction tJ takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1751672179))endfunctionfunction uJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,50)<=25))thencall SJ('I00I',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I00N',LoadLocationHandle(Jv,id*cx,$1769D332))endifcall SaveInteger(Jv,id*cx,-$5E9EB4B3,GetRandomInt(1,4))call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,8))call SaveInteger(Jv,id*cx,-$77543A28,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$2D2EBEF5,GetRandomInt(1,8))call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,3))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))set N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction wJ takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1851942252))endfunctionfunction xJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,50)<=25))thencall SJ(1227895874,LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I00G',LoadLocationHandle(Jv,id*cx,$1769D332))call SaveInteger(Jv,id*cx,-$5E9EB4B3,GetRandomInt(1,4))call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,8))call SaveInteger(Jv,id*cx,-$77543A28,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$2D2EBEF5,GetRandomInt(1,8))call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,3))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction zJ takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1852142199))endfunctionfunction AJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,50)<=25))thencall SJ(1227895873,LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I00C',LoadLocationHandle(Jv,id*cx,$1769D332))call SaveInteger(Jv,id*cx,-$5E9EB4B3,GetRandomInt(1,4))call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,8))call SaveInteger(Jv,id*cx,-$77543A28,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$2D2EBEF5,GetRandomInt(1,8))call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,3))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))endifcall SJ(RN[8],LoadLocationHandle(Jv,id*cx,$1769D332))if aA[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]thencall SJ(RN[8],LoadLocationHandle(Jv,id*cx,$1769D332))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction BJ takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1969976430))endfunctionfunction bJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,125)<=25))thencall SJ('I00D',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,100)<=25))thencall SJ('I00B',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,75)<=25))thencall SJ('I00F',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,50)<=25))thencall SJ('I00L',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ(1227894856,LoadLocationHandle(Jv,id*cx,$1769D332))endifendifendifendifcall SaveInteger(Jv,id*cx,-$5E9EB4B3,GetRandomInt(1,4))call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,8))call SaveInteger(Jv,id*cx,-$77543A28,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$2D2EBEF5,GetRandomInt(1,8))call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,3))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))set N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction x6 takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='hrif')or(GetUnitTypeId(GetTriggerUnit())=='Hmkg'))endfunctionfunction r6 takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)if GetUnitTypeId(u)=='hrif' thenif GetRandomReal(0,30)<=2 thencall SJ('I08Y',vJ)endifelseif GetRandomInt(1,3)==1 thencall SJ('I08Y',vJ)endifendifcall RemoveLocation(vJ)set vJ=nullset u=nullendfunctionfunction cJ takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='njgb'))endfunctionfunction DJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)local integer i=0set i=GetRandomInt(1,10)if GetRandomReal(0,27)<=3 thencall SJ(XO[i],vJ)endifcall RemoveLocation(vJ)set vJ=nullset u=nullendfunctionfunction FJ takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1852207203))endfunctionfunction GJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,75)<=25))thencall SJ('I08X',LoadLocationHandle(Jv,id*cx,$1769D332))elseif GetRandomInt(1,50)<=30 thencall SJ('I08Z',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I090',LoadLocationHandle(Jv,id*cx,$1769D332))endifendifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction JK takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())=='nfrl' or GetUnitTypeId(GetTriggerUnit())=='nvil' or GetUnitTypeId(GetTriggerUnit())=='nlv3'endfunctionfunction KK takes nothing returns nothinglocal unit u=GetKillingUnit()local unit uc=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(uc)if GetUnitTypeId(uc)=='nfrl' thenif GetRandomInt(1,50)<=3 thencall SJ('I02C',vJ)endifif GetRandomInt(1,50)<=3 thencall SJ('I02O',vJ)endifif((rd[i]==1))thenset ud[i]=ud[i]+1if ud[i]>=30 thenset rd[i]=2call YJ(1227895372,u)call PlaySoundOnUnitBJ(Hh,100,u)call DisplayTextToPlayer(p,0,0,("|CFF34FF00完成任务获得江湖声望+150和"+GetItemName(bj_lastCreatedItem)))set dI[i]=(dI[i]+$96)elsecall DisplayTextToPlayer(p,0,0,("熊："+(I2S(ud[i])+" / 30")))endifendifelseif GetUnitTypeId(uc)=='nvil' thenif LoadInteger(Jv,StringHash("哑仆任务"),i)==1 thencall SaveInteger(Jv,StringHash("哑仆"),i,LoadInteger(Jv,StringHash("哑仆"),i)+1)if LoadInteger(Jv,StringHash("哑仆"),i)>=10 thencall SaveInteger(Jv,StringHash("哑仆任务"),i,0)call SaveInteger(Jv,StringHash("哑仆"),i,0)call YJ('I09V',u)call PlaySoundOnUnitBJ(Hh,100,u)call DisplayTextToPlayer(p,0,0,("|CFF34FF00完成任务获得"+GetItemName(bj_lastCreatedItem)))elsecall DisplayTextToPlayer(p,0,0,("哑仆："+I2S(LoadInteger(Jv,StringHash("哑仆"),i))+" / 10"))endifendifif GetRandomReal(1,100)<=5 thencall YJ('I09K',u)endifelseif GetUnitTypeId(uc)=='nlv3' thenif GetRandomInt(0,100)<=100-TU()*10 thencall AdjustPlayerStateBJ(2,Player(0),PLAYER_STATE_RESOURCE_LUMBER)call AdjustPlayerStateBJ(2,Player(1),PLAYER_STATE_RESOURCE_LUMBER)call AdjustPlayerStateBJ(2,Player(2),PLAYER_STATE_RESOURCE_LUMBER)call AdjustPlayerStateBJ(2,Player(3),PLAYER_STATE_RESOURCE_LUMBER)call AdjustPlayerStateBJ(2,Player(4),PLAYER_STATE_RESOURCE_LUMBER)endifif GetRandomReal(1,100)<=2.5 thencall YJ('I09I',u)endifendifcall RemoveLocation(vJ)set u=nullset uc=nullset p=nullset vJ=nullendfunctionfunction a6 takes item it returns booleanif GetItemTypeId(it)=='I02F' or GetItemTypeId(it)=='I03V' or GetItemTypeId(it)=='I04C' or GetItemTypeId(it)=='I04I' or GetItemTypeId(it)=='I04V' or GetItemTypeId(it)=='I05L' thenreturn trueendifreturn falseendfunctionfunction E6 takes unit u,location vJ,integer I6,integer A6,integer N6,integer b6 returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(u))if(GetRandomInt(1,100)<=20 and iA[i]==false)thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cFFFFCC33载入神秘怪物：|cFF33FFFF无")elseif((GetRandomInt(1,60)<=20))thencall CreateNUnitsAtLoc(1,A6,Player(12),vJ,bj_UNIT_FACING)elseif((GetRandomInt(1,40)<=20))thencall CreateNUnitsAtLoc(1,N6,Player(12),vJ,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(1,b6,Player(12),vJ,bj_UNIT_FACING)endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,("|cFFFFCC33载入神秘怪物：|cFF33FFFF"+GetUnitName(bj_lastCreatedUnit)))set p8[I6]=bj_lastCreatedUnitendifendfunctionfunction B6 takes unit u,integer I6,integer c6,integer C6,integer d6,integer D6 returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(u))if((GetRandomInt(1,100)<=20 and iA[i]==false))thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cFFFFCC33载入稀有掉落：|cFF33FFFF无")set q8[I6]='crys'elseif((GetRandomInt(1,60)<=15))thenset q8[I6]=c6elseif((GetRandomInt(1,45)<=15))thenset q8[I6]=C6elseif((GetRandomInt(1,30)<=15))thenset q8[I6]=d6elseset q8[I6]=D6endifcall SJ(q8[I6],v7[$B])call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,("|cFFFFCC33载入稀有掉落：|cFF33FFFF"+GetItemName(bj_lastCreatedItem)))call RemoveItem(bj_lastCreatedItem)endifendfunctionfunction F6 takes unit u,integer I6,integer id,integer CU,rect g6,rect G6,rect H6,rect j6,rect J6,rect K6 returns nothinglocal location c1=nulllocal integer i=1+GetPlayerId(GetOwningPlayer(u))if((GetRandomInt(1,100)<=50 and iA[i]==false))thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cFFFFCC33载入奇缘NPC：|cFF33FFFF无")elseif(id!='crys')thenif((GetRandomInt(1,120)<=20))thenset c1=GetRectCenter(g6)elseif((GetRandomInt(1,100)<=20))thenset c1=GetRectCenter(G6)elseif((GetRandomInt(1,80)<=20))thenset c1=GetRectCenter(H6)elseif((GetRandomInt(1,60)<=20))thenset c1=GetRectCenter(j6)elseif((GetRandomInt(1,40)<=20))thenset c1=GetRectCenter(J6)elseset c1=GetRectCenter(K6)endifif GetRandomInt(1,2)==1 thencall CreateNUnitsAtLoc(1,id,Player(15),c1,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(1,CU,Player(15),c1,bj_UNIT_FACING)endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,("|cFFFFCC33载入奇缘NPC：|cFF33FFFF"+GetUnitName(bj_lastCreatedUnit)))set r8[I6]=bj_lastCreatedUnitcall RemoveLocation(c1)endifendifset c1=nullendfunctionfunction l6 takes unit u,integer L6,rect M6,rect g6,rect G6,integer I6,string s6 returns nothinglocal player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nulllocal location Zz=nulllocal integer array S6local integer array t6local integer array u6local rect array w6set S6[1]='otau'set S6[2]='odkt'set S6[3]='uaco'set S6[4]=1702258030set S6[5]=1700884333set S6[6]=1852007777set S6[7]=1701672039set S6[8]=1702061422set S6[9]=1970169187set S6[10]='nelb'set S6[11]='nhfp'set S6[12]='nmgr'set S6[13]=1853058166set S6[14]='nsbm'set S6[15]='nsbm'set S6[16]=1852142199set S6[17]=1851942252set S6[18]=1751672179set t6[1]='I021'set t6[2]='I01L'set t6[3]='I01M'set t6[4]=1227895110set t6[5]=1227895109set t6[6]='I02S'set t6[7]=1227895111set t6[8]=1227895371set t6[9]='I02S'set t6[10]='I02S'set t6[11]=1227895380set t6[12]=1227895857set t6[13]=1227895859set t6[14]=1227895858set t6[15]=1227895092set t6[16]=1227895092set t6[17]='I00Q'set t6[18]='I00S'set t6[19]='I00R'set t6[20]='I00R'set t6[21]='I00K'set t6[22]='I00J'set t6[23]='I00M'set t6[24]='I00M'set t6[25]='crys'set t6[26]='crys'set t6[27]='crys'set t6[28]='crys'set u6[1]=1865429068set u6[2]=1865429068set u6[3]=1865429071set u6[4]=1865429059set u6[5]=1865429073set u6[6]=1865429073set u6[7]=1865429076set u6[8]='o026'set u6[9]=1865429080set u6[10]=1865429080set u6[11]='crys'set u6[12]='crys'set w6[1]=gfset w6[2]=hfset w6[3]=jfset w6[4]=kfset w6[5]=mfset w6[6]=nfset w6[7]=Afset w6[8]=afset w6[9]=Bfset w6[10]=bfset w6[11]=Cfset w6[12]=cfset w6[13]=Zfset w6[14]=Zfset w6[15]=Zfset w6[16]=Zfset w6[17]=Zfset w6[18]=Zfset w6[19]=Fgset w6[20]=Fgset w6[21]=Fgset w6[22]=Fgset w6[23]=Fgset w6[24]=Fgset w6[25]=Pgset w6[26]=Pgset w6[27]=Pgset w6[28]=Pgset w6[29]=Pgset w6[30]=Pgset w6[31]=Pgset w6[32]=Pgset w6[33]=Pgset w6[34]=Pgset w6[35]=Pgset w6[36]=Pgif(JI[i]<=I6-2)thencall AdjustPlayerStateBJ(L6,p,PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00修行达到"+I2S(I6-1)+"才可以进入,你的修行不足，请前往地图指示点修行去吧")set vJ=GetRectCenter(M6)call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)elseif(((IsUnitType((u),(UNIT_TYPE_HERO))!=null)))thenset vJ=GetRectCenter(g6)set Zz=GetRectCenter(G6)call SetUnitPositionLoc(u,vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)if((m8[I6]==false))thencall RemoveUnit(r8[I6])set q8[I6]='crys'call RemoveUnit(p8[I6])call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cFFFFCC00开始载入动态副本：|r |cFF99FFCC"+s6+"|r")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cFFcc99ff――――――――――")call E6(u,Zz,I6,S6[I6*3-2],S6[I6*3-1],S6[I6*3])call B6(u,I6,t6[I6*4-3],t6[I6*4-2],t6[I6*4-1],t6[I6*4])call F6(u,I6,u6[I6*2-1],u6[I6*2],w6[I6*6-5],w6[I6*6-4],w6[I6*6-3],w6[I6*6-2],w6[I6*6-1],w6[I6*6])call DisplayTimedTextToPlayer(p,0,0,30,"|cFFFFCC33小怪武功：|cFF33FFFF暂未制作此玩法")call DisplayTimedTextToPlayer(p,0,0,30,"|cFFFFCC33BOSS武功：|cFF33FFFF暂未制作此玩法")call StartTimerBJ(Hd[I6],false,150.)call DisplayTimedTextToPlayer(p,0,0,30,("|cFFFF0033副本重置倒计时：|cFF33FFFF"+(I2S(R2I(TimerGetRemaining(Hd[I6])))+"秒")))set m8[I6]=truecall FL(150.)set m8[I6]=falseelsecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cFFFFCC00进入动态副本：|r |cFF99FFCC"+s6+"|r")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cFFcc99ff――――――――――")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,("|cFFFFCC33神秘怪物：|cFF33FFFF"+GetUnitName(p8[I6])))call SJ(q8[I6],v7[$B])call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,("|cFFFFCC33稀有掉落：|cFF33FFFF"+GetItemName(bj_lastCreatedItem)))call RemoveItem(bj_lastCreatedItem)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,("|cFFFFCC33载入奇缘NPC：|cFF33FFFF"+GetUnitName(r8[I6])))call DisplayTimedTextToPlayer(p,0,0,30,"|cFFFFCC33小怪武功：|cFF33FFFF暂未制作此玩法")call DisplayTimedTextToPlayer(p,0,0,30,"|cFFFFCC33BOSS武功：|cFF33FFFF暂未制作此玩法")call DisplayTimedTextToPlayer(p,0,0,30,("|cFFFF0033副本重置倒计时：|cFF33FFFF"+(I2S(R2I(TimerGetRemaining(Hd[I6])))+"秒")))endifcall RemoveLocation(vJ)call RemoveLocation(Zz)elsecall AdjustPlayerStateBJ(100,p,PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00只能由主角亲自购买前往")endifendifset p=nullset u=nullset vJ=nullset Zz=nullendfunctionfunction IL takes nothing returns booleanreturn a6(GetManipulatedItem())endfunctionfunction lL takes nothing returns nothinglocal unit u=GetTriggerUnit()local item it=GetManipulatedItem()if GetItemTypeId(it)=='I02F' thencall l6(u,100,Te,Ze,ef,1,"马贼洞")elseif GetItemTypeId(it)=='I03V' thencall l6(u,300,Te,yf,zf,2,"崆峒山")elseif GetItemTypeId(it)=='I04C' thencall l6(u,1000,ag,Xf,Yf,3,"塞北")elseif GetItemTypeId(it)=='I04I' thencall l6(u,3000,Bg,Eg,Dg,4,"绝情谷")elseif GetItemTypeId(it)=='I04V' thencall l6(u,6000,Lg,Ng,Og,5,"逍遥宫")elseif GetItemTypeId(it)=='I05L' thencall l6(u,10000,Rg,Wg,Xg,6,"黑木崖")endifset u=nullset it=nullendfunctionfunction KL takes nothing returns booleanreturn((RectContainsUnit(of,GetTriggerUnit())))endfunctionfunction LL takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(u)if((GetRandomInt(1,1000)<=fR[i])or(GetRandomInt(1,100)<=70 and Ce[i]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,100)>=98)and(q8[1]!='crys'))thencall SJ(q8[1],vJ)endifset N7=N7+1endloopcall RemoveLocation(vJ)set p=nullset u=nullset vJ=nullendfunctionfunction NL takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1865429068)and(DistanceBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(ER[(1+GetPlayerId(GetTriggerPlayer()))]))<=250.))endfunctionfunction OL takes nothing returns nothingset s8=GetTriggerPlayer()set t8=truecall RemoveUnit(GetTriggerUnit())call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,30,"|cFFFFCC33韦小宝想邀请你同他赌一局，你是否愿意呢？|cFF33FFFF15秒钟内操作键盘选择  
↑：同意并将身上的钱全部下注
←：同意并将身上50%的钱下注
→：同意并将身上25%的钱下注
↓：拒绝")call FL(15.)set t8=falseendfunctionfunction QL takes nothing returns booleanreturn((GetTriggerPlayer()==s8)and(t8))endfunctionfunction RL takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)if((GetRandomInt(1,10)<=5))thencall SetPlayerStateBJ(p,PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(s8,PLAYER_STATE_RESOURCE_GOLD)*2))call DisplayTextToPlayer(p,0,0,"赌赢了~")call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF66FF00有玩家和韦小宝赌博赢得了大量的金钱，停怪就靠他了")elsecall SetPlayerStateBJ(p,PLAYER_STATE_RESOURCE_GOLD,0)call DisplayTextToPlayer(p,0,0,"赌输了！！")if GetRandomInt(1,100)<=50 or Ce[i]==8 thencall SJ('I0C2',GetUnitLoc(ER[i]))endifcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF66FF00有玩家和韦小宝输得一踏糊涂，大家祈祷吧")endifset s8=Player(15)set p=nullendfunctionfunction TL takes nothing returns booleanreturn((GetTriggerPlayer()==s8)and(t8))endfunctionfunction UL takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)if((GetRandomInt(1,$A)<=7))thencall SetPlayerStateBJ(p,PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)*5/ 4))call DisplayTextToPlayer(p,0,0,"赌赢了~")call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF66FF00有玩家和韦小宝赌博赢得了大量的金钱，停怪就靠他了")elsecall SetPlayerStateBJ(p,PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)*3/ 4))call DisplayTextToPlayer(p,0,0,"赌输了！！")if GetRandomInt(1,100)<=50 or Ce[i]==8 thencall SJ('I0C2',GetUnitLoc(ER[i]))endifcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF66FF00有玩家和韦小宝输得一踏糊涂，大家祈祷吧")endifset s8=Player(15)set p=nullendfunctionfunction WL takes nothing returns booleanreturn((GetTriggerPlayer()==s8)and(t8))endfunctionfunction XL takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)if((GetRandomInt(1,$A)<=6))thencall SetPlayerStateBJ(p,PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)*3/ 2))call DisplayTextToPlayer(p,0,0,"赌赢了~")call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF66FF00有玩家和韦小宝赌博赢得了大量的金钱，停怪就靠他了")elsecall SetPlayerStateBJ(p,PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)/ 2))call DisplayTextToPlayer(p,0,0,"赌输了！！")if GetRandomInt(1,100)<=50 or Ce[i]==8 thencall SJ('I0C2',GetUnitLoc(ER[i]))endifcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF66FF00有玩家和韦小宝输得一踏糊涂，大家祈祷吧")endifset s8=Player(15)set p=nullendfunctionfunction ZL takes nothing returns booleanreturn((GetTriggerPlayer()==s8)and(t8))endfunctionfunction dM takes nothing returns nothingcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF66FF00有玩家放弃和韦小宝赌博")set s8=Player(15)endfunctionfunction iM takes nothing returns booleanreturn((RectContainsUnit(xf,GetTriggerUnit())))endfunctionfunction jM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,100)>=98)and(q8[2]!='crys'))thencall SJ(q8[2],LoadLocationHandle(Jv,id*cx,$1769D332))if((q8[2]=='I02S'))thencall SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,6))call SaveInteger(Jv,id*cx,-$77543A28,0)call SaveInteger(Jv,id*cx,-$2D2EBEF5,0)call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,1))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))endifendifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction mM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895639))endfunctionfunction nM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call RemoveUnit(r8[2])call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,-$3348E012,GetUnitLoc(GetTriggerUnit()))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A033')call IssueImmediateOrderById(bj_lastCreatedUnit,$D00C4)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',3.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call FlushChildHashtable(Jv,id*cx)endfunctionfunction pM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895640))endfunctionfunction qM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call RemoveUnit(r8[2])call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,-$3348E012,GetUnitLoc(GetTriggerUnit()))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*cx,$59BEA0CB)),LoadLocationHandle(Jv,id*cx,-$3348E012),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678673)call IssueTargetOrderById(bj_lastCreatedUnit,$D0062,GetTriggerUnit())call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',3.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,-$3348E012))call FlushChildHashtable(Jv,id*cx)endfunctionfunction sM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction tM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((dI[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=800)and(fR[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=15))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Gf))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000进入古墓条件：
福缘15，江湖声望800")endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction vM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction wM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(If))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction yM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction zM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lf))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction aM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction BM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Jf))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction CM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction cM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Sf))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction EM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction FM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Pf))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction HM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction IM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Wf))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction JM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction KM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Uf))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction PM takes nothing returns booleanreturn((RectContainsUnit(Nf,GetTriggerUnit())))endfunctionfunction QM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,100)<=5)and(q8[3]!='crys'))thencall SJ(q8[3],LoadLocationHandle(Jv,id*cx,$1769D332))if((q8[3]=='I02S'))thencall SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,6))call SaveInteger(Jv,id*cx,-$77543A28,0)call SaveInteger(Jv,id*cx,-$2D2EBEF5,0)call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,1))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))endifendifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction SM takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227895876))endfunctionfunction TM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))thenif((dI[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=$7D0)and(fR[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=18))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(zg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000进入高昌迷宫条件：
福缘18，江湖声望2000")endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00只能由主角亲自前往")endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction VM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction WM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(dg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction YM takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction ZM takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(fg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction eN takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction fN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(hg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction hN takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction iN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(kg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction kN takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction mN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(mg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction oN takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction pN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(og))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction rN takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction sN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(rg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction uN takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction vN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(tg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction xN takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction yN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(vg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction AN takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction aN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(tg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction bN takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction CN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(vg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction DN takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction EN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(og))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call FlushChildHashtable(Jv,id*cx)endfunctionfunction GN takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895880))endfunctionfunction HN takes nothing returns booleanreturn((GetUnitTypeId(GetFilterUnit())=='nsrh'))endfunctionfunction IN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)==false))thencall AdjustPlayerStateBJ($4E20,Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00只能由主角亲自前往")elseif((CountUnitsInGroup(wv(cg,Condition(function HN)))==0))thencall AdjustPlayerStateBJ($4E20,Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00扫地神僧目前不在藏经阁，你稍作等待再来吧")elseif((JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<3))thencall AdjustPlayerStateBJ($4E20,Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),PLAYER_STATE_RESOURCE_GOLD)call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Bg))call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000你尚未完成历练3之勇闯十恶不赦岛任务")elsecall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Cg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFADFF2F进入藏经阁")call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction MN takes nothing returns booleanreturn((RectContainsUnit(Gg,GetTriggerUnit())))endfunctionfunction NN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,100)>=98)and(q8[4]!='crys'))thencall SJ(q8[4],LoadLocationHandle(Jv,id*cx,$1769D332))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction PN takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227895885))endfunctionfunction QN takes nothing returns nothingif(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))thencall YJ(1227895371,GetTriggerUnit())elsecall AdjustPlayerStateBJ(20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"|CFFFF0000该道具只能由主角亲自购买")endifendfunctionfunction SN takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227895884))endfunctionfunction TN takes nothing returns nothingif(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))thencall YJ(1227895372,GetTriggerUnit())elsecall AdjustPlayerStateBJ(20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"|CFFFF0000该道具只能由主角亲自购买")endifendfunctionfunction VN takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227895883))endfunctionfunction WN takes nothing returns nothingif(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))thencall YJ(1227895374,GetTriggerUnit())elsecall AdjustPlayerStateBJ(20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"|CFFFF0000该道具只能由主角亲自购买")endifendfunctionfunction YN takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nmpg'))endfunctionfunction ZN takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetKillingUnit()))call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))set u9=(u9+1)if((u9>=7))thenset u9=0if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,100)<=25))thencall SJ('I04Q',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,60)<=20))thencall SJ('I04O',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,50)<=25))thencall SJ('I04N',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I04P',LoadLocationHandle(Jv,id*cx,$1769D332))endifendifendifset N7=N7+1endloopelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("下次出现灵丹："+(I2S(u9)+" / 7")))endifcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction eO takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227895882))endfunctionfunction fO takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))thenif((dI[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=$BB8)and(HR[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]>=20))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Ig))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000进入绝情谷底条件：
胆魄20，江湖声望3000")endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00只能由主角亲自前往")endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction kO takes nothing returns booleanreturn((RectContainsUnit(Mg,GetTriggerUnit())))endfunctionfunction mO takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,100)>=98)and(q8[5]!='crys'))thencall SJ(q8[5],LoadLocationHandle(Jv,id*cx,$1769D332))call SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,7))call SaveInteger(Jv,id*cx,-$77543A28,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$2D2EBEF5,GetRandomInt(1,7))call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,2))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction oO takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227895895))endfunctionfunction pO takes nothing returns nothingif(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))thenif((GetRandomInt(1,60)<=35))thencall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"|CFFFF0000经过一番探索，竟然什么都没有得到，看来你的诚意还不够哦~")elseif((GetRandomInt(1,40)<=$A))thencall YJ(1227895865,GetTriggerUnit())elseif((GetRandomInt(1,30)<=$A))thencall YJ(1227895864,GetTriggerUnit())elseif((GetRandomInt(1,20)<=$A))thencall YJ(1227895863,GetTriggerUnit())elsecall YJ(1227895862,GetTriggerUnit())endifendifendifcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("在探索琅环玉洞时，无意中竟然得到了"+GetItemName(bj_lastCreatedItem))))endifelsecall AdjustPlayerStateBJ($7530,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10.,"|CFFFF0000只能有主角亲自探索")endifendfunctionfunction rO takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896133))endfunctionfunction sO takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)==false))thencall AdjustPlayerStateBJ($9C40,Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00只能由主角亲自前往")elseif(((JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<5)or(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<5500)))thencall AdjustPlayerStateBJ($9C40,Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00条件不足")elsecall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Vg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFADFF2F回到了前朝")call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction xO takes nothing returns booleanreturn((RectContainsUnit(Yg,GetTriggerUnit())))endfunctionfunction yO takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,1000)<=fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])or(GetRandomInt(1,100)<=70 and Ce[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==6))thenset EI=2elseset EI=1endifset N7=1loopexitwhen N7>EIif((GetRandomInt(1,100)>=98)and(q8[6]!='crys'))thencall SJ(q8[6],LoadLocationHandle(Jv,id*cx,$1769D332))call SaveInteger(Jv,id*cx,-$5E9EB4B3,GetRandomInt(1,4))call SaveInteger(Jv,id*cx,$648579A8,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$180E5D51,GetRandomInt(1,8))call SaveInteger(Jv,id*cx,-$77543A28,GetRandomInt(1,5))call SaveInteger(Jv,id*cx,-$2D2EBEF5,GetRandomInt(1,8))call SaveInteger(Jv,id*cx,1732931645,GetRandomInt(0,3))call SaveInteger(Jv,id*cx,-$4E51D54A,0)call SaveInteger(Jv,id*cx,$44078039,0)call SaveInteger(Jv,id*cx,-$6F9D2AE1,0)call SetItemUserData(bj_lastCreatedItem,(((((((((LoadInteger(Jv,id*cx,-$5E9EB4B3)*$5F5E100)+(LoadInteger(Jv,id*cx,$648579A8)*$989680))+(LoadInteger(Jv,id*cx,-$180E5D51)*$F4240))+(LoadInteger(Jv,id*cx,-$77543A28)*$186A0))+(LoadInteger(Jv,id*cx,-$2D2EBEF5)*$2710))+(LoadInteger(Jv,id*cx,1732931645)*$3E8))+(LoadInteger(Jv,id*cx,-$4E51D54A)*100))+(LoadInteger(Jv,id*cx,$44078039)*$A))+LoadInteger(Jv,id*cx,-$6F9D2AE1)))endifset N7=N7+1endloopcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call FlushChildHashtable(Jv,id*cx)endfunctionfunction AO takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction aO takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))call SetUnitPosition(ER[i],-13000,-15500)call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()),-13000,-15500,0)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|CFF00ff33传送至大辽国")endfunctionfunction bO takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction CO takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))call SetUnitPosition(ER[i],-9000,-14000)call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()),-9000,-14000,0)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|CFF00ff33传送至聚贤庄")endfunctionfunction DO takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction EO takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000大清藏宝洞（当前版本暂未开放此地图）")endfunctionfunction GO takes nothing returns booleanreturn((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)endfunctionfunction HO takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if JI[i]<=5 thencall DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00修行达到6才可以进入,你的修行不足，请前往地图指示点修行去吧")elsecall SetUnitPosition(ER[i],10943,6760)call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()),10943,6760,0)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cffff0000你已深入到海外琉球岛，看看有什么发现吧")endifendfunctionfunction lO takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227897137))endfunctionfunction JO takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((JI[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]<=5))thencall AdjustPlayerStateBJ($C350,Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00修行达到6才可以进入,你的修行不足，请前往地图指示点修行去吧")call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Zg))call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((sw(GetTriggerUnit(),1227897138)==false))thencall AdjustPlayerStateBJ($C350,Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00需要一品居请帖才可以进入")elseif(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(vh))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call RemoveItem(ZU(GetTriggerUnit(),1227897138))elsecall AdjustPlayerStateBJ($C350,Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00只能由主角亲自购买前往")endifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction XQ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895630))endfunctionfunction YQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=GetRectCenter(tf)if(GetUnitLevel(u)<10)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000等级不足10级无法接取该任务")elseif(dI[i]<500)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000江湖声望不足500无法接取该任务")elseif(JI[i]>=1)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000你已经完成这个任务了")elseif(J8[i]==0)thenset J8[i]=1call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00丘处机：|r |cFF99FFCC请前往挑战|r|cFFADFF2F江南七怪|r
")call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00丘处机：|r |cFF99FFCC请前往挑战|r|cFFADFF2F江南七怪|r
")endifendifendifendifset u=nullset p=nullset vJ=nullendfunctionfunction dR takes nothing returns booleanreturn(J8[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==1 and(GetUnitTypeId(GetTriggerUnit())=='owar' or GetUnitTypeId(GetTriggerUnit())=='nw2w' or GetUnitTypeId(GetTriggerUnit())=='ohun' or GetUnitTypeId(GetTriggerUnit())=='opeo' or GetUnitTypeId(GetTriggerUnit())=='nogm' or GetUnitTypeId(GetTriggerUnit())=='hsor' or GetUnitTypeId(GetTriggerUnit())=='ntkt'))endfunctionfunction eR takes nothing returns nothinglocal unit u=GetKillingUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if GetUnitTypeId(GetTriggerUnit())=='owar' thenset qA[i]=1endifif GetUnitTypeId(GetTriggerUnit())=='nw2w' thenset UA[i]=1if Ce[i]==8 thenif GetRandomReal(1,100)<=40. thencall SJ('I0C6',GetUnitLoc(u))endifelseif GetRandomReal(1,100)<=20. thencall SJ('I0C6',GetUnitLoc(u))endifendifendifif GetUnitTypeId(GetTriggerUnit())=='ohun' thenset sA[i]=1endifif GetUnitTypeId(GetTriggerUnit())=='opeo' thenset SA[i]=1endifif GetUnitTypeId(GetTriggerUnit())=='nogm' thenset tA[i]=1endifif GetUnitTypeId(GetTriggerUnit())=='hsor' thenset QA[i]=1endifif GetUnitTypeId(GetTriggerUnit())=='ntkt' thenset uA[i]=1endifif qA[i]==1 and sA[i]==1 and SA[i]==1 and tA[i]==1 and QA[i]==1 and uA[i]==1 and UA[i]==1 thenset JI[i]=1if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',2)call SetUnitAcquireRange(GetKillingUnit(),700)endifset xR[i]=1.7set HR[i]=(HR[i]+1)set cR[i]=(cR[i]+1)set fR[i]=(fR[i]+1)set bR[i]=(bR[i]+1)set XR[i]=(XR[i]+1)set JR[i]=(JR[i]+1)set J8[i]=2call PlaySoundOnUnitBJ(Hh,100,u)call YJ(1227895371,u)call DisplayTextToPlayer(p,0,0,"|CFF34FF00完成任务大战江南七怪，修行+1，全性格属性+1，奖励乾坤丹一个")if(GetRandomInt(1,30)<=fR[i]-5)thencall YJ(wA[GetRandomInt(1,3)],u)call DisplayTextToPlayer(p,0,0,"|CFF34FF00你的运气（与福缘有关）太好了，竟然意外获得了一个古董")endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00韩小莹："+(I2S(QA[i])+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00全金发："+(I2S(SA[i])+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00张阿生："+(I2S(uA[i])+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00南希仁："+(I2S(sA[i])+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00韩宝驹："+(I2S(tA[i])+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00朱聪："+(I2S(UA[i])+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00柯镇恶："+(I2S(qA[i])+" / 1")))endifset u=nullset p=nullendfunctionfunction gR takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895641))endfunctionfunction hR takes nothing returns booleanreturn((GetUnitTypeId(GetFilterUnit())==1852862003))endfunctionfunction iR takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction jR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((GetUnitLevel(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))<25))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000等级不足25级无法接取该任务")elseif((dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<1800))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000江湖声望不足1800无法接取该任务")elseif((JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<1))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000你必须先完成历练1任务")call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Te))call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=2))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000你已经完成这个任务了")elsecall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Mf))call ForGroupBJ(pl(1200.,LoadLocationHandle(Jv,id*cx,$5E83114F),Condition(function hR)),function iR)call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00戒律主持：|r |cFF99FFCC想证明自己的能力就要通关少林|r|cFFADFF2F十八罗汉阵")call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call TriggerSleepAction(2)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call TriggerSleepAction(4.)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call TriggerSleepAction(6.)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRandomLocInRect(Mf))call CreateNUnitsAtLoc(1,1852862003,Player(12),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifendifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction mR takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1852862003)and(JI[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==1))endfunctionfunction nR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))set N8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(N8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((N8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=18))thenset JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=2if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',3)call SetUnitAcquireRange(GetKillingUnit(),800)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=2.6set HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())if kR[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]!=11 thencall YJ(1227895642,GetKillingUnit())call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务十八罗汉阵，获得修行+1，全性格属性+1，门派毕业卷")elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务十八罗汉阵，获得修行+1，全性格属性+1")endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("十八罗汉："+(I2S(N8[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 18")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction sR takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895879))endfunctionfunction tR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((GetUnitLevel(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))<40))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000等级不足40级无法接取该任务")elseif((dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<3500))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000江湖声望不足3500无法接取该任务")elseif((JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<2))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000你必须先完成历练2任务")call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(ag))call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=3))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000你已经完成这个任务了")elseif((h9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Ag))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00黄蓉：|r|cFFADFF2F十恶不赦 |r|cFF99FFCC危害武林江湖多年，你须在|r|cFFADFF2F2分钟内|r|cFF99FFCC击杀超过100只，才能完成任务")call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Ag))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00黄蓉：|r|cFFADFF2F十恶不赦 |r|cFF99FFCC危害武林江湖多年，你须在|r|cFFADFF2F150秒内|r|cFF99FFCC击杀超过100只，才能完成任务")call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call StartTimerBJ(f9[LoadInteger(Jv,id*cx,-$5E9EB4B3)],false,150.)call CreateTimerDialogBJ(bj_lastStartedTimer,"闯关倒计时:")call TimerDialogDisplayForPlayerBJ(true,bj_lastCreatedTimerDialog,GetOwningPlayer(GetTriggerUnit()))set g9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=bj_lastCreatedTimerDialogset h9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=trueset i9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0endifendifendifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction vR takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='ndtb')and(h9[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction wR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))set i9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(i9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((i9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=100))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=3if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',4)call SetUnitAcquireRange(GetKillingUnit(),900)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=4.2set HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set h9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=falsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务勇闯十恶不赦岛，获得修行+1，全性格属性+1，脱胎换骨丹1个，你可以前往藏经阁了")call DestroyTimerDialog(g9[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call DestroyTimer(f9[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Bg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call YJ(1227895374,GetKillingUnit())elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("十恶不赦："+(I2S(i9[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 100")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction yR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,1)call DestroyTimerDialog(g9[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(bg,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Bg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set h9[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction AR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,2)call DestroyTimerDialog(g9[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(bg,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Bg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set h9[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction BR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,3)call DestroyTimerDialog(g9[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(bg,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Bg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set h9[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction CR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,4)call DestroyTimerDialog(g9[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(bg,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Bg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set h9[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction DR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,5)call DestroyTimerDialog(g9[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(bg,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Bg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set h9[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction FR takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895893))endfunctionfunction GR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((GetUnitLevel(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))<55))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000等级不足55级无法接取该任务")elseif((dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<5500))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000江湖声望不足5500无法接取该任务")elseif((JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<3))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000你必须先完成历练3任务")call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Bg))call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=4))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000你已经完成这个任务了")elseif((T9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Jg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Jg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))set qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call StartTimerBJ(Z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)],false,240.)call CreateTimerDialogBJ(bj_lastStartedTimer,"攻打光明顶倒计时:")call TimerDialogDisplayForPlayerBJ(true,bj_lastCreatedTimerDialog,GetOwningPlayer(GetTriggerUnit()))set dd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=bj_lastCreatedTimerDialogset T9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=trueendifendifendifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction IR takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1853056884)and(T9[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction lR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thenset qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=4if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',5)call SetUnitAcquireRange(GetKillingUnit(),1000)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=7.set T9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=falseset HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务勇闯光明顶，获得修行+1，全性格属性+1，你可以前往逍遥宫了")call DestroyTimerDialog(dd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call DestroyTimer(Z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction KR takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nsgb')and(T9[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction LR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thenset sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=4if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',5)call SetUnitAcquireRange(GetKillingUnit(),1000)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=7.set T9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=falseset HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务勇闯光明顶，获得修行+1，全性格属性+1，你可以前往逍遥宫了")call DestroyTimerDialog(dd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call DestroyTimer(Z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction NR takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nsgn')and(T9[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction OR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thenset SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=4if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',5)call SetUnitAcquireRange(GetKillingUnit(),1000)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=7.set T9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=falseset HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务勇闯光明顶，获得修行+1，全性格属性+1，你可以前往逍遥宫了")call DestroyTimerDialog(dd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call DestroyTimer(Z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction QR takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='ntkc')and(T9[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction RR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thenset tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=4if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',5)call SetUnitAcquireRange(GetKillingUnit(),1000)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=7.set T9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=falseset HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务勇闯光明顶，获得修行+1，全性格属性+1，你可以前往逍遥宫了")call DestroyTimerDialog(dd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call DestroyTimer(Z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction TR takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nwzr')and(T9[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction UR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thenset QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1)and(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=4if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',5)call SetUnitAcquireRange(GetKillingUnit(),1000)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=7.set T9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=falseset HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务勇闯光明顶，获得修行+1，全性格属性+1，你可以前往逍遥宫了")call DestroyTimerDialog(dd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call DestroyTimer(Z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00紫杉龙王："+(I2S(qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00青翼蝠王："+(I2S(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00金毛狮王："+(I2S(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00白眉鹰王："+(I2S(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00阳顶天："+(I2S(QA[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 1")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction WR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,1)call DestroyTimerDialog(dd[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(Kg,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set T9[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction YR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,2)call DestroyTimerDialog(dd[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(Kg,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set T9[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction dS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,3)call DestroyTimerDialog(dd[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(Kg,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set T9[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction fS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,4)call DestroyTimerDialog(dd[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(Kg,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set T9[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction hS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,5)call DestroyTimerDialog(dd[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(Kg,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set T9[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction jS takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895896))endfunctionfunction kS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((GetUnitLevel(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))<70))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000等级不足70级无法接取该任务")elseif((dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<7500))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000江湖声望不足7500无法接取该任务")elseif((JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]<4))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000你必须先完成历练4任务")call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Lg))call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=5))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000你已经完成这个任务了")elseif((ed[LoadInteger(Jv,id*cx,-$5E9EB4B3)]))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Qg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00黄药师："+(I2S((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-1))+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00欧阳锋："+(I2S((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-1))+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00一灯大师："+(I2S((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-1))+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00洪七公："+(I2S((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-1))+" / 1")))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Qg))call SetUnitPositionLoc(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))set qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1set sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1set SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1set tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00黄药师："+(I2S((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-1))+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00欧阳锋："+(I2S((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-1))+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00一灯大师："+(I2S((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-1))+" / 1")))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|cFFFFCC00洪七公："+(I2S((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-1))+" / 1")))call StartTimerBJ(fd[LoadInteger(Jv,id*cx,-$5E9EB4B3)],false,280.)call CreateTimerDialogBJ(bj_lastStartedTimer,"华山论剑倒计时")call TimerDialogDisplayForPlayerBJ(true,bj_lastCreatedTimerDialog,GetOwningPlayer(GetTriggerUnit()))set gd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=bj_lastCreatedTimerDialogset ed[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=trueendifendifendifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction nS takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1869050475)and(ed[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction oS takes nothing returns nothinglocal unit u=GetKillingUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif((qA[i]==1))thenset qA[i]=2if((qA[i]==2)and(sA[i]==2)and(SA[i]==2)and(tA[i]==2))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[i]=5if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',6)call SetUnitAcquireRange(GetKillingUnit(),1100)endifset xR[i]=12.set ed[i]=falseset HR[i]=(HR[i]+1)set cR[i]=(cR[i]+1)set fR[i]=(fR[i]+1)set bR[i]=(bR[i]+1)set XR[i]=(XR[i]+1)set JR[i]=(JR[i]+1)call DisplayTextToPlayer(p,0,0,"|CFF34FF00完成任务华山论剑，获得修行+1全性格属性+1，你可以前往黑木崖了")call DestroyTimerDialog(gd[i])set vJ=GetRectCenter(Rg)call SetUnitPositionLoc(ER[i],vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00黄药师："+(I2S((qA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00欧阳锋："+(I2S((sA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00一灯大师："+(I2S((SA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00洪七公："+(I2S((tA[i]-1))+" / 1")))endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00黄药师："+(I2S((qA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00欧阳锋："+(I2S((sA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00一灯大师："+(I2S((SA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00洪七公："+(I2S((tA[i]-1))+" / 1")))endifset u=nullset p=nullset vJ=nullendfunctionfunction qS takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1853058150)and(ed[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction rS takes nothing returns nothinglocal unit u=GetKillingUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif((sA[i]==1))thenset sA[i]=2if((qA[i]==2)and(sA[i]==2)and(SA[i]==2)and(tA[i]==2))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[i]=5if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',6)call SetUnitAcquireRange(GetKillingUnit(),1100)endifset xR[i]=12.set ed[i]=falseset HR[i]=(HR[i]+1)set cR[i]=(cR[i]+1)set fR[i]=(fR[i]+1)set bR[i]=(bR[i]+1)set XR[i]=(XR[i]+1)set JR[i]=(JR[i]+1)call DisplayTextToPlayer(p,0,0,"|CFF34FF00完成任务华山论剑，获得修行+1全性格属性+1，你可以前往黑木崖了")call DestroyTimerDialog(gd[i])set vJ=GetRectCenter(Rg)call SetUnitPositionLoc(ER[i],vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00黄药师："+(I2S((qA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00欧阳锋："+(I2S((sA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00一灯大师："+(I2S((SA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00洪七公："+(I2S((tA[i]-1))+" / 1")))endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00黄药师："+(I2S((qA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00欧阳锋："+(I2S((sA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00一灯大师："+(I2S((SA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00洪七公："+(I2S((tA[i]-1))+" / 1")))endifset u=nullset p=nullset vJ=nullendfunctionfunction tS takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1853323879)and(ed[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction uS takes nothing returns nothinglocal unit u=GetKillingUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif((SA[i]==1))thenset SA[i]=2if((qA[i]==2)and(sA[i]==2)and(SA[i]==2)and(tA[i]==2))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[i]=5if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',6)call SetUnitAcquireRange(GetKillingUnit(),1100)endifset xR[i]=12.set ed[i]=falseset HR[i]=(HR[i]+1)set cR[i]=(cR[i]+1)set fR[i]=(fR[i]+1)set bR[i]=(bR[i]+1)set XR[i]=(XR[i]+1)set JR[i]=(JR[i]+1)call DisplayTextToPlayer(p,0,0,"|CFF34FF00完成任务华山论剑，获得修行+1全性格属性+1，你可以前往黑木崖了")call DestroyTimerDialog(gd[i])set vJ=GetRectCenter(Rg)call SetUnitPositionLoc(ER[i],vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00黄药师："+(I2S((qA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00欧阳锋："+(I2S((sA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00一灯大师："+(I2S((SA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00洪七公："+(I2S((tA[i]-1))+" / 1")))endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00黄药师："+(I2S((qA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00欧阳锋："+(I2S((sA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00一灯大师："+(I2S((SA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00洪七公："+(I2S((tA[i]-1))+" / 1")))endifset u=nullset p=nullset vJ=nullendfunctionfunction wS takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1853320818)and(ed[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction xS takes nothing returns nothinglocal unit u=GetKillingUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif((tA[i]==1))thenset tA[i]=2if((qA[i]==2)and(sA[i]==2)and(SA[i]==2)and(tA[i]==2))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[i]=5if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',6)call SetUnitAcquireRange(GetKillingUnit(),1100)endifset xR[i]=12.set ed[i]=falseset HR[i]=(HR[i]+1)set cR[i]=(cR[i]+1)set fR[i]=(fR[i]+1)set bR[i]=(bR[i]+1)set XR[i]=(XR[i]+1)set JR[i]=(JR[i]+1)call DisplayTextToPlayer(p,0,0,"|CFF34FF00完成任务华山论剑，获得修行+1全性格属性+1，你可以前往黑木崖了")call DestroyTimerDialog(gd[i])set vJ=GetRectCenter(Rg)call SetUnitPositionLoc(ER[i],vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00黄药师："+(I2S((qA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00欧阳锋："+(I2S((sA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00一灯大师："+(I2S((SA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00洪七公："+(I2S((tA[i]-1))+" / 1")))endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00黄药师："+(I2S((qA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00欧阳锋："+(I2S((sA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00一灯大师："+(I2S((SA[i]-1))+" / 1")))call DisplayTextToPlayer(p,0,0,("|cFFFFCC00洪七公："+(I2S((tA[i]-1))+" / 1")))endifset u=nullset p=nullset vJ=nullendfunctionfunction zS takes nothing returns booleanreturn((ed[1]))endfunctionfunction AS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,1)call DestroyTimerDialog(gd[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(Rf,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Rg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set ed[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction BS takes nothing returns booleanreturn((ed[2]))endfunctionfunction bS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,2)call DestroyTimerDialog(gd[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(Rf,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Rg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set ed[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction cS takes nothing returns booleanreturn((ed[3]))endfunctionfunction DS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,3)call DestroyTimerDialog(gd[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(Rf,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Rg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set ed[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction FS takes nothing returns booleanreturn((ed[4]))endfunctionfunction GS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,4)call DestroyTimerDialog(gd[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(Rf,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Rg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set ed[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction IS takes nothing returns booleanreturn((ed[5]))endfunctionfunction lS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$63F0AAA2,5)call DestroyTimerDialog(gd[LoadInteger(Jv,id*cx,-$63F0AAA2)])if((RectContainsUnit(Rf,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Rg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$63F0AAA2)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$63F0AAA2))),0,0,"|cFFFF0000时间到，任务失败了")set ed[LoadInteger(Jv,id*cx,-$63F0AAA2)]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$63F0AAA2)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction KS takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896386))endfunctionfunction LS takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif(GetUnitLevel(u)<100)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000等级不足100级无法接取该任务")elseif(dI[i]<11000)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000江湖声望不足11000无法接取该任务")elseif(JI[i]<5)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000你必须先完成历练5任务")set vJ=GetRectCenter(Rg)call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)elseif(JI[i]>=6)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000你已经完成这个任务了")elseif(Rd[i])thenset vJ=GetRectCenter(dh)call SetUnitPositionLoc(u,vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00楚留香："+I2S(qA[i]-2)+" / 1")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00叶孤城："+I2S(sA[i]-2)+" / 1")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00西门吹雪："+I2S(SA[i]-2)+" / 1")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00陆小凤："+I2S(tA[i]-2)+" / 1")call RemoveLocation(vJ)elseset vJ=GetRectCenter(dh)call SetUnitPositionLoc(u,vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)set qA[i]=2set sA[i]=2set SA[i]=2set tA[i]=2call DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00楚留香：0 / 1")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00叶孤城：0 / 1")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00西门吹雪： 0 / 1")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00陆小凤： 0 / 1")call StartTimerBJ(fd[i],false,120.)call CreateTimerDialogBJ(bj_lastStartedTimer,"紫禁决战倒计时")call TimerDialogDisplayForPlayerBJ(true,bj_lastCreatedTimerDialog,GetOwningPlayer(GetTriggerUnit()))set gd[i]=bj_lastCreatedTimerDialogset Rd[i]=trueendifset u=nullset p=nullset vJ=nullendfunctionfunction NS takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1852794732)and(Rd[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction OS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==2))thenset qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=3if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=6if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',7)call SetUnitAcquireRange(GetKillingUnit(),1200)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=20.set Rd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=falseset HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|CFF34FF00完成任务决战紫禁之巅，获得修行+1全性格属性+1，你可以前往一品居了")call DestroyTimerDialog(gd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call DestroyTimer(fd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Zg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00楚留香："+(I2S((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00叶孤城："+(I2S((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00西门吹雪："+(I2S((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00陆小凤："+(I2S((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))endifelsecall DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00楚留香："+(I2S((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00叶孤城："+(I2S((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00西门吹雪："+(I2S((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00陆小凤："+(I2S((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction QS takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1853252716)and(Rd[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction RS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==2))thenset sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=3if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=6if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',7)call SetUnitAcquireRange(GetKillingUnit(),1200)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=20.set Rd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=falseset HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|CFF34FF00完成任务决战紫禁之巅，获得修行+1全性格属性+1，你可以前往一品居了")call DestroyTimerDialog(gd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call DestroyTimer(fd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Zg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00楚留香："+(I2S((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00叶孤城："+(I2S((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00西门吹雪："+(I2S((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00陆小凤："+(I2S((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))endifelsecall DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00楚留香："+(I2S((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00叶孤城："+(I2S((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00西门吹雪："+(I2S((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00陆小凤："+(I2S((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction TS takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nrvi')and(Rd[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction US takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==2))thenset SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=3if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=6if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',7)call SetUnitAcquireRange(GetKillingUnit(),1200)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=20.set Rd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=falseset HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|CFF34FF00完成任务决战紫禁之巅，获得修行+1全性格属性+1，你可以前往一品居了")call DestroyTimerDialog(gd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call DestroyTimer(fd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Zg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00楚留香："+(I2S((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00叶孤城："+(I2S((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00西门吹雪："+(I2S((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00陆小凤："+(I2S((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))endifelsecall DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00楚留香："+(I2S((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00叶孤城："+(I2S((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00西门吹雪："+(I2S((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00陆小凤："+(I2S((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction WS takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1851944036)and(Rd[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]))endfunctionfunction XS takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))if((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==2))thenset tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=3if((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3)and(tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3))thencall PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())set JI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=6if GetUnitAbilityLevel(GetKillingUnit(),'A03Q')!=0 thencall SetPlayerTechResearched(GetOwningPlayer(GetKillingUnit()),'Rhri',7)call SetUnitAcquireRange(GetKillingUnit(),1200)endifset xR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=20.set Rd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=falseset HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(HR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(cR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(bR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(XR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(JR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|CFF34FF00完成任务决战紫禁之巅，获得修行+1全性格属性+1，你可以前往一品居了")call DestroyTimerDialog(gd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call DestroyTimer(fd[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Zg))call SetUnitPositionLoc(ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)],LoadLocationHandle(Jv,id*cx,$5E83114F))call PanCameraToTimedLocForPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),LoadLocationHandle(Jv,id*cx,$5E83114F),0)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00楚留香："+(I2S((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00叶孤城："+(I2S((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00西门吹雪："+(I2S((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00陆小凤："+(I2S((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))endifelsecall DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,"|cFFFFCC00当前进度：")call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00楚留香："+(I2S((qA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00叶孤城："+(I2S((sA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00西门吹雪："+(I2S((SA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))call DisplayTextToPlayer(Player(-1+LoadInteger(Jv,id*cx,-$5E9EB4B3)),0,0,("|cFFFFCC00陆小凤："+(I2S((tA[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-2))+" / 1")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction W6 takes integer i returns nothingcall DestroyTimerDialog(gd[i])if(RectContainsUnit(eh,ER[i]))thencall SetUnitPosition(ER[i],-9984,700)call PanCameraToTimedForPlayer(Player(i-1),-9984,700,0)endifcall DisplayTextToPlayer(Player(i-1),0,0,"|cFFFF0000时间到，任务失败了")set Rd[1]=falsecall PlaySoundOnUnitBJ(Gh,100,ER[i])endfunctionfunction VO takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895375))endfunctionfunction WO takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(HI[i]<10)or(HI[i]<15 and Ce[i]==1)thenset HI[i]=HI[i]+1set JR[i]=JR[i]+2call PlaySoundOnUnitBJ(Eh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC医术+2|r")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前医术为：|r|cFF99FFCC"+I2S(JR[i]))if Ce[i]!=1 thencall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 10")))elsecall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 15")))endifelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你在本次游戏里已经达到了使用属性丹上限，无法再使用本类道具")endifset u=nullset p=nullendfunctionfunction YO takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895370))endfunctionfunction ZO takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(HI[i]<10)or(HI[i]<15 and Ce[i]==1)thenset HI[i]=HI[i]+1set XR[i]=XR[i]+2call PlaySoundOnUnitBJ(Eh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC悟性+2|r")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前悟性为：|r|cFF99FFCC"+I2S(XR[i]))if Ce[i]!=1 thencall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 10")))elsecall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 15")))endifelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你在本次游戏里已经达到了使用属性丹上限，无法再使用本类道具")endifset u=nullset p=nullendfunctionfunction e0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895363))endfunctionfunction f0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(HI[i]<10)or(HI[i]<15 and Ce[i]==1)thenset HI[i]=HI[i]+1set cR[i]=cR[i]+2call PlaySoundOnUnitBJ(Eh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC根骨+2|r")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前根骨为：|r|cFF99FFCC"+I2S(cR[i]))if Ce[i]!=1 thencall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 10")))elsecall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 15")))endifelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你在本次游戏里已经达到了使用属性丹上限，无法再使用本类道具")endifset u=nullset p=nullendfunctionfunction h0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895368))endfunctionfunction i0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(HI[i]<10)or(HI[i]<15 and Ce[i]==1)thenset HI[i]=HI[i]+1set fR[i]=fR[i]+2call PlaySoundOnUnitBJ(Eh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC福缘+2|r")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前福缘为：|r|cFF99FFCC"+I2S(fR[i]))if Ce[i]!=1 thencall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 10")))elsecall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 15")))endifelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你在本次游戏里已经达到了使用属性丹上限，无法再使用本类道具")endifset u=nullset p=nullendfunctionfunction k0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895369))endfunctionfunction m0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(HI[i]<10)or(HI[i]<15 and Ce[i]==1)thenset HI[i]=HI[i]+1set bR[i]=bR[i]+2call PlaySoundOnUnitBJ(Eh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC经脉+2|r")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前经脉为：|r|cFF99FFCC"+I2S(bR[i]))if Ce[i]!=1 thencall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 10")))elsecall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 15")))endifelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你在本次游戏里已经达到了使用属性丹上限，无法再使用本类道具")endifset u=nullset p=nullendfunctionfunction o0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895365))endfunctionfunction p0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(HI[i]<10)or(HI[i]<15 and Ce[i]==1)thenset HI[i]=HI[i]+1set HR[i]=HR[i]+2call PlaySoundOnUnitBJ(Eh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC胆魄+2|r")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00当前胆魄为：|r|cFF99FFCC"+I2S(HR[i]))if Ce[i]!=1 thencall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 10")))elsecall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 15")))endifelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你在本次游戏里已经达到了使用属性丹上限，无法再使用本类道具")endifset u=nullset p=nullendfunctionfunction r0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895371))endfunctionfunction s0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((HI[i]<$A))or(HI[i]<15 and Ce[i]==1)thencall DialogSetMessage(v8[i],"请选择要减1的属性")call DialogAddButtonBJ(v8[i],"根骨")set w8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"悟性")set y8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"福缘")set z8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"胆魄")set A8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"医术")set a8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"经脉")set x8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"取消")set B8[i]=bj_lastCreatedButtoncall DialogDisplay(p,v8[i],true)set b8[i]=trueelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你在本次游戏里已经达到了使用属性丹上限，无法再使用本类道具")endifset u=nullset p=nullendfunctionfunction u0 takes nothing returns booleanreturn((b8[(1+GetPlayerId(GetTriggerPlayer()))]))endfunctionfunction v0 takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)set b8[i]=falseif((GetClickedButton()==B8[i]))thencall YJ(1227895371,P4[i])call DialogClear(v8[i])elseif((GetClickedButton()==w8[i]))thenset cR[i]=(cR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC根骨-1|r")elseif((GetClickedButton()==y8[i]))thenset XR[i]=(XR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC悟性-1|r")elseif((GetClickedButton()==z8[i]))thenset fR[i]=(fR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC福缘-1|r")elseif((GetClickedButton()==A8[i]))thenset HR[i]=(HR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC胆魄-1|r")elseif((GetClickedButton()==a8[i]))thenset JR[i]=(JR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC医术-1|r")elseif((GetClickedButton()==x8[i]))thenset bR[i]=(bR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC经脉-1|r")endifcall DialogClear(v8[i])call DialogSetMessage(D8[i],"请选择要加3的属性")call DialogAddButtonBJ(D8[i],"根骨")set w8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(D8[i],"悟性")set y8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(D8[i],"福缘")set z8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(D8[i],"胆魄")set A8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(D8[i],"医术")set a8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(D8[i],"经脉")set x8[i]=bj_lastCreatedButtoncall DialogDisplay(p,D8[i],true)set C8[i]=trueendifset p=nullendfunctionfunction x0 takes nothing returns booleanreturn((C8[(1+GetPlayerId(GetTriggerPlayer()))]))endfunctionfunction y0 takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)set C8[i]=falseif((GetClickedButton()==w8[i]))thenset cR[i]=(cR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC根骨+3|r")elseif((GetClickedButton()==y8[i]))thenset XR[i]=(XR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC悟性+3|r")elseif((GetClickedButton()==z8[i]))thenset fR[i]=(fR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC福缘+3|r")elseif((GetClickedButton()==A8[i]))thenset HR[i]=(HR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC胆魄+3|r")elseif((GetClickedButton()==a8[i]))thenset JR[i]=(JR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC医术+3|r")elseif((GetClickedButton()==x8[i]))thenset bR[i]=(bR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC经脉+3|r")endifcall DialogClear(D8[i])set HI[i]=(HI[i]+1)call PlaySoundOnUnitBJ(Eh,100,ER[i])if Ce[i]!=1 thencall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 10")))elsecall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 15")))endifset p=nullendfunctionfunction A0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895372))endfunctionfunction a0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(HI[i]<$A)or(HI[i]<15 and Ce[i]==1)thenif((GetRandomInt(1,5)==3))thenif((GetRandomInt(1,6)==1))thenset JR[i]=(JR[i]+4)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC医术+4|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前医术为：|r|cFF99FFCC"+I2S(JR[i])))elseif((GetRandomInt(1,5)==2))thenset XR[i]=(XR[i]+4)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC悟性+4|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前悟性为：|r|cFF99FFCC"+I2S(XR[i])))elseif((GetRandomInt(1,4)==3))thenset cR[i]=(cR[i]+4)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC根骨+4|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前根骨为：|r|cFF99FFCC"+I2S(cR[i])))elseif((GetRandomInt(1,3)==2))thenset fR[i]=(fR[i]+4)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC福缘+4|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前福缘为：|r|cFF99FFCC"+I2S(fR[i])))elseif((GetRandomInt(1,2)==2))thenset bR[i]=(bR[i]+4)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC经脉+4|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前经脉为：|r|cFF99FFCC"+I2S(bR[i])))elseset HR[i]=(HR[i]+4)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC胆魄+4|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前胆魄为：|r|cFF99FFCC"+I2S(HR[i])))endifelseif((GetRandomInt(1,4)==3))thenif((GetRandomInt(1,6)==1))thenset JR[i]=(JR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC医术+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前医术为：|r|cFF99FFCC"+I2S(JR[i])))elseif((GetRandomInt(1,5)==2))thenset XR[i]=(XR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC悟性+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前悟性为：|r|cFF99FFCC"+I2S(XR[i])))elseif((GetRandomInt(1,4)==3))thenset cR[i]=(cR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC根骨+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前根骨为：|r|cFF99FFCC"+I2S(cR[i])))elseif((GetRandomInt(1,3)==2))thenset fR[i]=(fR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC福缘+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前福缘为：|r|cFF99FFCC"+I2S(fR[i])))elseif((GetRandomInt(1,2)==2))thenset bR[i]=(bR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC经脉+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前经脉为：|r|cFF99FFCC"+I2S(bR[i])))elseset HR[i]=(HR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC胆魄+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前胆魄为：|r|cFF99FFCC"+I2S(HR[i])))endifelseif((GetRandomInt(1,6)==1))thenset JR[i]=(JR[i]+2)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC医术+2|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前医术为：|r|cFF99FFCC"+I2S(JR[i])))elseif((GetRandomInt(1,5)==2))thenset XR[i]=(XR[i]+2)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC悟性+2|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前悟性为：|r|cFF99FFCC"+I2S(XR[i])))elseif((GetRandomInt(1,4)==3))thenset cR[i]=(cR[i]+2)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC根骨+2|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前根骨为：|r|cFF99FFCC"+I2S(cR[i])))elseif((GetRandomInt(1,3)==2))thenset fR[i]=(fR[i]+2)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC福缘+2|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前福缘为：|r|cFF99FFCC"+I2S(fR[i])))elseif((GetRandomInt(1,2)==2))thenset bR[i]=(bR[i]+2)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC经脉+2|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前经脉为：|r|cFF99FFCC"+I2S(bR[i])))elseset HR[i]=(HR[i]+2)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC胆魄+2|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前胆魄为：|r|cFF99FFCC"+I2S(HR[i])))endifendifcall PlaySoundOnUnitBJ(Eh,100,u)set HI[i]=(HI[i]+1)if Ce[i]!=1 thencall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 10")))elsecall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 15")))endifelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你在本次游戏里已经达到了使用属性丹上限，无法再使用本类道具")endifset u=nullset p=nullendfunctionfunction b0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895374))endfunctionfunction C0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((HI[i]<$A))or(HI[i]<15 and Ce[i]==1)thencall DialogSetMessage(v8[i],"请选择要+5的属性")call DialogAddButtonBJ(v8[i],"根骨")set w8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"悟性")set y8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"福缘")set z8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"胆魄")set A8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"医术")set a8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"经脉")set x8[i]=bj_lastCreatedButtoncall DialogAddButtonBJ(v8[i],"取消")set B8[i]=bj_lastCreatedButtoncall DialogDisplay(p,v8[i],true)set c8[i]=trueelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你在本次游戏里已经达到了使用属性丹上限，无法再使用本类道具")endifset u=nullset p=nullendfunctionfunction D0 takes nothing returns booleanreturn((c8[(1+GetPlayerId(GetTriggerPlayer()))]))endfunctionfunction E0 takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)set c8[i]=falseif((GetClickedButton()==B8[i]))thencall YJ(1227895374,ER[i])call DialogClear(v8[i])elseif((GetClickedButton()==w8[i]))thenset cR[i]=(cR[i]+5)set XR[i]=(XR[i]-1)set fR[i]=(fR[i]-1)set JR[i]=(JR[i]-1)set bR[i]=(bR[i]-1)set HR[i]=(HR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC根骨+5|r")elseif((GetClickedButton()==y8[i]))thenset XR[i]=(XR[i]+5)set cR[i]=(cR[i]-1)set fR[i]=(fR[i]-1)set JR[i]=(JR[i]-1)set bR[i]=(bR[i]-1)set HR[i]=(HR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC悟性+5|r")elseif((GetClickedButton()==z8[i]))thenset fR[i]=(fR[i]+5)set cR[i]=(cR[i]-1)set XR[i]=(XR[i]-1)set JR[i]=(JR[i]-1)set bR[i]=(bR[i]-1)set HR[i]=(HR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC福缘+5|r")elseif((GetClickedButton()==A8[i]))thenset HR[i]=(HR[i]+5)set cR[i]=(cR[i]-1)set XR[i]=(XR[i]-1)set fR[i]=(fR[i]-1)set JR[i]=(JR[i]-1)set bR[i]=(bR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC胆魄+5|r")elseif((GetClickedButton()==a8[i]))thenset JR[i]=(JR[i]+5)set cR[i]=(cR[i]-1)set XR[i]=(XR[i]-1)set fR[i]=(fR[i]-1)set bR[i]=(bR[i]-1)set HR[i]=(HR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC医术+5|r")elseif((GetClickedButton()==x8[i]))thenset cR[i]=(cR[i]-1)set XR[i]=(XR[i]-1)set fR[i]=(fR[i]-1)set JR[i]=(JR[i]-1)set bR[i]=(bR[i]+5)set HR[i]=(HR[i]-1)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC经脉+5|r")endifcall DialogClear(v8[i])call DisplayTextToPlayer(p,0,0,"|cFF99FFCC其它属性-1|r")set HI[i]=(HI[i]+1)call PlaySoundOnUnitBJ(Eh,100,ER[i])if Ce[i]!=1 thencall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 10")))elsecall DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前已经服用属性丹数量：|r|cFF99FFCC"+(I2S(HI[i])+" / 15")))endifendifset p=nullendfunctionfunction G0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I04P'))endfunctionfunction H0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((v9[i]==false or bA[i]==true))thenset v9[i]=truecall PlaySoundOnUnitBJ(Eh,100,u)call ModifyHeroStat(2,ER[i],0,50)call DisplayTextToPlayer(Player(-1+(i)),0,0,"|cFFFFCC00使用成功|r|cFF99FFCC真实伤害提升50|r")if Ce[i]==7 and bA[i]==false thenset bA[i]=trueif DX[i]==true thenelsecall SaveStr(Jv,GetHandleId(p),GetHandleId(p),"〓郡主〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15,"|CFF66FF00恭喜"+GetPlayerName(p)+"获得郡主")call SetPlayerName(p,"〓郡主〓"+GetPlayerName(p))endifelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你已经使用过本道具了，每个角色只能使用最多1个")endifset u=nullset p=nullendfunctionfunction l0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I04O'))endfunctionfunction J0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((w9[i]==false))thenset w9[i]=truecall PlaySoundOnUnitBJ(Eh,100,u)call UnitAddAbility(ER[i],1093678923)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC气血提升20000|r")elsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你已经使用过本道具了，每个角色只能使用最多1个")endifset u=nullset p=nullendfunctionfunction L0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I04N'))endfunctionfunction M0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((y9[i]==false or bA[i]==true))thenset y9[i]=truecall PlaySoundOnUnitBJ(Eh,100,u)call ModifyHeroStat(1,ER[i],0,40)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC内力提升40|r")elsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你已经使用过本道具了，每个角色只能使用最多1个")endifset u=nullset p=nullendfunctionfunction O0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I04Q'))endfunctionfunction P0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((x9[i]==false))thenset x9[i]=truecall PlaySoundOnUnitBJ(Eh,100,u)set qO[i]=(qO[i]+1)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC绝学领悟力+1|r")elsecall YJ(GetItemTypeId(GetManipulatedItem()),u)call PlaySoundOnUnitBJ(Gh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你已经使用过本道具了，每个角色只能使用最多1个")endifset u=nullset p=nullendfunctionfunction R0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896406))endfunctionfunction S0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)call PlaySoundOnUnitBJ(Eh,100,u)set qO[i]=(qO[i]+2)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC绝学领悟力+2|r")set u=nullset p=nullendfunctionfunction U0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896407))endfunctionfunction V0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)call PlaySoundOnUnitBJ(Eh,100,u)call ModifyHeroStat(1,ER[i],0,100)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC内力提升100|r")set u=nullset p=nullendfunctionfunction X0 takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896408))endfunctionfunction Y0 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)call PlaySoundOnUnitBJ(Eh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC所有武功CD时间清除|r")call UnitResetCooldown(ER[i])set u=nullset p=nullendfunctionfunction dP takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I06Z'))endfunctionfunction eP takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((ge[i]))thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000已经使用过本道具了，重复使用无效果")call YJ(GetItemTypeId(GetManipulatedItem()),u)elsecall PlaySoundOnUnitBJ(Eh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC复活时间减半|r")set ge[i]=trueendifset u=nullset p=nullendfunctionfunction gP takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896624))endfunctionfunction hP takes nothing returns nothingset ie=(ie+60)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"|cFFFFCC00使用通犀地龙丸成功|r|cFF99FFCC延迟下波进攻怪物60秒|r")endfunctionfunction jP takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896409))endfunctionfunction kP takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((GetRandomInt(1,6)==1))thenset JR[i]=(JR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC医术+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前医术为：|r|cFF99FFCC"+I2S(JR[i])))elseif((GetRandomInt(1,5)==2))thenset XR[i]=(XR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC悟性+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前悟性为：|r|cFF99FFCC"+I2S(XR[i])))elseif((GetRandomInt(1,4)==3))thenset cR[i]=(cR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC根骨+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前根骨为：|r|cFF99FFCC"+I2S(cR[i])))elseif((GetRandomInt(1,3)==2))thenset fR[i]=(fR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC福缘+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前福缘为：|r|cFF99FFCC"+I2S(fR[i])))elseif((GetRandomInt(1,2)==2))thenset bR[i]=(bR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC经脉+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前经脉为：|r|cFF99FFCC"+I2S(bR[i])))elseset HR[i]=(HR[i]+3)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用成功|r|cFF99FFCC胆魄+3|r")call DisplayTextToPlayer(p,0,0,("|cFFFFCC00当前胆魄为：|r|cFF99FFCC"+I2S(HR[i])))endifset u=nullset p=nullendfunctionfunction nP takes nothing returns booleanreturn((GetSpellAbilityId()==1093679447))endfunctionfunction oP takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local unit bU=GetSpellTargetUnit()local integer j=GetPlayerId(GetOwningPlayer(bU))call DialogSetMessage(je[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],"请选择想被传授的武功")set te[i]=jif(I7[j*20+1]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+1]))set ke[i]=bj_lastCreatedButtonendifif(I7[j*20+2]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+2]))set ne[i]=bj_lastCreatedButtonendifif(I7[j*20+3]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+3]))set oe[i]=bj_lastCreatedButtonendifif(I7[j*20+4]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+4]))set pe[i]=bj_lastCreatedButtonendifif(I7[j*20+5]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+5]))set qe[i]=bj_lastCreatedButtonendifif(I7[j*20+6]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+6]))set me[i]=bj_lastCreatedButtonendifif(I7[j*20+7]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+7]))set re[i]=bj_lastCreatedButtonendifif(I7[j*20+8]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+8]))set zA[i]=bj_lastCreatedButtonendifif(I7[j*20+9]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+9]))set nN[i]=bj_lastCreatedButtonendifif(I7[j*20+10]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+10]))set XN[i]=bj_lastCreatedButtonendifif(I7[j*20+11]!='AEfk')thencall DialogAddButtonBJ(je[i],GetObjectName(I7[j*20+11]))set ON[i]=bj_lastCreatedButtonendifcall DialogAddButtonBJ(je[i],"取消")set se[i]=bj_lastCreatedButtoncall DialogDisplay(p,je[i],true)set u=nullset p=nullset bU=nullendfunctionfunction y6 takes player p,integer vW returns nothinglocal integer i=1+GetPlayerId(p)set L7[i]=1loopexitwhen L7[i]>cX[i]if(I7[(i-1)*20+L7[i]]!='AEfk')thenif(L7[i]==cX[i])thencall YJ(1227896625,P4[i])call DisplayTextToPlayer(p,0,0,"|CFFFF0033学习技能已达上限，请先遗忘部分技能")exitwhen trueendifelseif I7[(i-1)*20+1]!=I7[te[i]*20+vW]and I7[(i-1)*20+2]!=I7[te[i]*20+vW]and I7[(i-1)*20+3]!=I7[te[i]*20+vW]and I7[(i-1)*20+4]!=I7[te[i]*20+vW]and I7[(i-1)*20+5]!=I7[te[i]*20+vW]and I7[(i-1)*20+6]!=I7[te[i]*20+vW]and I7[(i-1)*20+7]!=I7[te[i]*20+vW]and I7[(i-1)*20+8]!=I7[te[i]*20+vW]and I7[(i-1)*20+9]!=I7[te[i]*20+vW]and I7[(i-1)*20+10]!=I7[te[i]*20+vW]and I7[(i-1)*20+11]!=I7[te[i]*20+vW]thencall UnitAddAbility(ER[i],I7[te[i]*20+vW])call UnitMakeAbilityPermanent(ER[i],true,I7[te[i]*20+vW])set I7[(((i-1)*20)+L7[i])]=I7[te[i]*20+vW]call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033传闻"+(GetPlayerName(p)+(("向"+(GetPlayerName(Player(-1+((te[i]+1))))+"虚心求教，成功的学会了"))+GetObjectName(I7[te[i]*20+vW])))))set S9=1loopexitwhen S9>20if((I7[te[i]*20+vW]==gA[S9]))thenset fA[i]=(fA[i]+jA[S9])call ModifyHeroStat(1,ER[i],0,JA[S9])set tO[i]=(tO[i]+pA[S9])set qO[i]=(qO[i]+LA[S9])set FA[i]=(FA[i]+hA[S9])endifset S9=S9+1endloopexitwhen trueelsecall DisplayTextToPlayer(p,0,0,"|CFFFF0033你已经学会这种武功了")call YJ(1227896625,P4[i])exitwhen trueendifendifset L7[i]=L7[i]+1endloopendfunctionfunction qP takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetTriggerPlayer()))]local integer i=1+GetPlayerId(GetTriggerPlayer())local player p=GetTriggerPlayer()if((GetClickedButton()==ke[i]))thencall y6(p,1)elseif((GetClickedButton()==ne[i]))thencall y6(p,2)elseif((GetClickedButton()==oe[i]))thencall y6(p,3)elseif((GetClickedButton()==pe[i]))thencall y6(p,4)elseif((GetClickedButton()==qe[i]))thencall y6(p,5)elseif((GetClickedButton()==me[i]))thencall y6(p,6)elseif((GetClickedButton()==re[i]))thencall y6(p,7)elseif((GetClickedButton()==zA[i]))thencall y6(p,8)elseif((GetClickedButton()==nN[i]))thencall y6(p,9)elseif((GetClickedButton()==XN[i]))thencall y6(p,10)elseif((GetClickedButton()==ON[i]))thencall y6(p,11)elseif((GetClickedButton()==se[i]))thencall YJ(1227896625,P4[i])endifcall DialogClear(je[i])endfunctionfunction sP takes nothing returns booleanreturn((GetSpellAbilityId()=='A09X'))endfunctionfunction tP takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction uP takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())call SaveUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$270B8163,GetEnumUnit())call SaveLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$247CC5E5,GetUnitLoc(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$270B8163)))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB)),LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$247CC5E5),bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093679450)call IssueTargetOrderById(bj_lastCreatedUnit,$D006B,LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$270B8163))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call ShowUnitHide(bj_lastCreatedUnit)call RemoveLocation(LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$247CC5E5))endfunctionfunction vP takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$5E83114F,GetSpellTargetLoc())call SaveUnitHandle(Jv,id*cx,$59BEA0CB,GetTriggerUnit())call ForGroupBJ(pl(800.,LoadLocationHandle(Jv,id*cx,$5E83114F),Condition(function tP)),function uP)call FlushChildHashtable(Jv,id*cx)endfunctionfunction xP takes nothing returns booleanreturn((GetSpellAbilityId()=='A0A0'))endfunctionfunction yP takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction zP takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())call SaveUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$270B8163,GetEnumUnit())call SaveLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$247CC5E5,GetUnitLoc(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$270B8163)))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB)),LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$247CC5E5),bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093681457)call IssueTargetOrderById(bj_lastCreatedUnit,$D00DD,LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$270B8163))call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call ShowUnitHide(bj_lastCreatedUnit)call RemoveLocation(LoadLocationHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$247CC5E5))endfunctionfunction AP takes nothing returns nothinglocal location vJ=GetSpellTargetLoc()call ForGroupBJ(pl(600.,vJ,Condition(function yP)),function zP)call RemoveLocation(vJ)set vJ=nullendfunctionfunction BP takes nothing returns booleanreturn(GetSpellAbilityId()=='A0A3')endfunctionfunction bP takes nothing returns nothinglocal unit u=GetSpellTargetUnit()call FL(.3)call SetWidgetLife(u,.7*GetUnitState(u,UNIT_STATE_LIFE))set u=nullendfunctionfunction z6 takes item it returns booleanif(GetItemTypeId(it)=='I07L' or GetItemTypeId(it)=='I07M' or GetItemTypeId(it)=='I07N' or GetItemTypeId(it)=='I07O' or GetItemTypeId(it)=='I07P' or GetItemTypeId(it)=='I07Q' or GetItemTypeId(it)=='I07R' or GetItemTypeId(it)=='I07J' or GetItemTypeId(it)=='I07I' or GetItemTypeId(it)=='I07K' or GetItemTypeId(it)=='I05K')thenreturn trueendifreturn falseendfunctionfunction e7 takes integer a7 returns integerif(a7=='I07L')thenreturn'I06Y'elseif(a7=='I07N')thenreturn'I071'elseif(a7=='I07I')thenreturn'I06W'elseif(a7=='I07P')thenreturn'I074'elseif(a7=='I07Q')thenreturn'I06V'elseif(a7=='I07R')thenreturn'I075'elseif(a7=='I07K')thenreturn'I073'elseif(a7=='I05K')thenreturn'I072'elseif(a7=='I07J')thenreturn'I070'elseif(a7=='I07M')thenreturn'I06X'elseif(a7=='I07O')thenreturn'I06Z'endifreturn 0endfunctionfunction EP takes nothing returns booleanif(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and z6(GetManipulatedItem())thenif Ce[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]!=1 and sw(ER[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],'I0AM')==false thencall DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00你不是炼丹师，并且未携带神木王鼎，不可以炼制丹药")call AdjustPlayerStateBJ(2000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)return falseelsereturn trueendifendifreturn falseendfunctionfunction V7 takes unit u,item it,integer a7,integer d7,integer y1,integer y2,integer yy returns nothinglocal player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer j=0local integer hU=0local integer HU=0local integer f7=0if(GetItemTypeId(it)==a7)thenif(JR[i]<d7)thencall AdjustPlayerStateBJ(2000,p,PLAYER_STATE_RESOURCE_GOLD)call DisplayTimedTextToPlayer(p,0,0,5.,"|cffff0000医术不足！")elseif(sw(u,yy)==false)thencall AdjustPlayerStateBJ(2000,p,PLAYER_STATE_RESOURCE_GOLD)call DisplayTimedTextToPlayer(p,0,0,5.,"|cffff0000缺少炼制丹药的药引！")elsecall DisplayTimedTextToPlayer(p,0,0,5.,"|cff00ff00炼制丹药中.......")set j=1loopexitwhen j>6if((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[11]))thenset hU=hU+5set HU=HU+1call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[9]))thenset HU=HU+4call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[10]))thenset hU=hU+3set HU=HU+4call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[8]))thenset hU=hU+4set HU=HU+3call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[7]))thenset hU=hU+4call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[12]))thenset hU=hU+1set HU=HU+5call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[6]))thenset hU=hU+2set HU=HU+3call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[1]))thenset hU=hU+2set HU=HU+1call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[2]))thenset hU=hU+1set HU=HU+2call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[3]))thenset hU=hU+3set HU=HU-1call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[4]))thenset hU=hU-1set HU=HU+3call RemoveItem(UnitItemInSlotBJ(u,j))elseif((GetItemTypeId(UnitItemInSlotBJ(u,j))==RN[5]))thenset hU=hU+3set HU=HU+2call RemoveItem(UnitItemInSlotBJ(u,j))endifset j=j+1endloopif(hU>=y1)thenelseset f7=y1-hUcall DisplayTimedTextToPlayer(p,0,0,5.,"|cff00ff33阴性缺"+I2S(y1-hU)+"，炼制成功率降低了"+I2S((y1-hU)*5)+"%")endifif(HU>=y2)thenelseset f7=f7+y2-HUcall DisplayTimedTextToPlayer(p,0,0,5.,"|cff00ff33阳性缺"+I2S(y2-HU)+"，炼制成功率降低了"+I2S((y2-HU)*5)+"%")endifif(aA[i])thenset f7=f7-4call DisplayTimedTextToPlayer(p,0,0,5.,"|cff00ff33由于你是炼丹大师，炼制成功率提高20%")endifif(GetRandomInt(1,20)<=20-f7)thencall YJ(e7(a7),u)call DisplayTimedTextToPlayer(p,0,0,5.,"|cff00ffff恭喜炼制成功！")set vA[i]=vA[i]+1if(vA[i]<=5)and aA[i]==false thencall DisplayTextToPlayer(p,0,0,"|CFF66FF00恭喜您炼成第"+I2S(vA[i])+"颗丹药，炼成5颗可获得大师哦")endifif(vA[i]==5)and aA[i]==false thenset aA[i]=trueif DX[i]==true thenelsecall SaveStr(Jv,GetHandleId(p),GetHandleId(p),"〓炼丹大师〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15,"|CFF66FF00恭喜"+GetPlayerName(p)+"获得炼丹大师")call SetPlayerName(p,"〓炼丹大师〓"+GetPlayerName(p))endifelsecall DisplayTimedTextToPlayer(p,0,0,5.,"|cffff0000炼制失败！")endifendifendifset u=nullset p=nullendfunctionfunction FP takes nothing returns nothinglocal unit u=GetTriggerUnit()call V7(u,GetManipulatedItem(),'I07L',26,18,18,RN[8])call V7(u,GetManipulatedItem(),'I07N',15,10,10,RN[5])call V7(u,GetManipulatedItem(),'I07I',24,15,20,RN[9])call V7(u,GetManipulatedItem(),'I07P',15,18,19,RN[3])call V7(u,GetManipulatedItem(),'I07Q',30,10,24,RN[12])call V7(u,GetManipulatedItem(),'I07R',26,24,8,RN[11])call V7(u,GetManipulatedItem(),'I07K',22,20,12,RN[7])call V7(u,GetManipulatedItem(),'I05K',15,15,5,RN[2])call V7(u,GetManipulatedItem(),'I07J',15,12,12,RN[10])call V7(u,GetManipulatedItem(),'I07M',16,5,16,RN[4])call V7(u,GetManipulatedItem(),'I07O',22,15,15,RN[6])set u=nullendfunctionfunction g7 takes nothing returns booleanreturn(GetTriggerUnit()==LN)and GetEventDamage()>GetUnitState(LN,UNIT_STATE_MAX_LIFE)*0.03endfunctionfunction h7 takes nothing returns nothingcall Ww(LN)call SetUnitLifePercentBJ(LN,GetUnitLifePercent(LN)-3.00)endfunctionfunction j7 takes nothing returns booleanreturn((GetTriggerUnit()==LN)and(GetUnitLifePercent(LN)<=25.00)and(jX==false))endfunctionfunction M7 takes nothing returns nothingset jX=truecall CreateNUnitsAtLoc(1,'Hblm',Player(5),OffsetLocation(GetUnitLoc(LN),0,200),90.00)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15,"|cFFFF6600基地严重受创，云杨现身相助")call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',20.00)call UnitAddAbility(LN,'Avul')call FL(20.00)call UnitRemoveAbilityBJ('Avul',LN)endfunctionfunction Trig_____________u_Func002C takes nothing returns booleanreturn(GetPlayerController(Player(0))==MAP_CONTROL_USER)and(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING)endfunctionfunction p7 takes nothing returns nothingcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FF40主机开始选择游戏模式")if(((GetPlayerController(Player(0))==MAP_CONTROL_USER)and(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING)))thencall DialogClear(KX)call DialogSetMessage(KX,"请选择游戏模式")set lX=DialogAddButtonBJ(KX,"|cFF00CC00普通模式")set LX=DialogAddButtonBJ(KX,"|cFFCC0066特殊事件模式")set mX=DialogAddButtonBJ(KX,"|cFFFF6600生存模式")set MX=DialogAddButtonBJ(KX,"|cFF6600FF快速通关模式")call DialogDisplayBJ(true,KX,Player(0))endifendfunctionfunction Q7 takes nothing returns nothingif GetClickedButton()==lX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF主机选择了普通模式")set hX=falseset HX=falseendifif GetClickedButton()==LX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF主机选择了特殊事件模式")set hX=trueset HX=falseendifif GetClickedButton()==mX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF主机选择了生存模式")set hX=falseset HX=trueendifif GetClickedButton()==MX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF主机选择了快速通关模式")set hX=falseset HX=falseset JX=trueendifendfunctionfunction t7 takes nothing returns booleanreturn(GetSpellAbilityId()=='A02U')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true)endfunctionfunction W7 takes nothing returns nothinglocal timer tm=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(tm),0)call DestroyEffect(UN[GetPlayerId(GetOwningPlayer(u))+1])call PauseTimer(tm)call DestroyTimer(tm)set u=nullset tm=nullendfunctionfunction n8 takes nothing returns nothinglocal location d1=GetUnitLoc(GetTriggerUnit())local location d2=GetSpellTargetLoc()local real V8=I2R(GetHeroAgi(GetTriggerUnit(),false))local real X8=AngleBetweenPoints(d1,d2)local real hM=500+I2R(GetHeroStr(GetTriggerUnit(),false))/ 3local real f8=48.027*Pow(V8,0.3131)local real kM=5.0local timer tm=CreateTimer()if f8>1000 thenset f8=1000endifif hM>2000 thenset hM=2000endifcall SaveReal(Jv,GetHandleId(GetTriggerUnit()),StringHash("轻功distance"),hM)if hM>DistanceBetweenPoints(d1,d2)thenset hM=DistanceBetweenPoints(d1,d2)endifset kM=hM/ f8call SaveReal(Jv,GetHandleId(GetTriggerUnit()),StringHash("轻功velocity"),f8)call SaveUnitHandle(Jv,GetHandleId(tm),0,GetTriggerUnit())call SetUnitFacing(GetTriggerUnit(),X8)call DestroyEffect(AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl"))set UN[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))+1]=AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",GetTriggerUnit(),"origin")call SetUnitAnimation(GetTriggerUnit(),"walk")call GM(GetTriggerUnit(),X8,hM,kM,0.03,100)call TimerStart(tm,kM,false,function W7)call RemoveLocation(d1)call RemoveLocation(d2)set d1=nullset d2=nullset tm=nullendfunctionfunction L8 takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())=='I0B7'endfunctionfunction M8 takes nothing returns nothinglocal timer t=GetExpiredTimer()set wN=falsecall SetUnitOwner(PV,Player(5),true)call BJDebugMsg("|cff00ff00测试总伤害为"+R2S(zN))call PauseTimer(t)call DestroyTimer(t)set t=nullendfunctionfunction T8 takes nothing returns nothinglocal timer t=CreateTimer()set wN=trueset zN=0call BJDebugMsg(GetUnitName(PV))call SetUnitOwner(PV,Player(6),true)call TimerStart(t,10,false,function M8)set t=nullendfunctionfunction u8 takes nothing returns booleanreturn wNendfunctionfunction U8 takes nothing returns nothingset zN=zN+GetEventDamage()endfunctionfunction W8 takes nothing returns booleanreturn IsUnitInGroup(GetAttacker(),w7)and GetPlayerTechCountSimple('R001',Player(6))==50 and GetTriggerUnit()!=LN and GetUnitTypeId(GetTriggerUnit())!='Hblm' and GetUnitTypeId(GetTriggerUnit())!='o02F' and GetUnitTypeId(GetTriggerUnit())!='o02G'endfunctionfunction Y8 takes nothing returns nothingif GetRandomInt(1,100)<=20 thencall SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-6.)endifendfunctionfunction Zw takes nothing returns nothingcall FogEnableOff()call FogMaskEnableOff()call SetCreepCampFilterState(false)call jw(false)call SetPlayerAllianceStateBJ(Player(12),Player(6),3)call SetPlayerHandicapXP(Player(0),.43)call SetPlayerHandicapXP(Player(1),.43)call SetPlayerHandicapXP(Player(2),.43)call SetPlayerHandicapXP(Player(3),.43)call SetPlayerHandicapXP(Player(4),.43)call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE,1800.,.0)call PlayMusicBJ(xh)set K4[1]=Lsset K4[2]=Qsset K4[3]=Osset K4[4]=Nsset K4[5]=Psset K4[6]=qNset K4[7]=tNcall GroupAddUnit(i7,Ls)call GroupAddUnit(i7,Ns)call GroupAddUnit(i7,Qs)call GroupAddUnit(i7,Os)call GroupAddUnit(i7,Ps)call GroupAddUnit(i7,qN)call GroupAddUnit(i7,tN)set y7[1]=1969711215set y7[2]=1970498413set y7[3]=1852798821set y7[4]=1851879023set y7[5]=1852008562set y7[6]=1852273524set y7[7]=1969381742set y7[8]=1852466993set y7[9]=1869898354set y7[10]=1853320292set y7[11]=1852208244set y7[12]=1701077869set y7[13]=1751410807set y7[14]=1852076648set y7[15]=1970107511set y7[16]=1852990571set y7[17]=1852207714set y7[18]=1869898347set y7[19]=1853517677set y7[20]=1869311844set y7[21]=1852076404set y7[22]=1852076662set y7[23]=1852204908set y7[24]=1701013613set y7[25]=1853125236set y7[26]=1852601452set y7[27]=1702064246set y7[28]=1852403302set y7[29]='nbdk'set y7[30]='nhyd'set u7[1]='ncer'set u7[2]='nhea'set u7[3]='nlkl'set u7[4]='nele'set u7[5]='nenp'set u7[6]='nbda'set u7[7]='n002'set u7[8]='nbds'call SetUnitLifePercentBJ(mV,5)call AddSpecialEffectTargetUnitBJ("overhead",Ts,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call AddSpecialEffectTargetUnitBJ("overhead",Ft,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call AddSpecialEffectTargetUnitBJ("overhead",Ss,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call AddSpecialEffectTargetUnitBJ("overhead",vt,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call AddSpecialEffectTargetUnitBJ("overhead",ot,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call AddSpecialEffectTargetUnitBJ("overhead",nt,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call AddSpecialEffectTargetUnitBJ("overhead",Et,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call AddSpecialEffectTargetUnitBJ("overhead",ct,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call AddSpecialEffectTargetUnitBJ("overhead",zt,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call AddSpecialEffectTargetUnitBJ("overhead",Ct,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call AddSpecialEffectTargetUnitBJ("overhead",ut,"Objects\\RandomObject\\RandomObject.mdl")call AddSpecialEffectTargetUnitBJ("overhead",xt,"Objects\\RandomObject\\RandomObject.mdl")call AddSpecialEffectTargetUnitBJ("overhead",yt,"Objects\\RandomObject\\RandomObject.mdl")call AddSpecialEffectTargetUnitBJ("overhead",Dt,"Objects\\RandomObject\\RandomObject.mdl")call AddSpecialEffectTargetUnitBJ("overhead",At,"Objects\\RandomObject\\RandomObject.mdl")call AddSpecialEffectTargetUnitBJ("overhead",Bt,"Objects\\RandomObject\\RandomObject.mdl")call AddSpecialEffectTargetUnitBJ("overhead",mV,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")call CreateTextTagUnitBJ("点我加门派后可离开此地",Rs,.0,15.,100.,100.,.0,50.)call CreateTextTagLocBJ("决战江湖1.51名人榜",GetRectCenter(uh),100.,$A,100,100,.0,50.)set v7[1]=GetRectCenter(Ie)set v7[2]=GetRectCenter(le)set v7[3]=GetRectCenter(Je)set v7[4]=GetRectCenter(Ke)set v7[5]=GetRectCenter(Le)set v7[6]=GetRectCenter(Me)set v7[7]=GetRectCenter(Ne)set v7[8]=GetRectCenter(Oe)set v7[9]=GetRectCenter(Ge)set v7[$A]=GetRectCenter(Re)set v7[$B]=GetRectCenter(ff)set C7[1]=ftset C7[2]=gtset C7[3]=htset C7[4]=jtset C7[5]=ktset b7[1]=Usset b7[2]=Zsset b7[3]=Ysset b7[4]=Xsset b7[5]=Wscall AdjustPlayerStateBJ($A,Player(0),PLAYER_STATE_RESOURCE_LUMBER)call AdjustPlayerStateBJ($A,Player(1),PLAYER_STATE_RESOURCE_LUMBER)call AdjustPlayerStateBJ($A,Player(2),PLAYER_STATE_RESOURCE_LUMBER)call AdjustPlayerStateBJ($A,Player(3),PLAYER_STATE_RESOURCE_LUMBER)call AdjustPlayerStateBJ($A,Player(4),PLAYER_STATE_RESOURCE_LUMBER)call p7()call Hz()set bj_forLoopAIndex=0loopexitwhen bj_forLoopAIndex>=5if GetPlayerController(Player(bj_forLoopAIndex))==MAP_CONTROL_USER and GetPlayerSlotState(Player(bj_forLoopAIndex))==PLAYER_SLOT_STATE_PLAYING thencall SaveStr(Jv,GetHandleId(Player(bj_forLoopAIndex)),GetHandleId(Player(bj_forLoopAIndex)),GetPlayerName(Player(bj_forLoopAIndex)))call SaveStr(Jv,GetHandleId(Player(bj_forLoopAIndex)),GetHandleId(Player(bj_forLoopAIndex))*2,GetPlayerName(Player(bj_forLoopAIndex)))endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall FL(40.)call StartTimerBJ(A7[3],false,120.)call CreateTimerDialogBJ(bj_lastStartedTimer,"邪教进攻倒计时：")call TimerDialogDisplay(bj_lastCreatedTimerDialog,true)set z7[3]=bj_lastCreatedTimerDialogcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cfffff000欢迎来到|cffff00de金庸群侠传之决战江湖1.51|r")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cfffff000游戏初期您可以完成难度为一星到二星的任务来提升角色的能力，游戏前期金钱较匮乏，可以在守家积分商店使用积分兑换金钱，关于游戏的各个系统，请查看F9任务面板，欢迎前往游戏专区论坛jzjhbbs.uuu9.com查看游戏攻略以及提出您的宝贵意见|R")call FL(40.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cfffff000由于制作和测试时间紧张，如遇游戏里有BUG或不舒适的体验给你带来不愉快，尽情谅解，欢迎前往游戏专区论坛jzjhbbs.uuu9.com提出您的宝贵意见。游戏中的特殊玩法，请到NPC随风而逝de风处查看，在基地右侧|R")call FL(40.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"|cfffff000游戏里的相关指令
按键Esc：|cFFCCFF33查看人物属性|r
输入“sj”：|cFFCCFF33恢复视角|r
输入“bl”：|cFFCCFF33查看伴侣属性|r
输入“jy”：|cFFCCFF33将剑意转化为性格属性|r
输入“up”：|cFFCCFF33提高难度（只能提不能降）|r
输入“fb”：|cFFCCFF33查询副本重置时间|r
输入“yx”：|cFFCCFF33查询宝宝携带草药的总药性|r
输入属性拼音首字母加数值如fy5：|cFFCCFF33增加相应点数的自由属性（福缘+5）|r
游戏开始2分钟内输入“sw”：|cFFCCFF33试玩模式|r
更多游戏帮助，请按F9打开任务面板进行查询")call FL(40.)call TriggerExecute(ss)set hd=trueendfunctionfunction fx takes nothing returns booleanreturn(((rR[(1+GetPlayerId(GetTriggerPlayer()))]==false)and(IsUnitInGroup(GetTriggerUnit(),i7))))endfunctionfunction vvv takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)local unit u=GetTriggerUnit()if(GetUnitTypeId(L4[i])==GetUnitTypeId(u))thenif u==K4[1]or u==K4[2]or u==K4[3]or u==K4[4]or u==K4[5]or(u==K4[6]and YX[i]>0)or(u==K4[7]and(zX[i]>0 or YX[i]==2))thenset Q4=GetRandomLocInRect(Ge)call CreateNUnitsAtLoc(1,GetUnitTypeId(u),p,Q4,bj_UNIT_FACING)call PanCameraToTimedLocForPlayer(p,Q4,0)endifif(u==K4[1])thencall DisplayTimedTextToPlayer(p,0,0,15.,"恭喜获得英雄：|CFFCCFF00若蝶|r
请选择下列门派后开启江湖之旅：
|CFF00FFCC古墓 丐帮 全真 恒山 峨眉 武当 星宿 灵鹫宫（隐藏） 姑苏慕容（隐藏） 明教（特殊）|r

")set XR[i]=XR[i]+5set fR[i]=fR[i]+2set JR[i]=JR[i]+3set WX[i]=GetRandomInt(1,3)set yX[i]=GetRandomInt(3,5)call RemoveUnit(K4[1])call RemoveUnit(UV[i])elseif(u==K4[2])thencall DisplayTimedTextToPlayer(p,0,0,15.,"恭喜获得英雄：|CFFCCFF00潇侠|r
请选择下列门派后开启江湖之旅：
|CFF00FFCC少林 古墓 丐帮 华山 全真 峨眉 武当 灵鹫宫（隐藏） 姑苏慕容（隐藏） 明教（特殊）|r
")set XR[i]=(XR[i]+2)set cR[i]=(cR[i]+2)set HR[i]=(HR[i]+1)set fR[i]=(fR[i]+5)set WX[i]=GetRandomInt(2,4)set yX[i]=GetRandomInt(2,4)call RemoveUnit(K4[2])call RemoveUnit(UV[i])elseif((u==K4[3]))thencall DisplayTimedTextToPlayer(p,0,0,15.,"恭喜获得英雄：|CFFCCFF00莫言|r
请选择下列门派后开启江湖之旅：
|CFF00FFCC古墓 丐帮 华山 血刀 恒山 峨眉 星宿 灵鹫宫（隐藏） 姑苏慕容（隐藏） 明教（特殊）|r
")set XR[i]=(XR[i]+2)set HR[i]=(HR[i]+5)set bR[i]=(bR[i]+1)set JR[i]=(JR[i]+2)set WX[i]=GetRandomInt(3,5)set yX[i]=GetRandomInt(1,3)call RemoveUnit(K4[3])call RemoveUnit(UV[i])elseif((u==K4[4]))thencall DisplayTimedTextToPlayer(p,0,0,15.,"恭喜获得英雄：|CFFCCFF00浪云|r
请选择下列门派后开启江湖之旅：
|CFF00FFCC少林 古墓 丐帮 华山 血刀 武当 星宿 灵鹫宫（隐藏） 姑苏慕容（隐藏） 明教（特殊）|r
")set cR[i]=(cR[i]+3)set bR[i]=(bR[i]+5)set JR[i]=(JR[i]+2)set WX[i]=GetRandomInt(2,4)set yX[i]=GetRandomInt(2,4)call RemoveUnit(K4[4])call RemoveUnit(UV[i])elseif((u==K4[5]))thencall DisplayTimedTextToPlayer(p,0,0,15.,"恭喜获得英雄：|CFFCCFF00魔君|r
请选择下列门派后开启江湖之旅：
|CFF00FFCC少林 华山 全真 血刀 峨眉 武当 星宿 灵鹫宫（隐藏） 姑苏慕容（隐藏） 明教（特殊）|r
")set cR[i]=(cR[i]+5)set HR[i]=(HR[i]+2)set bR[i]=(bR[i]+3)set WX[i]=GetRandomInt(1,3)set yX[i]=GetRandomInt(3,5)call RemoveUnit(K4[5])call RemoveUnit(UV[i])elseif(u==K4[6])thenif YX[i]<=0 thencall DisplayTimedTextToPlayer(p,0,0,15.,"该角色为赞助游戏者特别制作，暂不对普通玩家开放")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"恭喜获得英雄：|CFFCCFF00兰馨|r
请选择任意门派后开启江湖之旅|r
")set cR[i]=(cR[i]+3)set HR[i]=(HR[i]+3)set bR[i]=(bR[i]+3)set XR[i]=XR[i]+3set JR[i]=JR[i]+3set fR[i]=fR[i]+3set WX[i]=GetRandomInt(3,5)set yX[i]=GetRandomInt(3,5)call RemoveUnit(UV[i])endifelseif(u==K4[7])thenif YX[i]<=1 and zX[i]<=0 thencall DisplayTimedTextToPlayer(p,0,0,15.,"该角色为赞助游戏者特别制作，暂不对普通玩家开放")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"恭喜获得英雄：|CFFCCFF00瑾轩|r
请选择任意门派后开启江湖之旅|r
")set cR[i]=(cR[i]+3)set HR[i]=(HR[i]+3)set bR[i]=(bR[i]+3)set XR[i]=XR[i]+3set JR[i]=JR[i]+3set fR[i]=fR[i]+3set WX[i]=GetRandomInt(3,5)set yX[i]=GetRandomInt(3,5)call RemoveUnit(UV[i])endifendifif u==K4[1]or u==K4[2]or u==K4[3]or u==K4[4]or u==K4[5]or(u==K4[6]and YX[i]>0)or(u==K4[7]and(zX[i]>0 or YX[i]==2))thencall SelectUnitRemoveForPlayer(u,p)call SelectUnitAddForPlayer(bj_lastCreatedUnit,p)set rR[i]=truecall AddSpecialEffectTargetUnitBJ("overhead",bj_lastCreatedUnit,"Abilities\\Spells\\Other\\Awaken\\Awaken.mdl")call DestroyEffect(bj_lastCreatedEffect)set ER[i]=bj_lastCreatedUnitset O4=(O4+1)call RemoveLocation(Q4)call DisplayTimedTextToPlayer(p,0,0,10.,"|CFFFF0000请从天下门派处选择你喜欢的门派后方可离开此地|r")call DisplayTimedTextToPlayer(p,0,0,10.,"|CFFFF0000输入-random可随机选择门派并获得额外60个木头，选取方式请到F9中寻找|r")endifelseset L4[i]=uif((u==K4[1]))thencall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFCCFF00若蝶|r
可加入门派：
|CFF00FFCC古墓 丐帮 全真 恒山 峨眉 武当 灵鹫宫 姑苏慕容 明教|r
基础全属性+9
额外属性
|cFF00FF00悟性+5 福缘+2 医术+3
|r
")call SetUnitAnimation(u,"attack")call FL(2)call ResetUnitAnimation(K4[1])elseif((u==K4[2]))thencall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFCCFF00潇侠|r
可加入门派：
|CFF00FFCC少林 古墓 丐帮 华山 全真 峨眉 武当 灵鹫宫 姑苏慕容 明教|r
基础全属性+9
额外属性
|cFF00FF00根骨+2 悟性+2 福缘+5 胆魄+1
|r
")call SetUnitAnimation(u,"attack")call FL(2)call ResetUnitAnimation(K4[2])elseif((u==K4[3]))thencall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFCCFF00莫言|r
可加入门派：
|CFF00FFCC古墓 丐帮 华山 血刀 恒山 峨眉 灵鹫宫 姑苏慕容 明教|r
基础全属性+9
额外属性
|cFF00FF00悟性+2 经脉+1 胆魄+5 医术+2
|r
")call SetUnitAnimation(u,"attack")call FL(2)call ResetUnitAnimation(K4[3])elseif((u==K4[4]))thencall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFCCFF00浪云|r
可加入门派：
|CFF00FFCC少林 古墓 丐帮 华山 血刀 武当 灵鹫宫 姑苏慕容 明教|r
基础全属性+9
额外属性
|cFF00FF00根骨+3 经脉+5 医术+2
|r
")call SetUnitAnimation(u,"attack")call FL(2)call ResetUnitAnimation(K4[4])elseif((u==K4[5]))thencall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFCCFF00魔君|r
可加入门派：
|CFF00FFCC少林 华山 全真 血刀 峨眉 武当 灵鹫宫 姑苏慕容 明教|r
基础全属性+9
额外属性
|cFF00FF00根骨+5 经脉+3 胆魄+2
|r
")call SetUnitAnimation(u,"attack")call FL(2)call ResetUnitAnimation(K4[5])elseif((u==K4[6]))thencall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFCCFF00兰馨|r
可加入门派：
|CFF00FFCC全部门派|r
基础全属性+9
额外属性
|cFF00FF00全属性+3
|r
")call SetUnitAnimation(u,"attack")call FL(2)call ResetUnitAnimation(K4[6])elseif((u==K4[7]))thencall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFCCFF00瑾轩|r
可加入门派：
|CFF00FFCC全部门派|r
基础全属性+9
额外属性
|cFF00FF00全属性+3
|r
")call SetUnitAnimation(u,"attack")call FL(2)call ResetUnitAnimation(K4[7])endifendifset p=nullset u=nullendfunctionfunction kx takes nothing returns booleanreturn((GetTriggerUnit()==Rs)and(kR[(1+GetPlayerId(GetTriggerPlayer()))]==0))endfunctionfunction vev takes nothing returns nothingif(GetUnitTypeId(GetTriggerUnit())=='nbdw')thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"|CFF00FFCC"+I2S(BA[2])+"|CFF00FFCC%精钢剑"+I2S(BA[3])+"|CFF00FFCC%精钢护腕"+I2S(BA[4])+"|CFF00FFCC%破军帽"+I2S(BA[5])+"|CFF00FFCC%破军鞋")elseif(GetUnitTypeId(GetTriggerUnit())=='nqb3')thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"|CFF00FFCC"+I2S(BA[1])+"|CFF00FFCC%锁喉枪")elseif(GetUnitTypeId(GetTriggerUnit())=='ndrw')thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"|CFF00FFCC"+I2S(BA[6])+"|CFF00FFCC%七星扇"+I2S(BA[7])+"|CFF00FFCC%七星锦服"+I2S(BA[8])+"|CFF00FFCC%七星戒指")elseif(GetUnitTypeId(GetTriggerUnit())=='nrzb')thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"|CFF00FFCC"+I2S(BA[9])+"|CFF00FFCC%追月手"+I2S(BA[10])+"|CFF00FFCC%云海链"+I2S(BA[11])+"|CFF00FFCC%烈火衣"+I2S(BA[12])+"|CFF00FFCC%霓云手套")elseif(GetUnitTypeId(GetTriggerUnit())=='nfpu')thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"|CFF00FFCC"+I2S(BA[13])+"|CFF00FFCC%影岗护符"+I2S(BA[14])+"|CFF00FFCC%饮血枪"+I2S(BA[15])+"|CFF00FFCC%乾坤丹")elseif(GetUnitTypeId(GetTriggerUnit())=='ngh2')thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"|CFF00FFCC"+I2S(BA[16])+"|CFF00FFCC%云灭护符"+I2S(BA[17])+"|CFF00FFCC%抗魔护符")elseif(GetUnitTypeId(GetTriggerUnit())=='nfsp')thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"|CFF00FFCC"+I2S(BA[18])+"|CFF00FFCC%神行鞋"+I2S(BA[19])+"|CFF00FFCC%重生链")elseif(GetUnitTypeId(GetTriggerUnit())=='nmgd')thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"|CFF00FFCC"+I2S(BA[20])+"|CFF00FFCC%晶玉扇"+I2S(BA[21])+"|CFF00FFCC%软猬甲")elseif(GetUnitTypeId(GetTriggerUnit())=='uktn')thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"|CFF00FFCC"+I2S(BA[21])+"|CFF00FFCC%倚天剑"+I2S(BA[23])+"|CFF00FFCC%屠龙刀"+I2S(BA[24])+"|CFF00FFCC%龙鳞剑")endifendfunctionfunction vxv takes nothing returns nothingif((GetUnitTypeId(ER[(1+GetPlayerId(GetTriggerPlayer()))])=='O002'))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"当前可加入以下门派：
|CFF00FFCC古墓 丐帮 全真 恒山 峨眉 武当 灵鹫宫 姑苏慕容 明教|r
")elseif((GetUnitTypeId(ER[(1+GetPlayerId(GetTriggerPlayer()))])=='O001'))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"当前可加入以下门派：
|CFF00FFCC少林 古墓 丐帮 华山 全真 峨眉 武当 灵鹫宫 姑苏慕容 明教|r
")elseif((GetUnitTypeId(ER[(1+GetPlayerId(GetTriggerPlayer()))])=='O003'))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"当前可加入以下门派：
|CFF00FFCC古墓 丐帮 华山 血刀 恒山 峨眉 灵鹫宫 姑苏慕容 明教|r
")elseif((GetUnitTypeId(ER[(1+GetPlayerId(GetTriggerPlayer()))])=='O004'))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"当前可加入以下门派：
|CFF00FFCC少林 古墓 丐帮 华山 血刀 武当 灵鹫宫 姑苏慕容 明教|r
")elseif((GetUnitTypeId(ER[(1+GetPlayerId(GetTriggerPlayer()))])=='O000'))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"当前可加入以下门派：
|CFF00FFCC少林 华山 全真 血刀 峨眉 武当 灵鹫宫 姑苏慕容 明教|r
")elseif((GetUnitTypeId(ER[(1+GetPlayerId(GetTriggerPlayer()))])=='O023'))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"当前可加入任意门派|r
")elseif((GetUnitTypeId(ER[(1+GetPlayerId(GetTriggerPlayer()))])=='O02J'))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,15.,"当前可加入任意门派|r
")endifendfunctionfunction vov takes nothing returns booleanreturn(IsUnitType((GetLeavingUnit()),(UNIT_TYPE_HERO))!=null)and kR[1+GetPlayerId(GetOwningPlayer(GetLeavingUnit()))]==0 and GetPlayerController(GetOwningPlayer(GetLeavingUnit()))==MAP_CONTROL_USERendfunctionfunction vrv takes nothing returns nothinglocal unit u=GetLeavingUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)set kR[i]=11call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"选择了〓自由门派〓|r")call SetPlayerName(p,"〓自由门派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步，你可以在主城和传送石之间任意传送了")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)call AdjustPlayerStateBJ(60,p,PLAYER_STATE_RESOURCE_LUMBER)set P4[i]=bj_lastCreatedUnitset dO[i]=dO[i]+5call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)set u=nullset p=nullendfunctionfunction viv takes nothing returns booleanreturn IsUnitType(GetLeavingUnit(),UNIT_TYPE_HERO)and GetPlayerController(GetOwningPlayer(GetLeavingUnit()))==MAP_CONTROL_USER and jv!=nullendfunctionfunction vav takes nothing returns nothinglocal unit u=GetLeavingUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)call DisplayTimedTextToPlayer(p,0,0,15,"|cFFFFFF00离开区域，挑战失败")if GetUnitTypeId(jv)=='n005' thenset xv[i]=trueendifif GetUnitTypeId(jv)=='o01W' thenset ev[i]=trueendifcall RemoveUnit(jv)set jv=nullset u=nullset p=nullendfunctionfunction ox takes nothing returns booleanreturn((((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and((GetItemTypeId(GetManipulatedItem())==1227894833)or(GetItemTypeId(GetManipulatedItem())==1227894834)or(GetItemTypeId(GetManipulatedItem())==1227894835)or(GetItemTypeId(GetManipulatedItem())==1227894836)or(GetItemTypeId(GetManipulatedItem())==1227894837)or(GetItemTypeId(GetManipulatedItem())==1227894838)or(GetItemTypeId(GetManipulatedItem())==1227894839)or(GetItemTypeId(GetManipulatedItem())==1227894840)or(GetItemTypeId(GetManipulatedItem())==1227894841)or(GetItemTypeId(GetManipulatedItem())=='I09E')or(GetItemTypeId(GetManipulatedItem())==1227894849))or(GetItemTypeId(GetManipulatedItem())=='I09N')or(GetItemTypeId(GetManipulatedItem())=='I0A2')))endfunctionfunction vnv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((kR[i]!=0))thenif GetItemTypeId(GetManipulatedItem())=='I09E' and kR[i]==11 and GetUnitLevel(u)<2 and GetPlayerState(p,PLAYER_STATE_RESOURCE_LUMBER)>=80 thenset kR[i]=13call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|CFFff9933玩家"+GetPlayerName(p)+"改拜入了〓姑苏慕容〓，大家一起膜拜他|r")call SetPlayerName(p,"〓姑苏慕容〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call AdjustPlayerStateBJ(-80,p,PLAYER_STATE_RESOURCE_LUMBER)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你已经加过门派了|r")endifelseif((GetItemTypeId(GetManipulatedItem())==1227894833))thenif((GetUnitTypeId(u)!='O002')and(GetUnitTypeId(u)!='O003'))thenset kR[i]=1call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓少林派〓|r")call SetPlayerName(p,"〓少林派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步，你可以在主城和传送石之间任意传送了")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset cR[i]=(cR[i]+3)set bR[i]=(bR[i]+2)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifelseif((GetItemTypeId(GetManipulatedItem())==1227894834))thenif((GetUnitTypeId(u)!='O000'))thenset kR[i]=3call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓丐帮〓|r")call SetPlayerName(p,"〓丐帮〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步，你可以在主城和传送石之间任意传送了")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset HR[i]=(HR[i]+3)set bR[i]=(bR[i]+2)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifelseif((GetItemTypeId(GetManipulatedItem())==1227894835))thenif((GetUnitTypeId(u)!='O002'))thenset kR[i]=4call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓华山派〓|r")call SetPlayerName(p,"〓华山派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步，你可以在主城和传送石之间任意传送了")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset XR[i]=(XR[i]+3)set HR[i]=(HR[i]+2)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifelseif((GetItemTypeId(GetManipulatedItem())==1227894836))thenif((GetUnitTypeId(u)!='O004')and(GetUnitTypeId(u)!='O003'))thenset kR[i]=5call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓全真教〓|r")call SetPlayerName(p,"〓全真教〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步，你可以在主城和传送石之间任意传送了")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset bR[i]=(bR[i]+3)set fR[i]=(fR[i]+2)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifelseif((GetItemTypeId(GetManipulatedItem())==1227894837))thenif((GetUnitTypeId(u)!='O001')and(GetUnitTypeId(u)!='O002'))thenset kR[i]=6call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓血刀门〓|r")call SetPlayerName(p,"〓血刀门〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步（可以在主城和传送石之间任意传送了）
获得新手大礼包（可以在背包中打开获得惊喜哦）")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset cR[i]=(cR[i]+2)set HR[i]=(HR[i]+3)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifelseif((GetItemTypeId(GetManipulatedItem())==1227894838))thenif((GetUnitTypeId(u)!='O004')and(GetUnitTypeId(u)!='O000')and(GetUnitTypeId(u)!='O001'))thenset kR[i]=7call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓恒山派〓|r")call SetPlayerName(p,"〓恒山派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步（可以在主城和传送石之间任意传送了）
获得新手大礼包（可以在背包中打开获得惊喜哦）")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset JR[i]=(JR[i]+3)set fR[i]=(fR[i]+2)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifelseif((GetItemTypeId(GetManipulatedItem())==1227894839))thenif((GetUnitTypeId(u)!='O004'))thenset kR[i]=8call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓峨眉派〓|r")call SetPlayerName(p,"〓峨眉派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步（可以在主城和传送石之间任意传送了）
获得新手大礼包（可以在背包中打开获得惊喜哦）")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset JR[i]=(JR[i]+1)set bR[i]=(bR[i]+1)set fR[i]=(fR[i]+3)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifelseif((GetItemTypeId(GetManipulatedItem())==1227894840))thenif((GetUnitTypeId(u)!='O001'))thenset kR[i]=$Acall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓星宿派〓|r")call SetPlayerName(p,"〓星宿派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步（可以在主城和传送石之间任意传送了）
获得新手大礼包（可以在背包中打开获得惊喜哦）")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'set Q4=GetRandomLocInRect(He)call UnitRemoveAbility(u,'Avul')call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset HR[i]=(HR[i]+2)set JR[i]=(JR[i]+1)set bR[i]=(bR[i]+2)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifelseif((GetItemTypeId(GetManipulatedItem())==1227894841))thenif((GetUnitTypeId(u)!='O003'))thenset kR[i]=9call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓武当派〓|r")call SetPlayerName(p,"〓武当派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步（可以在主城和传送石之间任意传送了）
获得新手大礼包（可以在背包中打开获得惊喜哦）")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call UnitRemoveAbility(u,'Avul')call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset cR[i]=(cR[i]+1)set bR[i]=(bR[i]+2)set fR[i]=(fR[i]+2)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifelseif((GetItemTypeId(GetManipulatedItem())==1227894849))thenif((GetUnitTypeId(u)!='O000'))thenset kR[i]=2call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓古墓派〓|r")call SetPlayerName(p,"〓古墓派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步（可以在主城和传送石之间任意传送了）
获得新手大礼包（可以在背包中打开获得惊喜哦）")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset XR[i]=(XR[i]+2)set bR[i]=(bR[i]+1)set fR[i]=(fR[i]+2)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifelseif((GetItemTypeId(GetManipulatedItem())=='I09N'))thenif YX[i]>0 thenset kR[i]=14call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓明教〓|r")call SetPlayerName(p,"〓明教〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步（可以在主城和传送石之间任意传送了）
获得新手大礼包（可以在背包中打开获得惊喜哦）")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset XR[i]=(XR[i]+3)set bR[i]=(bR[i]+2)set fR[i]=(fR[i]+2)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000该门派为赞助游戏者特别制作，暂不对普通玩家开放")endifelseif((GetItemTypeId(GetManipulatedItem())=='I0A2'))thenif((GetUnitTypeId(u)!='O002')and(GetUnitTypeId(u)!='O003'))thenset kR[i]=15call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933恭喜加入〓衡山派〓|r")call SetPlayerName(p,"〓衡山派〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff9933获得武功：凌波微步，你可以在主城和传送石之间任意传送了")call UnitAddAbility(u,'A05R')if YX[i]<2 and ZX[i]<1 thencall UnitAddAbility(u,'A040')call UnitAddAbility(u,'A041')call UnitAddAbility(u,'A042')endifset I7[(((i-1)*20)+8)]='A05R'call UnitRemoveAbility(u,'Avul')set Q4=GetRandomLocInRect(He)call SetUnitPositionLoc(u,Q4)call PanCameraToTimedLocForPlayer(p,Q4,0)call CreateNUnitsAtLoc(1,'nvul',p,Q4,bj_UNIT_FACING)set P4[i]=bj_lastCreatedUnitset XR[i]=(XR[i]+3)set JR[i]=(JR[i]+2)call RemoveLocation(Q4)call UnitAddItemByIdSwapped(1227896394,u)elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|CFFff0000你的角色不能加入该门派")endifendifset p=nullset u=nullendfunctionfunction rx takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetOrderedUnit()))==MAP_CONTROL_USER)and((GetIssuedOrderId()==$D0012)or(GetIssuedOrderId()==$D0016)))endfunctionfunction sx takes nothing returns nothingset oR=GetOrderPointLoc()if((GetIssuedOrderId()==$D0012))thencall IssuePointOrderByIdLoc(GetOrderedUnit(),$D000F,oR)elseif((GetIssuedOrderId()==$D0016))thencall IssuePointOrderByIdLoc(GetOrderedUnit(),$D0012,oR)endifendifcall RemoveLocation(oR)endfunctionfunction vVv takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetOrderedUnit()))==MAP_CONTROL_USER)and(IsPlayerAlly(GetOwningPlayer(GetOrderedUnit()),GetOwningPlayer(GetOrderTargetUnit())))and(GetIssuedOrderId()==$D0003))endfunctionfunction vEv takes nothing returns nothingset oR=GetUnitLoc(GetOrderTargetUnit())call IssuePointOrderByIdLoc(GetOrderedUnit(),$D0003,oR)call RemoveLocation(oR)endfunctionfunction xx takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetOrderedUnit()))==MAP_CONTROL_USER)and(GetIssuedOrderId()==$D0012))endfunctionfunction yx takes nothing returns nothingcall IssueTargetOrderById(GetOrderedUnit(),$D000F,GetOrderTargetUnit())endfunctionfunction Ax takes nothing returns nothingcall Cheat("DooConV")endfunctionfunction vXv takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)call ClearTextMessagesBJ(ov(p))call DisplayTextToPlayer(p,0,0,"|cFFFF0000人物属性：")call DisplayTextToPlayer(p,0,0,"|cFFcc99ff〓〓〓〓〓〓〓〓〓〓〓")call DisplayTextToPlayer(p,0,0,("|cFF00FFFF暴击率 ：   "+(I2S(R2I((tO[i]*100.)))+"%")))call DisplayTextToPlayer(p,0,0,("|cFF00FFFF暴击伤害 ：   "+(I2S(R2I((QO[i]*100.)))+"%")))call DisplayTextToPlayer(p,0,0,("|cFF00FFFF武功伤害加成 ：   "+(I2S(R2I((fA[i]*100.)))+"%")))call DisplayTextToPlayer(p,0,0,("|cFF00FFFF伤害吸收 ：   "+(I2S(IMinBJ(R2I((FA[i]*100.)),80))+"%")))call DisplayTextToPlayer(p,0,0,"|cFFcc99ff〓〓〓〓〓〓〓〓〓〓〓")call DisplayTextToPlayer(p,0,0,("|cFF00FFFF根骨 ：   "+I2S(cR[i])))call DisplayTextToPlayer(p,0,0,("|cFF00FFFF悟性 ：   "+I2S(XR[i])))call DisplayTextToPlayer(p,0,0,("|cFF00FFFF经脉 ：   "+I2S(bR[i])))call DisplayTextToPlayer(p,0,0,("|cFF00FFFF福缘 ：   "+I2S(fR[i])))call DisplayTextToPlayer(p,0,0,("|cFF00FFFF胆魄 ：   "+I2S(HR[i])))call DisplayTextToPlayer(p,0,0,("|cFF00FFFF医术 ：   "+I2S(JR[i])))call DisplayTextToPlayer(p,0,0,"|cFFcc99ff〓〓〓〓〓〓〓〓〓〓〓")call DisplayTextToPlayer(p,0,0,("|cFF33FF00绝学领悟力："+I2S(qO[i])))call DisplayTextToPlayer(p,0,0,("|cFF33FF00修行："+I2S(JI[i])))call DisplayTextToPlayer(p,0,0,("|cFF33FF00武学修为：第"+(I2S(WA[i])+"层")))call DisplayTextToPlayer(p,0,0,("|cFF33FF00江湖声望："+I2S(dI[i])))call DisplayTextToPlayer(p,0,0,("|cFF33FF00守家积分："+I2S(YA[i])))if Ce[i]!=1 thencall DisplayTextToPlayer(p,0,0,("|cFF33FF00当前用丹数量："+(I2S(HI[i])+" / 10")))elsecall DisplayTextToPlayer(p,0,0,("|cFF33FF00当前用丹数量："+(I2S(HI[i])+" / 15")))endifset p=nullendfunctionfunction vOv takes nothing returns booleanreturn(hX==false and HX==false)endfunctionfunction vRv takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer id=GetHandleId(t)local integer i=0local integer HJ=0if((S2I(SubStringBJ(GetEventPlayerChatString(),3,5))==0))thenset i=10elseset i=S2I(SubStringBJ(GetEventPlayerChatString(),3,5))*10endifset HJ=GetPlayerTechCountSimple('R001',Player(12))if(HJ==50)thencall DisplayTextToPlayer(Player(0),0,0,"当前已为最高难度了")elseif HJ+i>=50 thenset i=50-HJendifcall AddPlayerTechResearched(Player(12),'R001',i)call AddPlayerTechResearched(Player(6),'R001',i)call AddPlayerTechResearched(Player(15),'R001',i)set gX=gX+i/ 10call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("玩家1输入“up”提高了游戏难度，目前游戏难度为"+I2S(gX)))if gX==5 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF该模式下进攻怪具有|cFFFF0000抽血术")endifendifset t=nullendfunctionfunction vIv takes nothing returns nothingcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FF40主机开始选择游戏难度")if(((GetPlayerController(Player(0))==MAP_CONTROL_USER)and(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING)))thencall DialogClear(pX)call DialogSetMessage(pX,"请选择游戏难度")if gX<=0 thenset PX=DialogAddButtonBJ(pX,"|cFF00CC00初入江湖")endifif gX<=1 thenset qX=DialogAddButtonBJ(pX,"|cFFCC0066牛刀小试")endifif gX<=2 thenset QX=DialogAddButtonBJ(pX,"|cFFFF6600登堂入室")endifif gX<=3 thenset sX=DialogAddButtonBJ(pX,"|cFF0041FF炉火纯青")endifif gX<=4 thenset SX=DialogAddButtonBJ(pX,"|cFF1FBF00华山论剑")endifif gX<=5 thenset tX=DialogAddButtonBJ(pX,"|cFFFF0000决战江湖")endifcall DialogDisplayBJ(true,pX,Player(0))endifendfunctionfunction vAv takes nothing returns nothingif GetClickedButton()==PX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF主机选择了难度|cFF00CC00初入江湖")call SetPlayerTechResearched(Player(12),'R001',0)call SetPlayerTechResearched(Player(6),'R001',0)call SetPlayerTechResearched(Player(15),'R001',0)endifif GetClickedButton()==qX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF主机选择了难度|cFFCC0066牛刀小试")call SetPlayerTechResearched(Player(12),'R001',10)call SetPlayerTechResearched(Player(6),'R001',10)call SetPlayerTechResearched(Player(15),'R001',10)endifif GetClickedButton()==QX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF主机选择了难度|cFFFF6600登堂入室")call SetPlayerTechResearched(Player(12),'R001',20)call SetPlayerTechResearched(Player(6),'R001',20)call SetPlayerTechResearched(Player(15),'R001',20)endifif GetClickedButton()==sX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF主机选择了难度|cFF0041FF炉火纯青")call SetPlayerTechResearched(Player(12),'R001',30)call SetPlayerTechResearched(Player(6),'R001',30)call SetPlayerTechResearched(Player(15),'R001',30)endifif GetClickedButton()==SX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF主机选择了难度|cFF1FBF00华山论剑")call SetPlayerTechResearched(Player(12),'R001',40)call SetPlayerTechResearched(Player(6),'R001',40)call SetPlayerTechResearched(Player(15),'R001',40)endifif GetClickedButton()==tX thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF主机选择了难度|cFFFF0000决战江湖")call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FFFF该模式下进攻怪具有|cFFFF0000抽血术")call SetPlayerTechResearched(Player(12),'R001',50)call SetPlayerTechResearched(Player(6),'R001',50)call SetPlayerTechResearched(Player(15),'R001',50)endifendfunctionfunction Ex takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction vNv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(ge[i])thencall StartTimerBJ(OI[i],false,7.)elsecall StartTimerBJ(OI[i],false,15.)endifcall TimerDialogDisplayForPlayerBJ(true,bj_lastCreatedTimerDialog,p)call CreateTimerDialogBJ(bj_lastStartedTimer,"复活倒计时:")set R7[i]=bj_lastCreatedTimerDialogset he[i]=trueset N8[i]=0call GroupRemoveUnit(k9,u)call GroupRemoveUnit(j9,u)call GroupRemoveUnit(s9,u)call GroupRemoveUnit(r9,u)if(sw(u,'I02S')or sw(u,1227895373)or sw(u,1227895377)or sw(u,1227895378)or sw(u,1227895376))thenif Ce[i]!=3 thencall DisplayTextToPlayer(p,0,0,"|cFFff0000养武消失了")endifendifset u=nullset p=nullendfunctionfunction vbv takes nothing returns nothingcall DestroyTimerDialog(R7[1])set Q4=GetRectCenter(He)call ReviveHeroLoc(ER[1],Q4,true)call PanCameraToTimedLocForPlayer(GetOwningPlayer(ER[1]),Q4,0)call RemoveLocation(Q4)set he[1]=falseif(((sw(ER[1],'I02S'))or(sw(ER[1],1227895373))or(sw(ER[1],1227895377))or(sw(ER[1],1227895378))or(sw(ER[1],1227895376))))thenif Ce[1]!=3 thencall RemoveItem(UU(ER[1],'I02S'))call RemoveItem(UU(ER[1],1227895373))call RemoveItem(UU(ER[1],1227895377))call RemoveItem(UU(ER[1],1227895378))call RemoveItem(UU(ER[1],1227895376))endifendifif GetUnitAbilityLevel(ER[1],'A035')>0 thencall UnitRemoveAbility(ER[1],'A035')call UnitAddAbility(ER[1],'A034')call SetUnitAbilityLevel(ER[1],'A034',LoadInteger(Jv,GetHandleId(GetOwningPlayer(ER[1])),'A034'*5))endifendfunctionfunction vBv takes nothing returns nothingcall DestroyTimerDialog(R7[2])set Q4=GetRectCenter(He)call ReviveHeroLoc(ER[2],Q4,true)call PanCameraToTimedLocForPlayer(GetOwningPlayer(ER[2]),Q4,0)call RemoveLocation(Q4)set he[2]=falseif(((sw(ER[2],'I02S'))or(sw(ER[2],1227895373))or(sw(ER[2],1227895377))or(sw(ER[2],1227895378))or(sw(ER[2],1227895376))))thenif Ce[2]!=3 thencall RemoveItem(UU(ER[2],'I02S'))call RemoveItem(UU(ER[2],1227895373))call RemoveItem(UU(ER[2],1227895377))call RemoveItem(UU(ER[2],1227895378))call RemoveItem(UU(ER[2],1227895376))endifendifif GetUnitAbilityLevel(ER[2],'A035')>0 thencall UnitRemoveAbility(ER[2],'A035')call UnitAddAbility(ER[2],'A034')call SetUnitAbilityLevel(ER[2],'A034',LoadInteger(Jv,GetHandleId(GetOwningPlayer(ER[2])),'A034'*5))endifendfunctionfunction vcv takes nothing returns nothingcall DestroyTimerDialog(R7[3])set Q4=GetRectCenter(He)call ReviveHeroLoc(ER[3],Q4,true)call PanCameraToTimedLocForPlayer(GetOwningPlayer(ER[3]),Q4,0)call RemoveLocation(Q4)set he[3]=falseif(((sw(ER[3],'I02S'))or(sw(ER[3],1227895373))or(sw(ER[3],1227895377))or(sw(ER[3],1227895378))or(sw(ER[3],1227895376))))thenif Ce[3]!=3 thencall RemoveItem(UU(ER[3],'I02S'))call RemoveItem(UU(ER[3],1227895373))call RemoveItem(UU(ER[3],1227895377))call RemoveItem(UU(ER[3],1227895378))call RemoveItem(UU(ER[3],1227895376))endifendifif GetUnitAbilityLevel(ER[3],'A035')>0 thencall UnitRemoveAbility(ER[3],'A035')call UnitAddAbility(ER[3],'A034')call SetUnitAbilityLevel(ER[3],'A034',LoadInteger(Jv,GetHandleId(GetOwningPlayer(ER[3])),'A034'*5))endifendfunctionfunction vCv takes nothing returns nothingcall DestroyTimerDialog(R7[4])set Q4=GetRectCenter(He)call ReviveHeroLoc(ER[4],Q4,true)call PanCameraToTimedLocForPlayer(GetOwningPlayer(ER[4]),Q4,0)call RemoveLocation(Q4)set he[4]=falseif(((sw(ER[4],'I02S'))or(sw(ER[4],1227895373))or(sw(ER[4],1227895377))or(sw(ER[4],1227895378))or(sw(ER[4],1227895376))))thenif Ce[4]!=3 thencall RemoveItem(UU(ER[4],'I02S'))call RemoveItem(UU(ER[4],1227895373))call RemoveItem(UU(ER[4],1227895377))call RemoveItem(UU(ER[4],1227895378))call RemoveItem(UU(ER[4],1227895376))endifendifif GetUnitAbilityLevel(ER[4],'A035')>0 thencall UnitRemoveAbility(ER[4],'A035')call UnitAddAbility(ER[4],'A034')call SetUnitAbilityLevel(ER[4],'A034',LoadInteger(Jv,GetHandleId(GetOwningPlayer(ER[4])),'A034'*5))endifendfunctionfunction vdv takes nothing returns nothingcall DestroyTimerDialog(R7[5])set Q4=GetRectCenter(He)call ReviveHeroLoc(ER[5],Q4,true)call PanCameraToTimedLocForPlayer(GetOwningPlayer(ER[5]),Q4,0)call RemoveLocation(Q4)set he[5]=falseif(((sw(ER[5],'I02S'))or(sw(ER[5],1227895373))or(sw(ER[5],1227895377))or(sw(ER[5],1227895378))or(sw(ER[5],1227895376))))thenif Ce[5]!=3 thencall RemoveItem(UU(ER[5],'I02S'))call RemoveItem(UU(ER[5],1227895373))call RemoveItem(UU(ER[5],1227895377))call RemoveItem(UU(ER[5],1227895378))call RemoveItem(UU(ER[5],1227895376))endifendifif GetUnitAbilityLevel(ER[5],'A035')>0 thencall UnitRemoveAbility(ER[5],'A035')call UnitAddAbility(ER[5],'A034')call SetUnitAbilityLevel(ER[5],'A034',LoadInteger(Jv,GetHandleId(GetOwningPlayer(ER[5])),'A034'*5))endifendfunctionfunction Qx takes nothing returns nothingcall CreateQuestBJ(0,"|cFFFF0000人物属性","招式伤害：影响人物的所有武功的威力，中后期影响较大
内力：加成武功伤害百分比，中后期影响较大
真实伤害：造成不受内力影响的实际伤害，前期影响较大
绝学领悟力：影响绝学的发挥效果和威力
根骨：影响任务和武功学习条件，同时提高技能暴击力
悟性：影响任务和武功学习条件，同时决定技能升级的概率
经脉：影响任务和武功学习条件，同时提高法力回复速度
福缘：影响任务和武功学习条件，同时提高被动武学触发概率
胆魄：影响任务和武功学习条件，同时提高杀怪回复能力
医术：影响任务和武功学习条件，同时提高自然生命回复速度","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")call CreateQuestBJ(0,"|cFFFF6600人物武功","门派武功：加入门派后每个英雄都会有3个武功，分别在3、8、15级时自动领悟
门派心法：每个门派都有两种心法，可以在完成历练2后二选其一修习
江湖武功：分为武功和心法两大类，需要通过使用武功秘籍获得
绝学和绝内：后期厉害的大招，也需要通过使用武功秘籍获得
绝阵：还未开放","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")call CreateQuestBJ(0,"|cFF00FF00游戏指令","按键Esc：|cFFCCFF33查看人物属性|r
输入“sj”：|cFFCCFF33恢复视角|r
输入“bl”：|cFFCCFF33查看伴侣属性|r
输入“jy”：|cFFCCFF33将剑意转化为性格属性|r
输入“up”：|cFFCCFF33非特殊事件模式下提高难度（只能提不能降）|r
输入“fb”：|cFFCCFF33查询副本重置时间|r
输入“yx”：|cFFCCFF33查询宝宝携带草药的总药性|r
游戏开始2分钟内输入“sw”：|cFFCCFF33试玩模式|r
","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")call CreateQuestBJ(0,"|cFF0000FF游戏指令2","输入“cksx”：|cFFCCFF33查看剩余自由属性点数|r
输入属性拼音首字母如“gg”：|cFFCCFF33根骨+1|r
输入属性拼音首字母加数值如“fy5”：|cFFCCFF33福缘+5|r
输入“ckwq”：|cFFCCFF33查询自制武器属性|r
输入“ckwg”：|cFFCCFF33查询自创武功|r
输入“ckjn”：|cFFCCFF33查询人物性格和技能升重进度|r
输入“ck”：|cFFCCFF33查询技能伤害|r
输入“ckjf”：|cFFCCFF33查询守家积分|r
","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")call CreateQuestBJ(2,"|cFFFF00CC称号系统","在游戏中，可以获得两种称号：门派称号和副职称号
门派称号：如果你的所有门派武学和门派内功均达到6级，可以获得各门派的掌门称号；在获得掌门之前达成一定的条件，获得掌门称号时还可以获得额外的门派称号，具体门派称号的获得方法可以参考论坛的攻略。注意获得门派称号的契机只有一次。
副职称号：游戏中的七种副职达到一定条件时，可以分别获得相应的副职大师称号，增加与该副职相关的额外能力，具体副职大师称号的获得方法可以参考论坛的攻略","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")call CreateQuestBJ(2,"|cFFFF0000副职玩法","玩家可在NPC郭靖处选择自己的副职，加入副职后会获得一些独特的能力
副职满足一定条件后，可以获得相应的大师称号，获得大师后会额外获得一些能力
炼丹师：可使用炼丹系统并可多服食五颗丹药
锻造师：可使用镶嵌和锻造系统
兵器师：镇妖死亡不掉落，拾取和冶炼兵器不受历练限制
练气师：每提升一次等级增加10点内力
寻宝师：副本双倍掉落
鉴定师：爆双倍古董，可以使用古董换书，古董以最高价卖出
丫鬟：携带两把武器及两件衣服
精武师：技能升级到九重获得额外自创武学点，可以打出奇武
更多大师获得方式和作用请到NPC随风而逝de风处查看","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")call CreateQuestBJ(2,"|cFFFF6600称号系统","玩家4个门派武功全部达到6级可获得掌门称号
在获得掌门称号时若达到一定条件，可同时获得其他称号
有一些称号与掌门无关，具体可参考网站或论坛的攻略
","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")call CreateQuestBJ(2,"|cFF00FF00隐藏门派和VIP门派","游戏中有两个隐藏门派：姑苏慕容和灵鹫宫和一个VIP门派：明教
隐藏门派的选择方式:灵鹫宫选人后输入www.juezhanjianghu.com，慕容世家选人后输入jzjh.uuu9.com或3级前去找慕容复
明教的选择方式：百度17玩吧进入决战江湖专区购买VIP礼包，按照专区提供的方法选择","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")call CreateQuestBJ(2,"|cFF0000FF游戏网站","17玩吧：|cFFCCFF33www.17wanba.cc|r
专区论坛：|cFFCCFF33jzjhbbs.uuu9.com|r
游戏作者：|cFFCCFF33云杨 Zei_kale|r
游戏QQ群：|cFFCCFF33159030768, 369925013

关注武侠，支持作者，详情请在网站和论坛查询","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")endfunctionfunction Ux takes nothing returns booleanreturn((GetTriggerUnit()==LN)and(IsUnitAlly(GetAttacker(),Player(5))))endfunctionfunction Vx takes nothing returns nothingcall IssueImmediateOrderById(GetAttacker(),$D0004)endfunctionfunction Xx takes nothing returns nothingset bj_forLoopBIndex=1set bj_forLoopBIndexEnd=6loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndcall UnitRemoveItemSwapped(UnitItemInSlotBJ(GetEnumUnit(),bj_forLoopBIndex),GetEnumUnit())set bj_forLoopBIndex=bj_forLoopBIndex+1endloopcall RemoveUnit(GetEnumUnit())endfunctionfunction vDv takes nothing returns nothingcall ForGroupBJ((Xw((GetTriggerPlayer()),null)),function Xx)call yv(bj_lastCreatedMultiboard,4,((1+GetPlayerId(GetTriggerPlayer()))+2),100.,20.,100.,0)call mw(bj_lastCreatedMultiboard,5,((1+GetPlayerId(GetTriggerPlayer()))*4-2),"离开")endfunctionfunction ey takes nothing returns booleanreturn((IsUnitEnemy(GetDyingUnit(),GetOwningPlayer(GetKillingUnit())))and((GetOwningPlayer(GetTriggerUnit())==Player(6))or(GetOwningPlayer(GetTriggerUnit())==Player(7))))endfunctionfunction vfv takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)local integer i=1set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)if((GetOwningPlayer(GetTriggerUnit())==Player(7)))thenif((sw(ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],1227896391)))thenset T7=GetRandomReal(.95,(.95+(I2R(fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])/ 50.)))set U7=(T7*(30.*(I2R((SR+1))/ 1.)))call AdjustPlayerStateBJ(R2I(U7),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)elseset T7=GetRandomReal(.95,(.95+(I2R(fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])/ 50.)))set U7=(T7*(15.*(I2R((SR+1))/ 1.)))call AdjustPlayerStateBJ(R2I(U7),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)endifif((sw(ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],'I06I')))thenif((GetRandomInt(1,100)<=15))thencall AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)endifendifif((sw(ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],1227896390)))thenset dI[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(dI[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+((SR/ 7)+2))endifif((sw(ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],1227896392)))thencall AddHeroXP(ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],(GetUnitLevel(GetTriggerUnit())*20),true)endifelseset T7=GetRandomReal(.95,(.95+(I2R(fR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])/ 50.)))set U7=(T7*(25.*(I2R((SR+1))/ 1.)))call AdjustPlayerStateBJ(R2I(U7),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)if((GetUnitPointValue(GetTriggerUnit())==102))thenset i=1loopexitwhen i>=6set YA[i]=YA[i]+15*(10-TU())/ 10set i=i+1endloopset ae=(ae+($A+GetPlayerTechCountSimple('R001',Player(6))))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"击杀名门高手，每位玩家获得守家积分+"+I2S(YA[i]+15*(10-TU())/ 10))call SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,50)<=5))thencall SJ(RN[GetRandomInt(1,12)],LoadLocationHandle(Jv,id*cx,$1769D332))if aA[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]thencall SJ(RN[GetRandomInt(1,12)],LoadLocationHandle(Jv,id*cx,$1769D332))endifendifif((GetRandomInt(1,50)<=2))thencall SJ(1227897138,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,100)<=10))thencall SJ('I06N',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,90)<=10))thencall SJ('I06K',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,80)<=10))thencall SJ(1227896397,LoadLocationHandle(Jv,id*cx,$1769D332))endifendifendifendifcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetUnitPointValue(GetTriggerUnit())==101))thenset i=1loopexitwhen i>=6set YA[i]=YA[i]+30*(10-TU())/ 10set i=i+1endloopset ae=(ae+($A+GetPlayerTechCountSimple('R001',Player(6))))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"击杀BOSS，每位玩家获得守家积分+"+I2S(YA[i]+30*(10-TU())/ 10))set ae=(ae+(30+GetPlayerTechCountSimple('R001',Player(6))))if GetRandomInt(1,100)<=50 thenset dO[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(dO[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cFF33CC00"+GetPlayerName(GetOwningPlayer(GetKillingUnit()))+"|cFF33CC00击杀了BOSS"+GetUnitName(GetTriggerUnit())+"|cFF33CC00获得了一个自由属性点")endifcall SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))call SJ(RN[GetRandomInt(1,12)],LoadLocationHandle(Jv,id*cx,$1769D332))call SJ(RN[GetRandomInt(1,12)],LoadLocationHandle(Jv,id*cx,$1769D332))if aA[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]thencall SJ(RN[GetRandomInt(1,12)],LoadLocationHandle(Jv,id*cx,$1769D332))call SJ(RN[GetRandomInt(1,12)],LoadLocationHandle(Jv,id*cx,$1769D332))endifcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))elseif GetKillingUnit()!=null thenset YA[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(YA[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)endifendifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction hy takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nbds'))endfunctionfunction vFv takes nothing returns nothingif((de==false))thencall FlushChildHashtable(Jv,GetHandleId(GetExpiredTimer()))call DestroyTimer(GetExpiredTimer())elseif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5E9EB4B3)<=10.))thencall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$5E9EB4B3,100.)elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$5E9EB4B3,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5E9EB4B3)-10.))endifif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$63F0AAA2)<=10.))thencall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$63F0AAA2,100.)elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$63F0AAA2,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$63F0AAA2)-10.))endifif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5CF6751E)<=.1))thencall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$5CF6751E,100.)elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$5CF6751E,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5CF6751E)-10.))endifif((LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$6329FB8A)<=.0))thencall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$6329FB8A,70.)elsecall SaveReal(Jv,GetHandleId(GetExpiredTimer()),-$6329FB8A,(LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$6329FB8A)-10.))endifcall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06,1)if((ER[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]!=null))thencall DestroyTextTag(ee[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)])call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,GetUnitLoc(ER[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060,pu(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),150.,110.))call CreateTextTagLocBJ("武林盟主",LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060),100.,11.,LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5E9EB4B3),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$63F0AAA2),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5CF6751E),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$6329FB8A))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060))set ee[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]=bj_lastCreatedTextTagendifcall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06,(LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)+1))if((ER[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]!=null))thencall DestroyTextTag(ee[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)])call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,GetUnitLoc(ER[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060,pu(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),150.,110.))call CreateTextTagLocBJ("武林盟主",LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060),100.,11.,LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5E9EB4B3),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$63F0AAA2),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5CF6751E),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$6329FB8A))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060))set ee[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]=bj_lastCreatedTextTagendifcall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06,(LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)+1))if((ER[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]!=null))thencall DestroyTextTag(ee[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)])call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,GetUnitLoc(ER[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060,pu(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),150.,110.))call CreateTextTagLocBJ("武林盟主",LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060),100.,11.,LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5E9EB4B3),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$63F0AAA2),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5CF6751E),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$6329FB8A))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060))set ee[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]=bj_lastCreatedTextTagendifcall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06,(LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)+1))if((ER[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]!=null))thencall DestroyTextTag(ee[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)])call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,GetUnitLoc(ER[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060,pu(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),150.,110.))call CreateTextTagLocBJ("武林盟主",LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060),100.,11.,LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5E9EB4B3),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$63F0AAA2),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5CF6751E),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$6329FB8A))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060))set ee[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]=bj_lastCreatedTextTagendifcall SaveInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06,(LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)+1))if((ER[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]!=null))thencall DestroyTextTag(ee[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)])call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F,GetUnitLoc(ER[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]))call SaveLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060,pu(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F),150.,110.))call CreateTextTagLocBJ("武林盟主",LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060),100.,11.,LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5E9EB4B3),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$63F0AAA2),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$5CF6751E),LoadReal(Jv,GetHandleId(GetExpiredTimer()),-$6329FB8A))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),$5E83114F))call RemoveLocation(LoadLocationHandle(Jv,GetHandleId(GetExpiredTimer()),-$72C3E060))set ee[LoadInteger(Jv,GetHandleId(GetExpiredTimer()),-$566CDF06)]=bj_lastCreatedTextTagendifendifendfunctionfunction vgv takes nothing returns nothinglocal timer kylocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)local integer i=0set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)set i=1loopexitwhen i>=6set AV[i]=AV[i]+ae/ 50call eQ(Player(i-1),"总积分",1,AV[i])call wq(Player(i-1),"JueZhan","JiangHu"+I2S(i),1)set i=i+1endloopcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF00B2决战江湖1.51的游戏总评分："+(I2S(ae)+"分（通关）")))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF00B2恭喜你们通关，游戏将在2分钟后结束
游戏专区论坛：jzjhbbs.uuu9.com
游戏交流QQ群：159030768 369925013
关注武侠，让决战江湖走得更远，期待你的参与，详情请在专区论坛查询")set de=truecall SaveReal(Jv,id*cx,-$5E9EB4B3,40.)call SaveReal(Jv,id*cx,-$63F0AAA2,70.)call SaveReal(Jv,id*cx,-$5CF6751E,100.)call SaveReal(Jv,id*cx,-$6329FB8A,70.)set ky=CreateTimer()call SaveReal(Jv,GetHandleId(ky),-$5E9EB4B3,LoadReal(Jv,id*cx,-$5E9EB4B3))call SaveReal(Jv,GetHandleId(ky),-$63F0AAA2,LoadReal(Jv,id*cx,-$63F0AAA2))call SaveReal(Jv,GetHandleId(ky),-$5CF6751E,LoadReal(Jv,id*cx,-$5CF6751E))call SaveReal(Jv,GetHandleId(ky),-$6329FB8A,LoadReal(Jv,id*cx,-$6329FB8A))call TimerStart(ky,.04,true,function vFv)call FL(60.)call SaveInteger(Jv,id,-$1317DA19,cx)call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF00B2决战江湖1.51的游戏总评分："+(I2S(ae)+"分（通关）")))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF00B2恭喜你们通关，游戏将在1分钟后结束
游戏专区论坛：jzjhbbs.uuu9.com
游戏交流QQ群：159030768 369925013
关注武侠，让决战江湖走得更远，期待你的参与，详情请在专区论坛查询")call FL(60.)call SaveInteger(Jv,id,-$1317DA19,cx)call CustomVictoryBJ(Player(0),true,true)call CustomVictoryBJ(Player(1),true,true)call CustomVictoryBJ(Player(2),true,true)call CustomVictoryBJ(Player(3),true,true)call CustomVictoryBJ(Player(4),true,true)call FlushChildHashtable(Jv,id*cx)set ky=nullendfunctionfunction vGv takes nothing returns nothinglocal integer i=0call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF00B2决战江湖1.51的游戏总评分："+(I2S(ae)+"分（战败）")))set i=1loopexitwhen i>=6set AV[i]=AV[i]+ae/ 100call eQ(Player(i-1),"总积分",1,AV[i])call wq(Player(i-1),"JueZhan","JiangHu"+I2S(i),1)set i=i+1endloopcall CustomDefeatBJ(Player(0),"没有能守护住正派武林!")call CustomDefeatBJ(Player(1),"没有能守护住正派武林!")call CustomDefeatBJ(Player(2),"没有能守护住正派武林!")call CustomDefeatBJ(Player(3),"没有能守护住正派武林!")call CustomDefeatBJ(Player(4),"没有能守护住正派武林!")endfunctionfunction vhv takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I07X'))endfunctionfunction vHv takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveUnitHandle(Jv,id*cx,$32A9E4C8,LN)call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00ff33在正义之士的庇护下，武林暂时无敌了（20秒后解除）")call SetUnitInvulnerable(LoadUnitHandle(Jv,id*cx,$32A9E4C8),true)call FL(20.)call SaveInteger(Jv,id,-$1317DA19,cx)call SetUnitInvulnerable(LoadUnitHandle(Jv,id*cx,$32A9E4C8),false)call FlushChildHashtable(Jv,id*cx)endfunctionfunction vjv takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)endfunctionfunction vJv takes nothing returns booleanreturn(IsUnitAlly(GetFilterUnit(),Player(0)))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))endfunctionfunction vkv takes nothing returns nothinglocal group g=CreateGroup()call PingMinimapLocForForce(GetPlayersAll(),GetUnitLoc(LN),1)if(GetRandomInt(30,50)==48)thencall DisplayTextToForce(GetPlayersAll(),"|CFFCCFF00正派武林受到攻击，请赶紧回防")endifif(GetRandomInt(30,50)==45)thencall SetUnitPositionLoc(GetAttacker(),GetRectCenter(dN))call DisplayTextToForce(GetPlayersAll(),"|CFFCCFFCC正派武林将攻击单位抓进了监狱")endifcall GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(LN),800,Condition(function vJv))if((IsUnitGroupEmptyBJ(g)==false))thencall UnitAddAbility(LN,'A00S')call GroupClear(g)call FL(5.00)call UnitRemoveAbility(LN,'A00S')set g=nullendifendfunctionfunction vKv takes nothing returns nothingcall SetUnitPosition(GetEnumUnit(),-910,750)endfunctionfunction vlv takes nothing returns nothingcall DisplayTextToForce(GetPlayersAll(),"|CFFCCFF00魔教潜入监狱救走了被抓住的敌人")call ForGroupBJ(wU(dN,Player(6)),function vKv)endfunctionfunction vLv takes nothing returns nothinglocal integer i=0local string s=nullcall CreateMultiboardBJ(5,20,"系统窗口")call MultiboardSetItemsStyle(bj_lastCreatedMultiboard,true,false)call MultiboardSetItemsWidth(bj_lastCreatedMultiboard,.07)set i=1loopexitwhen i>=6if NI[i]<10000. thenset s=R2S(NI[i])elseif NI[i]<100000000. thenset s=R2S(NI[i])+"万"elseif NI[i]/ 10000.<100000000. thenset s=R2S(NI[i])+"亿"elseif NI[i]/ 100000000.<100000000. thenset s=R2S(NI[i])+"万亿"elseset s=R2S(NI[i])+"亿亿"endifcall MultiboardSetTitleText(bj_lastCreatedMultiboard,"|cFFFFCC33这并不是系统窗口")call mw(bj_lastCreatedMultiboard,1,4*i-3,"|c00FF0080"+GetPlayerName(Player(i-1)))call mw(bj_lastCreatedMultiboard,2,4*i-3,"|c0000FF00"+"等级："+I2S(GetUnitLevel(ER[i])))call mw(bj_lastCreatedMultiboard,3,4*i-3,"|cFF00CCFF"+CI[kR[i]])call mw(bj_lastCreatedMultiboard,4,4*i-3,"|cFFFF6600"+"最高伤害："+s)if Ce[i]==1 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99炼丹师")elseif Ce[i]==2 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99锻造师")elseif Ce[i]==3 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99兵器师")elseif Ce[i]==4 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99鉴定师")elseif Ce[i]==5 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99练气师")elseif Ce[i]==6 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99寻宝师")elseif Ce[i]==7 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99丫鬟")elseif Ce[i]==8 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99精武师")elsecall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99未选择")endifif(I7[20*(i-1)+1]!='AEfk')thencall mw(bj_lastCreatedMultiboard,1,4*i-2,"|c0000FF00"+GetObjectName(I7[20*(i-1)+1]))endifif((I7[20*(i-1)+2]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,2,4*i-2,"|c0000FF00"+GetObjectName(I7[20*(i-1)+2]))endifif((I7[20*(i-1)+3]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,3,4*i-2,"|c0000FF00"+GetObjectName(I7[20*(i-1)+3]))endifif((I7[20*(i-1)+4]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,4,4*i-2,"|c0000FF00"+GetObjectName(I7[20*(i-1)+4]))endifif((I7[20*(i-1)+5]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,1,4*i-1,"|c0000FF00"+GetObjectName(I7[20*(i-1)+5]))endifif((I7[20*(i-1)+6]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,2,4*i-1,"|c0000FF00"+GetObjectName(I7[20*(i-1)+6]))endifif((I7[20*(i-1)+7]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,3,4*i-1,"|c0000FF00"+GetObjectName(I7[20*(i-1)+7]))endifif((I7[20*(i-1)+8]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,4,4*i-1,"|c0000FF00"+GetObjectName(I7[20*(i-1)+8]))endifif((I7[20*(i-1)+9]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,1,4*i,"|c0000FF00"+GetObjectName(I7[20*(i-1)+9]))endifif((I7[20*(i-1)+10]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,2,4*i,"|c0000FF00"+GetObjectName(I7[20*(i-1)+10]))endifif((I7[20*(i-1)+11]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,3,4*i,"|c0000FF00"+GetObjectName(I7[20*(i-1)+11]))endifset i=i+1endloopcall MultiboardDisplay(bj_lastCreatedMultiboard,true)endfunctionfunction vmv takes nothing returns nothinglocal integer i=0local string s=nullset i=1loopexitwhen i>=6if NI[i]<10000. thenset s=I2S(R2I(NI[i]/ 1.))elseif NI[i]<100000000. thenset s=I2S(R2I(NI[i]/ 10000.))+"万"elseif NI[i]/ 10000.<100000000. thenset s=I2S(R2I(NI[i]/ 100000000.))+"亿"elseif NI[i]/ 100000000.<100000000. thenset s=I2S(R2I(NI[i]/ 1000000000000.))+"万亿"elseset s=I2S(R2I(NI[i]/ 10000000000000000.))+"亿亿"endifcall MultiboardSetTitleText(bj_lastCreatedMultiboard,"|cFFFFCC33这并不是系统窗口")call mw(bj_lastCreatedMultiboard,1,4*i-3,"|c00FF0080"+GetPlayerName(Player(i-1)))call mw(bj_lastCreatedMultiboard,2,4*i-3,"|c0000FF00"+"等级："+I2S(GetUnitLevel(ER[i])))call mw(bj_lastCreatedMultiboard,3,4*i-3,"|cFF00CCFF"+CI[kR[i]])call mw(bj_lastCreatedMultiboard,4,4*i-3,"|cFFFF6600"+"最高伤害："+s)if Ce[i]==1 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99炼丹师")elseif Ce[i]==2 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99锻造师")elseif Ce[i]==3 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99兵器师")elseif Ce[i]==4 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99鉴定师")elseif Ce[i]==5 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99练气师")elseif Ce[i]==6 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99寻宝师")elseif Ce[i]==7 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99丫鬟")elseif Ce[i]==8 thencall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99精武师")elsecall mw(bj_lastCreatedMultiboard,5,4*i-3,"|c00FFEE99未选择")endifif(I7[20*(i-1)+1]!='AEfk')thencall mw(bj_lastCreatedMultiboard,1,4*i-2,"|c0000FF00"+GetObjectName(I7[20*(i-1)+1]))endifif((I7[20*(i-1)+2]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,2,4*i-2,"|c0000FF00"+GetObjectName(I7[20*(i-1)+2]))endifif((I7[20*(i-1)+3]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,3,4*i-2,"|c0000FF00"+GetObjectName(I7[20*(i-1)+3]))endifif((I7[20*(i-1)+4]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,4,4*i-2,"|c0000FF00"+GetObjectName(I7[20*(i-1)+4]))endifif((I7[20*(i-1)+5]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,1,4*i-1,"|c0000FF00"+GetObjectName(I7[20*(i-1)+5]))endifif((I7[20*(i-1)+6]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,2,4*i-1,"|c0000FF00"+GetObjectName(I7[20*(i-1)+6]))endifif((I7[20*(i-1)+7]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,3,4*i-1,"|c0000FF00"+GetObjectName(I7[20*(i-1)+7]))endifif((I7[20*(i-1)+8]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,4,4*i-1,"|c0000FF00"+GetObjectName(I7[20*(i-1)+8]))endifif((I7[20*(i-1)+9]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,1,4*i,"|c0000FF00"+GetObjectName(I7[20*(i-1)+9]))endifif((I7[20*(i-1)+10]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,2,4*i,"|c0000FF00"+GetObjectName(I7[20*(i-1)+10]))endifif((I7[20*(i-1)+11]!='AEfk'))thencall mw(bj_lastCreatedMultiboard,3,4*i,"|c0000FF00"+GetObjectName(I7[20*(i-1)+11]))endifset i=i+1endloopendfunctionfunction wy takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_USER)and(GetEventDamage()>NI[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]))endfunctionfunction vMv takes nothing returns nothingset NI[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]=GetEventDamage()endfunctionfunction vpv takes nothing returns booleanreturn(hd==false)endfunctionfunction vPv takes nothing returns nothingset uR=falsecall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF00FF00玩家一选择了试玩模式，怪物不会进攻主城，大家可以尽情的去体验玩法了")endfunctionfunction vqv takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896147))endfunctionfunction vQv takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())call SaveInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))if((GetPlayerTechCountSimple('R000',Player(5))<=29))thencall SetPlayerTechResearchedSwap('R000',(GetPlayerTechCountSimple('R000',Player(5))+1),Player(5))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|cFFFFD700在玩家："+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"的无私奉献下，正派武林的城防得到加强了")))set YA[LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$5E9EB4B3)]=(YA[LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$5E9EB4B3)]+$F)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|CFF34FF00守家积分+15")elsecall AdjustPlayerStateBJ($4E20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF0000城防已达最高，无法继续升级|r")endifendfunctionfunction vsv takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896917))endfunctionfunction vSv takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())call SaveInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))if((SR>=18))thenif((GetPlayerTechCountSimple('R002',Player(5))<=9))thencall SetPlayerTechResearchedSwap('R002',(GetPlayerTechCountSimple('R002',Player(5))+1),Player(5))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|cFFFFD700在玩家："+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"的无私奉献下，正派武林的高级城防得到加强了")))set YA[LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$5E9EB4B3)]=(YA[LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$5E9EB4B3)]+25)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|CFF34FF00守家积分+25")elsecall AdjustPlayerStateBJ($C350,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF0000高级城防已达最高，无法继续升级|r")endifelsecall AdjustPlayerStateBJ($C350,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFF000018波进攻怪以后才能使用此功能哦|r")endifendfunctionfunction vtv takes item it returns booleanif GetItemTypeId(it)=='I06O' or GetItemTypeId(it)=='I0A0' or GetItemTypeId(it)=='I06S' or GetItemTypeId(it)=='I06T' or GetItemTypeId(it)=='I06R' or GetItemTypeId(it)=='I06U' or GetItemTypeId(it)=='I06P' or GetItemTypeId(it)=='I06Q' thenreturn trueendifreturn falseendfunctionfunction vTv takes unit u,item it,integer cU,integer vW,integer CU returns nothinglocal player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if GetItemTypeId(it)==cU thenif(YA[i]>=vW)thenset YA[i]=YA[i]-vWif cU=='I06S' or cU=='I06T' or cU=='I06R' or cU=='I06U' or cU=='I06Q' thencall YJ(CU,u)call DisplayTextToPlayer(p,0,0,"|CFF34FF00获得"+GetItemName(bj_lastCreatedItem))elseif cU=='I06P' thencall AdjustPlayerStateBJ(10,p,PLAYER_STATE_RESOURCE_LUMBER)call DisplayTextToPlayer(p,0,0,"|CFF34FF00获得珍稀币+10")elseif cU=='I06O' thencall AdjustPlayerStateBJ(5000,p,PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(p,0,0,"|CFF34FF00获得金钱+5000")elseif cU=='I0A0' thencall YJ(CU,ER[i])call DisplayTextToPlayer(p,0,0,"|CFF34FF00获得"+GetItemName(bj_lastCreatedItem))endifcall DisplayTextToPlayer(p,0,0,"|cFF00CCff当前剩余守家积分："+I2S(YA[i]))elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00守家积分不足")endifendifset p=nullendfunctionfunction vuv takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and vtv(GetManipulatedItem()))endfunctionfunction vUv takes nothing returns nothinglocal unit u=GetTriggerUnit()call vTv(u,GetManipulatedItem(),'I06O',20,5000)call vTv(u,GetManipulatedItem(),'I0A0',50,'I04T')call vTv(u,GetManipulatedItem(),'I06S',200,RN[GetRandomInt(1,12)])call vTv(u,GetManipulatedItem(),'I06T',100,'I02N')call vTv(u,GetManipulatedItem(),'I06R',300,'I06K')call vTv(u,GetManipulatedItem(),'I06U',600,'I02L')call vTv(u,GetManipulatedItem(),'I06P',100,5)call vTv(u,GetManipulatedItem(),'I06Q',200,'I06N')set u=nullendfunctionfunction vwv takes item it returns booleanif GetItemTypeId(it)=='I0AO' or GetItemTypeId(it)=='I0AP' or GetItemTypeId(it)=='I0AQ' or GetItemTypeId(it)=='I0AR' thenreturn trueendifreturn falseendfunctionfunction vWv takes unit u,item it,integer cU,integer vW,integer CU returns nothinglocal player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if GetItemTypeId(it)==cU thenif(dI[i]>=vW)thenset dI[i]=dI[i]-vWcall YJ(CU,u)call DisplayTextToPlayer(p,0,0,"|CFF34FF00获得"+GetItemName(bj_lastCreatedItem))call DisplayTextToPlayer(p,0,0,"|cFF00CCff当前剩余江湖声望："+I2S(dI[i]))elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00江湖声望不足")endifendifset p=nullendfunctionfunction vyv takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and vwv(GetManipulatedItem()))endfunctionfunction vYv takes nothing returns nothinglocal unit u=GetTriggerUnit()call vWv(u,GetManipulatedItem(),'I0AO',200,'I06K')call vWv(u,GetManipulatedItem(),'I0AP',4000,'I08W')call vWv(u,GetManipulatedItem(),'I0AQ',2000,'I0AS')call vWv(u,GetManipulatedItem(),'I0AR',1000,XO[GetRandomInt(1,10)])set u=nullendfunctionfunction vzv takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem())=='I0AS')endfunctionfunction vZv takes nothing returns nothinglocal player p=GetOwningPlayer(GetTriggerUnit())local integer i=1+GetPlayerId(p)local unit u=ER[i]local integer j=GetRandomInt(1,8)local integer HJ=GetUnitAbilityLevel(u,I7[(i-1)*20+j])if I7[(i-1)*20+j]!='A05R' thencall IncUnitAbilityLevel(u,I7[(i-1)*20+j])if GetUnitAbilityLevel(u,I7[(i-1)*20+j])==HJ thencall YJ('I0AS',GetTriggerUnit())call DisplayTextToPlayer(p,0,0,"|cFFFFCC00随机到九重或无法升重的技能，使用武学精要失败")elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00恭喜技能"+GetAbilityName(I7[(i-1)*20+j])+"升重")endifelsecall YJ('I0AS',GetTriggerUnit())call DisplayTextToPlayer(p,0,0,"|cFFFFCC00随机到凌波微步，使用武学精要失败")endifset u=nullset p=nullendfunctionfunction Zy takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)==false)and(GetItemUserData(GetManipulatedItem())>0))endfunctionfunction dz takes nothing returns nothinglocal item it=GetManipulatedItem()local unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer v_v=ModuloInteger((GetItemUserData(it)/ 100000000),10)local integer v0v=ModuloInteger((GetItemUserData(it)/ 10000000),10)local integer v1v=ModuloInteger((GetItemUserData(it)/ 1000000),10)local integer v2v=ModuloInteger((GetItemUserData(it)/ 100000),10)local integer v3v=ModuloInteger((GetItemUserData(it)/ 10000),10)local integer v4v=ModuloInteger((GetItemUserData(it)/ 1000),10)local integer v5v=ModuloInteger((GetItemUserData(it)/ 100),10)local integer v6v=ModuloInteger((GetItemUserData(it)/ 10),10)local integer v7v=ModuloInteger((GetItemUserData(it)/ 1),10)local integer j=0local integer iu=0local integer m=0local integer n=0local integer o=0call DisplayTimedTextToPlayer(p,0,0,15.,GetItemName(it)+"|cff66cc33附加属性：|r")if(v0v==1)thenset j=j+v1v*300elseif(v0v==2)thenset iu=iu+v1v*40elseif(v0v==3)thenset m=m+v1v*40elseif(v0v==4)thenset n=n+v1v*25elseif(v0v==5)thenset o=o+v1v*25endifif(v2v==1)thenset j=j+v3v*300elseif(v2v==2)thenset iu=iu+v3v*40elseif(v2v==3)thenset m=m+v3v*40elseif(v2v==4)thenset n=n+v3v*25elseif(v2v==5)thenset o=o+v3v*25endifif(j>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff攻击+"+I2S(j))endifif(iu>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff防御+"+I2S(iu))endifif(m>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff招式伤害+"+I2S(m))endifif(n>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff内力+"+I2S(n))endifif(o>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff真实伤害+"+I2S(o))endifcall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff装备剩余凹槽："+I2S(v4v))call DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff镶嵌效果：")if(v5v==1)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+3")endifelseif(v5v==2)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+3")endifelseif(v5v==3)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+3")endifelseif(v5v==4)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+3")endifelseif(v5v==5)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+3")endifelseif(v5v==6)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+3")endifendifif(v6v==1)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+3")endifelseif(v6v==2)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+3")endifelseif(v6v==3)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+3")endifelseif(v6v==4)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+3")endifelseif(v6v==5)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+3")endifelseif(v6v==6)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+3")endifendifif(v7v==1)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+3")endifelseif(v7v==2)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+3")endifelseif(v7v==3)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+3")endifelseif(v7v==4)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+3")endifelseif(v7v==5)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+3")endifelseif(v7v==6)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+1")elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+3")endifendifif(v_v==1)thencall DisplayTextToPlayer(p,0,0,"|cFF33ffff获得青龙套件")elseif(v_v==2)thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cFF33ffff获得朱雀套件")elseif(v_v==3)thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cFF33ffff获得玄武套件")elseif(v_v==4)thencall DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cFF33ffff获得白虎套件")endifset u=nullset p=nullset it=nullendfunctionfunction fz takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction gz takes nothing returns nothinglocal item it=GetManipulatedItem()local unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer v_v=ModuloInteger((GetItemUserData(it)/ 100000000),10)local integer v0v=ModuloInteger((GetItemUserData(it)/ 10000000),10)local integer v1v=ModuloInteger((GetItemUserData(it)/ 1000000),10)local integer v2v=ModuloInteger((GetItemUserData(it)/ 100000),10)local integer v3v=ModuloInteger((GetItemUserData(it)/ 10000),10)local integer v4v=ModuloInteger((GetItemUserData(it)/ 1000),10)local integer v5v=ModuloInteger((GetItemUserData(it)/ 100),10)local integer v6v=ModuloInteger((GetItemUserData(it)/ 10),10)local integer v7v=ModuloInteger((GetItemUserData(it)/ 1),10)local integer j=0local integer iu=0local integer m=0local integer n=0local integer o=0local integer q=0if(GetItemUserData(it)>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,GetItemName(it)+"|cff66cc33获得附加属性：|r")if(v0v==1)thenset j=j+v1v*300elseif(v0v==2)thenset iu=iu+v1v*40elseif(v0v==3)thenset m=m+v1v*40elseif(v0v==4)thenset n=n+v1v*25elseif(v0v==5)thenset o=o+v1v*25endifif(v2v==1)thenset j=j+v3v*300elseif(v2v==2)thenset iu=iu+v3v*40elseif(v2v==3)thenset m=m+v3v*40elseif(v2v==4)thenset n=n+v3v*25elseif(v2v==5)thenset o=o+v3v*25endifif(j>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff攻击+"+I2S(j))call Hl(u,3,0,j)endifif(iu>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff防御+"+I2S(iu))call Hl(u,2,0,iu)endifif(m>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff招式伤害+"+I2S(m))call ModifyHeroStat(0,u,0,m)endifif(n>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff内力+"+I2S(n))call ModifyHeroStat(1,u,0,n)endifif(o>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff真实伤害+"+I2S(o))call ModifyHeroStat(2,u,0,o)endifcall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff装备剩余凹槽："+I2S(v4v))call DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff镶嵌效果：")if(v5v==1)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+1")set cR[i]=cR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+3")set cR[i]=cR[i]+3endifelseif(v5v==2)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+1")set XR[i]=XR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+3")set XR[i]=XR[i]+3endifelseif(v5v==3)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+1")set bR[i]=bR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+3")set bR[i]=bR[i]+3endifelseif(v5v==4)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+1")set fR[i]=fR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+3")set fR[i]=fR[i]+3endifelseif(v5v==5)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+1")set HR[i]=HR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+3")set HR[i]=HR[i]+3endifelseif(v5v==6)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+1")set JR[i]=JR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+3")set JR[i]=JR[i]+3endifendifif(v6v==1)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+1")set cR[i]=cR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+3")set cR[i]=cR[i]+3endifelseif(v6v==2)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+1")set XR[i]=XR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+3")set XR[i]=XR[i]+3endifelseif(v6v==3)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+1")set bR[i]=bR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+3")set bR[i]=bR[i]+3endifelseif(v6v==4)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+1")set fR[i]=fR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+3")set fR[i]=fR[i]+3endifelseif(v6v==5)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+1")set HR[i]=HR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+3")set HR[i]=HR[i]+3endifelseif(v6v==6)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+1")set JR[i]=JR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+3")set JR[i]=JR[i]+3endifendifif(v7v==1)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+1")set cR[i]=cR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+3")set cR[i]=cR[i]+3endifelseif(v7v==2)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+1")set XR[i]=XR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+3")set XR[i]=XR[i]+3endifelseif(v7v==3)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+1")set bR[i]=bR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+3")set bR[i]=bR[i]+3endifelseif(v7v==4)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+1")set fR[i]=fR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+3")set fR[i]=fR[i]+3endifelseif(v7v==5)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+1")set HR[i]=HR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+3")set HR[i]=HR[i]+3endifelseif(v7v==6)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+1")set JR[i]=JR[i]+1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+3")set JR[i]=JR[i]+3endifendifif(v_v==1)thencall DisplayTextToPlayer(p,0,0,"|cFF33ffff获得青龙套件")elseif(v_v==2)thencall DisplayTextToPlayer(p,0,0,"|cFF33ffff获得朱雀套件")elseif(v_v==3)thencall DisplayTextToPlayer(p,0,0,"|cFF33ffff获得玄武套件")elseif(v_v==4)thencall DisplayTextToPlayer(p,0,0,"|cFF33ffff获得白虎套件")endifset k7=1loopexitwhen k7>6if(GetItemUserData(UnitItemInSlotBJ(u,k7))/ $5F5E100==v_v and UnitItemInSlotBJ(u,k7)!=GetManipulatedItem())thenset q=q+1endifset k7=k7+1endloopif(q==2)thenif(v_v==1)thencall ModifyHeroStat(0,u,0,$C8)set qO[i]=(qO[i]+1)set tO[i]=(tO[i]+.04)call UnitAddAbility(u,1093677106)call Hl(u,3,0,1000)set cR[i]=(cR[i]+2)set XR[i]=(XR[i]+1)call DisplayTextToPlayer(p,0,0,"|cFFFF6600集齐青龙套装：")call DisplayTextToPlayer(p,0,0,"|cFFcc99ff――――――――――")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF招式伤害+200")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF绝学领悟力+1")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF暴击率+4%")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF攻击速度+50%")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF攻击+1000")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF根骨+2")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF悟性+1")elseif(v_v==2)thencall ModifyHeroStat(1,u,0,$96)set qO[i]=(qO[i]+1)set QO[i]=(QO[i]+.5)set UO[i]=(UO[i]+1000.)call UnitAddAbility(u,1093677107)set JR[i]=(JR[i]+1)set bR[i]=(bR[i]+2)call DisplayTextToPlayer(p,0,0,"|cFFFF6600集齐朱雀套装：")call DisplayTextToPlayer(p,0,0,"|cFFcc99ff――――――――――")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF内力+150")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF绝学领悟力+1")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF暴击伤害+50%")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF杀怪回复+1000")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF法术回复+10")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF医术+1")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF经脉+2")elseif(v_v==3)thencall ModifyHeroStat(0,u,0,$96)set qO[i]=(qO[i]+1)call UnitAddAbility(u,1093677108)call UnitAddAbility(u,1093677109)call Hl(u,2,0,$C8)set XR[i]=(XR[i]+2)set HR[i]=(HR[i]+1)call DisplayTextToPlayer(p,0,0,"|cFFFF6600集齐玄武套装：")call DisplayTextToPlayer(p,0,0,"|cFFcc99ff――――――――――")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF招式伤害+150")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF绝学领悟力+1")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF气血+30000")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF气血回复+600")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF防御+200")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF悟性+2")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF胆魄+1")elseif(v_v==4)thencall ModifyHeroStat(1,u,0,$C8)call ModifyHeroStat(2,u,0,100)call UnitAddAbility(u,1093677110)set qO[i]=(qO[i]+2)set fR[i]=(fR[i]+2)set HR[i]=(HR[i]+1)call DisplayTextToPlayer(p,0,0,"|cFFFF6600集齐白虎套装：")call DisplayTextToPlayer(p,0,0,"|cFFcc99ff――――――――――")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF内力+200")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF绝学领悟力+2")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF真实伤害+100")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF移动速度最大化")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF福缘+2")call DisplayTextToPlayer(p,0,0,"|cFF00FFFF胆魄+1")endifelseif(v_v==1)thencall DisplayTextToPlayer(p,0,0,("|cFF33ffff获得青龙套件，（已收集到"+(I2S(q+1))+"件）"))elseif(v_v==2)thencall DisplayTextToPlayer(p,0,0,("|cFF33ffff获得朱雀套件，（已收集到"+(I2S(q+1))+"件）"))elseif(v_v==3)thencall DisplayTextToPlayer(p,0,0,("|cFF33ffff获得玄武套件，（已收集到"+(I2S(q+1))+"件）"))elseif(v_v==4)thencall DisplayTextToPlayer(p,0,0,("|cFF33ffff获得白虎套件，（已收集到"+(I2S(q+1))+"件）"))endifendifendifset u=nullset p=nullset it=nullendfunctionfunction iz takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction jz takes nothing returns nothinglocal item it=GetManipulatedItem()local unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer v_v=ModuloInteger((GetItemUserData(it)/ 100000000),10)local integer v0v=ModuloInteger((GetItemUserData(it)/ 10000000),10)local integer v1v=ModuloInteger((GetItemUserData(it)/ 1000000),10)local integer v2v=ModuloInteger((GetItemUserData(it)/ 100000),10)local integer v3v=ModuloInteger((GetItemUserData(it)/ 10000),10)local integer v4v=ModuloInteger((GetItemUserData(it)/ 1000),10)local integer v5v=ModuloInteger((GetItemUserData(it)/ 100),10)local integer v6v=ModuloInteger((GetItemUserData(it)/ 10),10)local integer v7v=ModuloInteger((GetItemUserData(it)/ 1),10)local integer i=1+GetPlayerId(p)local integer j=0local integer iu=0local integer m=0local integer n=0local integer o=0local integer q=0if(GetItemUserData(it)>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,GetItemName(it)+"|cff66cc33失去附加属性：|r")if(v0v==1)thenset j=j+v1v*300elseif(v0v==2)thenset iu=iu+v1v*40elseif(v0v==3)thenset m=m+v1v*40elseif(v0v==4)thenset n=n+v1v*25elseif(v0v==5)thenset o=o+v1v*25endifif(v2v==1)thenset j=j+v3v*300elseif(v2v==2)thenset iu=iu+v3v*40elseif(v2v==3)thenset m=m+v3v*40elseif(v2v==4)thenset n=n+v3v*25elseif(v2v==5)thenset o=o+v3v*25endifif(j>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff攻击+"+I2S(j))call Hl(u,3,1,j)endifif(iu>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff防御+"+I2S(iu))call Hl(u,2,1,iu)endifif(m>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff招式伤害+"+I2S(m))call ModifyHeroStat(0,u,1,m)endifif(n>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff内力+"+I2S(n))call ModifyHeroStat(1,u,1,n)endifif(o>0)thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff真实伤害+"+I2S(o))call ModifyHeroStat(2,u,1,o)endifcall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff装备剩余凹槽："+I2S(v4v))call DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff镶嵌效果：")if(v5v==1)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+1")set cR[i]=cR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+3")set cR[i]=cR[i]-3endifelseif(v5v==2)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+1")set XR[i]=XR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+3")set XR[i]=XR[i]-3endifelseif(v5v==3)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+1")set bR[i]=bR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+3")set bR[i]=bR[i]-3endifelseif(v5v==4)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+1")set fR[i]=fR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+3")set fR[i]=fR[i]-3endifelseif(v5v==5)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+1")set HR[i]=HR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+3")set HR[i]=HR[i]-3endifelseif(v5v==6)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+1")set JR[i]=JR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+3")set JR[i]=JR[i]-3endifendifif(v6v==1)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+1")set cR[i]=cR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+3")set cR[i]=cR[i]-3endifelseif(v6v==2)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+1")set XR[i]=XR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+3")set XR[i]=XR[i]-3endifelseif(v6v==3)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+1")set bR[i]=bR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+3")set bR[i]=bR[i]-3endifelseif(v6v==4)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+1")set fR[i]=fR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+3")set fR[i]=fR[i]-3endifelseif(v6v==5)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+1")set HR[i]=HR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+3")set HR[i]=HR[i]-3endifelseif(v6v==6)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+1")set JR[i]=JR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+3")set JR[i]=JR[i]-3endifendifif(v7v==1)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+1")set cR[i]=cR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff根骨+3")set cR[i]=cR[i]-3endifelseif(v7v==2)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+1")set XR[i]=XR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff悟性+3")set XR[i]=XR[i]-3endifelseif(v7v==3)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+1")set bR[i]=bR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff经脉+3")set bR[i]=bR[i]-3endifelseif(v7v==4)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+1")set fR[i]=fR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff福缘+3")set fR[i]=fR[i]-3endifelseif(v7v==5)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+1")set HR[i]=HR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff胆魄+3")set HR[i]=HR[i]-3endifelseif(v7v==6)thenif IA[i]==false thencall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+1")set JR[i]=JR[i]-1elsecall DisplayTimedTextToPlayer(p,0,0,15.,"|cFFff66ff医术+3")set JR[i]=JR[i]-3endifendifset k7=1loopexitwhen k7>6if(GetItemUserData(UnitItemInSlotBJ(u,k7))/ $5F5E100==v_v and UnitItemInSlotBJ(u,k7)!=GetManipulatedItem())thenset q=q+1endifset k7=k7+1endloopif(q==2)thenif(v_v==1)thencall ModifyHeroStat(0,u,1,$C8)set qO[i]=(qO[i]-1)set tO[i]=(tO[i]-.04)call UnitRemoveAbility(u,1093677106)call Hl(u,3,1,1000)set cR[i]=(cR[i]-2)set XR[i]=(XR[i]-1)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cFFFF0000失去青龙套装")elseif(v_v==2)thencall ModifyHeroStat(1,u,1,$96)set qO[i]=(qO[i]-1)set QO[i]=(QO[i]-.5)set UO[i]=(UO[i]-1000.)call UnitRemoveAbility(u,1093677107)set JR[i]=(JR[i]-1)set bR[i]=(bR[i]-2)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cFFFF0000失去朱雀套装")elseif(v_v==3)thencall ModifyHeroStat(0,u,1,$96)set qO[i]=(qO[i]-1)call UnitRemoveAbility(u,1093677108)call UnitRemoveAbility(u,1093677109)call Hl(u,2,1,$C8)set XR[i]=(XR[i]-2)set HR[i]=(HR[i]-1)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cFFFF0000失去玄武套装")elseif(v_v==4)thencall ModifyHeroStat(1,u,1,$C8)call ModifyHeroStat(2,u,1,100)call UnitRemoveAbility(u,1093677110)set qO[i]=(qO[i]-2)set fR[i]=(fR[i]-2)set HR[i]=(HR[i]-1)call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cFFFF0000失去白虎套装")endifendifendifset u=nullset p=nullset it=nullendfunctionfunction mz takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and((GetItemType(GetManipulatedItem())==ITEM_TYPE_ARTIFACT)or(GetItemType(GetManipulatedItem())==ITEM_TYPE_PURCHASABLE)or(GetItemType(GetManipulatedItem())==ITEM_TYPE_CHARGED)))endfunctionfunction nz takes nothing returns nothinglocal integer i=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))local integer id=GetItemTypeId(GetManipulatedItem())local integer j=1loopexitwhen j>=30if id==dc[XX[j]]thencall N4(XX[j],GetTriggerUnit(),GetManipulatedItem())exitwhen trueendifset j=j+1endloopcall Hl(GetTriggerUnit(),3,0,R2I(LoadReal(Jv,id,StringHash("攻击力"))))call Hl(GetTriggerUnit(),2,0,R2I(LoadReal(Jv,id,StringHash("防御"))))call Hl(GetTriggerUnit(),1,0,R2I(LoadReal(Jv,id,StringHash("法力上限"))))call ModifyHeroStat(0,GetTriggerUnit(),0,R2I(LoadReal(Jv,id,StringHash("招式伤害")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("招式伤害"))))call ModifyHeroStat(1,GetTriggerUnit(),0,R2I(LoadReal(Jv,id,StringHash("内力")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("内力"))))call ModifyHeroStat(2,GetTriggerUnit(),0,R2I(LoadReal(Jv,id,StringHash("真实伤害")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("真实伤害"))))set QO[i]=(QO[i]+LoadReal(Jv,id,StringHash("暴击伤害"))+LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("暴击伤害")))set tO[i]=(tO[i]+LoadReal(Jv,id,StringHash("暴击率"))+LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("暴击率")))set qO[i]=qO[i]+R2I(LoadReal(Jv,id,StringHash("绝学领悟")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("绝学领悟")))set cR[i]=cR[i]+R2I(LoadReal(Jv,id,StringHash("根骨")))+R2I(LoadReal(Jv,id,StringHash("全属性")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("根骨")))set HR[i]=HR[i]+R2I(LoadReal(Jv,id,StringHash("胆魄")))+R2I(LoadReal(Jv,id,StringHash("全属性")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("胆魄")))set XR[i]=XR[i]+R2I(LoadReal(Jv,id,StringHash("悟性")))+R2I(LoadReal(Jv,id,StringHash("全属性")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("悟性")))set JR[i]=JR[i]+R2I(LoadReal(Jv,id,StringHash("医术")))+R2I(LoadReal(Jv,id,StringHash("全属性")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("医术")))set bR[i]=bR[i]+R2I(LoadReal(Jv,id,StringHash("经脉")))+R2I(LoadReal(Jv,id,StringHash("全属性")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("经脉")))set fR[i]=fR[i]+R2I(LoadReal(Jv,id,StringHash("福缘")))+R2I(LoadReal(Jv,id,StringHash("全属性")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("福缘")))set uO[i]=uO[i]+LoadReal(Jv,id,StringHash("伤害回复"))+LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("伤害回复"))set UO[i]=UO[i]+LoadReal(Jv,id,StringHash("杀怪回复"))+LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("杀怪回复"))set wO[i]=wO[i]+LoadReal(Jv,id,StringHash("生命回复"))+LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("生命回复"))set zO[i]=zO[i]+LoadReal(Jv,id,StringHash("法力回复"))+LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("法力回复"))if LoadReal(Jv,id,StringHash("吸血"))==0.03 thencall UnitAddAbility(GetTriggerUnit(),'A009')call SetPlayerAbilityAvailableBJ(false,'A009',GetOwningPlayer(GetTriggerUnit()))elseif LoadReal(Jv,id,StringHash("吸血"))==0.05 thencall UnitAddAbility(GetTriggerUnit(),'A00A')call SetPlayerAbilityAvailableBJ(false,'A00A',GetOwningPlayer(GetTriggerUnit()))elseif LoadReal(Jv,id,StringHash("吸血"))==0.1 thencall UnitAddAbility(GetTriggerUnit(),'A00B')call SetPlayerAbilityAvailableBJ(false,'A00B',GetOwningPlayer(GetTriggerUnit()))elseif LoadReal(Jv,id,StringHash("吸血"))==0.15 thencall UnitAddAbility(GetTriggerUnit(),'A00E')call SetPlayerAbilityAvailableBJ(false,'A00E',GetOwningPlayer(GetTriggerUnit()))elseif LoadReal(Jv,id,StringHash("吸血"))==0.2 thencall UnitAddAbility(GetTriggerUnit(),'A00I')call SetPlayerAbilityAvailableBJ(false,'A00I',GetOwningPlayer(GetTriggerUnit()))elseif LoadReal(Jv,id,StringHash("吸血"))==0.3 thencall UnitAddAbility(GetTriggerUnit(),'A00J')call SetPlayerAbilityAvailableBJ(false,'A00J',GetOwningPlayer(GetTriggerUnit()))endifif LoadReal(Jv,id,StringHash("攻击速度"))==10 thencall UnitAddAbility(GetTriggerUnit(),'A05E')elseif LoadReal(Jv,id,StringHash("攻击速度"))==15 thencall UnitAddAbility(GetTriggerUnit(),'A052')elseif LoadReal(Jv,id,StringHash("攻击速度"))==20 thencall UnitAddAbility(GetTriggerUnit(),'A06C')elseif LoadReal(Jv,id,StringHash("攻击速度"))==25 thencall UnitAddAbility(GetTriggerUnit(),'A08K')elseif LoadReal(Jv,id,StringHash("攻击速度"))==30 thencall UnitAddAbility(GetTriggerUnit(),'A06D')elseif LoadReal(Jv,id,StringHash("攻击速度"))==40 thencall UnitAddAbility(GetTriggerUnit(),'A06E')elseif LoadReal(Jv,id,StringHash("攻击速度"))==45 thencall UnitAddAbility(GetTriggerUnit(),'A008')elseif LoadReal(Jv,id,StringHash("攻击速度"))==50 thencall UnitAddAbility(GetTriggerUnit(),'A06F')elseif LoadReal(Jv,id,StringHash("攻击速度"))==60 thencall UnitAddAbility(GetTriggerUnit(),'A06G')endifif LoadReal(Jv,id,StringHash("移动速度"))==70 thencall UnitAddAbility(GetTriggerUnit(),'A04J')elseif LoadReal(Jv,id,StringHash("移动速度"))==30 thencall UnitAddAbility(GetTriggerUnit(),'A05B')elseif LoadReal(Jv,id,StringHash("移动速度"))==80 thencall UnitAddAbility(GetTriggerUnit(),'A03E')elseif LoadReal(Jv,id,StringHash("移动速度"))==100 thencall UnitAddAbility(GetTriggerUnit(),'A02N')elseif LoadReal(Jv,id,StringHash("移动速度"))==160 thencall UnitAddAbility(GetTriggerUnit(),'A01Y')elseif LoadReal(Jv,id,StringHash("移动速度"))==180 thencall UnitAddAbility(GetTriggerUnit(),'A01F')elseif LoadReal(Jv,id,StringHash("移动速度"))==200 thencall UnitAddAbility(GetTriggerUnit(),'A0BA')endifif LoadReal(Jv,id,StringHash("闪避"))==10 thencall UnitAddAbility(GetTriggerUnit(),'A00O')call SetPlayerAbilityAvailableBJ(false,'A00O',GetOwningPlayer(GetTriggerUnit()))elseif LoadReal(Jv,id,StringHash("闪避"))==15 thencall UnitAddAbility(GetTriggerUnit(),'A00P')call SetPlayerAbilityAvailableBJ(false,'A00P',GetOwningPlayer(GetTriggerUnit()))elseif LoadReal(Jv,id,StringHash("闪避"))==20 thencall UnitAddAbility(GetTriggerUnit(),'A00Q')call SetPlayerAbilityAvailableBJ(false,'A00Q',GetOwningPlayer(GetTriggerUnit()))elseif LoadReal(Jv,id,StringHash("闪避"))==30 thencall UnitAddAbility(GetTriggerUnit(),'A00R')call SetPlayerAbilityAvailableBJ(false,'A00R',GetOwningPlayer(GetTriggerUnit()))endifendfunctionfunction pz takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and((GetItemType(GetManipulatedItem())==ITEM_TYPE_ARTIFACT)or(GetItemType(GetManipulatedItem())==ITEM_TYPE_PURCHASABLE)or(GetItemType(GetManipulatedItem())==ITEM_TYPE_CHARGED)))endfunctionfunction qz takes nothing returns nothinglocal integer i=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))local integer id=GetItemTypeId(GetManipulatedItem())call Hl(GetTriggerUnit(),3,1,R2I(LoadReal(Jv,id,StringHash("攻击力"))))call Hl(GetTriggerUnit(),2,1,R2I(LoadReal(Jv,id,StringHash("防御"))))call Hl(GetTriggerUnit(),1,1,R2I(LoadReal(Jv,id,StringHash("法力上限"))))call ModifyHeroStat(0,GetTriggerUnit(),1,R2I(LoadReal(Jv,id,StringHash("招式伤害")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("招式伤害"))))call ModifyHeroStat(1,GetTriggerUnit(),1,R2I(LoadReal(Jv,id,StringHash("内力")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("内力"))))call ModifyHeroStat(2,GetTriggerUnit(),1,R2I(LoadReal(Jv,id,StringHash("真实伤害")))+R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("真实伤害"))))set QO[i]=(QO[i]-LoadReal(Jv,id,StringHash("暴击伤害"))-LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("暴击伤害")))set tO[i]=(tO[i]-LoadReal(Jv,id,StringHash("暴击率"))-LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("暴击率")))set qO[i]=qO[i]-R2I(LoadReal(Jv,id,StringHash("绝学领悟")))-R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("绝学领悟")))set cR[i]=cR[i]-R2I(LoadReal(Jv,id,StringHash("根骨")))-R2I(LoadReal(Jv,id,StringHash("全属性")))-R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("根骨")))set HR[i]=HR[i]-R2I(LoadReal(Jv,id,StringHash("胆魄")))-R2I(LoadReal(Jv,id,StringHash("全属性")))-R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("胆魄")))set XR[i]=XR[i]-R2I(LoadReal(Jv,id,StringHash("悟性")))-R2I(LoadReal(Jv,id,StringHash("全属性")))-R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("悟性")))set JR[i]=JR[i]-R2I(LoadReal(Jv,id,StringHash("医术")))-R2I(LoadReal(Jv,id,StringHash("全属性")))-R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("医术")))set bR[i]=bR[i]-R2I(LoadReal(Jv,id,StringHash("经脉")))-R2I(LoadReal(Jv,id,StringHash("全属性")))-R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("经脉")))set fR[i]=fR[i]-R2I(LoadReal(Jv,id,StringHash("福缘")))-R2I(LoadReal(Jv,id,StringHash("全属性")))-R2I(LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("福缘")))set uO[i]=uO[i]-LoadReal(Jv,id,StringHash("伤害回复"))-LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("伤害回复"))set UO[i]=UO[i]-LoadReal(Jv,id,StringHash("杀怪回复"))-LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("杀怪回复"))set wO[i]=wO[i]-LoadReal(Jv,id,StringHash("生命回复"))-LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("生命回复"))set zO[i]=zO[i]-LoadReal(Jv,id,StringHash("法力回复"))-LoadReal(Jv,GetHandleId(GetManipulatedItem()),StringHash("法力回复"))if LoadReal(Jv,id,StringHash("吸血"))==0.03 thencall UnitRemoveAbility(GetTriggerUnit(),'A009')elseif LoadReal(Jv,id,StringHash("吸血"))==0.05 thencall UnitRemoveAbility(GetTriggerUnit(),'A00A')elseif LoadReal(Jv,id,StringHash("吸血"))==0.1 thencall UnitRemoveAbility(GetTriggerUnit(),'A00B')elseif LoadReal(Jv,id,StringHash("吸血"))==0.15 thencall UnitRemoveAbility(GetTriggerUnit(),'A00E')elseif LoadReal(Jv,id,StringHash("吸血"))==0.2 thencall UnitRemoveAbility(GetTriggerUnit(),'A00I')elseif LoadReal(Jv,id,StringHash("吸血"))==0.3 thencall UnitRemoveAbility(GetTriggerUnit(),'A00J')endifif LoadReal(Jv,id,StringHash("攻击速度"))==10 thencall UnitRemoveAbility(GetTriggerUnit(),'A05E')elseif LoadReal(Jv,id,StringHash("攻击速度"))==15 thencall UnitRemoveAbility(GetTriggerUnit(),'A052')elseif LoadReal(Jv,id,StringHash("攻击速度"))==20 thencall UnitRemoveAbility(GetTriggerUnit(),'A06C')elseif LoadReal(Jv,id,StringHash("攻击速度"))==25 thencall UnitRemoveAbility(GetTriggerUnit(),'A08K')elseif LoadReal(Jv,id,StringHash("攻击速度"))==30 thencall UnitRemoveAbility(GetTriggerUnit(),'A06D')elseif LoadReal(Jv,id,StringHash("攻击速度"))==40 thencall UnitRemoveAbility(GetTriggerUnit(),'A06E')elseif LoadReal(Jv,id,StringHash("攻击速度"))==45 thencall UnitRemoveAbility(GetTriggerUnit(),'A008')elseif LoadReal(Jv,id,StringHash("攻击速度"))==50 thencall UnitRemoveAbility(GetTriggerUnit(),'A06F')elseif LoadReal(Jv,id,StringHash("攻击速度"))==60 thencall UnitRemoveAbility(GetTriggerUnit(),'A06G')endifif LoadReal(Jv,id,StringHash("移动速度"))==70 thencall UnitRemoveAbility(GetTriggerUnit(),'A04J')elseif LoadReal(Jv,id,StringHash("移动速度"))==30 thencall UnitRemoveAbility(GetTriggerUnit(),'A05B')elseif LoadReal(Jv,id,StringHash("移动速度"))==80 thencall UnitRemoveAbility(GetTriggerUnit(),'A03E')elseif LoadReal(Jv,id,StringHash("移动速度"))==100 thencall UnitRemoveAbility(GetTriggerUnit(),'A02N')elseif LoadReal(Jv,id,StringHash("移动速度"))==160 thencall UnitRemoveAbility(GetTriggerUnit(),'A01Y')elseif LoadReal(Jv,id,StringHash("移动速度"))==180 thencall UnitRemoveAbility(GetTriggerUnit(),'A01F')elseif LoadReal(Jv,id,StringHash("移动速度"))==200 thencall UnitRemoveAbility(GetTriggerUnit(),'A0BA')endifif LoadReal(Jv,id,StringHash("闪避"))==10 thencall UnitRemoveAbility(GetTriggerUnit(),'A00O')elseif LoadReal(Jv,id,StringHash("闪避"))==15 thencall UnitRemoveAbility(GetTriggerUnit(),'A00P')elseif LoadReal(Jv,id,StringHash("闪避"))==20 thencall UnitRemoveAbility(GetTriggerUnit(),'A00Q')elseif LoadReal(Jv,id,StringHash("闪避"))==30 thencall UnitRemoveAbility(GetTriggerUnit(),'A00R')endifendfunctionfunction UnitHaveJueZhanBa takes nothing returns booleanreturn((sw(GetAttacker(),'I08V')))endfunctionfunction JueZhanBaXiaoGuo takes nothing returns nothinglocal unit u=GetTriggerUnit()if((ModuloInteger(GetUnitPointValue(u),100)==0))thenif(GetUnitState(u,UNIT_STATE_LIFE)<=0.1*GetUnitState(u,UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(u,1.)elsecall SetWidgetLife(u,GetWidgetLife(u)-0.05*GetUnitState(u,UNIT_STATE_MAX_LIFE))endifelseif(GetUnitState(u,UNIT_STATE_LIFE)<=0.01*GetUnitState(u,UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(u,1.)elsecall SetWidgetLife(u,GetWidgetLife(u)-0.01*GetUnitState(u,UNIT_STATE_MAX_LIFE))endifendifset u=nullendfunctionfunction UnitHaveJiangHuZhong takes nothing returns booleanreturn((sw(GetTriggerUnit(),'I090')))endfunctionfunction JiangHuZhongXiaoGuo takes nothing returns nothinglocal unit u=GetAttacker()if((ModuloInteger(GetUnitPointValue(u),100)==0))thenif(GetUnitState(u,UNIT_STATE_LIFE)<=0.1*GetUnitState(u,UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(u,1.)elsecall SetWidgetLife(u,GetWidgetLife(u)-0.05*GetUnitState(u,UNIT_STATE_MAX_LIFE))endifelseif(GetUnitState(u,UNIT_STATE_LIFE)<=0.01*GetUnitState(u,UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(u,1.)elsecall SetWidgetLife(u,GetWidgetLife(u)-0.01*GetUnitState(u,UNIT_STATE_MAX_LIFE))endifendifset u=nullendfunctionfunction Mz takes nothing returns booleanreturn(((GetItemType(GetManipulatedItem())==ITEM_TYPE_ARTIFACT)or(GetItemType(GetManipulatedItem())==ITEM_TYPE_PURCHASABLE))and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction v8v takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)set E8=1set BO[i]=0set cO[i]=0loopexitwhen E8>6if(GetItemType(UnitItemInSlotBJ(u,E8))==ITEM_TYPE_ARTIFACT)thenset BO[i]=BO[i]+1endifif(GetItemType(UnitItemInSlotBJ(u,E8))==ITEM_TYPE_PURCHASABLE)thenset cO[i]=cO[i]+1endifif((GetItemType(UnitItemInSlotBJ(u,E8))==GetItemType(GetManipulatedItem()))and(UnitItemInSlotBJ(u,E8)!=GetManipulatedItem())and Ce[i]!=7)thencall UnitRemoveItemSwapped(UnitItemInSlotBJ(u,E8),u)call DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000非丫鬟角色最多只能携带一件武器和衣服")endifset E8=E8+1endloopif Ce[i]==7 thenif GetItemType(GetManipulatedItem())==ITEM_TYPE_ARTIFACT and BO[i]>=3 thencall UnitRemoveItemSwapped(GetManipulatedItem(),u)call DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000丫鬟最多只能携带两件武器")endifif GetItemType(GetManipulatedItem())==ITEM_TYPE_PURCHASABLE and cO[i]>=3 thencall UnitRemoveItemSwapped(GetManipulatedItem(),u)call DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000丫鬟最多只能穿两件衣服")endifendifset u=nullset p=nullendfunctionfunction Pz takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and((GetItemLevel(GetManipulatedItem())==3)or(GetItemLevel(GetManipulatedItem())==6)))endfunctionfunction Qz takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((F8[i]==false)and(sw(u,'I01L'))and(sw(u,'I01M')))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffFF4d00※精钢套装※|R
|CFFB2FF00招式伤害+150
暴击率+4%
暴击伤害+30%
杀怪回复+500
根骨+1
胆魄+1|R")set F8[i]=truecall ModifyHeroStat(0,u,0,$96)set tO[i]=(tO[i]+.04)set QO[i]=(QO[i]+.3)set UO[i]=(UO[i]+500.)set cR[i]=(cR[i]+1)set HR[i]=(HR[i]+1)endifif((jI[i]==false)and(sw(u,'I0A8'))and(sw(u,'I0A9')))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffFF4d00※新年快乐套装※|R
|CFFB2FF00全属性+1000
全性格属性+5|R")set jI[i]=truecall ModifyHeroStat(0,u,0,1000)call ModifyHeroStat(1,u,0,1000)call ModifyHeroStat(2,u,0,1000)set bR[i]=(bR[i]+5)set fR[i]=(fR[i]+5)set XR[i]=(XR[i]+5)set JR[i]=(JR[i]+5)set cR[i]=(cR[i]+5)set HR[i]=(HR[i]+5)endifif((H8[i]==false)and(sw(u,1227895118))and(sw(u,1227895119))and(sw(u,1227895120)))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffFF4d00※七星套装※|R
|CFFB2FF00招式伤害+200
魔法上限+15
法力恢复+5
气血+10000
每秒恢复+130
医术+1
悟性+1|R")set H8[i]=truecall ModifyHeroStat(0,u,0,$C8)call Hl(u,1,0,15)call Hl(u,0,0,$2710)call UnitAddAbility(u,1093678424)call UnitAddAbility(u,1093678425)set XR[i]=(XR[i]+1)set JR[i]=(JR[i]+1)endifif((I8[i]==false)and(sw(u,'I01Q'))and(sw(u,'I01R')))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffFF4d00※破军套装※|R
|CFFB2FF00攻击速度+30%
气血+10000
每秒回复+400
防御+30
胆魄+1
福缘+1")set I8[i]=truecall UnitAddAbility(u,1093678426)call UnitAddAbility(u,1093678640)call Hl(u,0,0,$2710)call Hl(u,2,0,30)set HR[i]=(HR[i]+1)set fR[i]=(fR[i]+1)endifif((l8[i]==false)and(sw(u,'I00X'))and(sw(u,'I00Y')))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffFF4d00※绝恋套装※|R
|CFFB2FF00招式伤害+150
真实伤害+100
绝学领悟力+1
气血+15000
每秒回复+300
伤害回复+300
全性格属性+1")set l8[i]=truecall ModifyHeroStat(0,u,0,$96)call ModifyHeroStat(2,u,0,100)set qO[i]=(qO[i]+1)call Hl(u,0,0,$3A98)call UnitAddAbility(u,1093678641)set uO[i]=(uO[i]+300.)set bR[i]=(bR[i]+1)set fR[i]=(fR[i]+1)set XR[i]=(XR[i]+1)set JR[i]=(JR[i]+1)set cR[i]=(cR[i]+1)set HR[i]=(HR[i]+1)endifif((G8[i]==false)and(sw(u,'I00Z'))and(sw(u,'I010')))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffFF4d00※倾城套装※|R
|CFFB2FF00防御+170
绝学领悟力+1
暴击率+4%
暴击伤害+30%
杀怪回复+600
全性格属性+1")set G8[i]=truecall Hl(u,2,0,$AA)set qO[i]=(qO[i]+1)set tO[i]=(tO[i]+.04)set QO[i]=(QO[i]+.3)set UO[i]=(UO[i]+600.)set bR[i]=(bR[i]+1)set fR[i]=(fR[i]+1)set XR[i]=(XR[i]+1)set JR[i]=(JR[i]+1)set cR[i]=(cR[i]+1)set HR[i]=(HR[i]+1)endifif((Ee[i]==false)and(sw(u,'I08V'))and(sw(u,'I08W'))and(sw(u,'I08X')))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffFF4d00※江湖套装※|R
|CFFB2FF00内力+300
真实伤害+200
暴击伤害+150%
法力恢复+10
暴击率+20%
绝学领悟力+4
全性格属性+3
武功伤害+60%")set Ee[i]=truecall ModifyHeroStat(1,u,0,300)call ModifyHeroStat(2,u,0,$C8)call UnitAddAbility(u,1093681741)set tO[i]=(tO[i]+.2)set QO[i]=(QO[i]+1.5)set qO[i]=(qO[i]+4)set bR[i]=(bR[i]+3)set fR[i]=(fR[i]+3)set XR[i]=(XR[i]+3)set JR[i]=(JR[i]+3)set cR[i]=(cR[i]+3)set HR[i]=(HR[i]+3)set fA[i]=(fA[i]+.6)endifif((De[i]==false)and(sw(u,'I090'))and(sw(u,'I08Z'))and(sw(u,'I08Y')))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffFF4d00※决战套装※|R
|CFFB2FF00招式伤害+1000
伤害回复+600
气血+100000
每秒恢复+1000
防御+1000
绝学领悟力+4
全性格属性+3
伤害吸收+30%")set De[i]=truecall ModifyHeroStat(0,u,0,1000)set uO[i]=(uO[i]+600.)call UnitAddAbility(u,1093681742)call UnitAddAbility(u,1093681743)call Hl(u,2,0,1000)set qO[i]=(qO[i]+4)set bR[i]=(bR[i]+3)set fR[i]=(fR[i]+3)set XR[i]=(XR[i]+3)set JR[i]=(JR[i]+3)set cR[i]=(cR[i]+3)set HR[i]=(HR[i]+3)set FA[i]=(FA[i]+.3)endifset u=nullset p=nullendfunctionfunction Sz takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and((GetItemLevel(GetManipulatedItem())==3)or(GetItemLevel(GetManipulatedItem())==6)))endfunctionfunction Tz takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)call FL(.01)if((F8[i])and((sw(u,'I01L')==false)or(sw(u,'I01M')==false)))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffff00ff失去精钢套装属性|R")set F8[i]=falsecall ModifyHeroStat(0,u,1,$96)set tO[i]=(tO[i]-.04)set QO[i]=(QO[i]-.3)set UO[i]=(UO[i]-500.)set cR[i]=(cR[i]-1)set HR[i]=(HR[i]-1)endifif((jI[i])and((sw(u,'I0A8')==false)or(sw(u,'I0A9')==false)))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffff00ff失去新年快乐套装属性|R")set jI[i]=falsecall ModifyHeroStat(0,u,1,1000)call ModifyHeroStat(1,u,1,1000)call ModifyHeroStat(2,u,1,1000)set bR[i]=(bR[i]-5)set fR[i]=(fR[i]-5)set XR[i]=(XR[i]-5)set JR[i]=(JR[i]-5)set cR[i]=(cR[i]-5)set HR[i]=(HR[i]-5)endifif((H8[i])and((sw(u,1227895118)==false)or(sw(u,1227895119)==false)or(sw(u,1227895120)==false)))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffff00ff失去七星套装属性|R")set H8[i]=falsecall ModifyHeroStat(0,u,1,$C8)call Hl(u,1,1,15)call Hl(u,0,1,$2710)call UnitRemoveAbility(u,1093678424)call UnitRemoveAbility(u,1093678425)set XR[i]=(XR[i]-1)set JR[i]=(JR[i]-1)endifif((I8[i])and((sw(u,'I01Q')==false)or(sw(u,'I01R')==false)))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffff00ff失去破军套装属性|R")set I8[i]=falsecall UnitRemoveAbility(u,1093678426)call UnitRemoveAbility(u,1093678640)call Hl(u,0,1,$2710)call Hl(u,2,1,30)set HR[i]=(HR[i]-1)set fR[i]=(fR[i]-1)endifif((l8[i])and((sw(u,'I00X')==false)or(sw(u,'I00Y')==false)))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffff00ff失去绝恋套装属性|R")set l8[i]=falsecall ModifyHeroStat(0,u,1,$96)call ModifyHeroStat(2,u,1,100)set qO[i]=(qO[i]-1)call Hl(u,0,1,$3A98)call UnitRemoveAbility(u,1093678641)set uO[i]=(uO[i]-300.)set bR[i]=(bR[i]-1)set fR[i]=(fR[i]-1)set XR[i]=(XR[i]-1)set JR[i]=(JR[i]-1)set cR[i]=(cR[i]-1)set HR[i]=(HR[i]-1)endifif((G8[i])and((sw(u,'I00Z')==false)or(sw(u,'I010')==false)))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffff00ff失去倾城套装属性|R")set G8[i]=falsecall Hl(u,2,1,$AA)set qO[i]=(qO[i]-1)set tO[i]=(tO[i]-.04)set QO[i]=(QO[i]-.3)set UO[i]=(UO[i]-600.)set bR[i]=(bR[i]-1)set fR[i]=(fR[i]-1)set XR[i]=(XR[i]-1)set JR[i]=(JR[i]-1)set cR[i]=(cR[i]-1)set HR[i]=(HR[i]-1)endifif((Ee[i])and((sw(u,'I08V')==false)or(sw(u,'I08W')==false)or(sw(u,'I08X')==false)))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffff00ff失去江湖套装属性|R")set Ee[i]=falsecall ModifyHeroStat(1,u,1,300)call ModifyHeroStat(2,u,1,$C8)call UnitRemoveAbility(u,1093681741)set tO[i]=(tO[i]-.2)set QO[i]=(QO[i]-1.5)set qO[i]=(qO[i]-4)set bR[i]=(bR[i]-3)set fR[i]=(fR[i]-3)set XR[i]=(XR[i]-3)set JR[i]=(JR[i]-3)set cR[i]=(cR[i]-3)set HR[i]=(HR[i]-3)set fA[i]=(fA[i]-.6)endifif((De[i])and((sw(u,'I090')==false)or(sw(u,'I08Z')==false)or(sw(u,'I08Y')==false)))thencall DisplayTimedTextToPlayer(p,0,0,10.,"|cffff00ff失去决战套装属性|R")set De[i]=falsecall ModifyHeroStat(0,u,1,1000)set uO[i]=(uO[i]-600.)call UnitRemoveAbility(u,1093681742)call UnitRemoveAbility(u,1093681743)call Hl(u,2,1,1000)set qO[i]=(qO[i]-4)set bR[i]=(bR[i]-3)set fR[i]=(fR[i]-3)set XR[i]=(XR[i]-3)set JR[i]=(JR[i]-3)set cR[i]=(cR[i]-3)set HR[i]=(HR[i]-3)set FA[i]=(FA[i]-.3)endifset u=nullset p=nullendfunctionfunction v9v takes unit uc,unit bU returns booleanlocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(uc)))]if(uc==null or GetUnitTypeId(bU)=='n000' or GetUnitPointValue(bU)==10)thenreturn falseelseif sw(u,'I02S')or sw(u,'I02M')or sw(u,'I02Q')or sw(u,'I02R')thenreturn trueendifendifreturn falseendfunctionfunction Vz takes nothing returns booleanreturn v9v(GetKillingUnit(),GetTriggerUnit())endfunctionfunction evv takes unit u,integer id,integer CU,integer rl returns nothinglocal integer i=0call SetWidgetLife(UU(u,id),GetWidgetLife(UU(u,id))-1)if sw(u,id)thenif(500000.-GetWidgetLife(UU(u,id))<I2R(rl))thencall DisplayTextToPlayer(GetOwningPlayer(u),0,0,"成长值："+(I2S(R2I(500000.-GetWidgetLife(UU(u,id))))+" / "+I2S(rl)))elseset i=GetItemUserData(UU(u,id))call RemoveItem(UU(u,id))call SJ(CU,v7[9])call SetItemUserData(bj_lastCreatedItem,i)call UnitAddItem(u,bj_lastCreatedItem)call DisplayTextToPlayer(GetOwningPlayer(u),0,0,"|cFF33FF00恭喜养武等级获得提升")endifendifendfunctionfunction Wz takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]call evv(u,'I02S','I02M',200)call evv(u,'I02M','I02Q',500)call evv(u,'I02Q','I02R',800)call evv(u,'I02R','I02P',1200)endfunctionfunction eev takes item it,unit u returns booleanif GetItemTypeId(it)=='I05R' or GetItemTypeId(it)=='I05Q' or GetItemTypeId(it)=='I05M' or GetItemTypeId(it)=='I05O' or GetItemTypeId(it)=='I05P' or GetItemTypeId(it)=='I05N' thenif Ce[1+GetPlayerId(GetOwningPlayer(u))]!=2 thencall DisplayTextToPlayer(GetOwningPlayer(u),0,0,"|cFFFFCC00你不是锻造师，不可以镶嵌宝石")call AdjustPlayerStateBJ(20000,GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD)return falseelsereturn trueendifendifreturn falseendfunctionfunction kA takes nothing returns booleanreturn eev(GetManipulatedItem(),GetTriggerUnit())endfunctionfunction exv takes unit u,item it,item eov,integer id,integer i returns nothinglocal player p=GetOwningPlayer(u)local integer v_v=ModuloInteger(GetItemUserData(it)/ 1000,10)local integer v0v=ModuloInteger(GetItemUserData(it)/ 100,10)local integer v1v=ModuloInteger(GetItemUserData(it)/ 10,10)if GetItemTypeId(eov)==id thenif(v_v==0)thencall AdjustPlayerStateBJ(20000,p,PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00你的第一格物品无法镶嵌宝石")elsecall SetItemPositionLoc(it,v7[9])if(v0v==0)thencall SetItemUserData(it,GetItemUserData(it)+100*i-1000)elseif(v1v==0)thencall SetItemUserData(it,GetItemUserData(it)+10*i-1000)elsecall SetItemUserData(it,GetItemUserData(it)+1*i-1000)endifendifcall UnitAddItem(u,it)endifendifset p=nullendfunctionfunction mA takes nothing returns nothinglocal unit u=GetTriggerUnit()local item it=UnitItemInSlotBJ(u,1)call exv(u,it,GetManipulatedItem(),'I05M',1)call exv(u,it,GetManipulatedItem(),'I05P',2)call exv(u,it,GetManipulatedItem(),'I05O',3)call exv(u,it,GetManipulatedItem(),'I05Q',4)call exv(u,it,GetManipulatedItem(),'I05R',5)call exv(u,it,GetManipulatedItem(),'I05N',6)set u=nullset it=nullendfunctionfunction CA takes nothing returns nothingset PR=PR+1set q7[PR]=GetUnitTypeId(GetEnumUnit())set r7[PR]=GetEnumUnit()set m7[PR]=GetUnitLoc(GetEnumUnit())endfunctionfunction cA takes nothing returns nothingset m7[0]=GetRectCenter(Ge)set MR=CountUnitsInGroup((Xw((Player(12)),null)))set o7=CountUnitsInGroup((Xw((Player(15)),null)))call ForGroupBJ((Xw((Player(12)),null)),function CA)call ForGroupBJ((Xw((Player(15)),null)),function CA)endfunctionfunction EA takes nothing returns nothingif GetTriggerUnit()!=yE and GetTriggerUnit()!=zE and GetTriggerUnit()!=eX and GetTriggerUnit()!=vX thencall FL(.02)set s7=1loopexitwhen s7>(MR+o7)if((GetTriggerUnit()==r7[s7]))thenif((s7<=MR))thenif((GetUnitTypeId(GetTriggerUnit())!='n000'))thencall CreateNUnitsAtLoc(1,'n000',Player(12),m7[0],bj_UNIT_FACING)call UnitApplyTimedLifeBJ(((.18-(.01*I2R(O4)))*I2R(GetUnitPointValueByType(GetUnitTypeId(GetTriggerUnit())))),'BTLF',bj_lastCreatedUnit)set r7[s7]=bj_lastCreatedUnitreturnelsecall CreateNUnitsAtLoc(1,q7[s7],Player(12),m7[s7],bj_UNIT_FACING)set r7[s7]=bj_lastCreatedUnitreturnendifelseif((GetUnitTypeId(GetTriggerUnit())!='n000'))thencall CreateNUnitsAtLoc(1,'n000',Player(12),m7[0],bj_UNIT_FACING)call UnitApplyTimedLifeBJ(((.18-(.01*I2R(O4)))*I2R(GetUnitPointValueByType(GetUnitTypeId(GetTriggerUnit())))),'BTLF',bj_lastCreatedUnit)set r7[s7]=bj_lastCreatedUnitreturnelsecall CreateNUnitsAtLoc(1,q7[s7],Player(15),m7[s7],bj_UNIT_FACING)set r7[s7]=bj_lastCreatedUnitreturnendifendifendifset s7=s7+1endloopendifendfunctionfunction GA takes nothing returns booleanreturn(uR)endfunctionfunction erv takes nothing returns nothinglocal timer t=GetExpiredTimer()if gI[SR/ 4]!=null thenif IsUnitAliveBJ(gI[SR/ 4])thenif GetUnitAbilityLevel(gI[SR/ 4],'A0DB')==0 thencall UnitAddAbility(gI[SR/ 4],'A0DB')call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033邪教BOSS"+GetUnitName(gI[SR/ 4])+"已加强")elseif GetUnitAbilityLevel(gI[SR/ 4],'A0DB')<10 thencall IncUnitAbilityLevel(gI[SR/ 4],'A0DB')call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033邪教BOSS"+GetUnitName(gI[SR/ 4])+"已加强")endifendifif GetUnitAbilityLevel(gI[SR/ 4],'A0CP')==0 thencall UnitAddAbility(gI[SR/ 4],'A0CP')elseif GetUnitAbilityLevel(gI[SR/ 4],'A0CP')<6 thencall IncUnitAbilityLevel(gI[SR/ 4],'A0CP')elsecall UnitAddAbility(gI[SR/ 4],'A0C1')endifendifelsecall PauseTimer(t)call DestroyTimer(t)endifelsecall PauseTimer(t)call DestroyTimer(t)endifset t=nullendfunctionfunction eiv takes nothing returns booleanlocal integer i=0local integer eav=0local real r=0.set i=1loopexitwhen i>11if ER[i]!=null thenset eav=eav+GetUnitLevel(ER[i])endifset i=i+1endloopset r=I2R(eav)/ I2R(TU())if hX and r>SR*4 thenreturn trueendifreturn falseendfunctionfunction HA takes nothing returns nothinglocal timer t=CreateTimer()if SR==5 and hX==true thencall vIv()endifcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033邪教势力：第"+(I2S(SR)+"|CFFFF0033波")))if SR==9 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能神圣护甲和10倍暴击"))elseif SR==11 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能咆哮和重击"))elseif SR==12 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪为空军"))elseif SR==13 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能噬血术"))elseif SR==14 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪为绞肉车，死亡后会产生小蜘蛛"))elseif SR==15 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪为空军，拥有技能20倍暴击"))elseif SR==16 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能精灵之火"))elseif SR==17 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能狂战士和30倍暴击"))elseif SR==18 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪血量很高，并拥有技能嘲讽"))elseif SR==19 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能狂热"))elseif SR==20 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能变相移动"))elseif SR==21 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能反魔法外壳"))elseif SR==22 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能重击"))elseif SR==23 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能90%闪避"))elseif SR==24 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能卡布恩（自爆）"))elseif SR==25 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能闪电攻击"))elseif SR==26 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪拥有技能神圣护甲"))elseif SR==27 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：下一波怪血量很高，并拥有技能永久献祭和重生"))elseif SR==28 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0033※警告※：本波为最后一波进攻，本波结束后教主即将出现"))endifif eiv()thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033激活特殊事件|cFFDDA0DD※邪教全力进攻※")endifcall StopMusic(false)call PlayMusicBJ(yh)call EnableTrigger(Yi)call FL(60.)if((O4>1))thencall EnableTrigger(Zi)if((ModuloInteger(SR,4)==0)and(SR<28)and HX==false)thencall CreateNUnitsAtLocFacingLocBJ(1,u7[(SR/ 4)],Player(6),v7[8],v7[3])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[3])call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033邪教趁我方不备，偷偷地派出BOSS从背后杀过来了，请准备防御")endifcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033邪教趁我方不备，偷偷地从背后杀过来了")endifif((ModuloInteger(SR,4)==0)and(SR<30)and HX==false)thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033邪教派出BOSS前来进攻，请准备防御")call CreateNUnitsAtLocFacingLocBJ(1,u7[(SR/ 4)],Player(6),v7[6],v7[4])if SR==4 thencall UnitAddAbility(bj_lastCreatedUnit,'A0C2')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0C2',IMinBJ(gX*2,9))call UnitAddAbility(bj_lastCreatedUnit,'A0C5')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0C5',IMinBJ(gX*2,9))call UnitAddAbility(bj_lastCreatedUnit,'A0C7')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0C7',IMinBJ(gX*2,9))elseif SR==8 thencall UnitAddAbility(bj_lastCreatedUnit,'A0CF')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0CF',IMinBJ(gX*2,9))call UnitAddAbility(bj_lastCreatedUnit,'A0DA')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0DA',IMinBJ(gX*2,9))elseif SR==12 thencall UnitAddAbility(bj_lastCreatedUnit,'A0CI')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0CI',IMinBJ(gX*2,9))call UnitAddAbility(bj_lastCreatedUnit,'A0CJ')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0CJ',IMinBJ(gX*2,9))call UnitAddAbility(bj_lastCreatedUnit,'A0CN')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0CN',IMinBJ(gX*2,9))elseif SR==16 thencall UnitAddAbility(bj_lastCreatedUnit,'A0C8')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0C8',IMinBJ(gX*2,9))call UnitAddAbility(bj_lastCreatedUnit,'A0C9')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0C9',IMinBJ(gX*2,9))call UnitAddAbility(bj_lastCreatedUnit,'A0CB')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0CB',IMinBJ(gX*2,9))elseif SR==20 thencall UnitAddAbility(bj_lastCreatedUnit,'A0CH')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0CH',IMinBJ(gX*2,9))call UnitAddAbility(bj_lastCreatedUnit,'A0DE')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0DE',IMinBJ(gX*2,9))elseif SR==24 thencall UnitAddAbility(bj_lastCreatedUnit,'A0CK')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0CK',IMinBJ(gX*2,9))call UnitAddAbility(bj_lastCreatedUnit,'A0DH')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0DH',IMinBJ(gX*2,9))endifset gI[SR/ 4]=bj_lastCreatedUnitcall TimerStart(t,15,true,function erv)call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])elseif((ModuloInteger(SR,4)!=0)and(SR<28)and HX==false)thenif eiv()thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033由于激活特殊事件，邪教派出BOSS前来进攻，请准备防御")call CreateNUnitsAtLocFacingLocBJ(1,u7[(SR/ 4)+1],Player(6),v7[6],v7[4])set gI[SR/ 4]=bj_lastCreatedUnitcall TimerStart(t,15,true,function erv)call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])endifendifcall FL(20.)if((ue>0))thencall ConditionalTriggerExecute(dj)call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033名门高手开始进攻，大家要小心应付了！")endifcall DisableTrigger(Yi)call FL(10.)if((O4>1))thencall DisableTrigger(Zi)endifset SR=SR+1call StopMusic(false)call PlayMusicBJ(xh)if JX==false thencall FL(135-TU()*10)endifif((SR>=29)and HX==false)thencall StopMusic(false)call PlayMusicBJ(zh)call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033西域势力最后BOSS即将发起最后进攻，请作好防守准备")call CreateNUnitsAtLocFacingLocBJ(1,u7[8],Player(6),v7[6],v7[4])set gI[SR/ 4]=bj_lastCreatedUnitcall TimerStart(t,15,true,function erv)call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])elseif HX==true thencall AddPlayerTechResearched(Player(12),'R004',1)call AddPlayerTechResearched(Player(6),'R004',1)endifif((x7>=1))thencall TriggerExecute(ij)elsecall TriggerExecute(hj)endifendifset t=nullendfunctionfunction env takes unit u returns nothingif SR>=8 thencall UnitAddAbility(u,'A0CX')if SR>=18 thencall UnitAddAbility(u,'A0CY')if SR>=28 thencall UnitAddAbility(u,'A0CZ')endifendifendifendfunctionfunction lA takes nothing returns nothingif HX==false thencall CreateNUnitsAtLocFacingLocBJ(1,y7[SR],Player(6),v7[6],v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])call CreateNUnitsAtLocFacingLocBJ(1,y7[SR],Player(6),v7[7],v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])call CreateNUnitsAtLocFacingLocBJ(1,y7[SR],Player(6),v7[5],v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])if eiv()thencall CreateNUnitsAtLocFacingLocBJ(1,y7[SR],Player(6),v7[6],v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])call CreateNUnitsAtLocFacingLocBJ(1,y7[SR],Player(6),v7[7],v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])call CreateNUnitsAtLocFacingLocBJ(1,y7[SR],Player(6),v7[5],v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])endifelsecall CreateNUnitsAtLocFacingLocBJ(1,'n003',Player(6),v7[6],v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])call env(bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'n003',Player(6),v7[7],v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])call env(bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'n003',Player(6),v7[5],v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])call env(bj_lastCreatedUnit)endifendfunctionfunction KA takes nothing returns nothingif HX==false thencall CreateNUnitsAtLocFacingLocBJ(1,y7[(SR+1)],Player(6),v7[8],v7[3])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[3])if eiv()thencall CreateNUnitsAtLocFacingLocBJ(1,y7[(SR+1)],Player(6),v7[8],v7[3])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[3])endifelsecall CreateNUnitsAtLocFacingLocBJ(1,'n003',Player(6),v7[8],v7[3])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[3])call env(bj_lastCreatedUnit)endifendfunctionfunction MA takes nothing returns booleanreturn(uR)endfunctionfunction NA takes nothing returns nothinglocal integer i=1local integer j=1local integer iu=0local real r1=0local real r2=0local real pU=1.local real PU=1.if((ue==1))thenset r1=1.26set r2=1.4elseif((ue==2))thenset r1=1.28set r2=1.43elseif((ue==3))thenset r1=1.3set r2=1.46elseif((ue==4))thenset r1=1.32set r2=1.49elseif((ue==5))thenset r1=1.34set r2=1.52endifloopexitwhen i>ueloopexitwhen j>SRif(j<SR)thenset pU=pU*r1set PU=PU*r2endifset j=j+1endloopset iu=GetRandomInt(1,11)call CreateNUnitsAtLocFacingLocBJ(1,ve[iu],Player(6),v7[GetRandomInt(5,8)],v7[4])call GroupAddUnit(w7,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,v7[4])call SetHeroLevelBJ(bj_lastCreatedUnit,(4*SR),false)call Hl(bj_lastCreatedUnit,3,0,R2I(I2R(xe[iu])*(pU*3.3)))call Hl(bj_lastCreatedUnit,2,0,(((SR-1)*ye[iu]*9)/ 10)*ue)call YJ(Ae[SR],bj_lastCreatedUnit)set i=i+1endloopendfunctionfunction PA takes nothing returns nothingcall DestroyTimerDialog(z7[1])call ConditionalTriggerExecute(Xi)endfunctionfunction RA takes nothing returns nothingcall DestroyTimerDialog(z7[2])call ConditionalTriggerExecute(Xi)endfunctionfunction TA takes nothing returns nothingcall DestroyTimerDialog(z7[3])call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cFFDDA0DD西域邪教开始了进攻正派武林，玩家务必要确保正派武林不被摧毁，否则游戏失败|r")if hX==true thencall vIv()endifcall ConditionalTriggerExecute(Xi)endfunctionfunction VA takes nothing returns nothingcall StartTimerBJ(A7[1],false,(30.+I2R(ie)))call CreateTimerDialogBJ(bj_lastStartedTimer,"邪教下次进攻时间")set z7[1]=bj_lastCreatedTimerDialogset ie=0endfunctionfunction XA takes nothing returns nothingcall StartTimerBJ(A7[2],false,(x7*60.+30.+I2R(ie)))call CreateTimerDialogBJ(bj_lastStartedTimer,"邪教下次进攻时间")set z7[2]=bj_lastCreatedTimerDialogset ie=0set x7=0endfunctionfunction ZA takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227894853))endfunctionfunction ea takes nothing returns nothingset x7=x7+1call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF00FF4C在武林弟子的奋力帮助下，邪教的进攻势力被延缓了，大家有1分钟的时间，赶紧去做任务吧~")call PlaySoundOnUnitBJ(Dh,100,GetTriggerUnit())set YA[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=YA[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|CFF00FF4C守家积分+10")endfunctionfunction ga takes nothing returns nothingcall IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,v7[4])endfunctionfunction ha takes nothing returns nothingcall ForGroupBJ(w7,function ga)endfunctionfunction ja takes nothing returns booleanreturn((IsUnitInGroup(GetTriggerUnit(),w7)))endfunctionfunction ka takes nothing returns nothingcall GroupRemoveUnit(w7,GetTriggerUnit())endfunctionfunction na takes nothing returns booleanreturn(((GetOwningPlayer(GetFilterUnit())==Player(7))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction qa takes nothing returns nothingif((CountUnitsInGroup(wv(Ie,Condition(function na)))<=3))thencall CreateNUnitsAtLoc(12,y7[IMinBJ(IMaxBJ(SR,1),28)],Player(7),v7[1],bj_UNIT_FACING)endifif((CountUnitsInGroup(wv(Re,Condition(function na)))<=3))thencall CreateNUnitsAtLoc(12,y7[IMinBJ(IMaxBJ(SR,1),28)],Player(7),v7[$A],bj_UNIT_FACING)endifif((CountUnitsInGroup(wv(le,Condition(function na)))<=3))thencall CreateNUnitsAtLoc(12,y7[IMinBJ(IMaxBJ(SR,1),28)],Player(7),v7[2],bj_UNIT_FACING)endifendfunctionfunction sa takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895350))endfunctionfunction ua takes nothing returns nothingcall DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00进入少林寺练功房二")call SetUnitPosition(GetTriggerUnit(),4750,-3650)call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()),4250,-3650,0)endfunctionfunction wa takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895351))endfunctionfunction xa takes nothing returns nothingcall DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00进入少林寺练功房三")call SetUnitPosition(GetTriggerUnit(),5920,-4750)call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()),5920,-4750,0)endfunctionfunction za takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895361))endfunctionfunction Aa takes nothing returns nothingcall DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00进入少林寺练功房一")call SetUnitPosition(GetTriggerUnit(),3730,-4690)call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()),3730,-4690,0)endfunctionfunction Ba takes nothing returns booleanreturn((GetSpellAbilityId()==1093677134))endfunctionfunction ba takes nothing returns nothingset B7=1loopexitwhen B7>6call UnitAddItem(b7[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],UnitItemInSlotBJ(C7[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],B7))set B7=B7+1endloopset B7=1loopexitwhen B7>6call UnitAddItem(C7[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],UnitItemInSlotBJ(GetTriggerUnit(),B7))set B7=B7+1endloopset B7=1loopexitwhen B7>6call UnitAddItem(GetTriggerUnit(),UnitItemInSlotBJ(b7[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],B7))set B7=B7+1endloopendfunctionfunction ca takes nothing returns booleanreturn((GetSpellAbilityId()==1093679433))endfunctionfunction Da takes nothing returns nothingcall CreateNUnitsAtLoc(1,'nvul',GetOwningPlayer(GetTriggerUnit()),v7[9],bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddItem(bj_lastCreatedUnit,CreateItem(GetItemTypeId(GetSpellTargetItem()),0,0))call UnitDropItemTarget(bj_lastCreatedUnit,UnitItemInSlotBJ(bj_lastCreatedUnit,1),Rs)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',5.)call RemoveItem(GetSpellTargetItem())call PlaySoundOnUnitBJ(Ih,100,GetTriggerUnit())call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)endfunctionfunction eVv takes nothing returns booleanreturn((GetSpellAbilityId()=='A00M')and(he[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==false))endfunctionfunction eEv takes nothing returns nothingcall UnitAddItem(Vs,UnitItemInSlotBJ(GetTriggerUnit(),1))call UnitAddItem(GetTriggerUnit(),UnitItemInSlotBJ(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],1))call UnitAddItem(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],UnitItemInSlotBJ(Vs,1))endfunctionfunction eXv takes nothing returns nothingset CI[1]="少林派"set X7[1]='A05G'set Z7[1]='A000'set Y7[1]='A05K'set Q8[1]='A05O'set P8[1]='S000'set CI[2]="古墓派"set X7[2]='A09E'set Z7[2]='A09J'set Y7[2]='A09M'set Q8[2]='A09T'set P8[2]='A09U'set CI[3]="丐帮"set X7[3]='A0C9'set Z7[3]='A0CB'set Y7[3]='A0C8'set Q8[3]='A0CA'set P8[3]='A0DI'set CI[4]="华山派"set X7[4]='A08Y'set Z7[4]='A08W'set Y7[4]='A08X'set Q8[4]='A037'set P8[4]='A091'set CI[5]="全真教"set X7[5]='A0CF'set Z7[5]='A0DA'set Y7[5]='A0CM'set Q8[5]='A0CH'set P8[5]='A0DE'set CI[6]="血刀门"set X7[6]='A0CI'set Z7[6]='A0CJ'set Y7[6]='A0CN'set Q8[6]='A0CK'set P8[6]='A0DH'set CI[7]="恒山派"set X7[7]='A021'set Z7[7]='A01Z'set Y7[7]='A0CD'set Q8[7]='A023'set P8[7]='A024'set CI[8]="峨眉派"set X7[8]='A0C7'set Z7[8]='A0C2'set Y7[8]='A0C5'set Q8[8]='A0C4'set P8[8]='A0C6'set CI[9]="武当派"set X7[9]='A04D'set Z7[9]='A08S'set Y7[9]='A08R'set Q8[9]='A08Q'set P8[9]='A08V'set CI[10]="星宿派"set X7[10]='A0BP'set Z7[10]='A0BS'set Y7[10]='A0BQ'set Q8[10]='A0BT'set P8[10]='A0BV'set CI[11]="自由门派"set X7[11]='AEfk'set Z7[11]='AEfk'set Y7[11]='AEfk'set Q8[11]='AEfk'set P8[11]='AEfk'set CI[12]="灵鹫宫"set X7[12]='A02B'set Z7[12]='A02C'set Y7[12]='A02F'set Q8[12]='A02G'set P8[12]='A02H'set CI[13]="姑苏慕容"set X7[13]='A02K'set Z7[13]='A0CC'set Y7[13]='A02M'set Q8[13]='A02V'set P8[13]='A02R'set CI[14]="明教"set X7[14]='A030'set Z7[14]='A032'set Y7[14]='A06R'set Q8[14]='A034'set P8[14]='A07W'set CI[15]="衡山派"set X7[15]='A04M'set Z7[15]='A04N'set Y7[15]='A04P'set Q8[15]='A026'set P8[15]='A04R'endfunctionfunction Ja takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction eOv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif(Ce[i]==5)thencall ModifyHeroStat(1,u,0,10)if(GetUnitLevel(u)==100)thenset qO[i]=qO[i]+10if DX[i]==true thenelsecall SaveStr(Jv,GetHandleId(p),GetHandleId(p),"〓练气大师〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15,"|CFF66FF00恭喜"+GetPlayerName(p)+"获得练气大师")call SetPlayerName(p,"〓练气大师〓"+GetPlayerName(p))endifendifif((GetUnitTypeId(u)=='O004'))thencall Hl(u,0,0,400)elsecall Hl(u,0,0,350)endifif((GetUnitTypeId(u)=='O000'))thencall Hl(u,3,0,40)elsecall Hl(u,3,0,35)endifif((GetUnitTypeId(u)=='O001'))thencall Hl(u,2,0,5)elsecall Hl(u,2,0,4)endifif((GetUnitLevel(u)>=2)and(Z8[i]==false))thenset Z8[i]=trueset d8[i]=1loopexitwhen d8[i]>15if(kR[i]==d8[i])thenif d8[i]!=11 thencall UnitAddAbility(u,X7[d8[i]])call UnitMakeAbilityPermanent(u,true,X7[d8[i]])call DisplayTextToPlayer(p,0,0,"|cff00FF66恭喜领悟技能："+GetObjectName(X7[d8[i]]))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FF66玩家"+I2S(1+GetPlayerId(p))+"成为"+CI[kR[i]]+"初级弟子")call SetPlayerName(p,"〓"+CI[kR[i]]+"初级弟子〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifif(kR[i]==11)thenset dO[i]=dO[i]+5call DisplayTextToPlayer(p,0,0,"|cff00FF66自由门派2级奖励5点自由属性点及随机武功秘籍一本、小概率获得奇武秘籍一本")if GetRandomInt(1,100)<=10 thencall YJ(LoadInteger(Jv,StringHash("武学")+GetRandomInt(42,46),1),u)endifif GetRandomInt(1,100)<=99 thencall YJ(LoadInteger(Jv,StringHash("武学")+GetRandomInt(1,18),1),u)elsecall YJ(LoadInteger(Jv,StringHash("武学")+GetRandomInt(1,18),1),u)endifendifset L7[i]=1loopexitwhen L7[i]>cX[i]if(I7[(GetPlayerId(p)*20+L7[i])]!='AEfk')thenelseset I7[(((i-1)*20)+L7[i])]=X7[d8[i]]exitwhen trueendifset L7[i]=L7[i]+1endloopendifset d8[i]=d8[i]+1endloopendifif((GetUnitLevel(u)>=2)and GetUnitAbilityLevel(u,X7[kR[i]])>=3 and(e9[i]==false))thenset e9[i]=trueset d8[i]=1loopexitwhen d8[i]>15if d8[i]!=11 thenif((kR[i]==d8[i]))thencall UnitAddAbility(u,Z7[d8[i]])call UnitMakeAbilityPermanent(u,true,Z7[d8[i]])call DisplayTextToPlayer(p,0,0,("|cff00FF66恭喜领悟技能："+GetObjectName(Z7[d8[i]])))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FF66玩家"+I2S(1+GetPlayerId(p))+"成为"+CI[kR[i]]+"中级弟子")call SetPlayerName(p,"〓"+CI[kR[i]]+"中级弟子〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[((GetPlayerId(p)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]=Z7[d8[i]]exitwhen trueendifset L7[i]=L7[i]+1endloopendifendifset d8[i]=d8[i]+1endloopendifif((GetUnitLevel(u)>=2)and GetUnitAbilityLevel(u,Z7[kR[i]])>=3 and(d9[i]==false))thenset d9[i]=trueset d8[i]=1loopexitwhen d8[i]>15if d8[i]!=11 thenif((kR[i]==d8[i]))thencall UnitAddAbility(u,Y7[d8[i]])call DisplayTextToPlayer(p,0,0,("|cff00FF66恭喜领悟技能："+GetObjectName(Y7[d8[i]])))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FF66玩家"+I2S(1+GetPlayerId(p))+"成为"+CI[kR[i]]+"高级弟子")call SetPlayerName(p,"〓"+CI[kR[i]]+"高级弟子〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))call UnitMakeAbilityPermanent(u,true,Y7[d8[i]])set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[((GetPlayerId(p)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]=Y7[d8[i]]exitwhen trueendifset L7[i]=L7[i]+1endloopendifendifset d8[i]=d8[i]+1endloopendifif((GetUnitLevel(u)==10))thencall DisplayTimedTextToPlayer(p,0,0,30.,"|cff66ff00恭喜你升到了10级，你可以前往全真教（小地图指示点）完成历练1任务（大战江南七怪）了，完成历练任务可以提升修行，对人物的武功伤害占有重要影响，切记切记！！")set vJ=GetRectCenter(Te)call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)endifif((GetUnitLevel(u)==25))thencall DisplayTimedTextToPlayer(p,0,0,30.,"|cff66ff00恭喜你升到了25级，你可以前往少林后山（小地图指示点）完成历练2任务（挑战十八罗汉）了，完成历练任务可以提升修行，对人物的武功伤害占有重要影响，切记切记！！")set vJ=GetRectCenter(ag)call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)endifif((GetUnitLevel(u)==40))thencall DisplayTimedTextToPlayer(p,0,0,30.,"|cff66ff00恭喜你升到了40级，你可以前往武林城外（小地图指示点）完成历练3任务（勇闯十恶不赦岛）了，完成历练任务可以提升修行，对人物的武功伤害占有重要影响，切记切记！！")set vJ=GetRectCenter(Bg)call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)endifif((GetUnitLevel(u)==55))thencall DisplayTimedTextToPlayer(p,0,0,30.,"|cff66ff00恭喜你升到了55级，你可以前往光明顶（小地图指示点）完成历练4任务（勇闯光明顶）了，完成历练任务可以提升修行，对人物的武功伤害占有重要影响，切记切记！！")set vJ=GetRectCenter(Lg)call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)endifif((GetUnitLevel(u)==70))thencall DisplayTimedTextToPlayer(p,0,0,30.,"|cff66ff00恭喜你升到了70级，你可以前往少林寺后山（小地图指示点）完成历练5任务（华山论剑）了，完成历练任务可以提升修行，对人物的武功伤害占有重要影响，切记切记！！")set vJ=GetRectCenter(Rg)call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)endifif(GetUnitLevel(u)>=80 and db[i]==false)thencall DisplayTimedTextToPlayer(p,0,0,30.,"|cff66ff00恭喜你升到了80级，获得5个自创武学点（vip玩家获得7个），你可以到聚贤庄游坦之处自创武学")set Bb[i]=Bb[i]+5if YX[i]>=1 thenset Bb[i]=Bb[i]+2endifset db[i]=trueset Nb[i]=fF(0,0,GetRandomInt(1,10),0,0)endifset u=nullset p=nullset vJ=nullendfunctionfunction Ma takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER))endfunctionfunction eRv takes nothing returns nothingif GetUnitAbilityLevel(ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],'A03Z')<1 thencall SetWidgetLife(ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],(GetUnitState(ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],UNIT_STATE_LIFE)+(UO[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+((I2R(HR[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))])/ 2000.)*GetUnitState(ER[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],UNIT_STATE_MAX_LIFE)))))endifendfunctionfunction eIv takes nothing returns nothingset c7=1loopexitwhen c7>5if((GetPlayerController(Player(-1+(c7)))==MAP_CONTROL_USER))and UnitHasBuffBJ(ER[c7],'B014')==false thencall SetUnitLifePercentBJ(ER[c7],GetUnitLifePercent(ER[c7])+I2R(JR[c7])/ 2000.+10*GetUnitAbilityLevel(ER[c7],'A0D4')+gb[c7])call SetUnitLifeBJ(ER[c7],GetUnitState(ER[c7],UNIT_STATE_LIFE)+wO[c7])call SetUnitManaBJ(ER[c7],GetUnitStateSwap(UNIT_STATE_MANA,ER[c7])+(.3*I2R(JR[c7]))+zO[c7]+5*GetUnitAbilityLevel(ER[c7],'A0D4'))endifset c7=c7+1endloopendfunctionfunction Ra takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER))endfunctionfunction Sa takes nothing returns nothingif GetUnitAbilityLevel(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],'A03Z')<1 thencall SetWidgetLife(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],(GetUnitState(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],UNIT_STATE_LIFE)+((uO[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]/ 10.)+((I2R(HR[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])/ 1500.)*GetUnitState(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],UNIT_STATE_MAX_LIFE)))))endifendfunctionfunction Ua takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction Va takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local real r=(1-RMinBJ(FA[i],.8))*GetEventDamage()call SetWidgetLife(ER[i],(GetUnitState(ER[i],UNIT_STATE_LIFE)+(RMinBJ(FA[i],.8)*GetEventDamage())))if((UnitHasBuffBJ(GetTriggerUnit(),1110454340))and(GetUnitAbilityLevel(GetTriggerUnit(),1093678930)!=0))thencall SetWidgetLife(ER[i],(GetUnitState(ER[i],UNIT_STATE_LIFE)+(.3*GetEventDamage())))endifif sw(ER[i],'I09Z')thenif GetUnitAbilityLevel(ER[i],'A03O')!=0 thenset r=r/ 3endifif GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)>=R2I(r)/ 20 thencall AdjustPlayerStateBJ(-R2I(r)/ 20,p,PLAYER_STATE_RESOURCE_GOLD)call SetWidgetLife(ER[i],RMinBJ((GetUnitState(ER[i],UNIT_STATE_LIFE)+r),GetUnitState(ER[i],UNIT_STATE_MAX_LIFE)))elsecall AdjustPlayerStateBJ(GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)*(-1),p,PLAYER_STATE_RESOURCE_GOLD)call SetWidgetLife(ER[i],RMinBJ((GetUnitState(ER[i],UNIT_STATE_LIFE)+5*I2R(GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD))),GetUnitState(ER[i],UNIT_STATE_MAX_LIFE)))endifendifendfunctionfunction Xa takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER))endfunctionfunction Ya takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))local real xlocal real yset dI[i]=dI[i]+SR/ 7+1if(ModuloInteger(GetUnitPointValue(u),$A)==1)thenset dI[i]=dI[i]+8endifif(p==Player(6))thenset zd=zd+GetRandomInt(1,2)if(zd>=100)thenset zd=0set x=GetUnitX(u)set y=GetUnitY(u)call yJ(wA[GetRandomInt(1,(6+(SR/ 5)))],x,y)endifendifset u=nullset p=nullendfunctionfunction dB takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER))endfunctionfunction eB takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))set dI[i]=(dI[i]+1)if((ModuloInteger(GetUnitPointValue(GetTriggerUnit()),10)==1))thenset dI[i]=dI[i]+5elseif((ModuloInteger(GetUnitPointValue(GetTriggerUnit()),10)==2))thenset dI[i]=dI[i]+10endifendfunctionfunction eAv takes nothing returns booleanreturn((GetSpellAbilityId()==1093678417))endfunctionfunction eNv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer j=1if((sw(u,'I06K')))or VR[i]==true thencall DialogSetMessage(K7[i],"请选择遗忘的武功（遗忘后无法找回）！")if((I7[(i-1)*20+1]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+1]))set S4[i]=bj_lastCreatedButtonendifif((I7[(i-1)*20+2]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+2]))set T4[i]=bj_lastCreatedButtonendifif((I7[(i-1)*20+3]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+3]))set U4[i]=bj_lastCreatedButtonendifif((I7[(i-1)*20+4]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+4]))set V4[i]=bj_lastCreatedButtonendifif((I7[(i-1)*20+5]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+5]))set W4[i]=bj_lastCreatedButtonendifif((I7[(i-1)*20+6]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+6]))set X4[i]=bj_lastCreatedButtonendifif((I7[(i-1)*20+7]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+7]))set J7[i]=bj_lastCreatedButtonendifif((I7[(i-1)*20+8]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+8]))set zR[i]=bj_lastCreatedButtonendifif((I7[(i-1)*20+9]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+9]))set ZR[i]=bj_lastCreatedButtonendifif((I7[(i-1)*20+10]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+10]))set aI[i]=bj_lastCreatedButtonendifif((I7[(i-1)*20+11]!='AEfk'))thencall DialogAddButtonBJ(K7[i],GetObjectName(I7[(i-1)*20+11]))set nI[i]=bj_lastCreatedButtonendifcall DialogAddButtonBJ(K7[i],"取消")set l7[i]=bj_lastCreatedButtoncall DialogDisplay(p,K7[i],true)elsecall DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000遗忘武功需要消耗道具遗忘之石！")endifset u=nullset p=nullendfunctionfunction ebv takes player p,integer vW returns nothinglocal integer i=1+GetPlayerId(p)if I7[(i-1)*20+vW]=='A03N' and UnitHasBuffBJ(ER[i],'BOwk')thencall DisplayTimedTextToPlayer(p,0,0,10.,"|CFFFF9933"+GetObjectName(I7[(i-1)*20+vW])+"施展期间不能遗忘！！！")elseset S9=1loopexitwhen S9>20if((I7[20*(i-1)+vW]==gA[S9]))thenset fA[i]=(fA[i]-jA[S9])call ModifyHeroStat(1,ER[i],1,JA[S9])set qO[i]=(qO[i]-LA[S9])set tO[i]=(tO[i]-pA[S9])set FA[i]=(FA[i]-hA[S9])endifset S9=S9+1endloopcall DisplayTimedTextToPlayer(p,0,0,10.,"|CFFFF9933成功遗忘技能："+GetObjectName(I7[(i-1)*20+vW]))call UnitRemoveAbility(ER[i],I7[20*(i-1)+vW])if I7[(i-1)*20+vW]=='A03P' thencall UnitRemoveAbility(ER[i],'A03M')endifif I7[(i-1)*20+vW]=='A03T' thencall UnitRemoveAbility(ER[i],'A0DB')endifif I7[20*(i-1)+vW]=='A02B' thenset dX[i]=0endifset I7[20*(i-1)+vW]='AEfk'call RemoveItem(UU(P4[i],'I06K'))endifendfunctionfunction jB takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)if((GetClickedButton()==S4[i]))thencall ebv(p,1)elseif((GetClickedButton()==T4[i]))thencall ebv(p,2)elseif((GetClickedButton()==U4[i]))thencall ebv(p,3)elseif((GetClickedButton()==V4[i]))thencall ebv(p,4)elseif((GetClickedButton()==W4[i]))thencall ebv(p,5)elseif((GetClickedButton()==X4[i]))thencall ebv(p,6)elseif((GetClickedButton()==J7[i]))thencall ebv(p,7)elseif((GetClickedButton()==zR[i]))thencall ebv(p,8)elseif((GetClickedButton()==ZR[i]))thencall ebv(p,9)elseif((GetClickedButton()==aI[i]))thencall ebv(p,10)elseif((GetClickedButton()==nI[i]))thencall ebv(p,11)endifcall DialogClear(K7[i])set p=nullendfunctionfunction eBv takes integer vW,integer cU,integer CU,string s,integer ecv,integer eCv,integer edv,integer eDv,integer efv,integer eFv returns nothinglocal integer i=StringHash("武学")call SaveInteger(Jv,i+vW,0,vW)call SaveInteger(Jv,i+vW,1,cU)call SaveInteger(Jv,i+vW,2,CU)call SaveStr(Jv,i+vW,3,s)call SaveInteger(Jv,i+vW,4,ecv)call SaveInteger(Jv,i+vW,5,eCv)call SaveInteger(Jv,i+vW,6,edv)call SaveInteger(Jv,i+vW,7,eDv)call SaveInteger(Jv,i+vW,8,efv)call SaveInteger(Jv,i+vW,9,eFv)endfunctionfunction egv takes nothing returns nothingcall eBv(1,'I03J','A07A',"江湖武学",0,10,0,0,14,15)call eBv(2,'I03H','A06H',"江湖武学",14,12,18,0,0,0)call eBv(3,'I02V','A07Q',"江湖内功",0,12,0,18,0,14)call eBv(4,'I02U','A07P',"江湖内功",17,0,0,22,0,0)call eBv(5,'I03G','A06L',"江湖武学",0,0,0,15,10,12)call eBv(6,'I02Z','A0DN',"江湖内功",17,14,18,0,0,0)call eBv(7,'I02X','A07S',"九阴内功",0,17,17,17,20,0)call eBv(8,'I03I','A07N',"九阴武学",13,0,12,12,16,0)call eBv(9,'I02Y','A07T',"江湖内功",22,20,0,17,0,0)call eBv(10,'I03K','A06J',"江湖武学",14,0,0,16,20,0)call eBv(11,'I03D','A07O',"江湖内功",0,16,0,0,0,16)call eBv(12,'I03L','A07M',"江湖武学",0,14,14,14,14,0)call eBv(13,'I030','A07W',"江湖内功",0,0,0,23,18,17)call eBv(14,'I031','A07U',"江湖内功",18,20,16,0,0,0)call eBv(15,'I03E','A06M',"江湖武学",0,0,18,18,0,0)call eBv(16,'I033','A071',"江湖武学",0,12,0,16,0,11)call eBv(17,'I02W','A07R',"江湖内功",0,0,0,14,12,11)call eBv(18,'I03F','A06P',"江湖武学",0,0,22,17,15,0)call eBv(19,'I039','A07G',"绝世武学",18,21,27,0,0,0)call eBv(20,'I034','A07L',"绝世武学",20,0,26,18,0,0)call eBv(21,'I038','A07F',"绝世武学",0,19,0,22,28,0)call eBv(22,'I037','A07H',"绝世武学",17,25,0,0,17,0)call eBv(23,'I03B','A086',"绝世武学",0,23,20,0,29,0)call eBv(24,'I032','A07E',"绝世武学",24,0,30,24,0,0)call eBv(25,'I035','A085',"绝世武学",0,0,0,24,19,16)call eBv(26,'I036','A07J',"绝世武学",23,0,0,18,0,16)call eBv(27,'I03C','A089',"绝世武学",23,0,0,20,22,0)call eBv(28,'I03A','A07I',"绝世武学",25,0,25,25,20,0)call eBv(29,'I03S','A082',"绝世内功",22,32,0,22,0,25)call eBv(30,'I03O','A084',"绝世内功",28,19,0,28,0,0)call eBv(31,'I03T','S002',"绝世内功",20,0,29,0,0,23)call eBv(32,'I03Q','A07X',"绝世内功",0,23,31,33,0,0)call eBv(33,'I03M','A0D8',"绝世内功",28,24,0,33,0,30)call eBv(34,'I03P','A080',"绝世内功",25,0,0,32,22,32)call eBv(35,'I03U','A083',"绝世内功",0,24,0,30,24,21)call eBv(36,'I03R','A09D',"绝世内功",0,30,0,27,34,23)call eBv(37,'I09G','A0D2',"九阴内功",0,17,17,17,20,0)call eBv(38,'I09H','A0D4',"九阴内功",0,17,17,17,20,0)call eBv(39,'I09I','A0D6',"九阴内功",0,17,17,17,20,0)call eBv(40,'I09J','A0D1',"九阴武学",13,0,12,12,16,0)call eBv(41,'I09K','A0D3',"九阴武学",13,0,12,12,16,0)call eBv(42,'I0C2','A03N',"奇武",0,0,0,15,14,16)call eBv(43,'I0C3','A03P',"奇武",0,18,26,0,0,16)call eBv(44,'I0C4','A03L',"奇武",12,14,16,0,0,0)call eBv(45,'I0C5','A03Q',"奇武",17,0,0,0,20,0)call eBv(46,'I0C6','A03O',"奇武",14,15,16,0,0,12)call eBv(47,'I0C8','A0CE',"奇武",12,0,0,0,18,0)call eBv(48,'I0C9','A03T',"奇武",14,17,0,16,0,0)call eBv(49,'I0CA','A03U',"奇武",0,0,0,20,0,0)call eBv(50,'I0CB','A03W',"奇武",0,0,0,14,14,0)call eBv(51,'I0CC','A03V',"奇武",0,0,0,0,15,12)call eBv(52,'I0CD','A03Z',"奇武",13,17,16,0,0,0)call eBv(53,'I0CJ','A04V',"奇武",15,0,16,0,17,0)endfunctionfunction eGv takes integer id returns integerlocal integer i=1loopexitwhen i>=54if LoadInteger(Jv,StringHash("武学")+i,1)==id thenreturn iendifset i=i+1endloopreturn 0endfunctionfunction ehv takes unit bU,item it returns nothinglocal player p=GetOwningPlayer(bU)local integer i=1+GetPlayerId(p)local unit u=ER[i]local integer vW=eGv(GetItemTypeId(it))local integer id=LoadInteger(Jv,StringHash("武学")+vW,2)local integer ecv=LoadInteger(Jv,StringHash("武学")+vW,4)local integer eCv=LoadInteger(Jv,StringHash("武学")+vW,5)local integer edv=LoadInteger(Jv,StringHash("武学")+vW,6)local integer eDv=LoadInteger(Jv,StringHash("武学")+vW,7)local integer efv=LoadInteger(Jv,StringHash("武学")+vW,8)local integer eFv=LoadInteger(Jv,StringHash("武学")+vW,9)if(GetUnitAbilityLevel(u,id)>0)thencall DisplayTextToPlayer(p,0,0,"|CFFFF0033你已经拥有此武功了")call YJ(GetItemTypeId(it),bU)elseif(HR[i]>=ecv and fR[i]>=eCv and cR[i]>=edv and bR[i]>=eDv and XR[i]>=efv and JR[i]>=eFv)thenif id=='A03Q' thencall UnitAddAbility(u,id)call UnitMakeAbilityPermanent(u,true,id)call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033恭喜"+GetPlayerName(p)+"习得"+GetObjectName(id))call AddPlayerTechResearched(p,'Rhri',1)elseset L7[i]=1loopexitwhen L7[i]>cX[i]if(I7[20*(i-1)+L7[i]]!='AEfk')thenif((L7[i]==cX[i]))thencall DisplayTextToPlayer(p,0,0,"|CFFFF0033学习技能已达上限，请先遗忘部分技能")call YJ(GetItemTypeId(it),bU)endifelsecall UnitAddAbility(u,id)call UnitMakeAbilityPermanent(u,true,id)if LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),id*5)>=2 thencall SetUnitAbilityLevel(u,id,LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),id*5))endifset I7[20*(i-1)+L7[i]]=idif GetUnitAbilityLevel(u,id)>=2 thencall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033恭喜"+GetPlayerName(p)+"想起"+GetObjectName(id))elsecall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033恭喜"+GetPlayerName(p)+"习得"+GetObjectName(id))endifset S9=1loopexitwhen S9>20if(id==gA[S9])thenset fA[i]=fA[i]+jA[S9]call ModifyHeroStat(1,u,0,JA[S9])set tO[i]=tO[i]+pA[S9]set qO[i]=qO[i]+LA[S9]set FA[i]=FA[i]+hA[S9]endifset S9=S9+1endloopexitwhen trueendifset L7[i]=L7[i]+1endloopendifelsecall DisplayTextToPlayer(p,0,0,"|CFFFF0033学习条件不足")if(HR[i]>=ecv)thenelsecall DisplayTextToPlayer(p,0,0,"|CFFFF0033胆魄缺少："+I2S(ecv-HR[i]))endifif(cR[i]>=edv)thenelsecall DisplayTextToPlayer(p,0,0,"|CFFFF0033根骨缺少："+I2S(edv-cR[i]))endifif(fR[i]>=eCv)thenelsecall DisplayTextToPlayer(p,0,0,"|CFFFF0033福缘缺少："+I2S(eCv-fR[i]))endifif(XR[i]>=efv)thenelsecall DisplayTextToPlayer(p,0,0,"|CFFFF0033悟性缺少："+I2S(efv-XR[i]))endifif(bR[i]>=eDv)thenelsecall DisplayTextToPlayer(p,0,0,"|CFFFF0033经脉缺少："+I2S(eDv-bR[i]))endifif(JR[i]>=eFv)thenelsecall DisplayTextToPlayer(p,0,0,"|CFFFF0033医术缺少："+I2S(eFv-JR[i]))endifcall YJ(GetItemTypeId(it),bU)endifendifset p=nullset u=nullendfunctionfunction eHv takes nothing returns booleanreturn(eGv(GetItemTypeId(GetManipulatedItem()))!=0)endfunctionfunction ejv takes nothing returns nothingcall ehv(GetTriggerUnit(),GetManipulatedItem())endfunctionfunction mB takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())=='I09V' and(IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)endfunctionfunction nB takes nothing returns nothingcall SetUnitPosition(GetTriggerUnit(),9631,1139)call PanCameraToTimedForPlayer(GetOwningPlayer(GetTriggerUnit()),9631,1139,0)call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00进入桃花岛")call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|cFFFFCC00”源思英年,巴巴西洛普,雪陆文出；源思英年,巴巴西洛普,雪陆文出！“")endfunctionfunction eJv takes integer i,integer id,real ekv,real eKv,integer Z4,integer elv,real eLv returns nothingset gA[i]=idset pA[i]=ekvset hA[i]=eKvset LA[i]=Z4set JA[i]=elvset jA[i]=eLvendfunctionfunction emv takes nothing returns nothingcall eJv(1,'A0D8',.15,.2,5,30,1.)call eJv(2,1093679154,.08,.25,4,150,.4)call eJv(3,'A083',.05,.3,3,100,.3)call eJv(4,'A09D',.06,.4,4,120,.8)call eJv(5,1093679152,.12,.2,3,130,.7)call eJv(6,'A07X',.16,.15,3,60,.5)call eJv(7,'A084',.1,.1,2,80,.6)call eJv(8,1395666994,.2,.2,1,50,.9)call eJv(9,'A07O',.04,0,0,25,.2)call eJv(10,'A07P',.06,0,0,30,.12)call eJv(11,'A07Q',.08,0,0,30,.14)call eJv(12,1093678930,.06,0,0,20,.15)call eJv(13,'A07S',.1,0,0,40,.25)call eJv(14,1093678932,.1,0,0,30,.3)call eJv(15,'A07U',.07,0,0,50,.18)call eJv(16,1093678935,.09,0,0,50,.1)call eJv(17,'A0DN',.03,0,0,40,.18)call eJv(18,'A0D2',.2,0,0,80,.5)call eJv(19,'A0D6',.8,0,0,10,.15)call eJv(20,'A0D4',-0.2,0,0,-40,-0.25)endfunctionfunction uC takes nothing returns booleanreturn((UnitHasBuffBJ(GetAttacker(),'B002')))endfunctionfunction vC takes nothing returns nothinglocal unit u=GetAttacker()if(GetUnitState(u,UNIT_STATE_LIFE)<=0.001*GetUnitState(u,UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(u,1.)elsecall SetWidgetLife(u,GetUnitState(u,UNIT_STATE_LIFE)-0.001*GetUnitState(u,UNIT_STATE_MAX_LIFE))endifset u=nullendfunctionfunction xC takes nothing returns booleanreturn((UnitHasBuffBJ(GetAttacker(),1112437615)))endfunctionfunction yC takes nothing returns nothinglocal unit u=GetAttacker()if(GetUnitState(u,UNIT_STATE_LIFE)<=0.003*GetUnitState(u,UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(u,1.)elsecall SetWidgetLife(u,GetUnitState(u,UNIT_STATE_LIFE)-0.003*GetUnitState(u,UNIT_STATE_MAX_LIFE))endifset u=nullendfunctionfunction AC takes nothing returns booleanreturn IsUnitAliveBJ(GetFilterUnit())and(UnitHasBuffBJ(GetFilterUnit(),1111847784)or UnitHasBuffBJ(GetFilterUnit(),1110454323)or UnitHasBuffBJ(GetFilterUnit(),'Bcri')or UnitHasBuffBJ(GetFilterUnit(),1110454324)or UnitHasBuffBJ(GetFilterUnit(),1110454342)or UnitHasBuffBJ(GetFilterUnit(),1110454343))endfunctionfunction aC takes nothing returns nothinglocal location vJ=GetUnitLoc(GetEnumUnit())local location Zz=nullif((UnitHasBuffBJ(GetEnumUnit(),1111847784)))thenif(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<=0.001*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(GetEnumUnit(),1.)elsecall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-0.001*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))endifendifif((UnitHasBuffBJ(GetEnumUnit(),1110454323)))thenif(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<=0.002*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(GetEnumUnit(),1.)elsecall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-0.002*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))endifendifif((UnitHasBuffBJ(GetEnumUnit(),'Bcri')))thenset Zz=pu(vJ,256.,GetRandomReal(0,360.))call IssuePointOrderByIdLoc(GetEnumUnit(),$D0012,Zz)call RemoveLocation(Zz)endifif((UnitHasBuffBJ(GetEnumUnit(),1110454324)))thenif(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<=0.003*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(GetEnumUnit(),1.)elsecall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-0.003*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))endifendifif((UnitHasBuffBJ(GetEnumUnit(),1110454342)))thenif((ModuloInteger(GetUnitPointValue(GetEnumUnit()),10)!=0))thenif(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<=0.01*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(GetEnumUnit(),1.)elsecall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-0.01*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))endifelseif(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<=0.03*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))thencall SetWidgetLife(GetEnumUnit(),1.)elsecall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-0.03*GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE))endifendifcall CreateTextTagLocBJ("脑神丹效果",vJ,60.,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifif((UnitHasBuffBJ(GetEnumUnit(),1110454343)))thencall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-0.03*GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE))call CreateTextTagLocBJ("化尸粉效果",vJ,60.,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifcall RemoveLocation(vJ)set vJ=nullset Zz=nullendfunctionfunction BC takes nothing returns nothingcall ForGroupBJ(wv(bj_mapInitialPlayableArea,Condition(function AC)),function aC)endfunctionfunction eMv takes unit bU,item it,integer cU,integer epv,integer CU,integer dU,integer DU,string s,integer ePv returns integerlocal player p=GetOwningPlayer(bU)local integer i=1+GetPlayerId(p)local unit u=ER[i]if(GetUnitAbilityLevel(u,cU)<=0)thencall DisplayTextToPlayer(p,0,0,"|CFFFF0033你尚未学会该武功，无法激活隐藏招式")call YJ(GetItemTypeId(it),bU)elseif((ePv>=1))thencall DisplayTextToPlayer(p,0,0,"|CFFFF0033你之前已经激活过了")call YJ(GetItemTypeId(it),bU)elseif(qO[i]>=epv and GetUnitAbilityLevel(u,CU)!=0 and GetUnitAbilityLevel(u,dU)!=0 and GetUnitAbilityLevel(u,DU)!=0)thenset ePv=1call DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了"+s)elsecall DisplayTextToPlayer(p,0,0,"|CFFFF0033条件不足，激活失败")call YJ(GetItemTypeId(it),bU)endifendifendifset u=nullset p=nullreturn ePvendfunctionfunction CC takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896371))endfunctionfunction cC takes nothing returns nothingset Jd[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=eMv(GetTriggerUnit(),GetManipulatedItem(),'A07H',5,1093678935,'A07U',1093679152,"反两仪刀法第1式：行气如虹",Jd[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endfunctionfunction EC takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896370))endfunctionfunction FC takes nothing returns nothingset Id[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=eMv(GetTriggerUnit(),GetManipulatedItem(),'A085',5,'A07P',1093678930,1093679154,"六脉神剑第1式：少商剑",Id[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endfunctionfunction HC takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896369))endfunctionfunction IC takes nothing returns nothingset Qd[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=eMv(GetTriggerUnit(),GetManipulatedItem(),'A07L',5,1093679154,'A07Q','A0DN',"打狗棒法第1式：恶狗拦路",Qd[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endfunctionfunction JC takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896374))endfunctionfunction KC takes nothing returns nothingset ld[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=eMv(GetTriggerUnit(),GetManipulatedItem(),'A07F',5,'A09D',1093679152,'A071',"独孤九剑第1式：破剑式",ld[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endfunctionfunction MC takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896372))endfunctionfunction NC takes nothing returns nothingset Od[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=eMv(GetTriggerUnit(),GetManipulatedItem(),'A086',5,'A083','A07X','A06M',"胡家刀法第1式：八方藏刀式",Od[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endfunctionfunction PC takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896368))endfunctionfunction QC takes nothing returns nothingset Pd[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=eMv(GetTriggerUnit(),GetManipulatedItem(),'A089',5,'A084','A0D2','A07S',"西毒棍法第1式：蛇盘青竹",Pd[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endfunctionfunction SC takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896377))endfunctionfunction TC takes nothing returns nothingset Kd[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=eMv(GetTriggerUnit(),GetManipulatedItem(),'A07J',5,'A06J',1093678932,1395666994,"辟邪剑法第1式：流星赶月",Kd[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endfunctionfunction VC takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896376))endfunctionfunction WC takes nothing returns nothingset Ld[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=eMv(GetTriggerUnit(),GetManipulatedItem(),'A07I',5,'A07N','A0D8','A07X',"野球拳第1式：翻肘裂捶",Ld[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endfunctionfunction YC takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())==1227896375endfunctionfunction ZC takes nothing returns nothingset Nd[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=eMv(GetTriggerUnit(),GetManipulatedItem(),'A07E',5,'A0D8','A07O','A0DN',"降龙十八掌第1式：神龙摆尾",Nd[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endfunctionfunction ec takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I065'))endfunctionfunction gc takes nothing returns nothingset Md[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=eMv(GetTriggerUnit(),GetManipulatedItem(),'A07G',5,'A06H','A07S','A084',"黯然销魂掌第1式：无中生有",Md[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endfunctionfunction eqv takes nothing returns booleanif(GetItemTypeId(GetManipulatedItem())=='I09Q')thenif(De[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false and Ee[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false)thencall DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|CFFFF0033未集齐决战套装或江湖套装，激活失败")return falseelsereturn trueendifendifreturn falseendfunctionfunction eQv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)call DialogClear(vb)call RemoveItem(GetManipulatedItem())call DialogSetMessage(vb,"请选择要激活的残章")if Jd[i]==0 thenset eb[1]=DialogAddButtonBJ(vb,"反两仪刀法")endifif Id[i]==0 thenset eb[2]=DialogAddButtonBJ(vb,"六脉神剑")endifif Qd[i]==0 thenset eb[3]=DialogAddButtonBJ(vb,"打狗棒法")endifif ld[i]==0 thenset eb[4]=DialogAddButtonBJ(vb,"独孤九剑")endifif Od[i]==0 thenset eb[5]=DialogAddButtonBJ(vb,"胡家刀法")endifif Pd[i]==0 thenset eb[6]=DialogAddButtonBJ(vb,"西毒棍法")endifif Kd[i]==0 thenset eb[7]=DialogAddButtonBJ(vb,"辟邪剑法")endifif Ld[i]==0 thenset eb[8]=DialogAddButtonBJ(vb,"野球拳法")endifif Nd[i]==0 thenset eb[9]=DialogAddButtonBJ(vb,"降龙十八掌")endifif Md[i]==0 thenset eb[10]=DialogAddButtonBJ(vb,"黯然销魂掌")endifset eb[11]=DialogAddButtonBJ(vb,"取消")call DialogDisplay(p,vb,true)set u=nullset p=nullendfunctionfunction esv takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)if GetClickedButton()==eb[1]thencall DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了反两仪刀法第1式：行气如虹")set Jd[i]=1endifif GetClickedButton()==eb[2]thencall DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了六脉神剑第1式：少商剑")set Id[i]=1endifif GetClickedButton()==eb[3]thencall DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了打狗棒法第1式：恶狗拦路")set Qd[i]=1endifif GetClickedButton()==eb[4]thencall DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了独孤九剑第1式：破剑式")set ld[i]=1endifif GetClickedButton()==eb[5]thencall DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了胡家刀法第1式：八方藏刀式")set Od[i]=1endifif GetClickedButton()==eb[6]thencall DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了西毒棍法第1式：蛇盘青竹")set Pd[i]=1endifif GetClickedButton()==eb[7]thencall DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了辟邪剑法第1式：流星赶月")set Kd[i]=1endifif GetClickedButton()==eb[8]thencall DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了野球拳第1式：翻肘裂捶")set Ld[i]=1endifif GetClickedButton()==eb[9]thencall DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了降龙十八掌第1式：神龙摆尾")set Nd[i]=1endifif GetClickedButton()==eb[10]thencall DisplayTextToPlayer(p,0,0,"|CFF00ff33恭喜激活了黯然销魂掌第1式：无中生有")set Md[i]=1endifif GetClickedButton()==eb[11]thencall UnitAddItemById(P4[i],'I09Q')endifset p=nullendfunctionfunction eSv takes nothing returns booleanreturn Ce[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==2 or GetItemTypeId(GetManipulatedItem())=='I099' or GetItemTypeId(GetManipulatedItem())=='I09A' or GetItemTypeId(GetManipulatedItem())=='I09B' or GetItemTypeId(GetManipulatedItem())=='I09D'endfunctionfunction etv takes nothing returns nothingif GetItemTypeId(GetManipulatedItem())=='I00B' or GetItemTypeId(GetManipulatedItem())=='I00D' thencall xT('I00B',1,'I00D',1,'ches',0,'ches',0,'ches',0,'ches',0,'I00D')endifif GetItemTypeId(GetManipulatedItem())=='I02S' or GetItemTypeId(GetManipulatedItem())=='I09P' thencall xT('I02S',1,'I09P',1,'ches',0,'ches',0,'ches',0,'ches',0,'I02M')endifif GetItemTypeId(GetManipulatedItem())=='I02M' or GetItemTypeId(GetManipulatedItem())=='I09P' thencall xT('I02M',1,'I09P',1,'ches',0,'ches',0,'ches',0,'ches',0,'I02Q')endifif GetItemTypeId(GetManipulatedItem())=='I02Q' or GetItemTypeId(GetManipulatedItem())=='I09P' thencall xT('I02Q',1,'I09P',1,'ches',0,'ches',0,'ches',0,'ches',0,'I02R')endifif GetItemTypeId(GetManipulatedItem())=='I02R' or GetItemTypeId(GetManipulatedItem())=='I09P' thencall xT('I02R',1,'I09P',1,'ches',0,'ches',0,'ches',0,'ches',0,'I02P')endifif GetItemTypeId(GetManipulatedItem())=='I099' or GetItemTypeId(GetManipulatedItem())=='I09A' thencall xT('I099',1,'I09A',1,'ches',0,'ches',0,'ches',0,'ches',0,'I09C')endifif GetItemTypeId(GetManipulatedItem())=='I053' or GetItemTypeId(GetManipulatedItem())=='I058' or GetItemTypeId(GetManipulatedItem())=='I05A' thencall xT('I053',1,'I058',1,'I05A',1,'ches',0,'ches',0,'ches',0,'I05C')endifif GetItemTypeId(GetManipulatedItem())=='I02P' or GetItemTypeId(GetManipulatedItem())=='I09P' thencall xT('I02P',1,'I09P',1,'I09P',1,'I09P',1,'I09P',1,'I09P',1,'I08V')endifendfunctionfunction eTv takes unit u returns nothinglocal integer v5v=0local integer v6v=0local integer v7v=0local item it=nulllocal integer j=1local integer i=1+GetPlayerId(GetOwningPlayer(u))loopexitwhen j>=7set it=UnitItemInSlotBJ(u,j)set v5v=ModuloInteger((GetItemUserData(it)/ 100),10)set v6v=ModuloInteger((GetItemUserData(it)/ 10),10)set v7v=ModuloInteger((GetItemUserData(it)/ 1),10)if(v5v==1)thenset cR[i]=cR[i]+2elseif(v5v==2)thenset XR[i]=XR[i]+2elseif(v5v==3)thenset bR[i]=bR[i]+2elseif(v5v==4)thenset fR[i]=fR[i]+2elseif(v5v==5)thenset HR[i]=HR[i]+2elseif(v5v==6)thenset JR[i]=JR[i]+2endifif(v6v==1)thenset cR[i]=cR[i]+2elseif(v6v==2)thenset XR[i]=XR[i]+2elseif(v6v==3)thenset bR[i]=bR[i]+2elseif(v6v==4)thenset fR[i]=fR[i]+2elseif(v6v==5)thenset HR[i]=HR[i]+2elseif(v6v==6)thenset JR[i]=JR[i]+2endifif(v7v==1)thenset cR[i]=cR[i]+2elseif(v7v==2)thenset XR[i]=XR[i]+2elseif(v7v==3)thenset bR[i]=bR[i]+2elseif(v7v==4)thenset fR[i]=fR[i]+2elseif(v7v==5)thenset HR[i]=HR[i]+2elseif(v7v==6)thenset JR[i]=JR[i]+2endifset j=j+1endloopset it=nullendfunctionfunction euv takes nothing returns nothinglocal item it=(ra)local integer i=1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if Ce[i]==2 and LoadBoolean(Jv,GetHandleId(GetOwningPlayer(GetTriggerUnit())),GetItemTypeId(it))==false and oA[i]<=5 thenset oA[i]=oA[i]+1call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"|CFF66FF00恭喜您锻造成功第"+I2S(oA[i])+"件装备，锻造成功5件装备可以获得锻造大师哦")call SaveBoolean(Jv,GetHandleId(GetOwningPlayer(GetTriggerUnit())),GetItemTypeId(it),true)endifif Ce[i]==2 and oA[i]>=5 and IA[i]==false thenset IA[i]=truecall eTv(ER[i])if DX[i]==true thenelsecall SaveStr(Jv,GetHandleId(GetOwningPlayer(GetTriggerUnit())),GetHandleId(GetOwningPlayer(GetTriggerUnit())),"〓锻造大师〓"+LoadStr(Jv,GetHandleId(GetOwningPlayer(GetTriggerUnit())),GetHandleId(GetOwningPlayer(GetTriggerUnit()))))endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15,"|CFF66FF00恭喜"+GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"获得锻造大师")call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),"〓锻造大师〓"+GetPlayerName(GetOwningPlayer(GetTriggerUnit())))endifif GetItemType(it)==ITEM_TYPE_ARTIFACT thencall SaveInteger(Jv,GetHandleId(it),0,JJ(it))endifset it=nullendfunctionfunction eUv takes nothing returns booleanreturn GetSpellAbilityId()=='A0DN' or GetSpellAbilityId()=='A01B' or GetSpellAbilityId()=='A01C' or GetSpellAbilityId()=='A01D'endfunctionfunction ewv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)call UnitRemoveAbility(u,'A0DL')call UnitRemoveAbility(u,'A0DM')call UnitRemoveAbility(u,'A0CO')call UnitRemoveAbility(u,'A0CQ')call FlushChildHashtable(Jv,GetHandleId(t))call PauseTimer(t)call DestroyTimer(t)set t=nullset u=nullendfunctionfunction eWv takes nothing returns nothinglocal unit u=GetTriggerUnit()local timer t=CreateTimer()local real r=0.call SaveUnitHandle(Jv,GetHandleId(t),0,u)call UnitAddAbility(u,'A0DL')call UnitAddAbility(u,'A0DM')call UnitAddAbility(u,'A0CO')call UnitAddAbilityBJ('A0CQ',u)call SetPlayerAbilityAvailableBJ(false,'A0CQ',GetOwningPlayer(u))if GetSpellAbilityId()=='A0DN' thenset r=30elseif GetSpellAbilityId()=='A01B' thenset r=12elseif GetSpellAbilityId()=='A01C' thenset r=20elseif GetSpellAbilityId()=='A01D' thenset r=30endifcall TimerStart(t,r,false,function ewv)set t=nullset u=nullendfunctionfunction eyv takes nothing returns booleanreturn((GetSpellAbilityId()=='A0D4'))endfunctionfunction eYv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetSpellTargetUnit()call SetWidgetLife(uc,GetWidgetLife(u)+20000)if CX[1+GetPlayerId(GetOwningPlayer(u))]==11 thencall SetWidgetLife(uc,GetWidgetLife(u)+380000)endifendfunctionfunction QI takes nothing returns booleanreturn((GetSpellAbilityId()==1093679152)and((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)))endfunctionfunction RI takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveLocationHandle(Jv,id*cx,$5E83114F,GetUnitLoc(GetTriggerUnit()))call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,$5E83114F),bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093679153)call ShowUnitHide(bj_lastCreatedUnit)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',26.)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D8)call FlushChildHashtable(Jv,id*cx)endfunctionfunction IJ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I025'))endfunctionfunction lJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif((O7[i]==0))thenif((GetRandomInt(1,100)<=35))thenset vJ=GetRectCenter(Pe)set O7[i]=1call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00店小二：|r |cFF99FFCC我这有一壶上等女儿红专程送给襄阳城郭靖的，你能帮我跑一趟吗|r
|cFFFFCC00提示：|r |cFF99FFCC前往正派武林主城的|cFFADFF2F郭靖|r
")call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)elseif((GetRandomInt(1,70)<=35))thenset vJ=GetRectCenter(Qe)set O7[i]=2call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00店小二：|r |cFF99FFCC旁边树林里的野狼经常来袭击村民，你能帮助我们吗|r
|cFFFFCC00提示：|r |cFF99FFCC杀死|cFFADFF2F6只野狼|r
")call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)elseset O7[i]=3set vJ=GetRectCenter(Re)call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00店小二：|r |cFF99FFCC听说少林寺的练功房升级特别快，为何不去看看呢|r
|cFFFFCC00提示：|r |cFF99FFCC前往少林寺的|cFFADFF2F练功房|r，可以通过主城传送
")call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)endifelseif((O7[i]==1))thenset vJ=GetRectCenter(Pe)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00店小二：|r |cFF99FFCC你怎么还不出发啊？|r
|cFFFFCC00提示：|r |cFF99FFCC前往正派武林主城的|cFFADFF2F郭靖|r
")call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)elseif((O7[i]==2))thenset vJ=GetRectCenter(Qe)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00店小二：|r |cFF99FFCC请帮助我们杀死野狼吧|r
|cFFFFCC00提示：|r |cFF99FFCC杀死|cFFADFF2F6只野狼|r
")call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)elseif((O7[i]==3))thenset vJ=GetRectCenter(Re)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00店小二：|r |cFF99FFCC听说少林寺的练功房升级特别快，为何不去看看呢|r
|cFFFFCC00提示：|r |cFF99FFCC前往少林寺的|cFFADFF2F练功房|r，可以通过主城传送")call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)elseif((O7[i]==4))thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00店小二：|r |cFF99FFCC你已经完成新手任务了")endifset u=nullset p=nullset vJ=nullendfunctionfunction KJ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(O7[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1))endfunctionfunction LJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if GetRandomInt(1,100)<=85 thencall YJ('I024',GetTriggerUnit())elsecall YJ('I0CH',GetTriggerUnit())endifcall AddHeroXP(u,100,true)set dI[i]=dI[i]+$Acall PlaySoundOnUnitBJ(Hh,100,u)call DisplayTextToPlayer(p,0,0,("|CFF34FF00完成任务获得经验+100、江湖声望+10和"+GetItemName(bj_lastCreatedItem)))set O7[i]=4set u=nullset p=nullendfunctionfunction TI takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nwlt'))endfunctionfunction UI takes nothing returns nothinglocal unit u=GetKillingUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((O7[i]==2))thenset P7[i]=(P7[i]+1)if((P7[i]>=6))thenset P7[i]=0set O7[i]=4if GetRandomInt(1,100)<=85 thencall YJ('I020',GetTriggerUnit())elsecall YJ('I0CI',GetTriggerUnit())endifcall AddHeroXP(GetKillingUnit(),100,true)set dI[i]=dI[i]+50call PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())call DisplayTextToPlayer(p,0,0,("|CFF34FF00完成任务获得经验+100、江湖声望+50和"+GetItemName(bj_lastCreatedItem)))elsecall DisplayTextToPlayer(p,0,0,("野狼："+(I2S(P7[i])+" / 6")))endifendifset u=nullset p=nullendfunctionfunction NJ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(O7[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==3))endfunctionfunction OJ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)call YJ('I06H',GetTriggerUnit())call AddHeroXP(u,100,true)set dI[i]=dI[i]+$Acall PlaySoundOnUnitBJ(Hh,100,u)call DisplayTextToPlayer(p,0,0,("|CFF34FF00完成任务获得经验+100、江湖声望+10和"+GetItemName(bj_lastCreatedItem)))set O7[i]=4set u=nullset p=nullendfunctionfunction ezv takes nothing returns booleanreturn(IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem())=='I0BB'endfunctionfunction eZv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer id=LoadInteger(Jv,GetHandleId(p),StringHash("item"))local string sif(xb[i]==0)thenif JI[i]<=2 thenif GetRandomInt(1,2)==1 thenset id=cN[GetRandomInt(1,6)]elseset id=BN[GetRandomInt(1,11)]endifelseif JI[i]<=4 thenif GetRandomInt(1,2)==1 thenset id=cN[GetRandomInt(7,9)]elseset id=BN[GetRandomInt(12,27)]endifelseif GetRandomInt(1,3)==1 thenset id=cN[GetRandomInt(10,14)]elseset id=BN[GetRandomInt(28,44)]endifendifset xb[i]=1call SaveInteger(Jv,GetHandleId(p),StringHash("item"),id)call SJ(id,v7[$B])set s=GetItemName(bj_lastCreatedItem)call RemoveItem(bj_lastCreatedItem)call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骐：|r |cFF99FFCC我需要"+s+"，你能帮我找来么|r
|cFFFFCC00提示：|r |cFF99FFCC帮助游骐寻找|cFFADFF2F"+s+"|r
")elsecall SJ(id,v7[$B])set s=GetItemName(bj_lastCreatedItem)call RemoveItem(bj_lastCreatedItem)call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骐：|r |cFF99FFCC帮我找到"+s+"了吗|r
|cFFFFCC00提示：|r |cFF99FFCC帮助游骐寻找|cFFADFF2F"+s+"|r
")endifset u=nullset p=nullendfunctionfunction e_v takes nothing returns booleanreturn(IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem())=='I0BC'endfunctionfunction e0v takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(xb[i]==0)thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骐：|r |cFF99FFCC当前没有接任务哦|r
")elseset dI[i]=dI[i]-100call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骐：|r |cFF99FFCC堂堂大侠，居然找不到小女子需要的东西吗|r
")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00放弃任务，声望减少100|r
")set xb[i]=0endifset u=nullset p=nullendfunctionfunction e1v takes nothing returns booleanreturn(IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem())=='I0BD'endfunctionfunction e2v takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer id=LoadInteger(Jv,GetHandleId(p),StringHash("item"))if xb[i]==1 and sw(u,id)and id!=0 thencall RemoveItem(UU(u,id))set dI[i]=dI[i]+50*(JI[i]+1)call AddHeroXP(ER[i],15*GetHeroLevel(ER[i])*GetHeroLevel(ER[i])*(JI[i]+1),true)set xb[i]=0call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骐：|r |cFF99FFCC谢谢你的帮助|r
")if GetRandomInt(1,10)<=JI[i]+1 thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00完成任务，奖励声望"+I2S(50*(JI[i]+1))+"点，经验"+I2S(15*GetHeroLevel(ER[i])*GetHeroLevel(ER[i])*(JI[i]+1))+"点|r
")elsecall YJ('I04T',ER[i])call DisplayTextToPlayer(p,0,0,"|cFFFFCC00完成任务，奖励声望"+I2S(50*(JI[i]+1))+"点，经验"+I2S(15*GetHeroLevel(ER[i])*GetHeroLevel(ER[i])*(JI[i]+1))+"点，九阳丹一颗|r
")endifif Ce[i]==6 thenif eA[i]<9 thenset eA[i]=eA[i]+1call DisplayTextToPlayer(p,0,0,"|CFF66FF00恭喜您完成了"+I2S(eA[i])+"次寻宝任务，完成10次可获得寻宝大师哦")elseif nA[i]==false thenset nA[i]=trueif DX[i]==true thenelsecall SaveStr(Jv,GetHandleId(p),GetHandleId(p),"〓寻宝大师〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15,"|CFF66FF00恭喜"+GetPlayerName(p)+"获得寻宝大师")call SetPlayerName(p,"〓寻宝大师〓"+GetPlayerName(p))endifendifendifelseif xb[i]==1 thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骐：|r |cFF99FFCC还没有找到小女子需要的东西吗|r
")elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骐：|r |cFF99FFCC当前没有接任务哦|r
")endifset u=nullset p=nullendfunctionfunction e3v takes nothing returns booleanreturn(IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem())=='I0BF'endfunctionfunction e4v takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer id=LoadInteger(Jv,GetHandleId(p),StringHash("life"))local integer j=GetRandomInt(1,JI[i]*3+3)local string sif(ob[i]==0)thenset id=rb[j]set ob[i]=1call SaveInteger(Jv,GetHandleId(p),StringHash("life"),id)call SaveInteger(Jv,GetHandleId(p),StringHash("life")*2,(j-1)/ 3)call CreateNUnitsAtLoc(1,id,Player(15),v7[$B],270.)set s=GetUnitName(bj_lastCreatedUnit)call RemoveUnit(bj_lastCreatedUnit)call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骏：|r |cFF99FFCC老夫夜观天象，"+s+"阳寿已尽，速去与老夫解决他|r
|cFFFFCC00提示：|r |cFF99FFCC帮助游骏解决|cFFADFF2F"+s+"|r
")elsecall CreateNUnitsAtLoc(1,id,Player(15),v7[$B],270.)set s=GetUnitName(bj_lastCreatedUnit)call RemoveUnit(bj_lastCreatedUnit)call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骏：|r |cFF99FFCC解决"+s+"了吗|r
|cFFFFCC00提示：|r |cFF99FFCC帮助游骏解决|cFFADFF2F"+s+"|r
")endifset u=nullset p=nullendfunctionfunction e5v takes nothing returns booleanreturn(IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem())=='I0BE'endfunctionfunction e6v takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(ob[i]==0)thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骏：|r |cFF99FFCC当前没有接任务|r
")elseset dI[i]=dI[i]-100call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游骏：|r |cFF99FFCC堂堂大侠，竟解决不了一个小喽啰|r
")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00放弃任务，声望减少100|r
")set ob[i]=0endifset u=nullset p=nullendfunctionfunction e7v takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())==LoadInteger(Jv,GetHandleId(GetOwningPlayer(GetKillingUnit())),StringHash("life"))and ob[1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))]==1endfunctionfunction e8v takes nothing returns nothinglocal unit u=GetKillingUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer id=LoadInteger(Jv,GetHandleId(p),StringHash("life"))local integer j=GetRandomInt(50,80)local integer iu=LoadInteger(Jv,GetHandleId(p),StringHash("life")*2)set dI[i]=dI[i]+j*(iu+1)call AdjustPlayerStateBJ(5000*(iu+1),p,PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(10*(iu+1),p,PLAYER_STATE_RESOURCE_LUMBER)set ob[i]=0if GetRandomInt(1,10)<=iu+1 thencall YJ('I04T',ER[i])call DisplayTextToPlayer(p,0,0,"|cFFFFCC00完成任务，奖励声望"+I2S(j*(iu+1))+"点，金钱"+I2S(5000*(iu+1))+"，珍稀币"+I2S(10*(iu+1))+"，九阳丹一颗|r
")elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00完成任务，奖励声望"+I2S(j*(iu+1))+"点，金钱"+I2S(5000*(iu+1))+"，珍稀币"+I2S(10*(iu+1)))endifset u=nullset p=nullendfunctionfunction e9v takes nothing returns booleanreturn((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I09T' or GetItemTypeId(GetManipulatedItem())=='I09U' or GetItemTypeId(GetManipulatedItem())=='I09L' or GetItemTypeId(GetManipulatedItem())=='I09M' or GetItemTypeId(GetManipulatedItem())=='I0AW' or GetItemTypeId(GetManipulatedItem())=='I0AT' or GetItemTypeId(GetManipulatedItem())=='I0AV')endfunctionfunction xvv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if GetItemTypeId(GetManipulatedItem())=='I09T' thenif(hO[i]==0)thenset hO[i]=1call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC我要教郭靖兄弟九阴真经帮助他向蓉儿求婚，可是九阴真经突然找不到了|r
|cFFFFCC00提示：|r |cFF99FFCC帮助周伯通寻找|cFFADFF2F九阴真经上下卷（九阴真经和九阴白骨爪）|r
")elsecall PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC帮我找到经书了吗|r
|cFFFFCC00提示：|r |cFF99FFCC帮助周伯通寻找|cFFADFF2F九阴真经上下卷（九阴真经和九阴白骨爪）|r
")endifelseif GetItemTypeId(GetManipulatedItem())=='I0AT' and kR[i]==2 thenif(jO[i]==0)thenset jO[i]=1call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00小龙女：|r |cFF99FFCC少侠如果见到过儿，把玉蜂交给他，他就知道我没有死了|r
|cFFFFCC00提示：|r |cFF99FFCC帮助小龙女找到|cFFADFF2F杨过|r
")call YJ('I0AU',u)elseif(jO[i]==1)thencall PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00小龙女：|r |cFF99FFCC见到过儿了吗|r
|cFFFFCC00提示：|r |cFF99FFCC帮助小龙女找到|cFFADFF2F杨过|r
")elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00小龙女：|r |cFF99FFCC感谢少侠相助，帮我找到了过儿|r
")endifelseif GetItemTypeId(GetManipulatedItem())=='I0AV' and kR[i]==2 thenif(jO[i]==0)thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00你还没有到小龙女处接任务|r
")elseif(jO[i]==1)thenif sw(u,'I0AU')thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00杨过：|r |cFF99FFCC太好了，姑姑没有死！谢谢少侠，这本残章送给你了|r
")call RemoveItem(UU(u,'I0AU'))call YJ('I065',u)set jO[i]=2elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00杨过：|r |cFF99FFCC姑姑已经死去多年，哪里来的狂小子在胡言乱语|r
")endifelsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00杨过：|r |cFF99FFCC感谢少侠相助，帮我找到了姑姑|r
")endifelseif GetItemTypeId(GetManipulatedItem())=='I09U' thenif(MO[i]==0)thenset MO[i]=1call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC黄老邪把我关在这好久，天天吹箫烦死了，你能帮我把他的玉箫偷来吗？|r
|cFFFFCC00提示：|r |cFF99FFCC帮助周伯通偷到|cFFADFF2F玉箫|r
")elsecall PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC帮我偷到玉箫了吗|r
|cFFFFCC00提示：|r |cFF99FFCC帮助周伯通偷到|cFFADFF2F玉箫|r
")endifelseif GetItemTypeId(GetManipulatedItem())=='I09L' thenif GetUnitAbilityLevel(u,'A0D1')>=1 thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC小子，你已经掌握此武功了")elseif sw(u,'I03I')and GetUnitAbilityLevel(u,'A07S')>=1 and XR[i]>=35 thencall RemoveItem(UU(u,'I03I'))call YJ('I09J',u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC看你资质不错，书的这几页就是摧坚神抓的修习法门|r
")elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC小子，你的条件不足|r
")endifendifelseif GetItemTypeId(GetManipulatedItem())=='I0AW' and KO[i]==0 thenif GetUnitAbilityLevel(u,'A07G')>=1 thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00杨过：|r |cFF99FFCC少侠，你已经掌握此武功了")elseif fR[i]>=25 and XR[i]>=25 thencall YJ('I039',u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00杨过：|r |cFF99FFCC看你资质不错，这本黯然销魂掌的秘籍就给你了|r
")set KO[i]=1elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00杨过：|r |cFF99FFCC少侠，你的条件不足|r
")endifendifelseif GetItemTypeId(GetManipulatedItem())=='I09M' thenif GetUnitAbilityLevel(u,'A0D4')>=1 thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00洪七公：|r |cFF99FFCC年轻人，你已经掌握此武功了")elseif sw(u,'I02X')and JR[i]>=35 thencall RemoveItem(UU(u,'I02X'))call YJ('I09H',u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00洪七公：|r |cFF99FFCC看你资质不错，书的这几页就是医疗篇的修习法门|r
")elsecall DisplayTextToPlayer(p,0,0,"|cFFFFCC00洪七公：|r |cFF99FFCC年轻人，你的条件不足|r
")endifendifcall ShowUnitHide(pV)endifset u=nullset p=nullendfunctionfunction xev takes nothing returns booleanreturn((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and((hO[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1 and sw(GetTriggerUnit(),'I02X')and sw(GetTriggerUnit(),'I03I'))or(MO[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1 and sw(GetTriggerUnit(),'I0A1')))endfunctionfunction xxv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if hO[i]==1 and sw(u,'I02X')and sw(u,'I03I')thenset L7[i]=1loopexitwhen L7[i]>cX[i]if(I7[(i-1)*20+L7[i]]!='AEfk')thenif L7[i]==cX[i]thencall RemoveItem(UU(u,'I02X'))call RemoveItem(UU(u,'I03I'))call DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC不错小子，居然被你找到了，不能让你白跑，我把这遗忘技能的法门传给你，今后你遗忘技能就不需要遗忘之石了|r
")set VR[i]=trueset hO[i]=0exitwhen trueendifelsecall UnitAddAbility(u,'A017')set I7[(((i-1)*20)+L7[i])]='A017'call RemoveItem(UU(u,'I02X'))call RemoveItem(UU(u,'I03I'))call DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC不错小子，居然被你找到了，不能让你白跑，我这七十二路空明拳传给你了|r
")call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033恭喜"+GetPlayerName(p)+"习得空明拳")set hO[i]=0exitwhen trueendifset L7[i]=L7[i]+1endloopelseif MO[i]==1 and sw(u,'I0A1')thenset L7[i]=1loopexitwhen L7[i]>cX[i]if(I7[(i-1)*20+L7[i]]!='AEfk')thenif L7[i]==cX[i]thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC小子，你学的武功太多了，遗忘一些再过来找我吧|r
")exitwhen trueendifelsecall UnitAddAbility(u,'A018')set I7[(((i-1)*20)+L7[i])]='A018'call RemoveItem(UU(u,'I0A1'))call DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC不错小子，居然被你偷到了，不能让你白跑，我把从黄老邪那偷学的碧海潮生曲传给你|r
")call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033恭喜"+GetPlayerName(p)+"习得碧海潮生曲")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC这把玉箫其实是一把难得的神器，就送给你了吧|r
")call YJ('I09D',u)set MO[i]=0exitwhen trueendifset L7[i]=L7[i]+1endloopendifset u=nullset p=nullendfunctionfunction xov takes nothing returns booleanreturn(IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and(GetItemTypeId(GetManipulatedItem())=='I0BP' or GetItemTypeId(GetManipulatedItem())=='I0BQ' or GetItemTypeId(GetManipulatedItem())=='I0BR' or GetItemTypeId(GetManipulatedItem())=='I0BS' or GetItemTypeId(GetManipulatedItem())=='I0BT' or GetItemTypeId(GetManipulatedItem())=='I0BU' or GetItemTypeId(GetManipulatedItem())=='I0BV' or GetItemTypeId(GetManipulatedItem())=='I0BW' or GetItemTypeId(GetManipulatedItem())=='I0BX')endfunctionfunction xrv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if GetItemTypeId(GetManipulatedItem())=='I0BP' thencall SetUnitPosition(ER[i],3763,-9091)call PanCameraToTimedForPlayer(GetTriggerPlayer(),3763,-9091,0)call DisplayTextToPlayer(p,0,0,"|CFF00ff33传送至牛妖幻境")endifif GetItemTypeId(GetManipulatedItem())=='I0BQ' thencall SetUnitPosition(ER[i],1446,-2317)call PanCameraToTimedForPlayer(GetTriggerPlayer(),1446,-2317,0)call DisplayTextToPlayer(p,0,0,"|CFF00ff33传送至初入江湖")endifif GetItemTypeId(GetManipulatedItem())=='I0BR' thencall SetUnitPosition(ER[i],1863,0)call PanCameraToTimedForPlayer(GetTriggerPlayer(),1863,0,0)call DisplayTextToPlayer(p,0,0,"|CFF00ff33传送至少林寺外")endifif GetItemTypeId(GetManipulatedItem())=='I0BS' thencall SetUnitPosition(ER[i],-1476,8139)call PanCameraToTimedForPlayer(GetTriggerPlayer(),-1476,8139,0)call DisplayTextToPlayer(p,0,0,"|CFF00ff33传送至光明顶下")endifif GetItemTypeId(GetManipulatedItem())=='I0BT' thencall SetUnitPosition(ER[i],-2400,-3900)call PanCameraToTimedForPlayer(GetTriggerPlayer(),-2400,-3900,0)call DisplayTextToPlayer(p,0,0,"|CFF00ff33传送至江南水乡")endifif GetItemTypeId(GetManipulatedItem())=='I0BU' thencall SetUnitPosition(ER[i],-4400,-2950)call PanCameraToTimedForPlayer(GetTriggerPlayer(),-4400,-2950,0)call DisplayTextToPlayer(p,0,0,"|CFF00ff33传送至全真三子")endifif GetItemTypeId(GetManipulatedItem())=='I0BV' thencall SetUnitPosition(ER[i],-5960,-160)call PanCameraToTimedForPlayer(GetTriggerPlayer(),-5960,-160,0)call DisplayTextToPlayer(p,0,0,"|CFF00ff33传送至雁门关内")endifif GetItemTypeId(GetManipulatedItem())=='I0BW' thencall SetUnitPosition(ER[i],-13000,-15500)call PanCameraToTimedForPlayer(GetTriggerPlayer(),-13000,-15500,0)call DisplayTextToPlayer(p,0,0,"|CFF00ff33传送至大辽国")endifif GetItemTypeId(GetManipulatedItem())=='I0BX' thencall SetUnitPosition(ER[i],-9000,-14000)call PanCameraToTimedForPlayer(GetTriggerPlayer(),-9000,-14000,0)call DisplayTextToPlayer(p,0,0,"|CFF00ff33传送至聚贤庄")endifset p=nullset u=nullendfunctionfunction xiv takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A017')>=1 and GetRandomReal(.0,100.)<=15.+I2R(fR[1+GetPlayerId(GetOwningPlayer(GetAttacker()))])/ 5.endfunctionfunction xav takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction xnv takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetEnumUnit()local real xVv=GetUnitState(uc,ConvertUnitState(0x20))local real xEv=GetUnitState(uc,UNIT_STATE_MAX_LIFE)local real BW=1.+xEv/ 500000000+xVv/ 2000local real cW=0.local integer i=1+GetPlayerId(GetOwningPlayer(u))local location vJ=GetUnitLoc(uc)if GetUnitAbilityLevel(u,'A07S')>=1 thenset BW=BW+.6endifif GetUnitAbilityLevel(u,'A0D1')>=1 thenset BW=BW+.8endifif GetUnitAbilityLevel(u,'A07S')>=1 and GetUnitAbilityLevel(u,'A0D1')>=1 and GetUnitAbilityLevel(u,'A06P')!=0 and GetUnitAbilityLevel(u,'A07U')!=0 and GetUnitAbilityLevel(GetTriggerUnit(),'A018')!=0 thenset BW=BW*5*2endifset cW=bW(u,uc,10,8,BW,'A017')call gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTarget("Units\\NightElf\\Wisp\\WispExplode.mdl",uc,"overhead"))if((GetUnitAbilityLevel(u,'A06P')!=0)and(GetRandomInt(1,$A)<5)and(UnitHasBuffBJ(uc,'Bcri')==false))thencall PW(u,uc,4)endifcall RemoveLocation(vJ)set vJ=nullset u=nullset uc=nullendfunctionfunction xXv takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(uc)local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local group g=CreateGroup()call GW(u,'A017',1200.)if GetUnitAbilityLevel(u,'A07U')!=0 thencall GroupEnumUnitsInRangeOfLoc(g,vJ,400,Condition(function xav))elsecall GroupAddUnit(g,uc)endifcall ForGroupBJ(g,function xnv)call GroupClear(g)call DestroyGroup(g)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullset p=nullset g=nullendfunctionfunction xOv takes nothing returns booleanreturn(IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and GetUnitAbilityLevel(GetTriggerUnit(),'A017')>=1 and GetUnitAbilityLevel(GetTriggerUnit(),'A018')>=1endfunctionfunction xRv takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if IO[i]>=100 thenset IO[i]=0call YJ('rsps',GetTriggerUnit())elseset IO[i]=IO[i]+1endifendfunctionfunction xIv takes nothing returns booleanreturn((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and GetSpellAbilityId()=='A018'endfunctionfunction xAv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction xNv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEnumUnit()local location vJ=GetUnitLoc(uc)local integer i=GetRandomInt(1,5)local integer j=5local real BW=1.local real cW=0.local string array xbvset xbv[1]="宫!"set xbv[2]="商!"set xbv[3]="角!"set xbv[4]="徵!"set xbv[5]="羽!"if GetUnitAbilityLevel(u,'A06H')>=1 thenset j=3endifif GetUnitAbilityLevel(u,'A0D3')>=1 thenset j=GetRandomInt(2,5)endifif GetUnitAbilityLevel(u,'A07N')>=1 thenset BW=BW+1endifif GetUnitAbilityLevel(u,'A06H')>=1 and GetUnitAbilityLevel(u,'A0D3')>=1 and GetUnitAbilityLevel(u,'A07N')>=1 and GetUnitAbilityLevel(u,'A084')>=1 thenset BW=BW*4*2endifif sw(u,'I09D')thenset BW=BW*8endifif GetUnitAbilityLevel(u,'A084')>=1 and UnitHasBuffBJ(u,'B00Y')thenset i=5endifcall CreateTextTagLocBJ(xbv[i],vJ,40.,14.,10.,60.,30.,0)call Nw(1.5,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)if i==1 thencall PW(u,uc,1)elseif i==2 thencall PW(u,uc,9)elseif i==3 thenset cW=bW(u,uc,20,30,BW,'A018')call gW(u,uc,cW)call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"))elseif i==4 thencall PW(u,uc,4)elseif i==5 thenif UnitHasBuffBJ(u,'B00Y')==false thenset PO[1+GetPlayerId(GetOwningPlayer(u))]=1call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A01A')call IssueTargetOrderById(bj_lastCreatedUnit,$D006B,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)elseset PO[1+GetPlayerId(GetOwningPlayer(u))]=PO[1+GetPlayerId(GetOwningPlayer(u))]+1call UnitRemoveBuffBJ('B00Y',u)call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A01A')call IssueTargetOrderById(bj_lastCreatedUnit,$D006B,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)endifif PO[1+GetPlayerId(GetOwningPlayer(u))]>=j thencall UnitRemoveBuffBJ('B00Y',u)call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"))set cW=bW(u,uc,800,1600,BW,'A018')call gW(u,uc,cW)endifendifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction xBv takes nothing returns nothinglocal group g=CreateGroup()local unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)local sound sd=CreateSound("Sound\\Music\\mp3Music\\UndeadVictory.mp3",false,false,false,$A,$A,"DefaultEAXON")call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Human\\Brilliance\\Brilliance.mdl"))call GW(u,'A018',700.)call GroupEnumUnitsInRangeOfLoc(g,vJ,500,Condition(function xAv))call ForGroupBJ(g,function xNv)call GroupClear(g)call DestroyGroup(g)call RemoveLocation(vJ)set u=nullset g=nullset vJ=nullendfunctionfunction QJ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895898))endfunctionfunction RJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((kd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=3))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000你无法再接取此任务了")elseif((jd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thenif((GetRandomInt(1,100)<=35))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Bg))set jd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00鲁有脚：|r |cFF99FFCC丐帮乃江湖第一大帮派，负责传送各种情报|r
|cFFFFCC00提示：|r |cFF99FFCC送信给|cFFADFF2F黄蓉|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((GetRandomInt(1,70)<=35))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Xe))set jd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=2call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00鲁有脚：|r |cFF99FFCC丐帮乃江湖第一大帮派，负责传送各种情报|r
|cFFFFCC00提示：|r |cFF99FFCC送信给|cFFADFF2F达摩祖师|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseset jd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=3call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Pe))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00鲁有脚：|r |cFF99FFCC丐帮乃江湖第一大帮派，负责传送各种情报|r
|cFFFFCC00提示：|r |cFF99FFCC送信给|cFFADFF2F郭靖
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifendifelseif((jd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Bg))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00鲁有脚：|r |cFF99FFCC丐帮乃江湖第一大帮派，负责传送各种情报|r
|cFFFFCC00提示：|r |cFF99FFCC送信给|cFFADFF2F黄蓉|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((jd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==2))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Xe))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00鲁有脚：|r |cFF99FFCC丐帮乃江湖第一大帮派，负责传送各种情报|r
|cFFFFCC00提示：|r |cFF99FFCC送信给|cFFADFF2F达摩祖师|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((jd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Pe))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00鲁有脚：|r |cFF99FFCC丐帮乃江湖第一大帮派，负责传送各种情报|r
|cFFFFCC00提示：|r |cFF99FFCC送信给|cFFADFF2F郭靖
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifendifendifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction TJ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(jd[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1))endfunctionfunction UJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((GetRandomInt(1,50)<=25))thencall Hl(GetTriggerUnit(),0,0,500)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得经验+100、江湖声望+15、生命+500
")elseif((GetRandomInt(1,50)<=25))thencall Hl(GetTriggerUnit(),3,0,$C8)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得经验+100、江湖声望+15、攻击+200")elsecall Hl(GetTriggerUnit(),2,0,30)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得经验+100、江湖声望+15、防御+30
")endifendifif((GetRandomInt(1,50)<=40))thencall YJ(RN[5],GetTriggerUnit())call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00意外获得了一个锦灯笼")endifcall AddHeroXP(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),100,true)call PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))set jd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set kd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(kd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+$F)call FlushChildHashtable(Jv,id*cx)endfunctionfunction WJ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(jd[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==2))endfunctionfunction XJ takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((GetRandomInt(1,50)<=25))thencall Hl(GetTriggerUnit(),0,0,500)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得经验+100、江湖声望+15、生命+500
")elseif((GetRandomInt(1,50)<=25))thencall Hl(GetTriggerUnit(),3,0,$C8)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得经验+100、江湖声望+15、攻击+200")elsecall Hl(GetTriggerUnit(),2,0,30)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得经验+100、江湖声望+15、防御+30
")endifendifif((GetRandomInt(1,50)<=40))thencall YJ(RN[5],GetTriggerUnit())call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00意外获得了一个锦灯笼")endifcall AddHeroXP(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),100,true)call PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))set jd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set kd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(kd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+$F)call FlushChildHashtable(Jv,id*cx)endfunctionfunction ZJ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(jd[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==3))endfunctionfunction dK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((GetRandomInt(1,50)<=25))thencall Hl(GetTriggerUnit(),0,0,500)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得经验+100、江湖声望+15、生命+500
")elseif((GetRandomInt(1,50)<=25))thencall Hl(GetTriggerUnit(),3,0,$C8)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得经验+100、江湖声望+15、攻击+200")elsecall Hl(GetTriggerUnit(),2,0,30)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得经验+100、江湖声望+15、防御+30
")endifendifif((GetRandomInt(1,50)<=40))thencall YJ(RN[5],GetTriggerUnit())call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00意外获得了一个锦灯笼")endifcall AddHeroXP(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),100,true)call PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))set jd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set kd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(kd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+$F)call FlushChildHashtable(Jv,id*cx)endfunctionfunction fK takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895352))endfunctionfunction gK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((e8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Se))set e8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00耶律齐：|r |cFF99FFCC我一生酷爱打猎，平时有时间就会出来试试身手，你愿意一同前往吗|r
|cFFFFCC00提示：|r |cFF99FFCC击杀山林中的|cFFADFF2F野猪首领|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((e8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Se))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00你已经接下任务了
|cFFFFCC00提示：|r |cFF99FFCC击杀山林中的|cFFADFF2F野猪首领|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction iK takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895353))endfunctionfunction jK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thenif((GetRandomInt(1,70)<=$A))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Te))set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC我这有一封信，你帮我送给全真教的丘掌门吧|r
|cFFFFCC00提示：|r |cFF99FFCC前往全真教的|cFFADFF2F丘处机|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((GetRandomInt(1,60)<=$A))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Ue))set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=2call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC全真教山下附近的豺狼经常出没攻击镖车，你能前往消灭他们吗|r
|cFFFFCC00提示：|r |cFF99FFCC前往全真教山下的杀死10只|cFFADFF2F豺狼|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((GetRandomInt(1,50)<=$A))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Ve))set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=3call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC我这有一封信，你帮我送给燕子坞的慕容复吧|r
|cFFFFCC00提示：|r |cFF99FFCC前往燕子坞的|cFFADFF2F慕容复|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((GetRandomInt(1,40)<=$A))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(We))set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=4call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC燕子坞的蝎子王经常出没攻击镖车，你能前往消灭他们吗|r
|cFFFFCC00提示：|r |cFF99FFCC前往燕子坞的杀死5只|cFFADFF2F蝎子王|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((GetRandomInt(1,30)<=$A))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Xe))set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=5call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC我这有一封信，你帮我送给少林寺的达摩祖师吧|r
|cFFFFCC00提示：|r |cFF99FFCC前往少林寺的|cFFADFF2F达摩祖师|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((GetRandomInt(1,20)<=$A))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Ye))set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=6call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC我这有一封信，你帮我送给雁门关的乔峰吧|r
|cFFFFCC00提示：|r |cFF99FFCC前往雁门关的|cFFADFF2F乔峰|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseset g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=7call SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Je))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC西域邪教持续骚扰我中原武林，是时候给他们一点颜色了|r
|cFFFFCC00提示：|r |cFF99FFCC守住武林正派，杀死10只|cFFADFF2F进攻的西域教徒|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifendifendifendifendifendifelseif((g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Te))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC我这有一封信，你帮我送给全真教的邱掌门吧|r
|cFFFFCC00提示：|r |cFF99FFCC前往全真教的|cFFADFF2F丘处机|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==2))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Ue))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC全真教山下附近的豺狼经常出没攻击镖车，你能前往消灭他们吗|r
|cFFFFCC00提示：|r |cFF99FFCC前往全真教山下的杀死10只|cFFADFF2F豺狼|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==3))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Ve))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC我这有一封信，你帮我送给燕子坞的慕容复吧|r
|cFFFFCC00提示：|r |cFF99FFCC前往燕子坞的|cFFADFF2F慕容复|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==4))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(We))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC燕子坞的蝎子王经常出没攻击镖车，你能前往消灭他们吗|r
|cFFFFCC00提示：|r |cFF99FFCC前往燕子坞的杀死5只|cFFADFF2F蝎子王|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==5))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Xe))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC我这有一封信，你帮我送给少林寺的达摩祖师吧|r
|cFFFFCC00提示：|r |cFF99FFCC前往少林寺的|cFFADFF2F达摩祖师|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==6))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Ye))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC我这有一封信，你帮我送给雁门关的乔峰吧|r
|cFFFFCC00提示：|r |cFF99FFCC前往雁门关的|cFFADFF2F乔峰|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==7))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Je))call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC西域邪教持续骚扰我中原武林，是时候给他们一点颜色了|r
|cFFFFCC00提示：|r |cFF99FFCC守住武林正派，杀死10只|cFFADFF2F进攻的西域教徒|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifendifendifendifendifendifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction mK takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(g8[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1))endfunctionfunction nK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得江湖声望+20，经验值+300")set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+20)call AddHeroXP(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),300,true)if((GetRandomInt(1,35)<=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-5)))thencall YJ(wA[GetRandomInt(1,3)],LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00你的运气（与福缘有关）太好了，竟然意外获得了一个古董")endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction pK takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='ngns')and(g8[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==2))endfunctionfunction qK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetKillingUnit())set h8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(h8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((h8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=$A))thenset h8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得江湖声望+25，经验值+300")set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+25)call AddHeroXP(GetKillingUnit(),300,true)set qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((GetRandomInt(1,35)<=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-5)))thencall YJ(wA[GetRandomInt(1,3)],LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00你的运气（与福缘有关）太好了，竟然意外获得了一个古董")endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("豺狼："+(I2S(h8[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 10")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction sK takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(g8[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==3))endfunctionfunction tK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得江湖声望+20，经验值+300")set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+20)call AddHeroXP(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),300,true)set qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((GetRandomInt(1,35)<=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-5)))thencall YJ(wA[GetRandomInt(1,3)],LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00你的运气（与福缘有关）太好了，竟然意外获得了一个古董")endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction vK takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='nanb')and(g8[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==4))endfunctionfunction wK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))set i8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(i8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((i8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=5))thenset i8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得江湖声望+30，经验值+300")set qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+30)call AddHeroXP(GetKillingUnit(),300,true)if((GetRandomInt(1,35)<=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-5)))thencall YJ(wA[GetRandomInt(1,3)],LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00你的运气（与福缘有关）太好了，竟然意外获得了一个古董")endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("蝎子王："+(I2S(i8[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 5")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction yK takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(g8[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==5))endfunctionfunction zK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得江湖声望+20，经验值+300")set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+20)call AddHeroXP(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),300,true)set qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((GetRandomInt(1,35)<=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-5)))thencall YJ(wA[GetRandomInt(1,3)],LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00你的运气（与福缘有关）太好了，竟然意外获得了一个古董")endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction aK takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(g8[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==6))endfunctionfunction BK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得江湖声望+20，经验值+300")set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+20)call AddHeroXP(LoadUnitHandle(Jv,id*cx,-$2EC5CBA0),300,true)set qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((GetRandomInt(1,35)<=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-5)))thencall YJ(wA[GetRandomInt(1,3)],LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00你的运气（与福缘有关）太好了，竟然意外获得了一个古董")endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction CK takes nothing returns booleanreturn GetKillingUnit()!=null and((g8[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==7))endfunctionfunction cK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetKillingUnit()))))set j8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(j8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((j8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=$A))thenset j8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call PlaySoundOnUnitBJ(Hh,100,GetKillingUnit())call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得江湖声望+30，经验值+300")set g8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+30)call AddHeroXP(GetKillingUnit(),300,true)set qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((GetRandomInt(1,35)<=(fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]-5)))thencall YJ(wA[GetRandomInt(1,3)],LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00你的运气（与福缘有关）太好了，竟然意外获得了一个古董")endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("西域邪教："+(I2S(j8[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 10")))endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction EK takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895364))endfunctionfunction FK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((qd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=3))thenif((o8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==false))thenif((GetRandomInt(1,100)<=25))thencall YJ('I01U',GetTriggerUnit())set o8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=truecall PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|CFF34FF00获得"+GetItemName(bj_lastCreatedItem)))elseif((GetRandomInt(1,60)<=20))thencall YJ('I01Z',GetTriggerUnit())set o8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=truecall PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|CFF34FF00获得"+GetItemName(bj_lastCreatedItem)))elseif((GetRandomInt(1,60)<=30))thencall YJ(1227895124,GetTriggerUnit())set o8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=truecall PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|CFF34FF00获得"+GetItemName(bj_lastCreatedItem)))elsecall YJ(1227895109,GetTriggerUnit())set o8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=truecall PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|CFF34FF00获得"+GetItemName(bj_lastCreatedItem)))endifendifendifcall SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,$B4)<=$A))thencall SJ(1227895627,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,$AA)<=$A))thencall SJ(1227895385,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,$A0)<=$A))thencall SJ('I03D',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,$96)<=$A))thencall SJ(1227895382,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,$8C)<=$A))thencall SJ(1227895624,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,$82)<=$A))thencall SJ(1227895621,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,120)<=$A))thencall SJ(1227895603,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,110)<=$A))thencall SJ('I02W',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,100)<=$A))thencall SJ(1227895601,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,90)<=$A))thencall SJ('I03G',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,80)<=$A))thencall SJ('I02U',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,70)<=$A))thencall SJ(1227895626,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,60)<=$A))thencall SJ('I030',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,50)<=$A))thencall SJ('I02X',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,40)<=$A))thencall SJ('I03I',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,30)<=$A))thencall SJ('I02Z',LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,20)<=$A))thencall SJ('I03L',LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I03F',LoadLocationHandle(Jv,id*cx,$1769D332))endifendifendifendifendifendifendifendifendifendifendifendifendifendifendifendifendifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|CFF34FF00获得"+GetItemName(bj_lastCreatedItem)))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC你已经领过奖励了
")endifelsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00林远图：|r |cFF99FFCC需要完成至少3次押镖任务才可以领取奖励哦")endifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction HK takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896132 or GetItemTypeId(GetManipulatedItem())=='I09W'))endfunctionfunction IK takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif GetItemTypeId(GetManipulatedItem())==1227896132 thenif((rd[i]==0))thenset vJ=GetRectCenter(Nf)set rd[i]=1call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00胡斐：|r |cFF99FFCC这一代时常有熊出没，能搞点熊皮来的话应该可以卖个好价钱|r
|cFFFFCC00提示：|r |cFF99FFCC杀死|cFFADFF2F30只熊|r
")call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)elseif((rd[i]==1))thenset vJ=GetRectCenter(Nf)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00胡斐：|r |cFF99FFCC这一代时常有熊出没，能搞点熊皮来的话应该可以卖个好价钱|r
|cFFFFCC00提示：|r |cFF99FFCC杀死|cFFADFF2F30只熊|r
")call PingMinimapLocForForce(ov(p),vJ,5.)call RemoveLocation(vJ)elseif((rd[i]==2))thencall DisplayTextToPlayer(p,0,0,"|cFfff0000这个任务你已经完成过了")endifelseif GetItemTypeId(GetManipulatedItem())=='I09W' thenif((LoadInteger(Jv,StringHash("哑仆任务"),i)==0))thencall SaveInteger(Jv,StringHash("哑仆任务"),i,1)call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC黄老邪把我腿打断的时候，桃花岛上的哑仆一直欺负我，你能帮我杀掉十个哑仆吗|r
|cFFFFCC00提示：|r |cFF99FFCC杀死|cFFADFF2F十个哑仆|r
")elseif((LoadInteger(Jv,StringHash("哑仆任务"),i)==1))thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00周伯通：|r |cFF99FFCC杀掉十个哑仆了吗|r
|cFFFFCC00提示：|r |cFF99FFCC杀死|cFFADFF2F十个哑仆|r
")endifendifendfunctionfunction PK takes nothing returns booleanreturn((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and GetUnitLevel(GetTriggerUnit())==$A)endfunctionfunction QK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))if((GetRandomInt(1,60)<=$A))thencall YJ(1227895375,GetTriggerUnit())elseif((GetRandomInt(1,50)<=$A))thencall YJ(1227895370,GetTriggerUnit())elseif((GetRandomInt(1,40)<=$A))thencall YJ(1227895363,GetTriggerUnit())elseif((GetRandomInt(1,30)<=$A))thencall YJ(1227895368,GetTriggerUnit())elseif((GetRandomInt(1,60)<=30))thencall YJ(1227895369,GetTriggerUnit())elsecall YJ(1227895365,GetTriggerUnit())endifendifendifendifendifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|CFF34FF00恭喜升到10级，获得"+GetItemName(bj_lastCreatedItem)))call FlushChildHashtable(Jv,id*cx)endfunctionfunction SK takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895890))endfunctionfunction TK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Gg))set z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00公孙绿萼：|r |cFF99FFCC杨过中了情花剧毒，你能替我想想办法救救他吗|r
|cFFFFCC00提示：|r |cFF99FFCC采集绝情谷副本中的|cFFADFF2F断肠草|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(Gg))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00你已经接下任务了
|cFFFFCC00提示：|r |cFF99FFCC采集绝情谷副本的|cFFADFF2F断肠草|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))endifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction VK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())if((GetItemTypeId(GetEnumItem())=='I04S'))thencall SaveInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$5E9EB4B3,(LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$5E9EB4B3)+1))set a9[LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$5E9EB4B3)]=GetEnumItem()set B9[LoadInteger(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$5E9EB4B3)]=GetItemLoc(GetEnumItem())endifendfunctionfunction WK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,0)call EnumItemsInRectBJ(Gg,function VK)call FlushChildHashtable(Jv,id*cx)endfunctionfunction YK takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I04S'))endfunctionfunction ZK takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call SaveItemHandle(Jv,id*cx,$1769D332,GetManipulatedItem())if(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)==false))thenset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=12loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif((GetManipulatedItem()==a9[bj_forLoopAIndex]))thencall SJ('I04S',B9[bj_forLoopAIndex])set a9[bj_forLoopAIndex]=bj_lastCreatedItemcall DisplayTimedTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,15.,"|CFFFF0000只能由主角来采集")endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopelseif((z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thenset A9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(A9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)if((A9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]>=$A))thenset z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=2set A9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务请前往公孙绿萼换取奖励")elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("断肠草："+(I2S(A9[LoadInteger(Jv,id*cx,-$5E9EB4B3)])+" / 10")))endifcall CreateNUnitsAtLoc(1,1752196449,Player(15),v7[1],bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',GetRandomReal(20.,25.))set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=12loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif((LoadItemHandle(Jv,id*cx,$1769D332)==a9[bj_forLoopAIndex]))thenset b9[bj_forLoopAIndex]=bj_lastCreatedUnitendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopelseset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=12loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif((LoadItemHandle(Jv,id*cx,$1769D332)==a9[bj_forLoopAIndex]))thencall SJ('I04S',B9[bj_forLoopAIndex])set a9[bj_forLoopAIndex]=bj_lastCreatedItemcall DisplayTimedTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,15.,"|CFFFF0000身上没有该任务或已经完成了")endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction eL takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(z9[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==2))endfunctionfunction fL takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call PlaySoundOnUnitBJ(Hh,100,GetTriggerUnit())call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())set z9[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+100)if((GetRandomInt(1,40)<=20))thencall YJ('I00X',GetTriggerUnit())elsecall YJ('I00Y',GetTriggerUnit())endifcall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|CFF34FF00完成任务江湖声望+100，并获得"+GetItemName(bj_lastCreatedItem)))call FlushChildHashtable(Jv,id*cx)endfunctionfunction hL takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1752196449))endfunctionfunction iL takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=12loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif((GetTriggerUnit()==b9[bj_forLoopAIndex]))thencall SJ('I04S',B9[bj_forLoopAIndex])set a9[bj_forLoopAIndex]=bj_lastCreatedItemendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction kL takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896387))endfunctionfunction mL takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((Sd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(gh))set Sd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00完颜萍：|r |cFF99FFCC耶律楚材受伤了，你能帮个忙啊|r
|cFFFFCC00提示：|r |cFF99FFCC护送耶律楚材回|cFFADFF2F大辽国|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call SaveLocationHandle(Jv,id*cx,1231311908,GetRectCenter(hh))call CreateNUnitsAtLoc(1,1853254706,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(Jv,id*cx,1231311908),bj_UNIT_FACING)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,LoadLocationHandle(Jv,id*cx,$5E83114F))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))call RemoveLocation(LoadLocationHandle(Jv,id*cx,1231311908))elseif((Sd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(gh))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00你已经接下任务了
|cFFFFCC00提示：|r |cFF99FFCC护送耶律楚材回|cFFADFF2F大辽国|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elsecall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00你已经完成了这个任务了（不可重复接取）")endifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction oL takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1853254706))endfunctionfunction pL takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetTriggerPlayer())))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFF0000任务失败了")set Sd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call PlaySoundOnUnitBJ(Gh,100,ER[LoadInteger(Jv,id*cx,-$5E9EB4B3)])call FlushChildHashtable(Jv,id*cx)endfunctionfunction rL takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1853254706))endfunctionfunction sL takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call PlaySoundOnUnitBJ(Hh,100,ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))set Sd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=2set dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+$96)set qO[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(qO[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+1)call RemoveUnit(GetTriggerUnit())call AdjustPlayerStateBJ($7530,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务江湖声望+150，并获得金钱+30000、稀有币+20、绝学领悟力+1")call ShowUnitShow(qV)call FlushChildHashtable(Jv,id*cx)endfunctionfunction uL takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896388))endfunctionfunction vL takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((Td[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==0))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(xg))set Td[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1call PlaySoundOnUnitBJ(bh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00苗人凤：|r |cFF99FFCC很多武林恶势力犯事之后都躲到了高昌迷宫里|r
|cFFFFCC00提示：|r |cFF99FFCC分别杀死|cFFADFF2F10个门派叛徒和武林恶徒|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((Td[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall SaveLocationHandle(Jv,id*cx,$5E83114F,GetRectCenter(xg))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFFFFCC00苗人凤：|r |cFF99FFCC很多武林恶势力犯事之后都躲到了高昌迷宫里|r
|cFFFFCC00提示：|r |cFF99FFCC分别杀死|cFFADFF2F10个门派叛徒和武林恶徒|r
")call PingMinimapLocForForce(ov(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3)))),LoadLocationHandle(Jv,id*cx,$5E83114F),5.)call RemoveLocation(LoadLocationHandle(Jv,id*cx,$5E83114F))elseif((Td[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==2))thencall DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|cFfff0000这个任务你无法再接取了")endifendifendifcall FlushChildHashtable(Jv,id*cx)endfunctionfunction xL takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(Td[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==1)and(Vd[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==$A)and(Ud[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==$A))endfunctionfunction yL takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))if((GetRandomInt(1,50)<=fR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]))thencall SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))if((GetRandomInt(1,100)<=$A))thencall SJ(1227896370,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,90)<=$A))thencall SJ(1227896371,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,80)<=$A))thencall SJ(1227896369,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,70)<=$A))thencall SJ(1227896374,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,60)<=$A))thencall SJ(1227896372,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,50)<=$A))thencall SJ(1227896368,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,40)<=$A))thencall SJ(1227896377,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,30)<=$A))thencall SJ(1227896376,LoadLocationHandle(Jv,id*cx,$1769D332))elseif((GetRandomInt(1,20)<=$A))thencall SJ(1227896375,LoadLocationHandle(Jv,id*cx,$1769D332))elsecall SJ('I065',LoadLocationHandle(Jv,id*cx,$1769D332))endifendifendifendifendifendifendifendifendifcall RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得江湖声望+200和绝学隐藏招式残章一本
")set Td[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0elseif((GetRandomInt(1,50)<=15))thencall YJ(1227896390,GetTriggerUnit())call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得江湖声望+200和号令天下令
")set Td[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0elsecall SaveLocationHandle(Jv,id*cx,$1769D332,GetUnitLoc(GetTriggerUnit()))call SJ(wA[GetRandomInt(4,9)],LoadLocationHandle(Jv,id*cx,$1769D332))call RemoveLocation(LoadLocationHandle(Jv,id*cx,$1769D332))call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,"|CFF34FF00完成任务获得江湖声望+200和古董一个")set Td[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0endifendifset dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+$C8)set Vd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0set Ud[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call FlushChildHashtable(Jv,id*cx)endfunctionfunction AL takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896389 or GetItemTypeId(GetManipulatedItem())=='I0AN'))endfunctionfunction aL takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local location vJ=GetRectCenter(mh)if(GetItemTypeId(GetManipulatedItem())==1227896389)thenif(Wd[i]==0)thenset Wd[i]=1call PlaySoundOnUnitBJ(bh,100,u)call DisplayTextToPlayer(GetOwningPlayer(u),0,0,"|cFFFFCC00乔峰：|r |cFF99FFCC最近辽国养兵蓄锐，似乎对大宋有所企图，若能擒住辽国第一先锋，百姓才能避免战祸|r
|cFFFFCC00提示：|r |cFF99FFCC杀死|cFFADFF2F辽国第一先锋|r
")call PingMinimapLocForForce(bj_FORCE_ALL_PLAYERS,vJ,5.)call RemoveLocation(vJ)elsecall DisplayTextToPlayer(GetOwningPlayer(u),0,0,"|cFFFFCC00乔峰：|r |cFF99FFCC最近辽国养兵蓄锐，似乎对大宋有所企图，若能擒住辽国第一先锋，百姓才能避免战祸|r
|cFFFFCC00提示：|r |cFF99FFCC杀死|cFFADFF2F辽国第一先锋|r
")call PingMinimapLocForForce(bj_FORCE_ALL_PLAYERS,vJ,5.)call RemoveLocation(vJ)endifelseif yA[i]==0 thenif kR[i]==10 thenset yA[i]=1call DisplayTextToPlayer(GetOwningPlayer(u),0,0,"|cFFFFCC00乔峰：|r |cFF99FFCC阿紫被丁老头抓走了，请英雄帮我击败丁春秋，救出阿紫|r
|cFFFFCC00提示：|r |cFF99FFCC杀死|cFFADFF2F丁春秋|r
")elsecall DisplayTextToPlayer(GetOwningPlayer(u),0,0,"|cFFFFCC00乔峰：|r |cFF99FFCC你不是星宿派中人，无法接此任务|r
")endifelsecall DisplayTextToPlayer(GetOwningPlayer(u),0,0,"|cFFFFCC00乔峰：|r |cFF99FFCC你已完成任务|r
")endifendifendfunctionfunction bL takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())==1751543663)or(GetUnitTypeId(GetTriggerUnit())=='odkt')or(GetUnitTypeId(GetTriggerUnit())=='h00J'))endfunctionfunction CL takes nothing returns nothinglocal player p=GetOwningPlayer(GetKillingUnit())local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(GetTriggerUnit())if GetUnitTypeId(GetTriggerUnit())==1751543663 and GetOwningPlayer(GetTriggerUnit())==Player(12)thenif((Wd[i]==1))thenset Wd[i]=2call DisplayTextToPlayer(p,0,0,"|CFF34FF00恭喜击破辽国第一先锋，你可以回去领奖励了")elseif((Wd[i]==2))thencall DisplayTextToPlayer(p,0,0,"|CFF34FF00你已经杀过这个怪了，还是先回去交任务把")endifelseif GetUnitTypeId(GetTriggerUnit())=='odkt' thenif yA[i]==1 thenset yA[i]=2call DisplayTextToPlayer(p,0,0,"|CFF34FF00击败丁春秋，阿紫现身")call CreateNUnitsAtLoc(1,'h00J',Player(12),vJ,bj_UNIT_FACING)endifelseif GetUnitTypeId(GetTriggerUnit())=='h00J' thencall SJ('I0AM',vJ)call SetItemUserData(bj_lastCreatedItem,GetRandomInt(1,5)*$989680+GetRandomInt(1,5)*$F4240+GetRandomInt(1,5)*$186A0+GetRandomInt(1,5)*$2710)call DisplayTextToPlayer(p,0,0,"|CFF34FF00击败阿紫，获得神木王鼎")endifcall RemoveLocation(vJ)set p=nullset vJ=nullendfunctionfunction DL takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(Wd[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]==2))endfunctionfunction EL takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))))call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())call PlaySoundOnUnitBJ(Hh,100,LoadUnitHandle(Jv,id*cx,-$2EC5CBA0))call YJ(RN[4],GetTriggerUnit())if((GetRandomInt(1,75)<=25))thencall YJ('I06K',GetTriggerUnit())elseif((GetRandomInt(1,50)<=25))thencall YJ('I06N',GetTriggerUnit())elsecall YJ('I06I',GetTriggerUnit())endifendifif(GetRandomInt(1,3)==1)thenif((GetRandomInt(1,75)<=25))thencall YJ('I06K',GetTriggerUnit())elseif((GetRandomInt(1,50)<=25))thencall YJ('I06N',GetTriggerUnit())elsecall YJ('I06I',GetTriggerUnit())endifendifendifset dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=(dI[LoadInteger(Jv,id*cx,-$5E9EB4B3)]+250)set Wd[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0call DisplayTextToPlayer(Player(-1+(LoadInteger(Jv,id*cx,-$5E9EB4B3))),0,0,("|CFF34FF00完成任务获得江湖声望+250，金银花一个和"+GetItemName(bj_lastCreatedItem)))call FlushChildHashtable(Jv,id*cx)endfunctionfunction xcv takes integer vW,integer cU,integer CU,integer xCv,integer xdv,integer xDv,integer xfv,integer xFv,integer xgv returns nothingset R8[vW]=cUset S8[vW]=CUset LI[vW]=xCvset MI[vW]=xdvset PI[vW]=xDvset SI[vW]=xfvset tI[vW]=xFvset wI[vW]=xgvendfunctionfunction LO takes nothing returns nothingcall xcv(1,1697656885,1227895865,2,0,0,0,3,0)call xcv(2,1697656886,1227895874,2,2,2,2,2,2)call xcv(3,1697656887,1227895380,0,0,0,0,1,1)call xcv(4,1697656888,1227895864,0,2,2,1,0,0)call xcv(5,1697656889,1227895858,2,0,1,0,0,0)call xcv(6,1697656898,1227895859,0,2,0,0,0,1)call xcv(7,1697656897,1227895857,0,0,0,2,0,0)call xcv(8,1697656899,1227895873,2,2,2,2,2,2)call xcv(9,1697656900,1227895863,2,0,0,2,1,0)call xcv(10,1697656901,1227895862,0,1,3,0,0,1)call xcv(11,1697656902,1227895861,1,1,0,0,0,2)call xcv(12,1697656903,1227895860,0,0,2,1,1,0)endfunctionfunction NO takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT))endfunctionfunction OO takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer j=1local location vJ=GetUnitLoc(u)if((IsUnitType((u),(UNIT_TYPE_HERO))!=null))thenloopexitwhen j>12if((GetUnitTypeId(k8[i])==R8[j]))thenset bR[i]=(bR[i]-PI[j])set fR[i]=(fR[i]-SI[j])set XR[i]=(XR[i]-MI[j])set JR[i]=(JR[i]-wI[j])set cR[i]=(cR[i]-LI[j])set HR[i]=(HR[i]-tI[j])endifset j=j+1endloopcall RemoveUnit(k8[i])set j=1loopexitwhen j>12if((GetItemTypeId(GetManipulatedItem())==S8[j]))thencall PlaySoundOnUnitBJ(Fh,100,u)call CreateNUnitsAtLoc(1,R8[j],p,vJ,bj_UNIT_FACING)call zw(bj_lastCreatedUnit,u,1.,250.,1000.,1500.,75)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00恭喜你与"+GetUnitName(bj_lastCreatedUnit)+"结成伴侣")call DisplayTextToPlayer(p,0,0,"|cFFFFCC00查看伴侣属性输入“bl”")set k8[i]=bj_lastCreatedUnitset bR[i]=(bR[i]+PI[j])set fR[i]=(fR[i]+SI[j])set XR[i]=(XR[i]+MI[j])set JR[i]=(JR[i]+wI[j])set cR[i]=(cR[i]+LI[j])set HR[i]=(HR[i]+tI[j])call RemoveLocation(vJ)endifset j=j+1endloopelsecall YJ(GetItemTypeId(GetManipulatedItem()),u)endifset u=nullset p=nullset vJ=nullendfunctionfunction SO takes nothing returns nothingif((GetWidgetLife(GetEnumItem())==101.))thencall SetItemPositionLoc(GetEnumItem(),GetRectCenter(nh))call RemoveLocation(GetRectCenter(nh))elseif((GetWidgetLife(GetEnumItem())==102.))thencall SetItemPositionLoc(GetEnumItem(),GetRectCenter(oh))call RemoveLocation(GetRectCenter(oh))elseif((GetWidgetLife(GetEnumItem())==103.))thencall SetItemPositionLoc(GetEnumItem(),GetRectCenter(ph))call RemoveLocation(GetRectCenter(ph))elseif((GetWidgetLife(GetEnumItem())==104.))thencall SetItemPositionLoc(GetEnumItem(),GetRectCenter(qh))call RemoveLocation(GetRectCenter(qh))elseif((GetWidgetLife(GetEnumItem())==105.))thencall SetItemPositionLoc(GetEnumItem(),GetRectCenter(rh))call RemoveLocation(GetRectCenter(rh))elseif((GetWidgetLife(GetEnumItem())==106.))thencall SetItemPositionLoc(GetEnumItem(),GetRectCenter(sh))call RemoveLocation(GetRectCenter(sh))elseif((GetWidgetLife(GetEnumItem())==107.))thencall SetItemPositionLoc(GetEnumItem(),GetRectCenter(th))call RemoveLocation(GetRectCenter(th))elseif((GetWidgetLife(GetEnumItem())==108.))thencall SetItemPosition(GetEnumItem(),-1819.,484.)elseif((GetWidgetLife(GetEnumItem())==109.))thencall SetItemPosition(GetEnumItem(),-1300.,-300.)endifendfunctionfunction TO takes nothing returns nothingcall EnumItemsInRectBJ(bj_mapInitialPlayableArea,function SO)endfunctionfunction oQ takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem())=='texp')endfunctionfunction pQ takes nothing returns nothingcall AddHeroXP(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],200000,true)endfunctionfunction rQ takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and GetItemTypeId(GetManipulatedItem())=='I05Z')endfunctionfunction sQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(GetUnitLevel(ER[i])>=100)thencall AdjustPlayerStateBJ(10000,p,PLAYER_STATE_RESOURCE_GOLD)call DisplayTimedTextToPlayer(p,0,0,15,"|cFFFFCC00等级高于100无法购买等级")elseif Ce[i]==5 thencall AdjustPlayerStateBJ(10000,p,PLAYER_STATE_RESOURCE_GOLD)call DisplayTimedTextToPlayer(p,0,0,15,"|cFFFFCC00选择该副职无法购买等级")elsecall SetHeroLevel(ER[i],GetUnitLevel(ER[i])+1,true)endifendifset u=nullset p=nullendfunctionfunction uQ takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896394))endfunctionfunction vQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)if((GetRandomInt(1,12)<=3))thencall AdjustPlayerStateBJ(20000,p,PLAYER_STATE_RESOURCE_GOLD)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用新手大礼包获得金钱+20000")elseif((GetRandomInt(1,9)<=3))thencall UnitAddItemById(u,vO[GetRandomInt(1,18)])call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用新手大礼包获得随机江湖武功")elseif((GetRandomInt(1,6)<=3))thencall UnitAddAbility(u,1093679441)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用新手大礼包获得神行状态")call TriggerSleepAction(300.)call UnitRemoveAbility(u,1093679441)call DisplayTextToPlayer(p,0,0,"|cFFFF0000失去神行效果")elsecall Hl(u,3,0,20000)call DisplayTextToPlayer(p,0,0,"|cFFFFCC00使用新手大礼包获得狂暴状态")call TriggerSleepAction(120.)call Hl(u,3,1,20000)call DisplayTextToPlayer(p,0,0,"|cFFFF0000失去狂暴效果")endifendifendifset u=nullset p=nullendfunctionfunction xQ takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I06N'))endfunctionfunction yQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer sW=0local integer tW=0if(((GetItemType(UnitItemInSlotBJ(u,1))==ITEM_TYPE_ARTIFACT)or(GetItemType(UnitItemInSlotBJ(u,1))==ITEM_TYPE_PURCHASABLE)or(GetItemType(UnitItemInSlotBJ(u,1))==ITEM_TYPE_CHARGED)))thenset tW=ModuloInteger(GetItemUserData(UnitItemInSlotBJ(u,1))/ 1000,10)set sW=ModuloInteger(GetItemUserData(UnitItemInSlotBJ(u,1))/ 100,10)if(sW>0)thenset tW=tW+1endifset sW=ModuloInteger(GetItemUserData(UnitItemInSlotBJ(u,1))/ 10,10)if(sW>0)thenset tW=tW+1endifset sW=ModuloInteger(GetItemUserData(UnitItemInSlotBJ(u,1)),10)if(sW>0)thenset tW=tW+1endifif(tW<3)thencall SetItemUserData(UnitItemInSlotBJ(u,1),(GetItemUserData(UnitItemInSlotBJ(u,1))+$3E8))call DisplayTimedTextToPlayer(p,0,0,30,"|cff00ffff打孔成功！")elsecall YJ('I06N',u)call DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000第一格物品不能再打孔了")endifelsecall YJ('I06N',u)call DisplayTimedTextToPlayer(p,0,0,30,"|cffff0000第一格物品不是装备")endifset u=nullset p=nullendfunctionfunction AQ takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I08Q' or GetItemTypeId(GetManipulatedItem())=='I0A4' or GetItemTypeId(GetManipulatedItem())=='I0A5' or GetItemTypeId(GetManipulatedItem())=='I0A6' or GetItemTypeId(GetManipulatedItem())=='I0A7' or GetItemTypeId(GetManipulatedItem())=='I08S' or GetItemTypeId(GetManipulatedItem())=='I08T' or GetItemTypeId(GetManipulatedItem())=='I0CG'))endfunctionfunction aQ takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if((Ce[i]==0))thenif(GetItemTypeId(GetManipulatedItem())=='I08Q')thenset JR[i]=JR[i]+5set Ce[i]=1call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffffff00恭喜成为炼丹师，获得医术+5")elseif(GetItemTypeId(GetManipulatedItem())=='I08S')thenset cR[i]=(cR[i]+5)set Ce[i]=2call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffffff00恭喜成为锻造师，获得根骨+5")elseif(GetItemTypeId(GetManipulatedItem())=='I08T')thenset HR[i]=(HR[i]+5)set Ce[i]=3call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffffff00恭喜成为兵器师，获得胆魄+5")elseif(GetItemTypeId(GetManipulatedItem())=='I0A4')thenset XR[i]=XR[i]+5set Ce[i]=4call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffffff00恭喜成为鉴定师，获得悟性+5")elseif(GetItemTypeId(GetManipulatedItem())=='I0A5')thenset bR[i]=bR[i]+5set Ce[i]=5call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffffff00恭喜成为练气师，获得经脉+5")elseif(GetItemTypeId(GetManipulatedItem())=='I0A6')thenset fR[i]=fR[i]+5set Ce[i]=6call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffffff00恭喜成为寻宝师，获得福缘+5")elseif(GetItemTypeId(GetManipulatedItem())=='I0A7')thenif(GetUnitTypeId(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])=='O002' or GetUnitTypeId(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])=='O003' or GetUnitTypeId(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])=='O023' or GetUnitTypeId(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])=='O02H' or GetUnitTypeId(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])=='O02I')thenset Ce[i]=7call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffffff00恭喜成为丫鬟，获得全属性+1")set HR[i]=HR[i]+1set XR[i]=XR[i]+1set cR[i]=cR[i]+1set fR[i]=fR[i]+1set bR[i]=bR[i]+1set JR[i]=JR[i]+1elsecall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffffff00男性角色不可加入该副职")endifelseif(GetItemTypeId(GetManipulatedItem())=='I0CG')thenif(GetUnitTypeId(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])!='O002' and GetUnitTypeId(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])!='O003' and GetUnitTypeId(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])!='O023' and GetUnitTypeId(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])!='O02H' and GetUnitTypeId(ER[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))])!='O02I')thenset Ce[i]=8call DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffffff00恭喜成为精武师，获得全属性+1")set HR[i]=HR[i]+1set XR[i]=XR[i]+1set cR[i]=cR[i]+1set fR[i]=fR[i]+1set bR[i]=bR[i]+1set JR[i]=JR[i]+1elsecall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffffff00女性角色不可加入该副职")endifendifelsecall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,5.,"|cffff0000你已经加入专精了！（每个角色只能选择一种专精，也可以不选择）")endifendfunctionfunction GQ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896148))endfunctionfunction HQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif(GetUnitLevel(u)<$A)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000等级不足10级无法传送")elseif(dI[i]<500)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000江湖声望不足500无法传送")elseset vJ=GetRectCenter(Te)call SetUnitPositionLoc(u,vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)call DisplayTextToPlayer(p,0,0,"|cff66ff33进入终南山")endifendifset u=nullset p=nullset vJ=nullendfunctionfunction lQ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896149))endfunctionfunction JQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif(GetUnitLevel(u)<25)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000等级不足25级无法传送")elseif((dI[i]<$5DC))thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000江湖声望不足1500无法传送")elseset vJ=GetRectCenter(ag)call SetUnitPositionLoc(u,vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)call DisplayTextToPlayer(p,0,0,"|cff66ff33进入少林寺后山")endifendifset u=nullset p=nullset vJ=nullendfunctionfunction LQ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896150))endfunctionfunction MQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif(GetUnitLevel(u)<40)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000等级不足40级无法传送")elseif((dI[i]<$9C4))thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000江湖声望不足2500无法传送")elseset vJ=GetRectCenter(Bg)call SetUnitPositionLoc(u,vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)call DisplayTextToPlayer(p,0,0,"|cff66ff33进入塞外")endifendifset u=nullset p=nullset vJ=nullendfunctionfunction OQ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896151))endfunctionfunction PQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif(GetUnitLevel(u)<55)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000等级不足55级无法传送")elseif((dI[i]<$FA0))thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000江湖声望不足4000无法传送")elseset vJ=GetRectCenter(Lg)call SetUnitPositionLoc(u,vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)call DisplayTextToPlayer(p,0,0,"|cff66ff33进入光明顶")endifendifset u=nullset p=nullset vJ=nullendfunctionfunction RQ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896152))endfunctionfunction SQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif(GetUnitLevel(u)<70)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000等级不足70级无法传送")elseif((dI[i]<6000))thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000江湖声望不足6000无法传送")elseset vJ=GetRectCenter(Rg)call SetUnitPositionLoc(u,vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)call DisplayTextToPlayer(p,0,0,"|cff66ff33进入少林寺后山")endifendifset u=nullset p=nullset vJ=nullendfunctionfunction UQ takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896385))endfunctionfunction VQ takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=nullif(GetUnitLevel(u)<100)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000等级不足100级无法传送")elseif((dI[i]<9000))thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000江湖声望不足9000无法传送")elseset vJ=GetRectCenter(Zg)call SetUnitPositionLoc(u,vJ)call PanCameraToTimedLocForPlayer(p,vJ,0)call RemoveLocation(vJ)call DisplayTextToPlayer(p,0,0,"|cff66ff33进入边疆")endifendifset u=nullset p=nullset vJ=nullendfunctionfunction pR takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227895856))endfunctionfunction xGv takes nothing returns nothinglocal button b=GetClickedButton()local unit u=LoadUnitHandle(Jv,StringHash("门派内功"),3)local integer i=1+GetPlayerId(GetOwningPlayer(u))local integer id=LoadInteger(Jv,StringHash("门派内功"),4)local player p=GetOwningPlayer(u)if b==LoadButtonHandle(Jv,StringHash("门派内功"),1)thencall UnitAddAbility(u,Q8[id])call UnitMakeAbilityPermanent(u,true,Q8[id])call DisplayTextToPlayer(GetOwningPlayer(u),0,0,("|cff00FF66恭喜领悟技能："+GetObjectName(Q8[id])))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FF66玩家"+I2S(1+GetPlayerId(p))+"成为"+CI[kR[i]]+"长老")call SetPlayerName(p,"〓"+CI[kR[i]]+"长老〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[(((i-1)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]=Q8[id]exitwhen trueendifset L7[i]=L7[i]+1endloopelseif b==LoadButtonHandle(Jv,StringHash("门派内功"),2)thenif P8[id]=='A07W' thenif GetUnitAbilityLevel(u,'A07W')>=1 thencall IncUnitAbilityLevel(u,P8[id])elsecall UnitAddAbility(u,P8[id])set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[(((i-1)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]=P8[id]exitwhen trueendifset L7[i]=L7[i]+1endloopendifcall IncUnitAbilityLevel(u,P8[id])elsecall UnitAddAbility(u,P8[id])call UnitMakeAbilityPermanent(u,true,P8[id])set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[(((i-1)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]=P8[id]exitwhen trueendifset L7[i]=L7[i]+1endloopendifcall DisplayTextToPlayer(GetOwningPlayer(u),0,0,("|cff00FF66恭喜领悟技能："+GetObjectName(P8[id])))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FF66玩家"+I2S(1+GetPlayerId(p))+"成为"+CI[kR[i]]+"长老")call SetPlayerName(p,"〓"+CI[kR[i]]+"长老〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifcall DialogClear(VI)call FlushChildHashtable(Jv,StringHash("门派内功"))call DialogDestroy(VI)set VI=nullset b=nullset u=nullset p=nullendfunctionfunction qR takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())local integer cx=LoadInteger(Jv,id,-$3021938A)local integer i=1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local button b1=nulllocal button b2=nulllocal trigger t=CreateTrigger()local integer j=0set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,i)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,GetTriggerUnit())if((sw(GetTriggerUnit(),1227895642)==false))thencall DisplayTextToPlayer(Player(-1+i),0,0,"|CFF34FF00你必须携带门派毕业卷才能获得修习资格")elseif((O8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==1))thencall DisplayTextToPlayer(Player(-1+i),0,0,"|CFF34FF00你已经修行过了")elseif GetUnitAbilityLevel(ER[i],Y7[kR[i]])<3 thencall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,15,"你的"+GetAbilityName(Y7[kR[i]])+"|r还没修炼到位")elseset j=1loopexitwhen j>cX[i]if(I7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))*20+j])!='AEfk' thenif j==cX[i]thencall DisplayTextToPlayer(Player(-1+i),0,0,"|CFF34FF00学习技能已达上限，请先遗忘部分技能")endifelseset O8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=1call RemoveItem(UU(GetTriggerUnit(),1227895642))set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=15loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndif((kR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==11))thencall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,15,"自由门派没有内功")exitwhen trueelseif(kR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==13)thencall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,15,"该门派不在此学习内功")call YJ(1227895642,GetTriggerUnit())set O8[LoadInteger(Jv,id*cx,-$5E9EB4B3)]=0exitwhen trueelseif((kR[LoadInteger(Jv,id*cx,-$5E9EB4B3)]==bj_forLoopBIndex))thenset VI=DialogCreate()call DialogSetMessage(VI,"请选择你要修习的内功")set b1=DialogAddButtonBJ(VI,GetObjectName(Q8[bj_forLoopBIndex]))set b2=DialogAddButtonBJ(VI,GetObjectName(P8[bj_forLoopBIndex]))call SaveButtonHandle(Jv,StringHash("门派内功"),1,b1)call SaveButtonHandle(Jv,StringHash("门派内功"),2,b2)call SaveUnitHandle(Jv,StringHash("门派内功"),3,GetTriggerUnit())call SaveInteger(Jv,StringHash("门派内功"),4,bj_forLoopBIndex)call DialogDisplay(GetOwningPlayer(GetTriggerUnit()),VI,true)call TriggerRegisterDialogEvent(t,VI)call TriggerAddAction(t,function xGv)endifendifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopexitwhen trueendifset j=j+1endloopendifendifendifcall FlushChildHashtable(Jv,id*cx)set b1=nullset b2=nullendfunctionfunction xhv takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I09F'))endfunctionfunction xHv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer j=1if(kR[i]!=13)thencall DisplayTextToPlayer(p,0,0,"|CFF34FF00你没有拜入姑苏慕容")elseif(sw(u,1227895642)==false)thencall DisplayTextToPlayer(p,0,0,"|CFF34FF00你必须携带门派毕业卷才能获得修习资格")elseif GetUnitAbilityLevel(u,Y7[kR[i]])<3 thencall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,15,"你的"+GetAbilityName(Y7[kR[i]])+"|r还没修炼到位")elseif(O8[i]==1)thencall DisplayTextToPlayer(p,0,0,"|CFF34FF00你已经修行过了")elseset j=1loopexitwhen j>cX[i]if(I7[(i-1)*20+j])!='AEfk' thenif j==cX[i]thencall DisplayTextToPlayer(p,0,0,"|CFF34FF00学习技能已达上限，请先遗忘部分技能")endifelseset O8[i]=1call RemoveItem(UU(u,1227895642))if HR[i]>20 thencall UnitAddAbility(u,P8[13])call UnitMakeAbilityPermanent(u,true,P8[13])call DisplayTextToPlayer(p,0,0,"|cff00FF66恭喜领悟技能："+GetObjectName(P8[13]))call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FF66玩家"+I2S(1+GetPlayerId(p))+"成为"+CI[kR[i]]+"长老")call SetPlayerName(p,"〓"+CI[kR[i]]+"长老〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[(((i-1)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]=P8[13]exitwhen trueendifset L7[i]=L7[i]+1endloopelsecall UnitAddAbility(u,Q8[13])call UnitMakeAbilityPermanent(u,true,Q8[13])call DisplayTextToPlayer(p,0,0,"|cff00FF66你还是先掌握"+GetObjectName(Q8[13])+"吧")call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cff00FF66玩家"+I2S(1+GetPlayerId(p))+"成为"+CI[kR[i]]+"长老")call SetPlayerName(p,"〓"+CI[kR[i]]+"长老〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[(((i-1)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]=Q8[13]exitwhen trueendifset L7[i]=L7[i]+1endloopendifexitwhen trueendifset j=j+1endloopendifendifendifendifset u=nullset p=nullendfunctionfunction ZS takes nothing returns booleanreturn Rd[1]endfunctionfunction d5 takes nothing returns nothingcall W6(1)endfunctionfunction f5 takes nothing returns booleanreturn Rd[2]endfunctionfunction g5 takes nothing returns nothingcall W6(2)endfunctionfunction i5 takes nothing returns booleanreturn Rd[3]endfunctionfunction j5 takes nothing returns nothingcall W6(3)endfunctionfunction m5 takes nothing returns booleanreturn Rd[4]endfunctionfunction xjv takes nothing returns nothingcall W6(4)endfunctionfunction p5 takes nothing returns booleanreturn Rd[5]endfunctionfunction q5 takes nothing returns nothingcall W6(5)endfunctionfunction s5 takes nothing returns nothingset wA[1]=1227896115set nd[1]=500set od[1]=6000set wA[2]=1227896116set nd[2]=500set od[2]=6000set wA[3]=1227896117set nd[3]=500set od[3]=6000set wA[4]=1227896118set nd[4]=1000set od[4]=$4E20set wA[5]=1227896119set nd[5]=1000set od[5]=$4E20set wA[6]=1227896120set nd[6]=1000set od[6]=$4E20set wA[7]=1227896121set nd[7]=7000set od[7]=$C350set wA[8]=1227896129set nd[8]=7000set od[8]=$C350set wA[9]=1227896130set nd[9]=7000set od[9]=$C350set wA[10]='I05C'set nd[10]=$4E20set od[10]=$186A0endfunctionfunction u5 takes nothing returns nothingcall DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|cfffff000古董商人收购价格发生变动了~")set pd[1]=GetRandomInt(nd[1],od[1])set pd[2]=GetRandomInt(nd[2],od[2])set pd[3]=GetRandomInt(nd[3],od[3])set pd[4]=GetRandomInt(nd[4],od[4])set pd[5]=GetRandomInt(nd[5],od[5])set pd[6]=GetRandomInt(nd[6],od[6])set pd[7]=GetRandomInt(nd[7],od[7])set pd[8]=GetRandomInt(nd[8],od[8])set pd[9]=GetRandomInt(nd[9],od[9])set pd[10]=GetRandomInt(nd[10],od[10])endfunctionfunction w5 takes nothing returns booleanreturn(GetItemTypeId(GetManipulatedItem())=='I050')endfunctionfunction x5 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1set i=1loopexitwhen i>10call SJ(wA[i],v7[9])if(sw(u,wA[i]))thencall DisplayTimedTextToPlayer(p,0,0,30,"|cff00ff00"+GetItemName(bj_lastCreatedItem)+"："+I2S(pd[i])+" ( "+I2S(nd[i])+" ， "+I2S(od[i])+" )")elsecall DisplayTimedTextToPlayer(p,0,0,30,GetItemName(bj_lastCreatedItem)+"："+I2S(pd[i])+" ( "+I2S(nd[i])+" ， "+I2S(od[i])+" )")endifcall RemoveItem(bj_lastCreatedItem)set i=i+1endloopset u=nullset p=nullendfunctionfunction z5 takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896113))endfunctionfunction A5 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1loopexitwhen i>10if(GetItemTypeId(UnitItemInSlotBJ(u,1))==wA[i])thenif Ce[1+GetPlayerId(p)]!=4 thencall DisplayTimedTextToPlayer(p,0,0,30,("|CFF00FF00卖出"+GetItemName(UnitItemInSlotBJ(u,1))+"，获得金钱+"+I2S(pd[i])))call AdjustPlayerStateBJ(pd[i],p,PLAYER_STATE_RESOURCE_GOLD)elsecall DisplayTimedTextToPlayer(p,0,0,30,("|CFF00FF00你是鉴定师，以最高价格卖出"+GetItemName(UnitItemInSlotBJ(u,1))+"，获得金钱+"+I2S(od[i])))call AdjustPlayerStateBJ(od[i],p,PLAYER_STATE_RESOURCE_GOLD)endifcall RemoveItem(UnitItemInSlotBJ(u,1))endifset i=i+1endloopset u=nullset p=nullendfunctionfunction B5 takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227896114))endfunctionfunction b5 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1local integer j=1set j=1loopexitwhen j>6set i=1loopexitwhen i>10if((GetItemTypeId(UnitItemInSlotBJ(u,j))==wA[i]))thenif Ce[1+GetPlayerId(p)]!=4 thencall DisplayTimedTextToPlayer(p,0,0,30,("|CFF00FF00卖出"+(GetItemName(UnitItemInSlotBJ(u,j))+("，获得金钱+"+I2S(pd[i])))))call AdjustPlayerStateBJ(pd[i],GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)elsecall DisplayTimedTextToPlayer(p,0,0,30,("|CFF00FF00你是鉴定师，以最高价格卖出"+(GetItemName(UnitItemInSlotBJ(u,j))+("，获得金钱+"+I2S(od[i])))))call AdjustPlayerStateBJ(od[i],GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)endifcall RemoveItem(UnitItemInSlotBJ(u,j))endifset i=i+1endloopset j=j+1endloopset u=nullset p=nullendfunctionfunction xJv takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I093'))or((GetItemTypeId(GetManipulatedItem())=='I094'))or((GetItemTypeId(GetManipulatedItem())=='I095'))or((GetItemTypeId(GetManipulatedItem())=='I096'))endfunctionfunction xkv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if GetItemTypeId(GetManipulatedItem())=='I093' thenif Ce[i]==4 thenif wX==0 thencall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00我自幼喜欢收集古董，如果你能收集一套D等级古董，我将送你一本秘籍")set wX=1elseif sw(u,'I053')and sw(u,'I054')and sw(u,'I055')thencall RemoveItem(UU(u,'I053'))call RemoveItem(UU(u,'I054'))call RemoveItem(UU(u,'I055'))call DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00谢谢你的古董，这本江湖秘籍送给你了")call YJ(vO[GetRandomInt(1,18)],u)set YI[i]=YI[i]+2if YI[i]<=20 and iA[i]==false and Ce[i]==4 thencall DisplayTextToPlayer(p,0,0,"|CFF66FF00您的鉴定师已经得了"+I2S(YI[i])+"分，得到20分可获得鉴定大师哦")endifset wX=0elsecall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00你还没有收集齐一套D古董哦")endifendifelsecall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00非鉴定师不能接此任务")endifelseif GetItemTypeId(GetManipulatedItem())=='I094' thenif Ce[i]==4 thenif UX==0 thencall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00我自幼喜欢收集古董，如果你能收集一套C等级古董，我将送你一本秘籍")set UX=1elseif sw(u,'I056')and sw(u,'I057')and sw(u,'I058')thencall RemoveItem(UU(u,'I056'))call RemoveItem(UU(u,'I057'))call RemoveItem(UU(u,'I058'))call DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00谢谢你的古董，这本绝学秘籍送给你了")call YJ(iO[GetRandomInt(1,10)],u)set YI[i]=YI[i]+4if YI[i]<=20 and iA[i]==false and Ce[i]==4 thencall DisplayTextToPlayer(p,0,0,"|CFF66FF00您的鉴定师已经得了"+I2S(YI[i])+"分，得到20分可获得鉴定大师哦")endifset UX=0elsecall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00你还没有收集齐一套C古董哦")endifendifelsecall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00非鉴定师不能接此任务")endifelseif GetItemTypeId(GetManipulatedItem())=='I095' thenif Ce[i]==4 thenif uX==0 thencall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00我自幼喜欢收集古董，如果你能收集一套B等级古董，我将送你一本秘籍")set uX=1elseif sw(u,'I059')and sw(u,'I05A')and sw(u,'I05B')thencall RemoveItem(UU(u,'I059'))call RemoveItem(UU(u,'I05A'))call RemoveItem(UU(u,'I05B'))call DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00谢谢你的古董，这本绝内秘籍送给你了")call YJ(nO[GetRandomInt(1,8)],u)set YI[i]=YI[i]+6if YI[i]<=20 and iA[i]==false and Ce[i]==4 thencall DisplayTextToPlayer(p,0,0,"|CFF66FF00您的鉴定师已经得了"+I2S(YI[i])+"分，得到20分可获得鉴定大师哦")endifset uX=0elsecall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00你还没有收集齐一套B古董哦")endifendifelsecall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00非鉴定师不能接此任务")endifelseif GetItemTypeId(GetManipulatedItem())=='I096' thenif Ce[i]==4 thenif TX==0 thencall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00我自幼喜欢收集古董，如果你能收集两个A等级古董，我将送你一本秘籍")set TX=1elseif sw(u,'I05C')thencall RemoveItem(UU(u,'I05C'))if sw(u,'I05C')thencall RemoveItem(UU(u,'I05C'))call DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00谢谢你的古董，这本残章送给你了")call YJ(XO[GetRandomInt(1,10)],u)set YI[i]=YI[i]+10if YI[i]<=20 and iA[i]==false and Ce[i]==4 thencall DisplayTextToPlayer(p,0,0,"|CFF66FF00您的鉴定师已经得了"+I2S(YI[i])+"分，得到20分可获得鉴定大师哦")endifset TX=0elsecall UnitAddItemById(u,'I05C')call DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00你还没有收集齐两个A古董哦")endifelsecall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00你还没有收集齐两个A古董哦")endifendifelsecall DisplayTimedTextToPlayer(p,0,0,15,"|CFF00FF00非鉴定师不能接此任务")endifendifif YI[i]>=20 and iA[i]==false and Ce[i]==4 thenset iA[i]=trueif DX[i]==true thenelsecall SaveStr(Jv,GetHandleId(p),GetHandleId(p),"〓鉴定大师〓"+LoadStr(Jv,GetHandleId(p),GetHandleId(p)))endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15,"|CFF66FF00恭喜"+GetPlayerName(p)+"获得鉴定大师")call SetPlayerName(p,"〓鉴定大师〓"+GetPlayerName(p))endifset u=nullset p=nullendfunctionfunction c5 takes nothing returns booleanreturn((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)endfunctionfunction D5 takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(GetItemType(UnitItemInSlotBJ(u,1))!=ITEM_TYPE_ARTIFACT and GetItemType(UnitItemInSlotBJ(u,2))!=ITEM_TYPE_ARTIFACT and GetItemType(UnitItemInSlotBJ(u,3))!=ITEM_TYPE_ARTIFACT and GetItemType(UnitItemInSlotBJ(u,4))!=ITEM_TYPE_ARTIFACT and GetItemType(UnitItemInSlotBJ(u,5))!=ITEM_TYPE_ARTIFACT and GetItemType(UnitItemInSlotBJ(u,6))!=ITEM_TYPE_ARTIFACT)thencall SetUnitPosition(u,-10510,-9660)call PanCameraToTimedForPlayer(p,-10510,-9660,0)elsecall DisplayTextToPlayer(p,0,0,"|CFF34FF00独孤求败：年轻人，你的杀气太重了，看来你我无缘啊")endifset u=nullset p=nullendfunctionfunction xKv takes unit u,integer vW,integer id,string s returns nothinglocal player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if(WA[i]>=vW)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000你已经完成这个修为了")elseif(WA[i]<vW-1)thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000你还需要完成上一层修为")elseif(((JI[i]<vW)or(sw(u,id)==false)))thencall DisplayTextToPlayer(p,0,0,"|cFFFF0000条件不足")elsecall RemoveItem(UU(u,id))set fA[i]=fA[i]+0.05set WA[i]=vWcall DisplayTextToPlayer(p,0,0,"|cFF00FF00修行成功，武学修为达到第"+s+"层，武功提升5%")endifset p=nullendfunctionfunction F5 takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896136))endfunctionfunction G5 takes nothing returns nothingcall xKv(GetTriggerUnit(),1,'I01L',"一")endfunctionfunction I5 takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896137))endfunctionfunction l5 takes nothing returns nothingcall xKv(GetTriggerUnit(),2,1227895094,"二")endfunctionfunction K5 takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())=='I05G'))endfunctionfunction L5 takes nothing returns nothingcall xKv(GetTriggerUnit(),3,1227895091,"三")endfunctionfunction N5 takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896134))endfunctionfunction O5 takes nothing returns nothingcall xKv(GetTriggerUnit(),4,'I02S',"四")endfunctionfunction Q5 takes nothing returns booleanreturn(((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896138))endfunctionfunction R5 takes nothing returns nothingcall xKv(GetTriggerUnit(),5,'I00P',"五")endfunctionfunction xlv takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)and(GetItemTypeId(GetManipulatedItem())==1227896914))endfunctionfunction xLv takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer id=GetHandleId(t)local integer cx=LoadInteger(Jv,id,-$3021938A)local unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)set cx=cx+3call SaveInteger(Jv,id,-$3021938A,cx)call SaveInteger(Jv,id,-$1317DA19,cx)call SaveInteger(Jv,id*cx,-$5E9EB4B3,i)call SaveUnitHandle(Jv,id*cx,-$2EC5CBA0,u)if(((IsUnitType((u),(UNIT_TYPE_HERO))!=null)==false))thencall AdjustPlayerStateBJ(5,p,PLAYER_STATE_RESOURCE_LUMBER)call DisplayTextToPlayer(Player(-1+i),0,0,"|cFFFF0000需要主角才能领悟")elseif((WA[i]<1))thencall AdjustPlayerStateBJ(5,p,PLAYER_STATE_RESOURCE_LUMBER)call DisplayTextToPlayer(Player(-1+i),0,0,"|cFFFF0000你的武功修为不足")elseif((yd[i]==1))thenset XR[i]=(XR[i]-xd[i])elseif((yd[i]==2))thenset cR[i]=(cR[i]-xd[i])elseif((yd[i]==3))thenset HR[i]=(HR[i]-xd[i])elseif((yd[i]==4))thenset JR[i]=(JR[i]-xd[i])elseif((yd[i]==5))thenset fR[i]=(fR[i]-xd[i])elseif((yd[i]==6))thenset bR[i]=(bR[i]-xd[i])endifif((WA[i]==1))thenset xd[i]=GetRandomInt(1,1)elseif((WA[i]==2))thenset xd[i]=GetRandomInt(1,2)elseif((WA[i]==3))thenset xd[i]=GetRandomInt(1,3)elseif((WA[i]==4))thenset xd[i]=GetRandomInt(1,4)elseif((WA[i]==5))thenset xd[i]=GetRandomInt(1,5)endifset yd[i]=0call DisplayTimedTextToPlayer(Player(-1+i),0,0,20.,("|cff00ff00恭喜领悟到第"+(I2S(xd[i])+"层剑意")))call DisplayTimedTextToPlayer(Player(-1+i),0,0,20.,"|cffffff00输入聊天信息“jy”可以把剑意转化为一种性格属性，但是每次转化需要消耗5个珍稀币")if((xd[i]==1))thencall DestroyEffect(vd[i])call AddSpecialEffectTargetUnitBJ("chest",u,"war3mapImported\\fairywing.MDX")set vd[i]=bj_lastCreatedEffectelseif((xd[i]==2))thencall DestroyEffect(vd[i])call AddSpecialEffectTargetUnitBJ("chest",u,"war3mapImported\\fenlie.MDX")set vd[i]=bj_lastCreatedEffectelseif((xd[i]==3))thencall DestroyEffect(vd[i])call AddSpecialEffectTargetUnitBJ("chest",u,"war3mapImported\\HeroByakuyaWing.MDX")set vd[i]=bj_lastCreatedEffectelseif((xd[i]==4))thencall DestroyEffect(vd[i])call AddSpecialEffectTargetUnitBJ("chest",u,"war3mapImported\\AWING.MDX")set vd[i]=bj_lastCreatedEffectelseif((xd[i]==5))thencall DestroyEffect(vd[i])call AddSpecialEffectTargetUnitBJ("chest",u,"war3mapImported\\FWIND.MDX")set vd[i]=bj_lastCreatedEffectendifendifendifcall FlushChildHashtable(Jv,id*cx)set t=nullset u=nullset p=nullendfunctionfunction xmv takes nothing returns booleanreturn((Ad[(1+GetPlayerId(GetTriggerPlayer()))]))endfunctionfunction xMv takes nothing returns nothinglocal player p=GetTriggerPlayer()local integer i=1+GetPlayerId(p)set Ad[i]=falseif((GetClickedButton()==B8[i]))thencall DialogClear(v8[i])elseif((yd[i]==1))thenset XR[i]=(XR[i]-xd[i])elseif((yd[i]==2))thenset cR[i]=(cR[i]-xd[i])elseif((yd[i]==3))thenset HR[i]=(HR[i]-xd[i])elseif((yd[i]==4))thenset JR[i]=(JR[i]-xd[i])elseif((yd[i]==5))thenset fR[i]=(fR[i]-xd[i])elseif((yd[i]==6))thenset bR[i]=(bR[i]-xd[i])endifif((GetClickedButton()==w8[i]))thenset cR[i]=(cR[i]+xd[i])set yd[i]=2elseif((GetClickedButton()==y8[i]))thenset XR[i]=(XR[i]+xd[i])set yd[i]=1elseif((GetClickedButton()==z8[i]))thenset fR[i]=(fR[i]+xd[i])set yd[i]=5elseif((GetClickedButton()==A8[i]))thenset HR[i]=(HR[i]+xd[i])set yd[i]=3elseif((GetClickedButton()==a8[i]))thenset JR[i]=(JR[i]+xd[i])set yd[i]=4elseif((GetClickedButton()==x8[i]))thenset bR[i]=(bR[i]+xd[i])set yd[i]=6endifcall AdjustPlayerStateBJ(-5,p,PLAYER_STATE_RESOURCE_LUMBER)call DisplayTextToPlayer(p,0,0,"|cFF99FFCC转化成功|r")call DialogClear(v8[i])endifset p=nullendfunctionfunction xpv takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I000'))endfunctionfunction xPv takes nothing returns nothingcall YJ('I05Y',GetTriggerUnit())call YJ('I05Y',GetTriggerUnit())endfunctionfunction xqv takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())=='I05Y'))endfunctionfunction xQv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if((Bd[i]))thencall DisplayTimedTextToPlayer(p,0,0,20.,"|cffff0000你已经使用过黄纸了，还是等等另外一个人的响应吧")call YJ('I05Y',GetTriggerUnit())elseset Bd[i]=trueset ad=ad+1set bd[ad]=ER[i]if((ModuloInteger(ad,2)==0))thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,("|cffff66ff恭喜"+(GetPlayerName(GetOwningPlayer(bd[(ad-1)]))+("和"+(GetPlayerName(GetOwningPlayer(bd[ad]))+"结拜为兄弟")))))elsecall DisplayTimedTextToPlayer(p,0,0,20.,"|cffff66ff使用成功，等待另外一位玩家与你结拜....")endifendifset u=nullset p=nullendfunctionfunction kT takes nothing returns booleanreturn(Bd[(1+GetPlayerId(GetTriggerPlayer()))])endfunctionfunction mT takes nothing returns nothinglocal integer i=1+GetPlayerId(GetTriggerPlayer())local integer j=1local real xlocal real yloopexitwhen j>6if(ER[i]==bd[j])thenif(ModuloInteger(j,2)==0)thenif(bd[j-1]!=null)thenset x=GetUnitX(bd[j-1])set y=GetUnitY(bd[j-1])call SetUnitPosition(ER[i],x,y)call PanCameraToTimedForPlayer(GetTriggerPlayer(),x,y,0)endifelseif(bd[j+1]!=null)thenset x=GetUnitX(bd[j+1])set y=GetUnitY(bd[j+1])call SetUnitPosition(ER[i],x,y)call PanCameraToTimedForPlayer(GetTriggerPlayer(),x,y,0)endifendifendifset j=j+1endloopendfunctionfunction oT takes nothing returns nothingset ve[1]=1328558411set xe[1]=400set ye[1]=20set ze[1]=600set ve[2]=1429221424set xe[2]=350set ye[2]=15set ze[2]=730set ve[3]=1160786002set xe[3]=260set ye[3]=12set ze[3]=540set ve[4]=1211117633set xe[4]=$FAset ye[4]=18set ze[4]=500set ve[5]=1328558412set xe[5]=310set ye[5]=16set ze[5]=750set ve[6]=1328558413set xe[6]=$DCset ye[6]=19set ze[6]=700set ve[7]=1328558414set xe[7]=340set ye[7]=17set ze[7]=640set ve[8]=1160786003set xe[8]=320set ye[8]=$Aset ze[8]=780set ve[9]=1160786004set xe[9]=$C8set ye[9]=12set ze[9]=550set ve[10]=1311780913set xe[10]=380set ye[10]=$Bset ze[10]=580set ve[11]=1328558415set xe[11]=280set ye[11]=$Eset ze[11]=800set Ae[1]=1227896898set Ae[2]=1227896665set Ae[3]=1227896666set Ae[4]=1227896880set Ae[5]=1227896881set Ae[6]=1227896882set Ae[7]=1227896883set Ae[8]=1227896884set Ae[9]=1227896885set Ae[10]=1227896886set Ae[11]=1227896887set Ae[12]=1227896888set Ae[13]=1227896889set Ae[14]=1227896897set Ae[15]=1227896911set Ae[16]=1227896899set Ae[17]=1227896900set Ae[18]=1227896901set Ae[19]=1227896902set Ae[20]=1227896903set Ae[21]=1227896904set Ae[22]=1227896905set Ae[23]=1227896906set Ae[24]=1227896907set Ae[25]=1227896908set Ae[26]=1227896909set Ae[27]=1227896910set Ae[28]=1227896912set RN[1]='I07F'set RN[2]='I07G'set RN[3]='I07E'set RN[4]='I076'set RN[5]='I077'set RN[6]='I078'set RN[7]='I079'set RN[8]='I07B'set RN[9]='I07A'set RN[10]='I07C'set RN[11]='I07D'set RN[12]='I07H'set cN[1]='I022'set cN[2]='I01T'set cN[3]='I01H'set cN[4]='I01G'set cN[5]='I017'set cN[6]='I014'set cN[7]='I01O'set cN[8]='I04E'set cN[9]='I09Z'set cN[10]='I00O'set cN[11]='I00F'set cN[12]='I00G'set cN[13]='I0AL'set cN[14]='I090'set BN[1]='I023'set BN[2]='I024'set BN[3]='I01U'set BN[4]='I01V'set BN[5]='I01W'set BN[6]='I01X'set BN[7]='I01Y'set BN[8]='I01Z'set BN[9]='I01I'set BN[10]='I01J'set BN[11]='I01K'set BN[12]='I015'set BN[13]='I018'set BN[14]='I019'set BN[15]='I01A'set BN[16]='I01B'set BN[17]='I01C'set BN[18]='I01D'set BN[19]='I01M'set BN[20]='I011'set BN[21]='I012'set BN[22]='I01Q'set BN[23]='I01R'set BN[24]='I01O'set BN[25]='I01P'set BN[26]='I00Y'set BN[27]='I00Z'set BN[28]='I00R'set BN[29]='I00S'set BN[30]='I00T'set BN[31]='I00U'set BN[32]='I00V'set BN[33]='I00W'set BN[34]='I00H'set BN[35]='I00I'set BN[36]='I00J'set BN[37]='I00K'set BN[38]='I00L'set BN[39]='I00M'set BN[40]='I00N'set BN[41]='I08W'set BN[42]='I08X'set BN[43]='I08Y'set BN[44]='I08Z'endfunctionfunction qT takes nothing returns booleanreturn(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and(GetItemTypeId(GetManipulatedItem())=='I0BO' or GetItemTypeId(GetManipulatedItem())=='I07S'))endfunctionfunction rT takes nothing returns nothingif GetItemTypeId(GetManipulatedItem())=='I07S' thenset ue=5call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cff00ffff有玩家开始预约名门挑战，本波进攻怪物将会增加名门高手，大家要小心应付了！")endifif GetItemTypeId(GetManipulatedItem())=='I0BO' thenset ue=0call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|cff00ffff有玩家取消了预约名门挑战，下波进攻怪物将不会增加名门高手，大家要小心应付了！")endifendfunctionfunction cT takes nothing returns booleanreturn((GetUnitTypeId(GetTriggerUnit())=='hmtt'))endfunctionfunction DT takes nothing returns nothingcall ModifyGateBJ(1,Gt)call FL(((.18-(.01*I2R(O4)))*2000.))call ModifyGateBJ(0,Gt)endfunctionfunction FT takes nothing returns booleanreturn((GetUnitAbilityLevel(GetTriggerUnit(),1093681749)!=0))endfunctionfunction GT takes nothing returns booleanlocal integer id=GetHandleId(GetTriggeringTrigger())return(((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),$59BEA0CB))))and(IsUnitAliveBJ(GetFilterUnit()))))endfunctionfunction HT takes nothing returns nothinglocal integer id=GetHandleId(GetTriggeringTrigger())call SaveUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$270B8163,GetEnumUnit())call SetWidgetLife(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$270B8163),(GetUnitState(LoadUnitHandle(Jv,id*LoadInteger(Jv,id,-$1317DA19),-$270B8163),UNIT_STATE_LIFE)-(200.*I2R(GetUnitLevel(GetEnumUnit())))))endfunctionfunction IT takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)call AddSpecialEffectLocBJ(vJ,"war3mapImported\\ChaosExplosion.mdl")call DestroyEffect(bj_lastCreatedEffect)call ForGroupBJ(pl(300.,vJ,Condition(function GT)),function HT)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction JT takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),1093681753)!=0)and(GetRandomInt(1,70)<=5))endfunctionfunction KT takes nothing returns nothinglocal unit u=GetAttacker()local location vJ=GetUnitLoc(u)call CreateNUnitsAtLoc(1,1697656919,GetOwningPlayer(u),vJ,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093681754)call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D7)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',15.)call ShowUnitHide(bj_lastCreatedUnit)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction MT takes nothing returns booleanreturn((GetUnitAbilityLevel(GetAttacker(),'A0C0')!=0)and(GetRandomInt(1,70)<=5))endfunctionfunction NT takes nothing returns nothinglocal unit u=GetAttacker()local location vJ=GetUnitLoc(u)call CreateNUnitsAtLoc(1,1697656918,GetOwningPlayer(u),vJ,bj_UNIT_FACING)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',15.)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction xsv takes nothing returns nothinglocal trigger tlocal real xUlocal integer itemIDlocal integer ilocal integer culocal integer Dulocal version vlocal integer wucall U5()call ConfigureNeutralVictim()set ju=Filter(function bu)set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)set filterEnumDestructablesInCircleBJ=Filter(function tu)set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)set i=1loopexitwhen i>=50set BA[i]=20set i=i+1endloopset BA[2]=25set BA[3]=25set BA[4]=25set BA[5]=25set BA[6]=33set BA[7]=33set BA[8]=34set BA[9]=25set BA[10]=25set BA[11]=25set BA[12]=25set BA[13]=33set BA[14]=33set BA[15]=34set BA[16]=50set BA[17]=50set BA[18]=50set BA[19]=50set BA[20]=50set BA[21]=50set BA[22]=33set BA[23]=33set BA[24]=34set vO[1]='I03J'set vO[2]='I03H'set vO[3]='I02V'set vO[4]='I02U'set vO[5]='I03G'set vO[6]='I02Z'set vO[7]='I03I'set vO[8]='I02X'set vO[9]='I02Y'set vO[10]='I03K'set vO[11]='I03D'set vO[12]='I03L'set vO[13]='I030'set vO[14]='I031'set vO[15]='I03E'set vO[16]='I033'set vO[17]='I02W'set vO[18]='I03F'set iO[1]='I039'set iO[2]='I034'set iO[3]='I038'set iO[4]='I037'set iO[5]='I03B'set iO[6]='I032'set iO[7]='I035'set iO[8]='I036'set iO[9]='I03C'set iO[10]='I03A'set nO[1]='I03S'set nO[2]='I03O'set nO[3]='I03T'set nO[4]='I03Q'set nO[5]='I03M'set nO[6]='I03P'set nO[7]='I03U'set nO[8]='I03R'set XO[1]='I065'set XO[2]='I061'set XO[3]='I066'set XO[4]='I064'set XO[5]='I067'set XO[6]='I062'set XO[7]='I069'set XO[8]='I060'set XO[9]='I068'set XO[10]='I063'set RO[1]='I09E'set RO[2]='I09F'set RO[3]='I09G'set RO[4]='I09H'set RO[5]='I09I'set RO[6]='I09J'set RO[7]='I09K'set RO[8]='I09L'set RO[9]='I09M'set RO[10]='I09N'set rb[1]='odoc'set rb[2]='orai'set rb[3]='hsor'set rb[4]='nbdw'set rb[5]='ndrw'set rb[6]='ndqs'set rb[7]='nsqo'set rb[8]='nhrr'set rb[9]='nomg'set rb[10]='nubw'set rb[11]='nrzb'set rb[12]='nfpu'set rb[13]='ngh2'set rb[14]='nfsp'set rb[15]='nmgd'set rb[16]='uktn'set rb[17]='nsrh'set rb[18]='hspt'set rb[19]='n00D'set rb[20]='Hmkg'set rb[21]='nfpc'call AW()set i=1loopexitwhen i>=6set dO[i]=10set hO[i]=0set jO[i]=0set KO[i]=0set MO[i]=0set PO[i]=0set IO[i]=0set BO[i]=0set cO[i]=0set i=i+1endloopset cu=0loopexitwhen cu==16set bj_FORCE_PLAYER[cu]=CreateForce()call ForceAddPlayer(bj_FORCE_PLAYER[cu],Player(cu))set cu=cu+1endloopset bj_FORCE_ALL_PLAYERS=CreateForce()call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)set bj_cineModePriorSpeed=GetGameSpeed()set bj_cineModePriorFogSetting=IsFogEnabled()set bj_cineModePriorMaskSetting=IsFogMaskEnabled()set cu=0loopexitwhen cu>=bj_MAX_QUEUED_TRIGGERSset bj_queuedExecTriggers[cu]=nullset bj_queuedExecUseConds[cu]=falseset cu=cu+1endloopset bj_isSinglePlayer=falseset Du=0set cu=0loopexitwhen cu>=12if(GetPlayerController(Player(cu))==MAP_CONTROL_USER and GetPlayerSlotState(Player(cu))==PLAYER_SLOT_STATE_PLAYING)thenset Du=Du+1endifset cu=cu+1endloopset bj_isSinglePlayer=(Du==1)set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,$2710,$2710)set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,$2710,$2710)set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,$2710,$2710)set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,$2710,$2710)set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,$2710,$2710)set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,$2710,$2710)set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,$2710,$2710)set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,$2710,$2710)set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,$2710,$2710)set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,$2710,$2710)set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,$2710,$2710)call DelayedSuspendDecayCreate()set v=VersionGet()if(v==VERSION_REIGN_OF_CHAOS)thenset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0elseset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1endifcall InitQueuedTriggers()call Vw()call InitDNCSounds()call InitMapRects()call InitSummonableCaps()set wu=0loopset bj_stockAllowedPermanent[wu]=falseset bj_stockAllowedCharged[wu]=falseset bj_stockAllowedArtifact[wu]=falseset wu=wu+1exitwhen wu>$Aendloopcall SetAllItemTypeSlots($B)call SetAllUnitTypeSlots($B)set bj_stockUpdateTimer=CreateTimer()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function au)set bj_stockItemPurchased=CreateTrigger()call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player(15),EVENT_PLAYER_UNIT_SELL_ITEM,null)call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)call DetectGameStarted()call ExecuteFunc("Hu")call ExecuteFunc("uU")call ExecuteFunc("mv")call ExecuteFunc("Pw")set i=0set i=0loopexitwhen(i>16)set YI[i]=0set iA[i]=falseset vA[i]=0set aA[i]=falseset eA[i]=0set nA[i]=falseset xA[i]=0set OA[i]=falseset oA[i]=0set IA[i]=falseset rA[i]=0set AA[i]=falseset bA[i]=falseset qO[i]=1set QO[i]=1.5set tO[i]=.03set uO[i]=100.set UO[i]=200.set wO[i]=0set zO[i]=0set xR[i]=1.set rR[i]=falseset aR[i]=falseset VR[i]=falseset R4[i]=DialogCreate()set Y4[i]=1set WX[i]=0set yX[i]=0set YX[i]=0set zX[i]=0set ZX[i]=0set fX[i]=falseset DX[i]=falseset CX[i]=0set cX[i]=8set dX[i]=0set QV[i]=""set sV[i]="B"set SV[i]="BB"set tV[i]="BBB"set TV[i]="BBBB"set uV[i]="BBBBB"set XR[i]=9set bR[i]=9set cR[i]=9set fR[i]=9set HR[i]=9set JR[i]=9set kR[i]=0set D7[i]=0set F7[i]=0set G7[i]=0set K7[i]=DialogCreate()set L7[i]=0set O7[i]=0set P7[i]=0set OI[i]=CreateTimer()set S7[i]=0set NI[i]=0set d8[i]=0set e8[i]=0set dI[i]=0set g8[i]=0set h8[i]=0set i8[i]=0set j8[i]=0set o8[i]=falseset v8[i]=DialogCreate()set b8[i]=falseset C8[i]=falseset c8[i]=falseset D8[i]=DialogCreate()set F8[i]=falseset jI[i]=falseset G8[i]=falseset H8[i]=falseset I8[i]=falseset l8[i]=falseset J8[i]=0set JI[i]=0set KI[i]=0set N8[i]=0set O8[i]=0set Z8[i]=falseset d9[i]=falseset e9[i]=falseset f9[i]=CreateTimer()set h9[i]=falseset i9[i]=0set v9[i]=falseset w9[i]=falseset x9[i]=falseset y9[i]=falseset z9[i]=0set A9[i]=0set G9[i]=0set H9[i]=0set I9[i]=0set l9[i]=0set fA[i]=.0set FA[i]=0set T9[i]=falseset qA[i]=0set QA[i]=0set sA[i]=0set SA[i]=0set tA[i]=0set uA[i]=0set UA[i]=0set Z9[i]=CreateTimer()set ed[i]=falseset fd[i]=CreateTimer()set jd[i]=0set kd[i]=0set qd[i]=0set rd[i]=0set ud[i]=0set WA[i]=0set xd[i]=0set yd[i]=0set Ad[i]=falseset Bd[i]=falseset Cd[i]=0set cd[i]=falseset Dd[i]=0set Ed[i]=0set Fd[i]=CreateGroup()set Gd[i]=0set Id[i]=0set ld[i]=0set Jd[i]=0set Kd[i]=0set Ld[i]=0set Md[i]=0set Nd[i]=0set Od[i]=0set Pd[i]=0set Qd[i]=0set Rd[i]=falseset Sd[i]=0set Td[i]=0set Ud[i]=0set Vd[i]=0set Wd[i]=0set yA[i]=0set YA[i]=0set ge[i]=falseset he[i]=falseset je[i]=DialogCreate()set te[i]=0set Ce[i]=0set ce[i]=0set De[i]=falseset Ee[i]=falseset i=i+1endloopset KX=DialogCreate()set pX=DialogCreate()set i7=CreateGroup()set FO=CreateGroup()set SR=1set w7=CreateGroup()set i=0loopexitwhen(i>5)set A7[i]=CreateTimer()set i=i+1endloopset uR=trueset i=0loopexitwhen(i>100)set I7[i]='AEfk'set i=i+1endloopset i=0loopexitwhen(i>20)set CI[i]="未加入"set X7[i]='AEfk'set Y7[i]='AEfk'set Z7[i]='AEfk'set P8[i]='AEfk'set Q8[i]='AEfk'set nd[i]=0set od[i]=0set i=i+1endloopset pd[1]=2000set pd[2]=2000set pd[3]=2000set pd[4]=5000set pd[5]=5000set pd[6]=5000set pd[7]=15000set pd[8]=15000set pd[9]=15000set pd[10]=500000set i=0loopexitwhen(i>$A)set m8[i]=falseset q8[i]='crys'set HI[i]=0set i=i+1endloopset i=0loopexitwhen(i>$D)set LI[i]=0set MI[i]=0set PI[i]=0set SI[i]=0set tI[i]=0set wI[i]=0set i=i+1endloopset j9=CreateGroup()set k9=CreateGroup()set r9=CreateGroup()set s9=CreateGroup()set i=0loopexitwhen(i>20)set hA[i]=0set jA[i]=0set JA[i]=0set LA[i]=0set pA[i]=0set i=i+1endloopset i=0loopexitwhen(i>7)set Hd[i]=CreateTimer()set i=i+1endloopset i=0loopexitwhen(i>15)set xe[i]=0set ye[i]=0set ze[i]=0set i=i+1endloopset Fe=CreateGroup()set lh=CreateTrigger()call TriggerRegisterTimerEventSingle(lh,.1)call TriggerAddAction(lh,function Zw)set Jh=CreateTrigger()call TriggerRegisterPlayerSelectionEventBJ(Jh,Player(0),true)call TriggerRegisterPlayerSelectionEventBJ(Jh,Player(1),true)call TriggerRegisterPlayerSelectionEventBJ(Jh,Player(2),true)call TriggerRegisterPlayerSelectionEventBJ(Jh,Player(3),true)call TriggerRegisterPlayerSelectionEventBJ(Jh,Player(4),true)call TriggerAddCondition(Jh,Condition(function fx))call TriggerAddAction(Jh,function vvv)set Lh=CreateTrigger()call TriggerRegisterPlayerSelectionEventBJ(Lh,Player(0),true)call TriggerRegisterPlayerSelectionEventBJ(Lh,Player(1),true)call TriggerRegisterPlayerSelectionEventBJ(Lh,Player(2),true)call TriggerRegisterPlayerSelectionEventBJ(Lh,Player(3),true)call TriggerRegisterPlayerSelectionEventBJ(Lh,Player(4),true)call TriggerAddCondition(Lh,Condition(function kx))call TriggerAddAction(Lh,function vxv)set Lh=CreateTrigger()call TriggerRegisterPlayerSelectionEventBJ(Lh,Player(0),true)call TriggerRegisterPlayerSelectionEventBJ(Lh,Player(1),true)call TriggerRegisterPlayerSelectionEventBJ(Lh,Player(2),true)call TriggerRegisterPlayerSelectionEventBJ(Lh,Player(3),true)call TriggerRegisterPlayerSelectionEventBJ(Lh,Player(4),true)call TriggerAddAction(Lh,function vev)set Mh=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Mh,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Mh,Condition(function ox))call TriggerAddAction(Mh,function vnv)call k5()call t3()set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function G2))call TriggerAddAction(t,function H2)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function L8))call TriggerAddAction(t,function T8)set t=CreateTrigger()call TriggerRegisterUnitEvent(t,PV,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function u8))call TriggerAddAction(t,function U8)set Mh=CreateTrigger()call zL(Mh,gN)call TriggerAddCondition(Mh,Condition(function vov))call TriggerAddAction(Mh,function vrv)set t=CreateTrigger()call zL(t,jN)call TriggerAddCondition(t,Condition(function viv))call TriggerAddAction(t,function vav)set Nh=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Nh,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)call TriggerAddCondition(Nh,Condition(function rx))call TriggerAddAction(Nh,function sx)set Oh=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Oh,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Oh,Condition(function vVv))call TriggerAddAction(Oh,function vEv)set Ph=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ph,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(Ph,Condition(function xx))call TriggerAddAction(Ph,function yx)set Qh=CreateTrigger()call TriggerRegisterTimerEventSingle(Qh,.0)call TriggerAddAction(Qh,function Ax)set Rh=CreateTrigger()call TriggerRegisterPlayerEventEndCinematic(Rh,Player(0))call TriggerRegisterPlayerEventEndCinematic(Rh,Player(1))call TriggerRegisterPlayerEventEndCinematic(Rh,Player(2))call TriggerRegisterPlayerEventEndCinematic(Rh,Player(3))call TriggerRegisterPlayerEventEndCinematic(Rh,Player(4))call TriggerAddAction(Rh,function vXv)set Sh=CreateTrigger()call TriggerRegisterPlayerChatEvent(Sh,Player(0),"up",false)call TriggerAddCondition(Sh,Condition(function vOv))call TriggerAddAction(Sh,function vRv)set Th=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Th,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Th,Condition(function Ex))call TriggerAddAction(Th,function vNv)set Uh=CreateTrigger()call TriggerRegisterTimerExpireEvent(Uh,OI[1])call TriggerAddAction(Uh,function vbv)set Vh=CreateTrigger()call TriggerRegisterTimerExpireEvent(Vh,OI[2])call TriggerAddAction(Vh,function vBv)set Wh=CreateTrigger()call TriggerRegisterTimerExpireEvent(Wh,OI[3])call TriggerAddAction(Wh,function vcv)set Xh=CreateTrigger()call TriggerRegisterTimerExpireEvent(Xh,OI[4])call TriggerAddAction(Xh,function vCv)set Yh=CreateTrigger()call TriggerRegisterTimerExpireEvent(Yh,OI[5])call TriggerAddAction(Yh,function vdv)set Zh=CreateTrigger()call TriggerRegisterTimerEventSingle(Zh,5)call TriggerAddAction(Zh,function Qx)set ei=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ei,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(ei,Condition(function Ux))call TriggerAddAction(ei,function Vx)set fi=CreateTrigger()call TriggerRegisterPlayerEventLeave(fi,Player(0))call TriggerRegisterPlayerEventLeave(fi,Player(1))call TriggerRegisterPlayerEventLeave(fi,Player(2))call TriggerRegisterPlayerEventLeave(fi,Player(3))call TriggerRegisterPlayerEventLeave(fi,Player(4))call TriggerAddAction(fi,function vDv)set gi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gi,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(gi,Condition(function ey))call TriggerAddAction(gi,function vfv)set hi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hi,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(hi,Condition(function hy))call TriggerAddAction(hi,function vgv)set ii=CreateTrigger()call TriggerRegisterUnitEvent(ii,LN,EVENT_UNIT_DEATH)call TriggerAddAction(ii,function vGv)set ji=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ji,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(ji,Condition(function vhv))call TriggerAddAction(ji,function vHv)set ki=CreateTrigger()call TriggerRegisterTimerEventSingle(ki,10.)call TriggerAddAction(ki,function vLv)set mi=CreateTrigger()call TriggerRegisterTimerEventPeriodic(mi,4.)call TriggerAddAction(mi,function vmv)set ni=CreateTrigger()call Ov(ni)call TriggerAddCondition(ni,Condition(function wy))call TriggerAddAction(ni,function vMv)set oi=CreateTrigger()call TriggerRegisterPlayerChatEvent(oi,Player(0),"sw",true)call TriggerAddCondition(oi,Condition(function vpv))call TriggerAddAction(oi,function vPv)set pi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pi,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(pi,Condition(function vqv))call TriggerAddAction(pi,function vQv)set ri=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ri,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(ri,Condition(function vsv))call TriggerAddAction(ri,function vSv)set si=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(si,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(si,Condition(function vuv))call TriggerAddAction(si,function vUv)set si=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(si,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(si,Condition(function vyv))call TriggerAddAction(si,function vYv)set si=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(si,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(si,Condition(function vzv))call TriggerAddAction(si,function vZv)set zi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zi,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(zi,Condition(function Zy))call TriggerAddAction(zi,function dz)set Ai=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ai,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Ai,Condition(function fz))call TriggerAddAction(Ai,function gz)set ai=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ai,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(ai,Condition(function iz))call TriggerAddAction(ai,function jz)set Bi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bi,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Bi,Condition(function mz))call TriggerAddAction(Bi,function nz)set bi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bi,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(bi,Condition(function pz))call TriggerAddAction(bi,function qz)set li=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(li,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(li,Condition(function Mz))call TriggerAddAction(li,function v8v)set Ji=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ji,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Ji,Condition(function Pz))call TriggerAddAction(Ji,function Qz)set Ki=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ki,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(Ki,Condition(function Sz))call TriggerAddAction(Ki,function Tz)set Li=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Li,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Li,Condition(function Vz))call TriggerAddAction(Li,function Wz)set Pi=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Pi,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Pi,Condition(function kA))call TriggerAddAction(Pi,function mA)set Vi=CreateTrigger()call TriggerRegisterTimerEventSingle(Vi,2.)call TriggerAddAction(Vi,function cA)set Wi=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(Wi,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerRegisterPlayerUnitEventSimple(Wi,Player(15),EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(Wi,function EA)set Xi=CreateTrigger()call TriggerAddCondition(Xi,Condition(function GA))call TriggerAddAction(Xi,function HA)set Yi=CreateTrigger()call DisableTrigger(Yi)call TriggerRegisterTimerEventPeriodic(Yi,3.)call TriggerAddAction(Yi,function lA)set Zi=CreateTrigger()call DisableTrigger(Zi)call TriggerRegisterTimerEventPeriodic(Zi,2.)call TriggerAddAction(Zi,function KA)set dj=CreateTrigger()call TriggerAddCondition(dj,Condition(function MA))call TriggerAddAction(dj,function NA)set ej=CreateTrigger()call TriggerRegisterTimerExpireEvent(ej,A7[1])call TriggerAddAction(ej,function PA)set fj=CreateTrigger()call TriggerRegisterTimerExpireEvent(fj,A7[2])call TriggerAddAction(fj,function RA)set gj=CreateTrigger()call TriggerRegisterTimerExpireEvent(gj,A7[3])call TriggerAddAction(gj,function TA)set hj=CreateTrigger()call TriggerAddAction(hj,function VA)set ij=CreateTrigger()call TriggerAddAction(ij,function XA)set jj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jj,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(jj,Condition(function ZA))call TriggerAddAction(jj,function ea)set kj=CreateTrigger()call TriggerRegisterTimerEventPeriodic(kj,5.)call TriggerAddAction(kj,function ha)set mj=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(mj,Player(6),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(mj,Condition(function ja))call TriggerAddAction(mj,function ka)set nj=CreateTrigger()call TriggerRegisterTimerEventPeriodic(nj,6.)call TriggerAddAction(nj,function qa)set oj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(oj,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(oj,Condition(function sa))call TriggerAddAction(oj,function ua)set pj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pj,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(pj,Condition(function wa))call TriggerAddAction(pj,function xa)set qj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qj,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(qj,Condition(function za))call TriggerAddAction(qj,function Aa)set rj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(rj,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(rj,Condition(function Ba))call TriggerAddAction(rj,function ba)set sj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sj,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(sj,Condition(function ca))call TriggerAddAction(sj,function Da)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function t7))call TriggerAddAction(t,function n8)set tj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tj,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(tj,Condition(function eVv))call TriggerAddAction(tj,function eEv)set uj=CreateTrigger()call TriggerRegisterTimerEventSingle(uj,.15)call TriggerAddAction(uj,function eXv)set vj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vj,EVENT_PLAYER_HERO_LEVEL)call TriggerAddCondition(vj,Condition(function Ja))call TriggerAddAction(vj,function eOv)set wj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wj,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(wj,Condition(function Ma))call TriggerAddAction(wj,function eRv)set xj=CreateTrigger()call TriggerRegisterTimerEventPeriodic(xj,1.)call TriggerAddAction(xj,function eIv)set yj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yj,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(yj,Condition(function Ra))call TriggerAddAction(yj,function Sa)set zj=CreateTrigger()call Ov(zj)call TriggerAddCondition(zj,Condition(function Ua))call TriggerAddAction(zj,function Va)set Aj=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(Aj,Player(6),EVENT_PLAYER_UNIT_DEATH)call TriggerRegisterPlayerUnitEventSimple(Aj,Player(7),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Aj,Condition(function Xa))call TriggerAddAction(Aj,function Ya)set aj=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(aj,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(aj,Condition(function dB))call TriggerAddAction(aj,function eB)set Bj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bj,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Bj,Condition(function eAv))call TriggerAddAction(Bj,function eNv)set t=CreateTrigger()call IQ(t)call TriggerAddAction(t,function euv)set bj=CreateTrigger()call TriggerRegisterDialogEvent(bj,K7[1])call TriggerRegisterDialogEvent(bj,K7[2])call TriggerRegisterDialogEvent(bj,K7[3])call TriggerRegisterDialogEvent(bj,K7[4])call TriggerRegisterDialogEvent(bj,K7[5])call TriggerAddAction(bj,function jB)set Cj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Cj,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Cj,Condition(function mB))call TriggerAddAction(Cj,function nB)set cj=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cj,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(cj,Condition(function eHv))call TriggerAddAction(cj,function ejv)set fk=CreateTrigger()call TriggerRegisterTimerEventSingle(fk,0.1)call TriggerAddAction(fk,function emv)set pk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(pk,Condition(function uC))call TriggerAddAction(pk,function vC)set qk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(qk,Condition(function xC))call TriggerAddAction(qk,function yC)set rk=CreateTrigger()call TriggerRegisterTimerEventPeriodic(rk,1.)call TriggerAddAction(rk,function BC)set sk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sk,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(sk,Condition(function CC))call TriggerAddAction(sk,function cC)set tk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tk,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(tk,Condition(function EC))call TriggerAddAction(tk,function FC)set uk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(uk,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(uk,Condition(function HC))call TriggerAddAction(uk,function IC)set vk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vk,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(vk,Condition(function JC))call TriggerAddAction(vk,function KC)set wk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wk,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(wk,Condition(function MC))call TriggerAddAction(wk,function NC)set xk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xk,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(xk,Condition(function PC))call TriggerAddAction(xk,function QC)set yk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yk,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(yk,Condition(function SC))call TriggerAddAction(yk,function TC)set zk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zk,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(zk,Condition(function VC))call TriggerAddAction(zk,function WC)set Ak=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ak,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Ak,Condition(function YC))call TriggerAddAction(Ak,function ZC)set ak=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ak,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(ak,Condition(function ec))call TriggerAddAction(ak,function gc)set ak=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ak,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(ak,Condition(function eqv))call TriggerAddAction(ak,function eQv)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bk,Condition(function uz))call TriggerAddAction(Bk,function yz)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bk,Condition(function o1))call TriggerAddAction(Bk,function N1)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bk,Condition(function tZ))call TriggerAddAction(Bk,function wZ)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bk,Condition(function WZ))call TriggerAddAction(Bk,function I0)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bk,Condition(function N0))call TriggerAddAction(Bk,function t0)call e1()set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bk,Condition(function eZ))call TriggerAddAction(Bk,function rZ)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bk,Condition(function NZ))call TriggerAddAction(Bk,function CZ)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bk,Condition(function MZ))call TriggerAddAction(Bk,function pZ)set Bk=CreateTrigger()call tL(Bk)call TriggerAddCondition(Bk,Condition(function LW))call TriggerAddAction(Bk,function mW)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bk,Condition(function LZ))call TriggerAddAction(Bk,function mZ)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bk,Condition(function M1))call TriggerAddAction(Bk,function Q1)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function eUv))call TriggerAddAction(t,function eWv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T1))call TriggerAddAction(t,function e2)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function eyv))call TriggerAddAction(t,function eYv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function iZ))call TriggerAddAction(t,function AZ)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DZ))call TriggerAddAction(t,function lZ)set t=CreateTrigger()call TriggerRegisterDialogEvent(t,KX)call TriggerAddAction(t,function Q7)set t=CreateTrigger()call TriggerRegisterDialogEvent(t,vb)call TriggerAddAction(t,function esv)set t=CreateTrigger()call TriggerRegisterDialogEvent(t,pX)call TriggerAddAction(t,function vAv)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function g7))call TriggerAddAction(t,function h7)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function j7))call TriggerAddAction(t,function M7)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Bk,Condition(function F1))call TriggerAddAction(Bk,function K1)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Bk,Condition(function PZ))call TriggerAddAction(Bk,function SZ)set Bk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bk,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Bk,Condition(function o2))call TriggerAddAction(Bk,function O2)set t=CreateTrigger()call TriggerRegisterUnitEvent(t,LN,EVENT_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function vjv))call TriggerAddAction(t,function vkv)set t=CreateTrigger()call TriggerRegisterTimerEventPeriodic(t,1000.00)call TriggerAddAction(t,function vlv)set bk=CreateTrigger()call Ov(bk)call TriggerAddCondition(bk,Condition(function qc))call TriggerAddAction(bk,function vZ)set Ck=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ck,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ck,Condition(function wc))call TriggerAddAction(Ck,function xc)set ck=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ck,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ck,Condition(function zc))call TriggerAddAction(ck,function Bc)set Dk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dk,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Dk,Condition(function Cc))call TriggerAddAction(Dk,function cc)set Ek=CreateTrigger()call Ov(Ek)call TriggerAddCondition(Ek,Condition(function Ec))call TriggerAddAction(Ek,function Hc)set Fk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Fk,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Fk,Condition(function lc))call TriggerAddAction(Fk,function Jc)set Gk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Gk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Gk,Condition(function Lc))call TriggerAddAction(Gk,function Mc)set Hk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Hk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Hk,Condition(function Oc))call TriggerAddAction(Hk,function Pc)set Ik=CreateTrigger()call Ov(Ik)call TriggerAddCondition(Ik,Condition(function Rc))call TriggerAddAction(Ik,function Sc)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function R2))call TriggerAddAction(t,function I2)set Jk=CreateTrigger()call Ov(Jk)call TriggerAddCondition(Jk,Condition(function Xc))call TriggerAddAction(Jk,function Yc)set Kk=CreateTrigger()call Ov(Kk)call TriggerAddCondition(Kk,Condition(function dD))call TriggerAddAction(Kk,function eD)set Lk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Lk,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Lk,Condition(function gD))call TriggerAddAction(Lk,function jD)set Mk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Mk,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Mk,Condition(function mD))call TriggerAddAction(Mk,function oD)set t=CreateTrigger()call Ov(t)call TriggerAddCondition(t,Condition(function A2))call TriggerAddAction(t,function N2)set Nk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Nk,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Nk,Condition(function qD))call TriggerAddAction(Nk,function rD)set Ok=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ok,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Ok,Condition(function tD))call TriggerAddAction(Ok,function wD)set Pk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Pk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Pk,Condition(function yD))call TriggerAddAction(Pk,function zD)set Qk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Qk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Qk,Condition(function aD))call TriggerAddAction(Qk,function BD)set Rk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Rk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Rk,Condition(function CD))call TriggerAddAction(Rk,function cD)set Sk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Sk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Sk,Condition(function ED))call TriggerAddAction(Sk,function FD)set Tk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Tk,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Tk,Condition(function HD))call TriggerAddAction(Tk,function ID)set Uk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Uk,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Uk,Condition(function JD))call TriggerAddAction(Uk,function KD)set Vk=CreateTrigger()call Ov(Vk)call TriggerAddCondition(Vk,Condition(function MD))call TriggerAddAction(Vk,function ND)set Wk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Wk,Condition(function PD))call TriggerAddAction(Wk,function QD)set Xk=CreateTrigger()call Ov(Xk)call TriggerAddCondition(Xk,Condition(function SD))call TriggerAddAction(Xk,function TD)set Yk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Yk,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Yk,Condition(function VD))call TriggerAddAction(Yk,function WD)set Zk=CreateTrigger()call Ov(Zk)call TriggerAddCondition(Zk,Condition(function YD))call TriggerAddAction(Zk,function ZD)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function B2))call TriggerAddAction(t,function g2)set im=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(im,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(im,Condition(function BE))call TriggerAddAction(im,function cE)set jm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jm,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(jm,Condition(function EE))call TriggerAddAction(jm,function FE)set km=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(km,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(km,Condition(function HE))call TriggerAddAction(km,function LE)set mm=CreateTrigger()call Ov(mm)call TriggerAddCondition(mm,Condition(function NE))call TriggerAddAction(mm,function OE)set nm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nm,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(nm,Condition(function QE))call TriggerAddAction(nm,function TE)set om=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(om,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(om,Condition(function VE))call TriggerAddAction(om,function WE)set pm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pm,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(pm,Condition(function YE))call TriggerAddAction(pm,function ZE)set qm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qm,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(qm,Condition(function e3))call TriggerAddAction(qm,function j3)set rm=CreateTrigger()call Ov(rm)call TriggerAddCondition(rm,Condition(function m3))call TriggerAddAction(rm,function J2)set sm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sm,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(sm,Condition(function p3))call TriggerAddAction(sm,function s3)set um=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(um,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(um,Condition(function u3))call TriggerAddAction(um,function v3)set vm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vm,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(vm,Condition(function x3))call TriggerAddAction(vm,function y3)set wm=CreateTrigger()call Ov(wm)call TriggerAddCondition(wm,Condition(function A3))call TriggerAddAction(wm,function a3)set xm=CreateTrigger()call Ov(xm)call TriggerAddCondition(xm,Condition(function b3))call TriggerAddAction(xm,function C3)set ym=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ym,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ym,Condition(function D3))call TriggerAddAction(ym,function E3)set zm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zm,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(zm,Condition(function G3))call TriggerAddAction(zm,function I3)set Am=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Am,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Am,Condition(function J3))call TriggerAddAction(Am,function j2)set am=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(am,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(am,Condition(function O3))call TriggerAddAction(am,function Q3)set Bm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bm,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bm,Condition(function S3))call TriggerAddAction(Bm,function T3)set bm=CreateTrigger()call Ov(bm)call TriggerAddCondition(bm,Condition(function V3))call TriggerAddAction(bm,function Y3)set Cm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Cm,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Cm,Condition(function dF))call TriggerAddAction(Cm,function eF)set cm=CreateTrigger()call Ov(cm)call TriggerAddCondition(cm,Condition(function gF))call TriggerAddAction(cm,function hF)set Dm=CreateTrigger()call Ov(Dm)call TriggerAddCondition(Dm,Condition(function jF))call TriggerAddAction(Dm,function kF)set Em=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Em,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Em,Condition(function nF))call TriggerAddAction(Em,function oF)set Fm=CreateTrigger()call Ov(Fm)call TriggerAddCondition(Fm,Condition(function qF))call TriggerAddAction(Fm,function rF)set Gm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Gm,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Gm,Condition(function tF))call TriggerAddAction(Gm,function yF)set Hm=CreateTrigger()call Ov(Hm)call TriggerAddCondition(Hm,Condition(function AF))call TriggerAddAction(Hm,function aF)set Im=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Im,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Im,Condition(function bF))call TriggerAddAction(Im,function CF)set lm=CreateTrigger()call Ov(lm)call TriggerAddCondition(lm,Condition(function DF))call TriggerAddAction(lm,function EF)set Jm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Jm,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Jm,Condition(function GF))call TriggerAddAction(Jm,function HF)set Km=CreateTrigger()call Ov(Km)call TriggerAddCondition(Km,Condition(function lF))call TriggerAddAction(Km,function JF)set Lm=CreateTrigger()call Ov(Lm)call TriggerAddCondition(Lm,Condition(function LF))call TriggerAddAction(Lm,function MF)set Mm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Mm,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Mm,Condition(function OF))call TriggerAddAction(Mm,function RF)set Nm=CreateTrigger()call Ov(Nm)call TriggerAddCondition(Nm,Condition(function TF))call TriggerAddAction(Nm,function UF)set Om=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Om,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Om,Condition(function WF))call TriggerAddAction(Om,function XF)set Pm=CreateTrigger()call TriggerRegisterTimerEventPeriodic(Pm,1.)call TriggerAddCondition(Pm,Condition(function ZF))call TriggerAddAction(Pm,function gG)set Qm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Qm,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Qm,Condition(function iG))call TriggerAddAction(Qm,function jG)set Rm=CreateTrigger()call TriggerRegisterTimerEventPeriodic(Rm,.03)call TriggerAddCondition(Rm,Condition(function mG))call TriggerAddAction(Rm,function qG)set Sm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Sm,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Sm,Condition(function sG))call TriggerAddAction(Sm,function tG)set Tm=CreateTrigger()call Ov(Tm)call TriggerAddCondition(Tm,Condition(function vG))call TriggerAddAction(Tm,function wG)set Um=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Um,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Um,Condition(function yG))call TriggerAddAction(Um,function zG)set Vm=CreateTrigger()call Ov(Vm)call TriggerAddCondition(Vm,Condition(function aG))call TriggerAddAction(Vm,function BG)set Wm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wm,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Wm,Condition(function CG))call TriggerAddAction(Wm,function cG)set Xm=CreateTrigger()call TriggerRegisterTimerEventPeriodic(Xm,.3)call TriggerAddCondition(Xm,Condition(function EG))call TriggerAddAction(Xm,function IG)set Ym=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ym,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Ym,Condition(function JG))call TriggerAddAction(Ym,function KG)set Zm=CreateTrigger()call TriggerRegisterTimerEventPeriodic(Zm,1.)call TriggerAddCondition(Zm,Condition(function MG))call TriggerAddAction(Zm,function QG)set dn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(dn,Condition(function SG))call TriggerAddAction(dn,function WG)set en=CreateTrigger()call Ov(en)call TriggerAddCondition(en,Condition(function YG))call TriggerAddAction(en,function ZG)set fn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(fn,Condition(function e6))call TriggerAddAction(fn,function f6)set gn=CreateTrigger()call Ov(gn)call TriggerAddCondition(gn,Condition(function h6))call TriggerAddAction(gn,function i6)set hn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(hn,Condition(function k6))call TriggerAddAction(hn,function l2)set in=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(in,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(in,Condition(function O6))call TriggerAddAction(in,function R6)set jn=CreateTrigger()call DisableTrigger(jn)call TriggerRegisterTimerEventPeriodic(jn,.3)call TriggerAddAction(jn,function V6)set kn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(kn,Condition(function X6))call TriggerAddAction(kn,function kH)set mn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(mn,Condition(function nH))call TriggerAddAction(mn,function oH)set nn=CreateTrigger()call Ov(nn)call TriggerAddCondition(nn,Condition(function qH))call TriggerAddAction(nn,function rH)set on=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(on,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(on,Condition(function tH))call TriggerAddAction(on,function xH)set pn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(pn,Condition(function zH))call TriggerAddAction(pn,function AH)set qn=CreateTrigger()call Ov(qn)call TriggerAddCondition(qn,Condition(function BH))call TriggerAddAction(qn,function bH)set sn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(sn,Condition(function cH))call TriggerAddAction(sn,function DH)set tn=CreateTrigger()call Ov(tn)call TriggerAddCondition(tn,Condition(function FH))call TriggerAddAction(tn,function GH)set un=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(un,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(un,Condition(function IH))call TriggerAddAction(un,function MH)set vn=CreateTrigger()call Ov(vn)call TriggerAddCondition(vn,Condition(function OH))call TriggerAddAction(vn,function PH)set wn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(wn,Condition(function RH))call TriggerAddAction(wn,function TH)set xn=CreateTrigger()call Ov(xn)call TriggerAddCondition(xn,Condition(function VH))call TriggerAddAction(xn,function WH)set yn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(yn,Condition(function YH))call TriggerAddAction(yn,function ZH)set zn=CreateTrigger()call Ov(zn)call TriggerAddCondition(zn,Condition(function eI))call TriggerAddAction(zn,function fI)set An=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(An,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(An,Condition(function hI))call TriggerAddAction(An,function iI)set an=CreateTrigger()call Ov(an)call TriggerAddCondition(an,Condition(function kI))call TriggerAddAction(an,function mI)set Bn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bn,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Bn,Condition(function oI))call TriggerAddAction(Bn,function sI)set bn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(bn,Condition(function uI))call TriggerAddAction(bn,function vI)set Cn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Cn,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Cn,Condition(function xI))call TriggerAddAction(Cn,function AI)set cn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(cn,Condition(function BI))call TriggerAddAction(cn,function bI)set Dn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Dn,Condition(function cI))call TriggerAddAction(Dn,function DI)set En=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(En,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(En,Condition(function FI))call TriggerAddAction(En,function GI)set Fn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Fn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Fn,Condition(function II))call TriggerAddAction(Fn,function lI)set In=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(In,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(In,Condition(function QI))call TriggerAddAction(In,function RI)set Jn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Jn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Jn,Condition(function TI))call TriggerAddAction(Jn,function UI)set Kn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Kn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Kn,Condition(function WI))call TriggerAddAction(Kn,function XI)set Ln=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ln,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Ln,Condition(function ZI))call TriggerAddAction(Ln,function dl)set Mn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Mn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Mn,Condition(function fl))call TriggerAddAction(Mn,function gl)set Nn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Nn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Nn,Condition(function il))call TriggerAddAction(Nn,function jl)set Tn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Tn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Tn,Condition(function al))call TriggerAddAction(Tn,function Bl)set Un=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Un,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Un,Condition(function cl))call TriggerAddAction(Un,function W5)set Vn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Vn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Vn,Condition(function Fl))call TriggerAddAction(Vn,function Gl)set Wn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Wn,Condition(function Il))call TriggerAddAction(Wn,function ll)set Xn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Xn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Xn,Condition(function Kl))call TriggerAddAction(Xn,function Ll)set Yn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Yn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Yn,Condition(function Nl))call TriggerAddAction(Yn,function Ol)set Zn=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Zn,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Zn,Condition(function Ql))call TriggerAddAction(Zn,function Rl)set do=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(do,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(do,Condition(function Tl))call TriggerAddAction(do,function Ul)set eo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(eo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(eo,Condition(function Wl))call TriggerAddAction(eo,function Xl)set fo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(fo,Condition(function Zl))call TriggerAddAction(fo,function y5)set go=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(go,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(go,Condition(function f1))call TriggerAddAction(go,function g1)set ho=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ho,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ho,Condition(function i1))call TriggerAddAction(ho,function j1)set io=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(io,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(io,Condition(function m1))call TriggerAddAction(io,function Y5)set jo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(jo,Condition(function p1))call TriggerAddAction(jo,function q1)set ko=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ko,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ko,Condition(function t1))call TriggerAddAction(ko,function u1)set mo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(mo,Condition(function Z5))call TriggerAddAction(mo,function z1)set no=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(no,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(no,Condition(function a1))call TriggerAddAction(no,function B1)set oo=CreateTrigger()call TriggerRegisterTimerEventPeriodic(oo,500.)call TriggerAddAction(oo,function C1)set po=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(po,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(po,Condition(function D1))call TriggerAddAction(po,function E1)set qo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(qo,Condition(function G1))call TriggerAddAction(qo,function H1)set ro=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ro,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ro,Condition(function l1))call TriggerAddAction(ro,function J1)set so=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(so,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(so,Condition(function L1))call TriggerAddAction(so,function v6)set to=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(to,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(to,Condition(function O1))call TriggerAddAction(to,function P1)set uo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(uo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(uo,Condition(function R1))call TriggerAddAction(uo,function S1)set vo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(vo,Condition(function U1))call TriggerAddAction(vo,function V1)set wo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(wo,Condition(function X1))call TriggerAddAction(wo,function Y1)set xo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(xo,Condition(function dJ))call TriggerAddAction(xo,function eJ)set yo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(yo,Condition(function gJ))call TriggerAddAction(yo,function hJ)set zo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(zo,Condition(function jJ))call TriggerAddAction(zo,function kJ)set Ao=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ao,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Ao,Condition(function nJ))call TriggerAddAction(Ao,function oJ)set ao=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ao,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ao,Condition(function qJ))call TriggerAddAction(ao,function rJ)set Bo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Bo,Condition(function tJ))call TriggerAddAction(Bo,function uJ)set bo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(bo,Condition(function wJ))call TriggerAddAction(bo,function xJ)set Co=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Co,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Co,Condition(function zJ))call TriggerAddAction(Co,function AJ)set co=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(co,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(co,Condition(function BJ))call TriggerAddAction(co,function bJ)set Do=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Do,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Do,Condition(function cJ))call TriggerAddAction(Do,function DJ)set Do=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Do,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Do,Condition(function x6))call TriggerAddAction(Do,function r6)set Eo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Eo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Eo,Condition(function FJ))call TriggerAddAction(Eo,function GJ)set Fo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Fo,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Fo,Condition(function IJ))call TriggerAddAction(Fo,function lJ)set Go=CreateTrigger()call qw(Go,Pe)call TriggerAddCondition(Go,Condition(function KJ))call TriggerAddAction(Go,function LJ)set Ho=CreateTrigger()call qw(Ho,Re)call qw(Ho,Ie)call qw(Ho,le)call TriggerAddCondition(Ho,Condition(function NJ))call TriggerAddAction(Ho,function OJ)set Io=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Io,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Io,Condition(function QJ))call TriggerAddAction(Io,function RJ)set lo=CreateTrigger()call qw(lo,Bg)call TriggerAddCondition(lo,Condition(function TJ))call TriggerAddAction(lo,function UJ)set Jo=CreateTrigger()call qw(Jo,Xe)call TriggerAddCondition(Jo,Condition(function WJ))call TriggerAddAction(Jo,function XJ)set Ko=CreateTrigger()call qw(Ko,Pe)call TriggerAddCondition(Ko,Condition(function ZJ))call TriggerAddAction(Ko,function dK)set Lo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Lo,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Lo,Condition(function fK))call TriggerAddAction(Lo,function gK)set Mo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Mo,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Mo,Condition(function iK))call TriggerAddAction(Mo,function jK)set No=CreateTrigger()call qw(No,Te)call TriggerAddCondition(No,Condition(function mK))call TriggerAddAction(No,function nK)set Oo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Oo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Oo,Condition(function pK))call TriggerAddAction(Oo,function qK)set Po=CreateTrigger()call qw(Po,Ve)call TriggerAddCondition(Po,Condition(function sK))call TriggerAddAction(Po,function tK)set Qo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Qo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Qo,Condition(function vK))call TriggerAddAction(Qo,function wK)set Ro=CreateTrigger()call qw(Ro,Xe)call TriggerAddCondition(Ro,Condition(function yK))call TriggerAddAction(Ro,function zK)set So=CreateTrigger()call qw(So,Ye)call TriggerAddCondition(So,Condition(function aK))call TriggerAddAction(So,function BK)set To=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(To,Player(6),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(To,Condition(function CK))call TriggerAddAction(To,function cK)set Uo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Uo,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Uo,Condition(function EK))call TriggerAddAction(Uo,function FK)set Vo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Vo,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Vo,Condition(function HK))call TriggerAddAction(Vo,function IK)set Wo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wo,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Wo,Condition(function JK))call TriggerAddAction(Wo,function KK)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function q2))call TriggerAddAction(t,function T2)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function kz))call TriggerAddAction(t,function Kz)set Yo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Yo,EVENT_PLAYER_HERO_LEVEL)call TriggerAddCondition(Yo,Condition(function PK))call TriggerAddAction(Yo,function QK)set Zo=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Zo,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Zo,Condition(function SK))call TriggerAddAction(Zo,function TK)set dp=CreateTrigger()call TriggerRegisterTimerEventSingle(dp,1.)call TriggerAddAction(dp,function WK)set ep=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ep,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(ep,Condition(function YK))call TriggerAddAction(ep,function ZK)set fp=CreateTrigger()call qw(fp,lg)call TriggerAddCondition(fp,Condition(function eL))call TriggerAddAction(fp,function fL)set gp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gp,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(gp,Condition(function hL))call TriggerAddAction(gp,function iL)set hp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hp,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(hp,Condition(function kL))call TriggerAddAction(hp,function mL)set jp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jp,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(jp,Condition(function oL))call TriggerAddAction(jp,function pL)set kp=CreateTrigger()call qw(kp,gh)call TriggerAddCondition(kp,Condition(function rL))call TriggerAddAction(kp,function sL)set mp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mp,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(mp,Condition(function uL))call TriggerAddAction(mp,function vL)set np=CreateTrigger()call qw(np,kh)call TriggerAddCondition(np,Condition(function xL))call TriggerAddAction(np,function yL)set op=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(op,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(op,Condition(function AL))call TriggerAddAction(op,function aL)set pp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pp,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(pp,Condition(function bL))call TriggerAddAction(pp,function CL)set qp=CreateTrigger()call qw(qp,Ye)call TriggerAddCondition(qp,Condition(function DL))call TriggerAddAction(qp,function EL)set sp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sp,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(sp,Condition(function IL))call TriggerAddAction(sp,function lL)set tp=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(tp,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(tp,Condition(function KL))call TriggerAddAction(tp,function LL)set vp=CreateTrigger()call TriggerRegisterPlayerSelectionEventBJ(vp,Player(0),true)call TriggerRegisterPlayerSelectionEventBJ(vp,Player(1),true)call TriggerRegisterPlayerSelectionEventBJ(vp,Player(2),true)call TriggerRegisterPlayerSelectionEventBJ(vp,Player(3),true)call TriggerRegisterPlayerSelectionEventBJ(vp,Player(4),true)call TriggerRegisterPlayerSelectionEventBJ(vp,Player(5),true)call TriggerAddCondition(vp,Condition(function NL))call TriggerAddAction(vp,function OL)set wp=CreateTrigger()call TriggerRegisterPlayerKeyEventBJ(wp,Player(0),0,3)call TriggerRegisterPlayerKeyEventBJ(wp,Player(1),0,3)call TriggerRegisterPlayerKeyEventBJ(wp,Player(2),0,3)call TriggerRegisterPlayerKeyEventBJ(wp,Player(3),0,3)call TriggerRegisterPlayerKeyEventBJ(wp,Player(4),0,3)call TriggerRegisterPlayerKeyEventBJ(wp,Player(5),0,3)call TriggerAddCondition(wp,Condition(function QL))call TriggerAddAction(wp,function RL)set xp=CreateTrigger()call TriggerRegisterPlayerKeyEventBJ(xp,Player(0),0,0)call TriggerRegisterPlayerKeyEventBJ(xp,Player(1),0,0)call TriggerRegisterPlayerKeyEventBJ(xp,Player(2),0,0)call TriggerRegisterPlayerKeyEventBJ(xp,Player(3),0,0)call TriggerRegisterPlayerKeyEventBJ(xp,Player(4),0,0)call TriggerRegisterPlayerKeyEventBJ(xp,Player(5),0,0)call TriggerAddCondition(xp,Condition(function TL))call TriggerAddAction(xp,function UL)set yp=CreateTrigger()call TriggerRegisterPlayerKeyEventBJ(yp,Player(0),0,1)call TriggerRegisterPlayerKeyEventBJ(yp,Player(1),0,1)call TriggerRegisterPlayerKeyEventBJ(yp,Player(2),0,1)call TriggerRegisterPlayerKeyEventBJ(yp,Player(3),0,1)call TriggerRegisterPlayerKeyEventBJ(yp,Player(4),0,1)call TriggerRegisterPlayerKeyEventBJ(yp,Player(5),0,1)call TriggerAddCondition(yp,Condition(function WL))call TriggerAddAction(yp,function XL)set zp=CreateTrigger()call TriggerRegisterPlayerKeyEventBJ(zp,Player(0),0,2)call TriggerRegisterPlayerKeyEventBJ(zp,Player(1),0,2)call TriggerRegisterPlayerKeyEventBJ(zp,Player(2),0,2)call TriggerRegisterPlayerKeyEventBJ(zp,Player(3),0,2)call TriggerRegisterPlayerKeyEventBJ(zp,Player(4),0,2)call TriggerRegisterPlayerKeyEventBJ(zp,Player(5),0,2)call TriggerAddCondition(zp,Condition(function ZL))call TriggerAddAction(zp,function dM)set ap=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(ap,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ap,Condition(function iM))call TriggerAddAction(ap,function jM)set Bp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bp,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Bp,Condition(function mM))call TriggerAddAction(Bp,function nM)set bp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bp,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(bp,Condition(function pM))call TriggerAddAction(bp,function qM)set Cp=CreateTrigger()call qw(Cp,Ff)call TriggerAddCondition(Cp,Condition(function sM))call TriggerAddAction(Cp,function tM)set cp=CreateTrigger()call qw(cp,Hf)call TriggerAddCondition(cp,Condition(function vM))call TriggerAddAction(cp,function wM)set Dp=CreateTrigger()call qw(Dp,lf)call TriggerAddCondition(Dp,Condition(function yM))call TriggerAddAction(Dp,function zM)set Ep=CreateTrigger()call qw(Ep,Kf)call TriggerAddCondition(Ep,Condition(function aM))call TriggerAddAction(Ep,function BM)set Fp=CreateTrigger()call qw(Fp,Of)call TriggerAddCondition(Fp,Condition(function CM))call TriggerAddAction(Fp,function cM)set Gp=CreateTrigger()call qw(Gp,Qf)call TriggerAddCondition(Gp,Condition(function EM))call TriggerAddAction(Gp,function FM)set Hp=CreateTrigger()call qw(Hp,Tf)call TriggerAddCondition(Hp,Condition(function HM))call TriggerAddAction(Hp,function IM)set Ip=CreateTrigger()call qw(Ip,Vf)call TriggerAddCondition(Ip,Condition(function JM))call TriggerAddAction(Ip,function KM)set Jp=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(Jp,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Jp,Condition(function PM))call TriggerAddAction(Jp,function QM)set Kp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Kp,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Kp,Condition(function SM))call TriggerAddAction(Kp,function TM)set Lp=CreateTrigger()call qw(Lp,eg)call TriggerAddCondition(Lp,Condition(function VM))call TriggerAddAction(Lp,function WM)set Mp=CreateTrigger()call qw(Mp,gg)call TriggerAddCondition(Mp,Condition(function YM))call TriggerAddAction(Mp,function ZM)set Np=CreateTrigger()call qw(Np,ig)call TriggerAddCondition(Np,Condition(function eN))call TriggerAddAction(Np,function fN)set Op=CreateTrigger()call qw(Op,jg)call TriggerAddCondition(Op,Condition(function hN))call TriggerAddAction(Op,function iN)set Pp=CreateTrigger()call qw(Pp,ng)call TriggerAddCondition(Pp,Condition(function kN))call TriggerAddAction(Pp,function mN)set Qp=CreateTrigger()call qw(Qp,pg)call TriggerAddCondition(Qp,Condition(function oN))call TriggerAddAction(Qp,function pN)set Rp=CreateTrigger()call qw(Rp,qg)call TriggerAddCondition(Rp,Condition(function rN))call TriggerAddAction(Rp,function sN)set Sp=CreateTrigger()call qw(Sp,sg)call TriggerAddCondition(Sp,Condition(function uN))call TriggerAddAction(Sp,function vN)set Tp=CreateTrigger()call qw(Tp,ug)call TriggerAddCondition(Tp,Condition(function xN))call TriggerAddAction(Tp,function yN)set Up=CreateTrigger()call qw(Up,wg)call TriggerAddCondition(Up,Condition(function AN))call TriggerAddAction(Up,function aN)set Vp=CreateTrigger()call qw(Vp,xg)call TriggerAddCondition(Vp,Condition(function bN))call TriggerAddAction(Vp,function CN)set Wp=CreateTrigger()call qw(Wp,yg)call TriggerAddCondition(Wp,Condition(function DN))call TriggerAddAction(Wp,function EN)set Xp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Xp,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Xp,Condition(function GN))call TriggerAddAction(Xp,function IN)set Zp=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(Zp,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Zp,Condition(function MN))call TriggerAddAction(Zp,function NN)set dq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dq,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(dq,Condition(function PN))call TriggerAddAction(dq,function QN)set eq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(eq,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(eq,Condition(function SN))call TriggerAddAction(eq,function TN)set fq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fq,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(fq,Condition(function VN))call TriggerAddAction(fq,function WN)set gq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gq,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(gq,Condition(function YN))call TriggerAddAction(gq,function ZN)set hq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hq,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(hq,Condition(function eO))call TriggerAddAction(hq,function fO)set jq=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(jq,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(jq,Condition(function kO))call TriggerAddAction(jq,function mO)set kq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kq,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(kq,Condition(function oO))call TriggerAddAction(kq,function pO)set mq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mq,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(mq,Condition(function rO))call TriggerAddAction(mq,function sO)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function Cz))call TriggerAddAction(t,function Dz)set t=CreateTrigger()call qw(t,JN)call TriggerAddCondition(t,Condition(function xev))call TriggerAddAction(t,function xxv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function xov))call TriggerAddAction(t,function xrv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function e9v))call TriggerAddAction(t,function xvv)set t=CreateTrigger()call TriggerRegisterTimerEventPeriodic(t,2400.)call TriggerAddAction(t,function Hz)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function xOv))call TriggerAddAction(t,function xRv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function xiv))call TriggerAddAction(t,function xXv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function xIv))call TriggerAddAction(t,function xBv)set t=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(t,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(t,function Jz)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function lz))call TriggerAddAction(t,function Lz)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function sz))call TriggerAddAction(t,function tz)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function W8))call TriggerAddAction(t,function Y8)set oq=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(oq,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(oq,Condition(function xO))call TriggerAddAction(oq,function yO)set pq=CreateTrigger()call qw(pq,gh)call TriggerAddCondition(pq,Condition(function AO))call TriggerAddAction(pq,function aO)set qq=CreateTrigger()call qw(qq,fh)call TriggerAddCondition(qq,Condition(function bO))call TriggerAddAction(qq,function CO)set rq=CreateTrigger()call qw(rq,jh)call TriggerAddCondition(rq,Condition(function DO))call TriggerAddAction(rq,function EO)set sq=CreateTrigger()call qw(sq,lN)call TriggerAddCondition(sq,Condition(function GO))call TriggerAddAction(sq,function HO)set tq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tq,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(tq,Condition(function lO))call TriggerAddAction(tq,function JO)set uq=CreateTrigger()call TriggerRegisterTimerEventSingle(uq,.2)call TriggerAddAction(uq,function LO)set vq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(vq,Condition(function NO))call TriggerAddAction(vq,function OO)set xq=CreateTrigger()call TriggerRegisterTimerEventPeriodic(xq,400.)call TriggerAddAction(xq,function TO)set yq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(yq,Condition(function VO))call TriggerAddAction(yq,function WO)set zq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(zq,Condition(function YO))call TriggerAddAction(zq,function ZO)set Aq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Aq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Aq,Condition(function e0))call TriggerAddAction(Aq,function f0)set aq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(aq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(aq,Condition(function h0))call TriggerAddAction(aq,function i0)set Bq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Bq,Condition(function k0))call TriggerAddAction(Bq,function m0)set bq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(bq,Condition(function o0))call TriggerAddAction(bq,function p0)set Cq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Cq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Cq,Condition(function r0))call TriggerAddAction(Cq,function s0)set cq=CreateTrigger()call TriggerRegisterDialogEvent(cq,v8[1])call TriggerRegisterDialogEvent(cq,v8[2])call TriggerRegisterDialogEvent(cq,v8[3])call TriggerRegisterDialogEvent(cq,v8[4])call TriggerRegisterDialogEvent(cq,v8[5])call TriggerAddCondition(cq,Condition(function u0))call TriggerAddAction(cq,function v0)set Dq=CreateTrigger()call TriggerRegisterDialogEvent(Dq,D8[1])call TriggerRegisterDialogEvent(Dq,D8[2])call TriggerRegisterDialogEvent(Dq,D8[3])call TriggerRegisterDialogEvent(Dq,D8[4])call TriggerRegisterDialogEvent(Dq,D8[5])call TriggerAddCondition(Dq,Condition(function x0))call TriggerAddAction(Dq,function y0)set Eq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Eq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Eq,Condition(function A0))call TriggerAddAction(Eq,function a0)set Fq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Fq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Fq,Condition(function b0))call TriggerAddAction(Fq,function C0)set Gq=CreateTrigger()call TriggerRegisterDialogEvent(Gq,v8[1])call TriggerRegisterDialogEvent(Gq,v8[2])call TriggerRegisterDialogEvent(Gq,v8[3])call TriggerRegisterDialogEvent(Gq,v8[4])call TriggerRegisterDialogEvent(Gq,v8[5])call TriggerAddCondition(Gq,Condition(function D0))call TriggerAddAction(Gq,function E0)set Hq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Hq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Hq,Condition(function G0))call TriggerAddAction(Hq,function H0)set Iq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Iq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Iq,Condition(function l0))call TriggerAddAction(Iq,function J0)set lq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(lq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(lq,Condition(function L0))call TriggerAddAction(lq,function M0)set Jq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Jq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Jq,Condition(function O0))call TriggerAddAction(Jq,function P0)set Kq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Kq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Kq,Condition(function R0))call TriggerAddAction(Kq,function S0)set Lq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Lq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Lq,Condition(function U0))call TriggerAddAction(Lq,function V0)set Mq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Mq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Mq,Condition(function X0))call TriggerAddAction(Mq,function Y0)set Nq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Nq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Nq,Condition(function dP))call TriggerAddAction(Nq,function eP)set Oq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Oq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Oq,Condition(function gP))call TriggerAddAction(Oq,function hP)set Pq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Pq,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Pq,Condition(function jP))call TriggerAddAction(Pq,function kP)set Qq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Qq,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Qq,Condition(function nP))call TriggerAddAction(Qq,function oP)set Rq=CreateTrigger()call TriggerRegisterDialogEvent(Rq,je[1])call TriggerRegisterDialogEvent(Rq,je[2])call TriggerRegisterDialogEvent(Rq,je[3])call TriggerRegisterDialogEvent(Rq,je[4])call TriggerRegisterDialogEvent(Rq,je[5])call TriggerAddAction(Rq,function qP)set Sq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Sq,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Sq,Condition(function sP))call TriggerAddAction(Sq,function vP)set Tq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Tq,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Tq,Condition(function xP))call TriggerAddAction(Tq,function AP)set Uq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Uq,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Uq,Condition(function BP))call TriggerAddAction(Uq,function bP)set Wq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wq,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Wq,Condition(function EP))call TriggerAddAction(Wq,function FP)set kr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(kr,Condition(function oQ))call TriggerAddAction(kr,function pQ)set mr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(mr,Condition(function rQ))call TriggerAddAction(mr,function sQ)set nr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nr,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(nr,Condition(function uQ))call TriggerAddAction(nr,function vQ)set pr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(pr,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(pr,Condition(function xQ))call TriggerAddAction(pr,function yQ)set qr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(qr,Condition(function AQ))call TriggerAddAction(qr,function aQ)set tr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(tr,Condition(function GQ))call TriggerAddAction(tr,function HQ)set ur=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ur,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(ur,Condition(function lQ))call TriggerAddAction(ur,function JQ)set vr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(vr,Condition(function LQ))call TriggerAddAction(vr,function MQ)set wr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(wr,Condition(function OQ))call TriggerAddAction(wr,function PQ)set xr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(xr,Condition(function RQ))call TriggerAddAction(xr,function SQ)set yr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(yr,Condition(function UQ))call TriggerAddAction(yr,function VQ)set zr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(zr,Condition(function XQ))call TriggerAddAction(zr,function YQ)set Ar=CreateTrigger()call TriggerRegisterPlayerUnitEventSimple(Ar,Player(12),EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Ar,Condition(function dR))call TriggerAddAction(Ar,function eR)set ar=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ar,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(ar,Condition(function gR))call TriggerAddAction(ar,function jR)set Br=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Br,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Br,Condition(function mR))call TriggerAddAction(Br,function nR)set br=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(br,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(br,Condition(function pR))call TriggerAddAction(br,function qR)set br=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(br,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(br,Condition(function xhv))call TriggerAddAction(br,function xHv)set Cr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Cr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Cr,Condition(function sR))call TriggerAddAction(Cr,function tR)set cr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cr,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(cr,Condition(function vR))call TriggerAddAction(cr,function wR)set Dr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Dr,f9[1])call TriggerAddAction(Dr,function yR)set Er=CreateTrigger()call TriggerRegisterTimerExpireEvent(Er,f9[2])call TriggerAddAction(Er,function AR)set Fr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Fr,f9[3])call TriggerAddAction(Fr,function BR)set Gr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Gr,f9[4])call TriggerAddAction(Gr,function CR)set Hr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Hr,f9[5])call TriggerAddAction(Hr,function DR)set Ir=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ir,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Ir,Condition(function FR))call TriggerAddAction(Ir,function GR)set lr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(lr,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(lr,Condition(function IR))call TriggerAddAction(lr,function lR)set Jr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Jr,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Jr,Condition(function KR))call TriggerAddAction(Jr,function LR)set Kr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Kr,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Kr,Condition(function NR))call TriggerAddAction(Kr,function OR)set Lr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Lr,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Lr,Condition(function QR))call TriggerAddAction(Lr,function RR)set Mr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Mr,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Mr,Condition(function TR))call TriggerAddAction(Mr,function UR)set Nr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Nr,Z9[1])call TriggerAddAction(Nr,function WR)set Pr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Pr,Z9[2])call TriggerAddAction(Pr,function YR)set Qr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Qr,Z9[3])call TriggerAddAction(Qr,function dS)set Rr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Rr,Z9[4])call TriggerAddAction(Rr,function fS)set Sr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Sr,Z9[5])call TriggerAddAction(Sr,function hS)set Tr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Tr,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Tr,Condition(function jS))call TriggerAddAction(Tr,function kS)set Ur=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ur,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Ur,Condition(function nS))call TriggerAddAction(Ur,function oS)set Vr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Vr,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Vr,Condition(function qS))call TriggerAddAction(Vr,function rS)set Wr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Wr,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Wr,Condition(function tS))call TriggerAddAction(Wr,function uS)set Xr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Xr,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Xr,Condition(function wS))call TriggerAddAction(Xr,function xS)set Yr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Yr,fd[1])call TriggerAddCondition(Yr,Condition(function zS))call TriggerAddAction(Yr,function AS)set Zr=CreateTrigger()call TriggerRegisterTimerExpireEvent(Zr,fd[2])call TriggerAddCondition(Zr,Condition(function BS))call TriggerAddAction(Zr,function bS)set ds=CreateTrigger()call TriggerRegisterTimerExpireEvent(ds,fd[3])call TriggerAddCondition(ds,Condition(function cS))call TriggerAddAction(ds,function DS)set es=CreateTrigger()call TriggerRegisterTimerExpireEvent(es,fd[4])call TriggerAddCondition(es,Condition(function FS))call TriggerAddAction(es,function GS)set fs=CreateTrigger()call TriggerRegisterTimerExpireEvent(fs,fd[5])call TriggerAddCondition(fs,Condition(function IS))call TriggerAddAction(fs,function lS)set gs=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gs,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(gs,Condition(function KS))call TriggerAddAction(gs,function LS)set hs=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hs,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(hs,Condition(function NS))call TriggerAddAction(hs,function OS)set is=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(is,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(is,Condition(function QS))call TriggerAddAction(is,function RS)set js=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(js,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(js,Condition(function TS))call TriggerAddAction(js,function US)set ks=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ks,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(ks,Condition(function WS))call TriggerAddAction(ks,function XS)set ms=CreateTrigger()call TriggerRegisterTimerExpireEvent(ms,fd[1])call TriggerAddCondition(ms,Condition(function ZS))call TriggerAddAction(ms,function d5)set ns=CreateTrigger()call TriggerRegisterTimerExpireEvent(ns,fd[2])call TriggerAddCondition(ns,Condition(function f5))call TriggerAddAction(ns,function g5)set os=CreateTrigger()call TriggerRegisterTimerExpireEvent(os,fd[3])call TriggerAddCondition(os,Condition(function i5))call TriggerAddAction(os,function j5)set ps=CreateTrigger()call TriggerRegisterTimerExpireEvent(ps,fd[4])call TriggerAddCondition(ps,Condition(function m5))call TriggerAddAction(ps,function xjv)set qs=CreateTrigger()call TriggerRegisterTimerExpireEvent(qs,fd[5])call TriggerAddCondition(qs,Condition(function p5))call TriggerAddAction(qs,function q5)set rs=CreateTrigger()call TriggerRegisterTimerEventSingle(rs,.5)call TriggerAddAction(rs,function s5)set ss=CreateTrigger()call TriggerRegisterTimerEventPeriodic(ss,200.)call TriggerAddAction(ss,function u5)set ts=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ts,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(ts,Condition(function w5))call TriggerAddAction(ts,function x5)set us=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(us,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(us,Condition(function z5))call TriggerAddAction(us,function A5)set vs=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vs,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(vs,Condition(function B5))call TriggerAddAction(vs,function b5)set vs=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(vs,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(vs,Condition(function xJv))call TriggerAddAction(vs,function xkv)set ws=CreateTrigger()call qw(ws,Sg)call TriggerAddCondition(ws,Condition(function c5))call TriggerAddAction(ws,function D5)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function eSv))call TriggerAddAction(t,function etv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function ezv))call TriggerAddAction(t,function eZv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function e_v))call TriggerAddAction(t,function e0v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function e1v))call TriggerAddAction(t,function e2v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function e3v))call TriggerAddAction(t,function e4v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function e5v))call TriggerAddAction(t,function e6v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function e7v))call TriggerAddAction(t,function e8v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function IW))call TriggerAddAction(t,function NW)set xs=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xs,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(xs,Condition(function F5))call TriggerAddAction(xs,function G5)set ys=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ys,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(ys,Condition(function I5))call TriggerAddAction(ys,function l5)set zs=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zs,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(zs,Condition(function K5))call TriggerAddAction(zs,function L5)set As=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(As,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(As,Condition(function N5))call TriggerAddAction(As,function O5)set as=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(as,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(as,Condition(function Q5))call TriggerAddAction(as,function R5)set Bs=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Bs,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Bs,Condition(function xlv))call TriggerAddAction(Bs,function xLv)set Cs=CreateTrigger()call TriggerRegisterDialogEvent(Cs,v8[1])call TriggerRegisterDialogEvent(Cs,v8[2])call TriggerRegisterDialogEvent(Cs,v8[3])call TriggerRegisterDialogEvent(Cs,v8[4])call TriggerRegisterDialogEvent(Cs,v8[5])call TriggerAddCondition(Cs,Condition(function xmv))call TriggerAddAction(Cs,function xMv)set cs=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cs,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(cs,Condition(function xpv))call TriggerAddAction(cs,function xPv)set Ds=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ds,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(Ds,Condition(function xqv))call TriggerAddAction(Ds,function xQv)set Es=CreateTrigger()call TriggerRegisterPlayerChatEvent(Es,Player(0),"~",true)call TriggerRegisterPlayerChatEvent(Es,Player(1),"~",true)call TriggerRegisterPlayerChatEvent(Es,Player(2),"~",true)call TriggerRegisterPlayerChatEvent(Es,Player(3),"~",true)call TriggerRegisterPlayerChatEvent(Es,Player(4),"~",true)call TriggerRegisterPlayerChatEvent(Es,Player(5),"~",true)call TriggerAddCondition(Es,Condition(function kT))call TriggerAddAction(Es,function mT)set Fs=CreateTrigger()call TriggerRegisterTimerEventSingle(Fs,3.)call TriggerAddAction(Fs,function oT)set t=CreateTrigger()call TriggerRegisterTimerEventSingle(t,2100.)call TriggerAddAction(t,function KU)set t=CreateTrigger()call TriggerRegisterTimerEventSingle(t,3000.)call TriggerAddAction(t,function lU)set Gs=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Gs,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(Gs,Condition(function qT))call TriggerAddAction(Gs,function rT)set Ks=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ks,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Ks,Condition(function cT))call TriggerAddAction(Ks,function DT)set Ht=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Ht,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Ht,Condition(function FT))call TriggerAddAction(Ht,function IT)set It=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(It,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(It,Condition(function JT))call TriggerAddAction(It,function KT)set Jt=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Jt,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(Jt,Condition(function MT))call TriggerAddAction(Jt,function NT)call cz()call J5()call c3()call M5()call WW()call eW()call egv()call bz()endfunctionfunction xSv takes nothing returns booleanreturn(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and GetUnitAbilityLevel(GetAttacker(),'A0CF')>=1endfunctionfunction xtv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction xTv takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetEnumUnit()local real BW=1.local real cW=0.local integer i=1+GetPlayerId(GetOwningPlayer(u))local location vJ=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)set BW=1+bR[i]/ 20set cW=bW(u,uc,8.,14.,BW,'A0CF')call gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTarget("Units\\NightElf\\Wisp\\WispExplode.mdl",uc,"overhead"))if GetUnitAbilityLevel(u,'A07S')>=1 and GetRandomReal(1.,100)<=20 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(u),Zz,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093678412)call IssueTargetOrderById(bj_lastCreatedUnit,$D007F,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call ShowUnitHide(bj_lastCreatedUnit)call CreateTextTagLocBJ("封穴",Zz,0,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifif GetUnitAbilityLevel(u,'A07V')>=1 thencall SetWidgetLife(u,GetUnitState(u,UNIT_STATE_LIFE)+GetUnitAbilityLevel(u,'A0CF')*JR[i]*20)endifcall RemoveLocation(vJ)call RemoveLocation(Zz)set Zz=nullset vJ=nullset u=nullset uc=nullendfunctionfunction xuv takes nothing returns nothinglocal unit uc=GetTriggerUnit()local unit u=GetAttacker()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local location vJ=GetUnitLoc(u)local group g=CreateGroup()local real xUv=fR[i]if GetUnitAbilityLevel(u,'A07W')>=1 thenset xUv=xUv*4endifif GetRandomReal(0,100)<=20+xUv/ 5 thencall GW(u,'A0CF',1100.)if HR[i]>=15 thencall GroupEnumUnitsInRangeOfLoc(g,vJ,HR[i]*20,Condition(function xtv))elsecall GroupAddUnit(g,uc)endifcall ForGroupBJ(g,function xTv)call GroupClear(g)call DestroyGroup(g)call RemoveLocation(vJ)endifset g=nullset vJ=nullset p=nullset u=nullset uc=nullendfunctionfunction xwv takes nothing returns booleanreturn GetSpellAbilityId()=='A0CM' and(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or GetSpellTargetUnit()==GetTriggerUnit())endfunctionfunction xWv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction xyv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEnumUnit()local unit bU=nulllocal location Yz=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)local real BW=1.local real cW=0.local integer HJ=0local integer i=1+GetPlayerId(GetOwningPlayer(u))call CreateNUnitsAtLoc(1,'e00X',GetOwningPlayer(u),Yz,bj_UNIT_FACING)set bU=bj_lastCreatedUnitcall UnitAddAbility(bU,'A0DJ')call IssueTargetOrderById(bU,$D0097,uc)call UnitApplyTimedLife(bU,1112045413,2.)call ShowUnitHide(bU)if GetUnitAbilityLevel(u,'A0DE')>=1 thenset BW=BW*2endifif GetUnitAbilityLevel(u,'A07U')>=1 thenset BW=BW/ 2endifset cW=bW(u,uc,160.,700,BW,'A0CM')call gW(u,uc,cW)if GetUnitAbilityLevel(u,'A06P')>=1 and GetRandomReal(1.,200)<=fR[i]thenset HJ=GetUnitAbilityLevel(u,'A06P')call IssuePointOrderByIdLoc(u,$D009D,Zz)call UnitRemoveAbility(u,'A06P')call UnitAddAbility(u,'A06P')call SetUnitAbilityLevel(u,'A06P',HJ)endifif fR[i]>=20 and bR[i]>=20 and GetRandomReal(1.,200)<=fR[i]thenset HJ=GetUnitAbilityLevel(u,'A0CM')call UnitRemoveAbility(u,'A0CM')call UnitAddAbility(u,'A0CM')call SetUnitAbilityLevel(u,'A0CM',HJ)endifif GetUnitAbilityLevel(u,'A07V')>=1 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(u),Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678903)call IssueTargetOrderById(bj_lastCreatedUnit,$D008F,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call CreateTextTagLocBJ("内伤",Zz,60.,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifcall RemoveLocation(Yz)call RemoveLocation(Zz)set u=nullset uc=nullset bU=nullset Yz=nullset Zz=nullendfunctionfunction xYv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetSpellTargetUnit()local location vJ=GetUnitLoc(uc)local group g=CreateGroup()call GW(u,'A0CM',250)if u==uc thencall SetWidgetLife(u,1.)call gW(u,u,299999)endifif GetUnitAbilityLevel(u,'A07U')>=1 thencall GroupEnumUnitsInRangeOfLoc(g,vJ,500,Condition(function xWv))elsecall GroupAddUnit(g,uc)endifcall ForGroupBJ(g,function xyv)call GroupClear(g)call DestroyGroup(g)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullset g=nullendfunctionfunction xzv takes nothing returns booleanreturn GetIssuedOrderId()==$D00D1 and GetUnitAbilityLevel(GetTriggerUnit(),'A0DA')>=1endfunctionfunction xZv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)if UnitHasBuffBJ(u,'B00W')==false thencall UnitRemoveAbility(u,'A0DB')call UnitRemoveAbility(u,'A0DC')call UnitRemoveAbility(u,'Aspb')call FlushChildHashtable(Jv,GetHandleId(t))call PauseTimer(t)call DestroyTimer(t)endifset u=nullset t=nullendfunctionfunction x_v takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer HJ=GetUnitAbilityLevel(u,'A0DA')local timer t=CreateTimer()call UnitAddAbility(u,'A0DB')call UnitAddAbility(u,'A0DC')call UnitAddAbilityBJ('Aspb',u)call SetPlayerAbilityAvailableBJ(false,'Aspb',GetOwningPlayer(u))if GetUnitAbilityLevel(u,'A07T')>=1 thencall SetUnitAbilityLevel(u,'A0DB',HJ+1)elsecall SetUnitAbilityLevel(u,'A0DB',HJ)endifif GetUnitAbilityLevel(u,'A0CH')>=1 thencall SetUnitAbilityLevel(u,'A0DC',HJ+1)elsecall SetUnitAbilityLevel(u,'A0DC',HJ)endifif GetUnitAbilityLevel(u,'A0DE')>=1 thencall SetUnitAbilityLevel(u,'A0DD',HJ+1)elsecall SetUnitAbilityLevel(u,'A0DD',HJ)endifcall GW(u,'A0DA',150.)call SaveUnitHandle(Jv,GetHandleId(t),0,u)call TimerStart(t,0.5,true,function xZv)set t=nullset u=nullendfunctionfunction x0v takes nothing returns booleanreturn GetIssuedOrderId()==$D00D2 and GetUnitAbilityLevel(GetTriggerUnit(),'A0DA')>=1endfunctionfunction x1v takes nothing returns nothinglocal unit u=GetTriggerUnit()call UnitRemoveAbility(u,'A0DB')call UnitRemoveAbility(u,'A0DC')call UnitRemoveAbility(u,'Aspb')set u=nullendfunctionfunction x2v takes nothing returns booleanreturn IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and UnitHasBuffBJ(GetAttacker(),'B00W')endfunctionfunction x3v takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction x4v takes nothing returns nothinglocal unit u=GetAttacker()local unit bU=GetTriggerUnit()local group g=CreateGroup()local location vJ=GetUnitLoc(u)local unit uc=nulllocal location Zz=GetUnitLoc(bU)local integer HJ=0call GroupEnumUnitsInRangeOfLoc(g,vJ,1000,Condition(function x3v))set uc=GroupPickRandomUnit(g)if GetRandomReal(1.,100)<=fR[1+GetPlayerId(GetOwningPlayer(u))]thenif GetUnitAbilityLevel(u,'A07T')>=1 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(u),Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678903)call IssueTargetOrderById(bj_lastCreatedUnit,$D008F,bU)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call CreateTextTagLocBJ("内伤",Zz,60.,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifif GetUnitAbilityLevel(u,'A0CH')>=1 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(u),Zz,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093678900)call IssueTargetOrderById(bj_lastCreatedUnit,$D022F,bU)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call ShowUnitHide(bj_lastCreatedUnit)call CreateTextTagLocBJ("中毒",Zz,0,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifif GetUnitAbilityLevel(u,'A0DE')>=1 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(u),Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093681498)call IssueTargetOrderById(bj_lastCreatedUnit,$D006B,bU)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call CreateTextTagLocBJ("昏迷",Zz,60.,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifif uc!=null and GetUnitAbilityLevel(u,'A0CM')>=1 and GetRandomInt(1,10)==1 thencall SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MANA)+70)set HJ=GetUnitAbilityLevel(u,'A0CM')call UnitRemoveAbility(u,'A0CM')call UnitAddAbility(u,'A0CM')call SetUnitAbilityLevel(u,'A0CM',HJ)endifendifcall GroupClear(g)call DestroyGroup(g)call RemoveLocation(vJ)set u=nullset uc=nullset g=nullset vJ=nullendfunctionfunction x5v takes nothing returns booleanreturn((GetUnitAbilityLevel(GetTriggerUnit(),'A0CH')>=1)and(GetEventDamage()>=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)))endfunctionfunction x6v takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ib)))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction x7v takes nothing returns nothinglocal unit uc=GetEnumUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)set cW=bW(ib,uc,2000,800,BW,'A0CH')call gW(ib,uc,cW)if GetUnitAbilityLevel(ib,'A07V')>=1 thenset BW=BW+1.endifif GetUnitAbilityLevel(ib,'A06P')>=1 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(ib),vJ,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093678412)call IssueTargetOrderById(bj_lastCreatedUnit,$D007F,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call ShowUnitHide(bj_lastCreatedUnit)call CreateTextTagLocBJ("封穴",vJ,0,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifif GetUnitAbilityLevel(ib,'A07O')>=1 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(ib),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A0DF')call IssueTargetOrderById(bj_lastCreatedUnit,$D0062,ib)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,3.)endifcall RemoveLocation(vJ)set vJ=nullset uc=nullendfunctionfunction x8v takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local unit u=LoadUnitHandle(Jv,p,0)local group g=CreateGroup()local location vJ=GetUnitLoc(u)local real KF=800set ib=uif GetUnitAbilityLevel(u,'A07W')>=0 thenset KF=KF+700endifcall GroupEnumUnitsInRangeOfLoc(g,vJ,KF,Condition(function x6v))call ForGroupBJ(g,function x7v)call GroupClear(g)call DestroyGroup(g)call PauseTimer(t)call DestroyTimer(t)call RemoveLocation(vJ)set u=nullset t=nullset g=nullset vJ=nullendfunctionfunction x9v takes nothing returns nothinglocal timer t=GetExpiredTimer()local timer tm=nulllocal integer p=GetHandleId(t)local unit u=LoadUnitHandle(Jv,p,0)if GetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_FOOD_USED)==LoadInteger(Jv,p,1)thencall GW(u,'A0CH',40.)set tm=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(tm),0,u)call SaveInteger(Jv,GetHandleId(tm),1,LoadInteger(Jv,p,1))call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,p)call TimerStart(tm,3.01,false,function x8v)elseendifset t=nullset tm=nullset u=nullendfunctionfunction ovv takes nothing returns nothinglocal timer t=CreateTimer()local integer p=GetHandleId(t)local unit u=GetTriggerUnit()call SaveUnitHandle(Jv,p,0,u)call SaveInteger(Jv,p,1,GetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_FOOD_USED))call TimerStart(t,0.00,false,function x9v)set t=nullset u=nullendfunctionfunction oev takes nothing returns booleanreturn(GetSpellAbilityId()=='A0DE')endfunctionfunction oxv takes nothing returns booleanreturn GetUnitTypeId(GetEventDamageSource())=='e00Y'endfunctionfunction oov takes nothing returns nothinglocal player p=GetOwningPlayer(GetEventDamageSource())local integer i=1+GetPlayerId(p)local unit u=ER[i]local unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(uc)local real BW=1.local real cW=0if GetUnitAbilityLevel(u,'A07R')>=1 thenset BW=BW+.7endifif GetUnitAbilityLevel(u,'A07A')>=1 thencall PW(u,uc,5)endifset cW=bW(u,uc,250,180,BW,'A0DE')if IsUnitEnemy(uc,GetOwningPlayer(u))thencall gW(u,uc,cW)elsecall SetWidgetLife(uc,GetUnitState(uc,UNIT_STATE_LIFE)+cW/ 10)call SetUnitState(uc,UNIT_STATE_MANA,GetUnitState(uc,UNIT_STATE_MANA)+200)endifcall RemoveLocation(vJ)set p=nullset u=nullset uc=nullset vJ=nullendfunctionfunction orv takes nothing returns booleanreturn IsUnitAliveBJ(GetFilterUnit())endfunctionfunction oiv takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)local location Zz=nulllocal group g=nulllocal unit bU=nulllocal unit uc=GetSpellTargetUnit()local integer i=0local integer W0=10if GetUnitAbilityLevel(u,'A06H')>=1 thenset W0=W0+3endifif GetUnitAbilityLevel(u,'A07V')>=1 thenset W0=W0+3endifif GetUnitAbilityLevel(u,'A0D4')>=1 thenset W0=W0+50endifcall GW(u,'A0DE',150.)call CreateNUnitsAtLoc(1,'e00Y',GetOwningPlayer(u),vJ,bj_UNIT_FACING)set bU=bj_lastCreatedUnitcall UnitAddAbility(bU,'A0DG')call UnitApplyTimedLife(bU,1112045413,2.)call ShowUnitHide(bU)call IssueTargetOrderById(bU,$D0097,uc)call RemoveLocation(vJ)loopexitwhen i>W0set Zz=GetUnitLoc(uc)set g=CreateGroup()call GroupEnumUnitsInRangeOfLoc(g,Zz,800,Condition(function orv))if g!=null thencall CreateNUnitsAtLoc(1,'e00Y',GetOwningPlayer(u),Zz,bj_UNIT_FACING)set bU=bj_lastCreatedUnitcall UnitAddAbility(bU,'A0DG')call UnitApplyTimedLife(bU,1112045413,2.)call ShowUnitHide(bU)set uc=GroupPickRandomUnit(g)call IssueTargetOrderById(bU,$D0097,uc)call DestroyGroup(g)call RemoveLocation(Zz)call FL(0.15)elsecall DestroyGroup(g)call RemoveLocation(Zz)exitwhen trueendifset i=i+1endloopset u=nullset vJ=nullset Zz=nullset uc=nullset bU=nullset g=nullendfunctionfunction oav takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function xSv))call TriggerAddAction(t,function xuv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function xwv))call TriggerAddAction(t,function xYv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function xzv))call TriggerAddAction(t,function x_v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function x0v))call TriggerAddAction(t,function x1v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function x2v))call TriggerAddAction(t,function x4v)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function x5v))call TriggerAddAction(t,function ovv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function oev))call TriggerAddAction(t,function oiv)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function oxv))call TriggerAddAction(t,function oov)set t=nullendfunctionfunction onv takes nothing returns booleanreturn GetSpellAbilityId()=='A021'endfunctionfunction oVv takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)local location array Zzlocal integer i=0call GW(GetTriggerUnit(),'A021',350)set i=1loopexitwhen i>6set Zz[i]=pu(vJ,200,60*i)call CreateNUnitsAtLoc(1,'h00G',GetOwningPlayer(GetTriggerUnit()),Zz[i],bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A022')if GetUnitAbilityLevel(u,'A023')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A022')endifcall IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0208,Zz[i])call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,10.)call RemoveLocation(Zz[i])set Zz[i]=nullset i=i+1endloopcall RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction oEv takes nothing returns booleanreturn GetUnitTypeId(GetEventDamageSource())=='h00G' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))endfunctionfunction oXv takes nothing returns nothinglocal unit u=ER[1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]local unit uc=GetTriggerUnit()local real BW=1local real cW=0.local location Zz=GetUnitLoc(uc)if GetUnitAbilityLevel(u,'A024')>=1 thenset BW=BW+0.8endifif GetUnitAbilityLevel(u,'A07J')>=1 thenset BW=BW+1.2endifif GetUnitAbilityLevel(u,'A09D')>=1 thenset BW=BW+2endifif GetUnitAbilityLevel(u,'A07T')>=1 and UnitHasBuffBJ(uc,'BHbn')==false and GetRandomInt(1,100)<=30 thencall CreateNUnitsAtLoc(1,'e00X',GetOwningPlayer(u),Zz,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A025')call IssueTargetOrderById(bj_lastCreatedUnit,$D0206,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call ShowUnitHide(bj_lastCreatedUnit)call CreateTextTagLocBJ("放逐",Zz,0,12.,65.,55.,42.,0)call Nw(1.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifset cW=bW(u,uc,2.,2.,BW,'A021')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction oOv takes nothing returns booleanreturn GetSpellAbilityId()=='A01Z'endfunctionfunction oRv takes nothing returns nothinglocal location vJ=GetSpellTargetLoc()local unit u=nullcall GW(GetTriggerUnit(),'A01Z',250)call CreateNUnitsAtLoc(1,'h00F',GetOwningPlayer(GetTriggerUnit()),vJ,bj_UNIT_FACING)set u=bj_lastCreatedUnitcall ShowUnitHide(u)call UnitAddAbility(u,'A020')if GetUnitAbilityLevel(GetTriggerUnit(),'A07T')>=1 thencall IncUnitAbilityLevel(u,'A020')endifif GetUnitAbilityLevel(GetTriggerUnit(),'A024')>=1 thencall IncUnitAbilityLevel(u,'A020')endifcall IssuePointOrderByIdLoc(u,$D0079,vJ)call UnitApplyTimedLife(u,1112045413,10.)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction oIv takes nothing returns booleanreturn GetUnitTypeId(GetEventDamageSource())=='h00F' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))endfunctionfunction oAv takes nothing returns nothinglocal unit u=ER[1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]local unit uc=GetTriggerUnit()local real BW=1local real cW=0.local real r1=GetRandomReal(1.,12.)*6.if GetUnitAbilityLevel(u,'A07J')>=1 thenset BW=BW+1endifif GetUnitAbilityLevel(u,'A023')>=1 thenset BW=BW+0.8endifif GetUnitAbilityLevel(u,'A07F')>=1 thenset BW=BW+1.1endifset cW=bW(u,uc,r1,r1,BW,'A01Z')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction oNv takes nothing returns booleanreturn(GetUnitAbilityLevel(GetTriggerUnit(),'A0CD')>=1)and GetSpellAbilityId()!='A05R' and GetSpellAbilityId()!='AIha'endfunctionfunction obv takes nothing returns booleanreturn IsUnitAliveBJ(GetFilterUnit())and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction oBv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=nulllocal location vJ=GetUnitLoc(u)local location Zz=nulllocal group g=CreateGroup()local real r=1.0if GetUnitAbilityLevel(u,'A07F')>=1 thenset r=2.0endifcall GW(u,'A0CD',500)call GroupEnumUnitsInRangeOfLoc(g,vJ,700,Condition(function obv))set uc=GroupPickRandomUnit(g)if uc!=null thencall SetWidgetLife(uc,GetWidgetLife(uc)*(0.94-0.015*GetUnitAbilityLevel(u,'A0CD')*r))call DestroyEffect(AddSpecialEffectTargetUnitBJ("overhead",uc,"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl"))set Zz=GetUnitLoc(uc)if GetUnitAbilityLevel(u,'A07T')>=1 thencall CreateNUnitsAtLoc(1,'e00X',GetOwningPlayer(u),Zz,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A0D5')call IssueTargetOrderById(bj_lastCreatedUnit,$D007F,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call ShowUnitHide(bj_lastCreatedUnit)call CreateTextTagLocBJ("封穴",Zz,0,12.,65.,55.,42.,0)call Nw(1.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifif(GetUnitAbilityLevel(u,'A024')!=0)thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(u),Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093678901)call IssueTargetOrderById(bj_lastCreatedUnit,$D022F,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call CreateTextTagLocBJ("流血",Zz,60.,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifif(GetUnitAbilityLevel(u,'A023')!=0)thencall PW(u,uc,9)endifcall RemoveLocation(Zz)endifif GetUnitAbilityLevel(u,'A09D')>=1 thenset uc=GroupPickRandomUnit(g)if uc!=null thencall SetWidgetLife(uc,GetWidgetLife(uc)*(0.94-0.015*GetUnitAbilityLevel(u,'A0CD')*r))call DestroyEffect(AddSpecialEffectTargetUnitBJ("overhead",uc,"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl"))endifendifcall RemoveLocation(vJ)call DestroyGroup(g)set u=nullset uc=nullset vJ=nullset Zz=nullset g=nullendfunctionfunction ocv takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())=='ohwd'endfunctionfunction oCv takes nothing returns booleanreturn IsUnitAliveBJ(GetFilterUnit())and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction odv takes nothing returns nothinglocal unit u=ER[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]local unit uc=GetEnumUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)if GetUnitAbilityLevel(u,'A080')>=1 thenset BW=BW+2endifif GetUnitAbilityLevel(u,'A09D')>=1 thenset BW=BW+2endifset cW=bW(u,uc,100.,50.,BW,'A023')call gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTargetUnitBJ("overhead",uc,"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl"))if GetUnitAbilityLevel(u,'A07T')>=1 and GetRandomInt(1,100)<=30 thencall CreateNUnitsAtLoc(1,'e00X',GetOwningPlayer(u),Zz,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A0D5')call IssueTargetOrderById(bj_lastCreatedUnit,$D007F,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call ShowUnitHide(bj_lastCreatedUnit)call CreateTextTagLocBJ("封穴",Zz,0,12.,65.,55.,42.,0)call Nw(1.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifif GetUnitAbilityLevel(u,'A07S')>=1 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A0DF')call IssueTargetOrderById(bj_lastCreatedUnit,$D0062,u)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,3.)endifif GetUnitAbilityLevel(u,'A07F')>=1 and GetRandomInt(1,100)<=30 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A019')call IssueTargetOrderById(bj_lastCreatedUnit,$D00B5,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call CreateTextTagLocBJ("破防",vJ,60.,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifcall RemoveLocation(Zz)call RemoveLocation(vJ)set u=nullset uc=nullset Zz=nullset vJ=nullendfunctionfunction oDv takes nothing returns nothinglocal unit u=ER[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]local location vJ=GetUnitLoc(GetTriggerUnit())local group g=CreateGroup()call GW(u,'A023',100)call GroupEnumUnitsInRangeOfLoc(g,vJ,600,Condition(function oCv))call ForGroupBJ(g,function odv)call DestroyGroup(g)call RemoveLocation(vJ)set u=nullset g=nullset vJ=nullendfunctionfunction ofv takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A024')>=1endfunctionfunction oFv takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local real BW=1.local real cW=0.local integer HJ=0if GetUnitAbilityLevel(u,'A07T')>=1 thenset BW=BW+0.8endifif GetUnitAbilityLevel(u,'A07P')>=1 thenset BW=BW+0.7endifif GetRandomInt(1,100)<15+fR[i]/ 5 thenset cW=bW(u,uc,80.,40.,BW,'A024')call gW(u,uc,cW)call GW(u,'A024',700)if GetUnitAbilityLevel(u,'A09D')>=1 and GetRandomInt(1,100)<=20 thenset HJ=GetUnitAbilityLevel(u,'A024')call UnitRemoveAbility(u,'A024')call UnitAddAbility(u,'A024')call SetUnitAbilityLevel(u,'A024',HJ)endifendifset u=nullset uc=nullset p=nullendfunctionfunction ogv takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function oOv))call TriggerAddAction(t,function oRv)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function oIv))call TriggerAddAction(t,function oAv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function onv))call TriggerAddAction(t,function oVv)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function oEv))call TriggerAddAction(t,function oXv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function oNv))call TriggerAddAction(t,function oBv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ocv))call TriggerAddAction(t,function oDv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function ofv))call TriggerAddAction(t,function oFv)set t=nullendfunctionfunction oGv takes nothing returns booleanreturn(GetUnitAbilityLevel(GetAttacker(),'A04M')>=1 or GetUnitAbilityLevel(GetTriggerUnit(),'A04M')>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))endfunctionfunction ohv takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A04M')>=1 thenreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))==true)and IsUnitAliveBJ(GetFilterUnit())elsereturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)and IsUnitAliveBJ(GetFilterUnit())endifendfunctionfunction oHv takes nothing returns nothinglocal unit u=nulllocal unit bU=GetEnumUnit()local player p=nulllocal integer i=1local real cW=0.local real BW=1.if GetUnitAbilityLevel(GetAttacker(),'A04M')>=1 thenset u=GetAttacker()elseset u=GetTriggerUnit()endifset p=GetOwningPlayer(u)set i=1+GetPlayerId(p)if GetUnitAbilityLevel(u,'A071')>=1 thenset BW=BW+0.8endifif GetUnitAbilityLevel(u,'A06J')>=1 thenset BW=BW+0.9endifif sw(u,'I01L')or sw(u,'I00C')or sw(u,'I00B')or sw(u,'I099')or sw(u,'I09A')or sw(u,'I09C')thenset BW=BW*2endifset cW=bW(u,bU,25,6,BW,'A04M')call gW(u,bU,cW)if GetUnitAbilityLevel(u,'A07F')>=1 thencall PW(u,bU,2)endifset p=nullset u=nullset bU=nullendfunctionfunction ojv takes nothing returns nothinglocal unit u=nulllocal player p=nulllocal real fD=0.local location vJ=nulllocal location Zz=nulllocal location c1=nulllocal group g=CreateGroup()local integer i=1local integer j=1if GetUnitAbilityLevel(GetAttacker(),'A04M')>=1 thenset u=GetAttacker()elseset u=GetTriggerUnit()endifset fD=GetUnitFacing(u)set p=GetOwningPlayer(u)set i=1+GetPlayerId(p)set vJ=GetUnitLoc(u)set Zz=AD(vJ,GetRandomReal(100,300),fD)set c1=AD(vJ,GetRandomReal(100,300),180+fD)if(GetRandomReal(.0,100.)<=15+fR[i]/ 5)thencall GW(u,'A04M',900.)call DestroyEffect(AddSpecialEffectLocBJ(Zz,"war3mapImported\\aquaspike.mdl"))call GroupEnumUnitsInRangeOfLoc(g,Zz,500,Condition(function ohv))if GetUnitAbilityLevel(u,'A07U')>=1 thencall DestroyEffect(AddSpecialEffectLocBJ(c1,"war3mapImported\\aquaspike.mdl"))call GroupEnumUnitsInRangeOfLoc(g,c1,500,Condition(function ohv))endifcall ForGroupBJ(g,function oHv)endifcall GroupClear(g)call RemoveLocation(vJ)call RemoveLocation(Zz)call RemoveLocation(c1)set g=nullset u=nullset p=nullset vJ=nullset Zz=nullset c1=nullendfunctionfunction oJv takes nothing returns booleanreturn GetSpellAbilityId()=='A04N' and(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())))endfunctionfunction okv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetSpellTargetUnit()local unit bU=nulllocal unit oKv=nulllocal location vJ=GetUnitLoc(uc)local location Zz=GetUnitLoc(u)local group g=CreateGroup()local real cW=0.local real BW=1.local integer id=0if GetUnitAbilityLevel(u,'A0DN')>=1 thenif((GetUnitTypeId(u)=='O004'))thenset id=1747988533elseif((GetUnitTypeId(u)=='O001'))thenset id=1747988535elseif((GetUnitTypeId(u)=='O002'))thenset id=1747988536elseif((GetUnitTypeId(u)=='O003'))thenset id=1747988537elseif((GetUnitTypeId(u)=='O000'))thenset id=1747988534elseif((GetUnitTypeId(u)=='O023' or GetUnitTypeId(u)=='O02H' or GetUnitTypeId(u)=='O02I'))thenset id='h00I'elseif((GetUnitTypeId(u)=='O02J'))thenset id='h00K'endifcall CreateNUnitsAtLoc(1,id,GetOwningPlayer(u),Zz,bj_UNIT_FACING)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)set oKv=bj_lastCreatedUnitelseset oKv=uendifcall GW(u,'A04N',200)call SetUnitTimeScale(oKv,0.3)call mu(2,AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl",oKv,"chest"))call GM(oKv,AngleBetweenPoints(Zz,vJ),2*DistanceBetweenPoints(Zz,vJ),2,0.01,400.)call FL(1.0)call CreateNUnitsAtLoc(1,'e01A',GetOwningPlayer(u),vJ,bj_UNIT_FACING)set bU=bj_lastCreatedUnitcall UnitAddAbility(bU,'A04O')call UnitApplyTimedLife(bU,1112045413,2.)call ShowUnitHide(bU)call IssueTargetOrderById(bU,$D0097,uc)if GetUnitAbilityLevel(u,'A06J')>=1 thenset BW=BW+0.9endifif GetUnitAbilityLevel(u,'A071')>=1 thenset BW=BW+0.9endifif GetUnitAbilityLevel(u,'A07J')>=1 thenset BW=BW+1.5endifif sw(u,'I01L')or sw(u,'I00C')or sw(u,'I00B')or sw(u,'I099')or sw(u,'I09A')or sw(u,'I09C')thenset BW=BW*2endifif GetUnitAbilityLevel(u,'A07R')>=1 thencall PW(u,uc,12)endifset cW=bW(u,uc,300,100,BW,'A04N')call gW(u,uc,cW)call RemoveLocation(vJ)call RemoveLocation(Zz)call FL(1.0)call SetUnitTimeScale(oKv,1.0)set u=nullset uc=nullset vJ=nullset Zz=nullset bU=nullset oKv=nullset g=nullendfunctionfunction olv takes nothing returns booleanreturn(GetUnitAbilityLevel(GetAttacker(),'A04P')>=1 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))endfunctionfunction oLv takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer id='o02K'local location Yz=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)local real fD=AngleBetweenPoints(Yz,Zz)if(GetRandomReal(.0,100.)<=15+fR[i]/ 5)thencall CreateNUnitsAtLocFacingLocBJ(1,id,p,AD(Yz,300,180+fD),Zz)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',5.+5.*GetUnitAbilityLevel(u,'S002'))if GetUnitAbilityLevel(u,'A06J')>=1 thencall UnitAddAbility(bj_lastCreatedUnit,'A03M')endifif GetUnitAbilityLevel(u,'A07J')>=1 thencall UnitAddAbility(bj_lastCreatedUnit,'A03O')endifcall GW(u,'A04P',700.)call RemoveLocation(Yz)call RemoveLocation(Zz)endifset Yz=nullset Zz=nullset p=nullset u=nullset uc=nullendfunctionfunction omv takes nothing returns booleanreturn GetUnitTypeId(GetEventDamageSource())=='o02K'endfunctionfunction oMv takes nothing returns nothinglocal player p=GetOwningPlayer(GetEventDamageSource())local integer i=1+GetPlayerId(p)local unit u=ER[i]local unit uc=GetTriggerUnit()local real cW=0.local real BW=1.if GetUnitAbilityLevel(u,'A071')>=1 thenset BW=BW+0.7endifif GetUnitAbilityLevel(u,'A07F')>=1 thenset BW=BW+1.6endifif sw(u,'I01L')or sw(u,'I00C')or sw(u,'I00B')or sw(u,'I099')or sw(u,'I09A')or sw(u,'I09C')thenset BW=BW*2endifset cW=bW(u,uc,50.,28.,BW,'A04P')call gW(u,uc,cW)set uc=nullset u=nullset p=nullendfunctionfunction opv takes nothing returns booleanreturn(GetUnitAbilityLevel(GetAttacker(),'A04R')>=1 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))endfunctionfunction oPv takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer id='h00L'local location Yz=GetUnitLoc(u)local location Zz=GetUnitLoc(uc)if(GetRandomReal(.0,100.)<=15+fR[i]/ 5)thencall CreateNUnitsAtLocFacingLocBJ(1,id,p,Yz,Zz)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',6.+6.*GetUnitAbilityLevel(u,'A083'))call GW(u,'A04R',600.)call RemoveLocation(Yz)call RemoveLocation(Zz)endifset Yz=nullset Zz=nullset p=nullset u=nullset uc=nullendfunctionfunction oqv takes nothing returns booleanreturn GetUnitTypeId(GetEventDamageSource())=='h00L'endfunctionfunction oQv takes nothing returns nothinglocal player p=GetOwningPlayer(GetEventDamageSource())local integer i=1+GetPlayerId(p)local unit u=ER[i]local unit uc=GetTriggerUnit()local real cW=0.local real BW=1.local location vJ=GetUnitLoc(uc)if GetUnitAbilityLevel(u,'A06J')>=1 thenset BW=BW+0.6endifif sw(u,'I01L')or sw(u,'I00C')or sw(u,'I00B')or sw(u,'I099')or sw(u,'I09A')or sw(u,'I09C')thenset BW=BW*2endifset cW=bW(u,uc,200.,80.,BW,'A04R')call gW(u,uc,cW)if GetUnitAbilityLevel(u,'A07P')>=1 thencall PW(u,uc,7)endifif(GetRandomReal(.0,100.)<=15+fR[i]/ 5+GetUnitAbilityLevel(u,'A07U')*21)thencall CreateNUnitsAtLoc(1,'e000',p,vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A04Q')if GetUnitAbilityLevel(u,'A07J')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A04Q')endifcall IssueTargetOrderById(bj_lastCreatedUnit,$D00CB,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)endifcall RemoveLocation(vJ)set uc=nullset u=nullset p=nullset vJ=nullendfunctionfunction osv takes nothing returns booleanreturn(GetEventDamage()==6.28)and(GetUnitAbilityLevel(ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))],'A04R')>=1)endfunctionfunction oSv takes nothing returns nothinglocal unit u=ER[(1+GetPlayerId(GetOwningPlayer(GetEventDamageSource())))]local unit uc=GetTriggerUnit()local real BW=1.local real cW=0.if GetUnitAbilityLevel(u,'A06J')>=1 thenset BW=BW+0.6endifif sw(u,'I01L')or sw(u,'I00C')or sw(u,'I00B')or sw(u,'I099')or sw(u,'I09A')or sw(u,'I09C')thenset BW=BW*2endifset cW=bW(u,uc,200,80,BW,'A04R')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction otv takes nothing returns booleanreturn((GetSpellAbilityId()=='A026'))endfunctionfunction oTv takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetSpellTargetLoc()local location Zz=nulllocal unit bU=nulllocal integer i=0call GW(u,'A026',100)call SaveUnitHandle(Jv,StringHash("泉鸣"),1,u)call SaveLocationHandle(Jv,StringHash("泉鸣"),0,vJ)call TerrainDeformationCraterBJ(15.80,false,vJ,400.00,400.00)call CreateNUnitsAtLoc(1,'e00Z',GetOwningPlayer(u),vJ,bj_UNIT_FACING)set bU=bj_lastCreatedUnitset i=1loopexitwhen i>16call CreateNUnitsAtLocFacingLocBJ(1,'e011',GetOwningPlayer(GetTriggerUnit()),AD(vJ,350.00,(22.50*i)),vJ)call UnitApplyTimedLifeBJ(13.50,'BTLF',GetLastCreatedUnit())call DestroyEffect(AddSpecialEffectLocBJ(AD(vJ,350.00,22.50*I2R(i)),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"))set i=i+1endloopset i=1loopexitwhen i>30set Zz=GetRandomLocInRect(RectFromCenterSizeBJ(vJ,350.00,350.00))call CreateNUnitsAtLoc(1,'e010',GetOwningPlayer(u),Zz,bj_UNIT_FACING)call UnitApplyTimedLifeBJ(15.00,'BTLF',GetLastCreatedUnit())call RemoveLocation(Zz)set i=i+1endloopcall TriggerSleepAction(1.50)call EnableTrigger(nb)call TriggerSleepAction(13.50)call DisableTrigger(nb)call TriggerSleepAction(0.50)set i=1loopexitwhen i>16call DestroyEffect(AddSpecialEffectLocBJ(AD(vJ,350.00,22.50*I2R(i)),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"))set i=i+1endloopcall RemoveUnit(bU)call RemoveLocation(vJ)set u=nullset bU=nullset vJ=nullset Zz=nullendfunctionfunction ouv takes nothing returns booleanreturn(UnitHasBuffBJ(GetFilterUnit(),'Basl')==true)endfunctionfunction oUv takes nothing returns nothinglocal location vJ=LoadLocationHandle(Jv,StringHash("泉鸣"),0)local unit u=LoadUnitHandle(Jv,StringHash("泉鸣"),1)local real BW=1.local real cW=0.if GetUnitAbilityLevel(u,'A06J')>=1 thenset BW=BW+0.5endifif GetUnitAbilityLevel(u,'A071')>=1 thenset BW=BW+0.5endifif GetUnitAbilityLevel(u,'A07F')>=1 thenset BW=BW+0.8endifif GetUnitAbilityLevel(u,'A07J')>=1 thenset BW=BW+0.8endifif GetUnitAbilityLevel(u,'A06J')>=1 and GetUnitAbilityLevel(u,'A071')>=1 and GetUnitAbilityLevel(u,'A07F')>=1 and GetUnitAbilityLevel(u,'A07J')>=1 thenset BW=BW+4endifif sw(u,'I01L')or sw(u,'I00C')or sw(u,'I00B')or sw(u,'I099')or sw(u,'I09A')or sw(u,'I09C')thenset BW=BW*2endifset cW=bW(u,GetEnumUnit(),60,95,BW,'A026')call SetUnitPositionLoc(GetEnumUnit(),vJ)call gW(u,GetEnumUnit(),cW)set vJ=nullendfunctionfunction owv takes nothing returns nothinglocal location vJ=LoadLocationHandle(Jv,StringHash("泉鸣"),0)local integer i=0call ForGroupBJ(pl(470.00,vJ,Condition(function ouv)),function oUv)set i=1loopexitwhen i>7call DestroyEffect(AddSpecialEffectLocBJ(GetRandomLocInRect(RectFromCenterSizeBJ(vJ,350.00,350.00)),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"))set i=i+1endloopset vJ=nullendfunctionfunction oWv takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function oGv))call TriggerAddAction(t,function ojv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function oJv))call TriggerAddAction(t,function okv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function olv))call TriggerAddAction(t,function oLv)set t=CreateTrigger()call Ov(t)call TriggerAddCondition(t,Condition(function omv))call TriggerAddAction(t,function oMv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function opv))call TriggerAddAction(t,function oPv)set t=CreateTrigger()call Ov(t)call TriggerAddCondition(t,Condition(function oqv))call TriggerAddAction(t,function oQv)set t=CreateTrigger()call Ov(t)call TriggerAddCondition(t,Condition(function osv))call TriggerAddAction(t,function oSv)set nb=CreateTrigger()call DisableTrigger(nb)call TriggerRegisterTimerEventPeriodic(nb,1.00)call TriggerAddAction(nb,function owv)set ab=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(ab,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(ab,Condition(function otv))call TriggerAddAction(ab,function oTv)endfunctionfunction oyv takes nothing returns booleanlocal integer i=1loopexitwhen i>5if dX[i]==0 and GetUnitAbilityLevel(ER[i],'A02B')>=1 thenset dX[i]=1call SaveInteger(Jv,StringHash("折梅"),StringHash("折梅"),i)return trueendifset i=i+1endloopreturn falseendfunctionfunction oYv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)if GetUnitAbilityLevel(u,'A02B')>=1 thencall UnitAddAbilityBJ('A02X',u)call SetPlayerAbilityAvailableBJ(false,'A02X',GetOwningPlayer(u))set Vb=AddSpecialEffectTargetUnitBJ("overhead",u,"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")elsecall FlushChildHashtable(Jv,GetHandleId(t))call PauseTimer(t)call DestroyTimer(t)endifset t=nullset u=nullendfunctionfunction ozv takes nothing returns nothinglocal timer t=CreateTimer()local unit u=ER[LoadInteger(Jv,StringHash("折梅"),StringHash("折梅"))]call SaveUnitHandle(Jv,GetHandleId(t),0,u)call TimerStart(t,1.,false,function oYv)set t=nullset u=nullendfunctionfunction oZv takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A02W')>=1 and(IsUnitType((GetAttacker()),(UNIT_TYPE_HERO))!=null)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))endfunctionfunction o_v takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction o0v takes nothing returns nothinglocal unit uc=GetEnumUnit()local unit u=GetAttacker()local location vJ=GetUnitLoc(uc)local real BW=1.local real cW=0.set BW=RMinBJ(1.+I2R(GetHeroInt(u,true))/ 600.,15.)if((GetUnitAbilityLevel(u,'A02C')!=0))thenset BW=BW+0.5endifif((GetUnitAbilityLevel(u,'A02H')!=0))thenset BW=BW+0.6endifif((GetUnitAbilityLevel(u,'A0D6')!=0))thenset BW=BW+0.7endifcall DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl"))call RemoveLocation(vJ)set cW=bW(u,uc,9,18,BW,'A02B')call gW(u,uc,cW)set u=nullset uc=nullset vJ=nullendfunctionfunction o1v takes nothing returns nothinglocal timer t=CreateTimer()local unit u=GetAttacker()local unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(u)local real BW=1.local integer i=1+GetPlayerId(GetOwningPlayer(u))local real j=RMaxBJ(7.-I2R(GetHeroAgi(u,true))/ 400.,0.5)local real KF=500.+50.*GetUnitAbilityLevel(u,'A02B')+I2R(GetHeroStr(u,true))/ 10.call UnitRemoveAbility(u,'A02X')call DestroyEffect(Vb)set Vb=nullcall SaveUnitHandle(Jv,GetHandleId(t),0,u)call TimerStart(t,j,false,function oYv)call ForGroupBJ(pl(KF,vJ,Condition(function o_v)),function o0v)call GW(u,'A02B',450.)if(GetUnitAbilityLevel(u,'A02H')>=1)and GetRandomInt(1,4)==1 thencall PW(u,uc,2)endifif(GetUnitAbilityLevel(u,'A07N')>=1)and GetRandomInt(1,4)==1 thencall PW(u,uc,11)endifcall RemoveLocation(vJ)endfunctionfunction o2v takes nothing returns booleanreturn(GetSpellAbilityId()=='A02C')endfunctionfunction o3v takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and(IsUnitAliveBJ(GetFilterUnit()))endfunctionfunction o4v takes nothing returns nothinglocal unit uc=GetEnumUnit()local unit u=GetTriggerUnit()local location vJ=GetUnitLoc(uc)local real BW=1.local real cW=0.set BW=RMinBJ(1.+I2R(GetHeroInt(u,true))/ 600.,15.)if((GetUnitAbilityLevel(u,'A02C')!=0))thenset BW=BW+0.5endifif((GetUnitAbilityLevel(u,'A02H')!=0))thenset BW=BW+0.6endifif((GetUnitAbilityLevel(u,'A0D6')!=0))thenset BW=BW+0.7endifcall DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl"))call RemoveLocation(vJ)set cW=bW(u,uc,9,18,BW,'A02B')call gW(u,uc,cW)set u=nullset uc=nullset vJ=nullendfunctionfunction o5v takes nothing returns nothinglocal unit u=GetTriggerUnit()local real r=5.local integer HJ=1local location vJ=GetUnitLoc(u)local location Zz=GetSpellTargetLoc()if GetUnitAbilityLevel(u,'A07S')>=1 thenset r=r+3.endifif GetUnitAbilityLevel(u,'A02G')>=1 thenset r=r+3.endifcall GW(u,'A02C',100.)call SaveInteger(Jv,GetHandleId(u),'A02C'*100,LoadInteger(Jv,GetHandleId(u),'A02C'*100)+1)call UnitAddAbility(u,'A006')if GetUnitAbilityLevel(u,'A07Q')>=1 thencall UnitAddAbilityBJ('A02T',u)call SetPlayerAbilityAvailableBJ(false,'A02T',GetOwningPlayer(u))endifif GetUnitAbilityLevel(u,'A07O')>=1 thencall UnitAddAbility(u,'A02D')endifcall ForGroupBJ(pl(300,vJ,Condition(function o3v)),function o4v)call ForGroupBJ(pl(300,Zz,Condition(function o3v)),function o4v)call FL(1.)if GetUnitAbilityLevel(u,'A07U')>=1 and GetRandomInt(1,2)==1 thenset HJ=GetUnitAbilityLevel(u,'A02C')call UnitRemoveAbility(u,'A02C')call UnitAddAbility(u,'A02C')call SetUnitAbilityLevel(u,'A02C',HJ)endifcall FL(r-1)call SaveInteger(Jv,GetHandleId(u),'A02C'*100,LoadInteger(Jv,GetHandleId(u),'A02C'*100)-1)if LoadInteger(Jv,GetHandleId(u),'A02C'*100)==0 thencall UnitRemoveAbility(u,'A006')if GetUnitAbilityLevel(u,'A07Q')>=1 thencall UnitRemoveAbility(u,'A02T')endifif GetUnitAbilityLevel(u,'A07O')>=1 thencall UnitRemoveAbility(u,'A02D')endifendifendfunctionfunction o6v takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A02C')>=1 and GetUnitAbilityLevel(GetAttacker(),'A02H')>=1 and GetRandomInt(1,100)<=15 and GetUnitAbilityLevel(GetAttacker(),'A02E')==0endfunctionfunction o7v takes nothing returns nothingcall UnitAddAbility(GetAttacker(),'A02E')call FL(5.)call UnitRemoveAbility(GetAttacker(),'A02E')endfunctionfunction o8v takes nothing returns booleanreturn(GetSpellAbilityId()=='A02F')endfunctionfunction o9v takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)local location Zz=nullcall GW(GetTriggerUnit(),'A02F',200)call CreateNUnitsAtLoc(1,'h00H',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call SetUnitVertexColorBJ(bj_lastCreatedUnit,100,100,100,100)call UnitAddAbility(bj_lastCreatedUnit,'Aloc')call UnitAddAbility(bj_lastCreatedUnit,'A02J')if GetUnitAbilityLevel(u,'A07H')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A02J')endifcall IssueImmediateOrderById(bj_lastCreatedUnit,$D00A0)call IssueTargetOrderById(bj_lastCreatedUnit,$D0012,u)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',7.)if GetUnitAbilityLevel(u,'A07U')>=1 thenset Zz=pu(vJ,256.,GetRandomReal(0,360.))call CreateNUnitsAtLoc(1,'h00H',GetOwningPlayer(u),Zz,bj_UNIT_FACING)call SetUnitVertexColorBJ(bj_lastCreatedUnit,100,100,100,100)call UnitAddAbility(bj_lastCreatedUnit,'Aloc')call UnitAddAbility(bj_lastCreatedUnit,'A02J')if GetUnitAbilityLevel(u,'A07H')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A02J')endifcall IssueImmediateOrderById(bj_lastCreatedUnit,$D00A0)call IssueTargetOrderById(bj_lastCreatedUnit,$D0012,u)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',7.)endifif GetUnitAbilityLevel(u,'A0DN')>=1 thencall UnitAddAbility(u,'A0CQ')call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A0CQ',false)endifcall FL(7.)call UnitRemoveAbility(u,'A0CQ')call RemoveLocation(vJ)call RemoveLocation(Zz)set u=nullset vJ=nullset Zz=nullendfunctionfunction rvv takes nothing returns booleanreturn GetUnitTypeId(GetEventDamageSource())=='h00H' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))endfunctionfunction rev takes nothing returns nothinglocal unit u=ER[1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]local unit uc=GetTriggerUnit()local real BW=1local real cW=0.if GetUnitAbilityLevel(u,'A02G')>=1 thenset BW=BW+0.8endifset cW=bW(u,uc,48.,48.,BW,'A02F')call gW(u,uc,cW)if UnitHasBuffBJ(u,'B00Y')and GetUnitAbilityLevel(u,'A018')>=1 thencall gW(u,uc,cW*30)endifset u=nullset uc=nullendfunctionfunction rxv takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A02F')>=1 and GetUnitAbilityLevel(GetAttacker(),'A06M')>=1 and GetRandomInt(1,100)<=8endfunctionfunction rov takes nothing returns nothinglocal unit u=GetAttacker()local location vJ=GetUnitLoc(u)call CreateNUnitsAtLoc(1,'h00H',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call SetUnitVertexColorBJ(bj_lastCreatedUnit,100,100,100,100)call UnitAddAbility(bj_lastCreatedUnit,'Aloc')call UnitAddAbility(bj_lastCreatedUnit,'A02J')if GetUnitAbilityLevel(u,'A07H')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A02J')endifcall IssueImmediateOrderById(bj_lastCreatedUnit,$D00A0)call IssueTargetOrderById(bj_lastCreatedUnit,$D0012,u)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',7.)if GetUnitAbilityLevel(u,'A0DN')>=1 thencall UnitAddAbility(u,'A0CQ')call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A0CQ',false)endifcall FL(7.)call UnitRemoveAbility(u,'A0CQ')call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction rrv takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A02G')>=1endfunctionfunction riv takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer j=LoadInteger(Jv,GetHandleId(t),0)local unit u=LoadUnitHandle(Jv,GetHandleId(t),1)local integer rav=LoadInteger(Jv,GetHandleId(t),2)local integer HJ=LoadInteger(Jv,GetHandleId(t),3)call ModifyHeroStat(j,u,1,rav*HJ*6)call PauseTimer(t)call DestroyTimer(t)set t=nullset u=nullendfunctionfunction rnv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),1)local integer rav=LoadInteger(Jv,GetHandleId(t),2)local integer HJ=LoadInteger(Jv,GetHandleId(t),3)call ModifyHeroStat(0,u,1,rav*HJ)call ModifyHeroStat(1,u,1,rav*HJ)call ModifyHeroStat(2,u,1,rav*HJ)call PauseTimer(t)call DestroyTimer(t)set t=nullset u=nullendfunctionfunction rVv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),1)local integer i=1+GetPlayerId(GetOwningPlayer(u))local integer rav=LoadInteger(Jv,GetHandleId(t),2)local integer HJ=LoadInteger(Jv,GetHandleId(t),3)set qO[i]=qO[i]-HJcall PauseTimer(t)call DestroyTimer(t)set t=nullset u=nullendfunctionfunction rEv takes nothing returns nothinglocal unit u=GetAttacker()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer rav=8local integer HJ=GetUnitAbilityLevel(u,'A02G')local location vJ=GetUnitLoc(u)local integer j=GetRandomInt(0,2)local timer t=nullif GetUnitAbilityLevel(u,'A07W')>=1 thenset rav=15endifif GetRandomInt(1,100)<6+fR[i]/ 3+GetUnitAbilityLevel(u,'A085')*3 thencall GW(u,'A02G',700-70*GetUnitAbilityLevel(u,'A089'))if GetUnitAbilityLevel(u,'A0D2')>=1 thencall ModifyHeroStat(j,u,0,rav*HJ*6)set t=CreateTimer()call SaveInteger(Jv,GetHandleId(t),0,j)call SaveUnitHandle(Jv,GetHandleId(t),1,u)call SaveInteger(Jv,GetHandleId(t),2,rav)call SaveInteger(Jv,GetHandleId(t),3,HJ)call TimerStart(t,12.,false,function riv)elsecall ModifyHeroStat(0,u,0,rav*HJ)call ModifyHeroStat(1,u,0,rav*HJ)call ModifyHeroStat(2,u,0,rav*HJ)set t=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(t),1,u)call SaveInteger(Jv,GetHandleId(t),2,rav)call SaveInteger(Jv,GetHandleId(t),3,HJ)call TimerStart(t,12.,false,function rnv)endifcall DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl"))if GetUnitAbilityLevel(u,'A083')>=1 thenset qO[i]=qO[i]+HJset t=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(t),1,u)call SaveInteger(Jv,GetHandleId(t),2,rav)call SaveInteger(Jv,GetHandleId(t),3,HJ)call TimerStart(t,12.,false,function rVv)endifendifcall RemoveLocation(vJ)set u=nullset p=nullset vJ=nullset t=nullendfunctionfunction rXv takes nothing returns booleanreturn(GetSpellAbilityId()=='A02H')endfunctionfunction rOv takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)call GW(GetTriggerUnit(),'A02H',190)call CreateNUnitsAtLoc(1,'e012',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A02I')if GetUnitAbilityLevel(u,'A0DN')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A02I')endifcall IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D010E,vJ)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',15.)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction rRv takes nothing returns booleanreturn GetUnitTypeId(GetEventDamageSource())=='e012' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))endfunctionfunction rIv takes nothing returns nothinglocal unit u=ER[1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]local unit uc=GetTriggerUnit()local real BW=1local real cW=0.if GetUnitAbilityLevel(u,'A07I')>=1 thenset BW=BW+1endifset cW=bW(u,uc,42,24,BW,'A02H')call gW(u,uc,cW)if GetUnitAbilityLevel(u,'A07M')>=1 thencall PW(u,uc,2)endifif GetUnitAbilityLevel(u,'A082')>=1 thencall PW(u,uc,6)endifset u=nullset uc=nullendfunctionfunction rAv takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A02H')>=1 and GetUnitAbilityLevel(GetAttacker(),'A0D8')>=1 and GetUnitAbilityLevel(GetAttacker(),'A07H')>=1 and GetRandomInt(1,100)<=5endfunctionfunction rNv takes nothing returns nothinglocal unit u=GetAttacker()local location vJ=GetUnitLoc(u)call CreateNUnitsAtLoc(1,'e012',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A02I')if GetUnitAbilityLevel(u,'A0DN')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A02I')endifcall IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D010E,vJ)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',15.)call RemoveLocation(vJ)set u=nullset vJ=nullendfunctionfunction rbv takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEventPeriodic(t,1.)call TriggerAddCondition(t,Condition(function oyv))call TriggerAddAction(t,function ozv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function oZv))call TriggerAddAction(t,function o1v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function o2v))call TriggerAddAction(t,function o5v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function o6v))call TriggerAddAction(t,function o7v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function rrv))call TriggerAddAction(t,function rEv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function rXv))call TriggerAddAction(t,function rOv)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function rRv))call TriggerAddAction(t,function rIv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function rAv))call TriggerAddAction(t,function rNv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function o8v))call TriggerAddAction(t,function o9v)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function rvv))call TriggerAddAction(t,function rev)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function rxv))call TriggerAddAction(t,function rov)set t=nullendfunctionfunction rBv takes nothing returns booleanreturn(IsUnitAliveBJ(GetFilterUnit())and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,10001,10001))))endfunctionfunction rcv takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,10001,10001)local unit uc=GetEnumUnit()local real BW=1.local real cW=0.local integer i=1+GetPlayerId(GetOwningPlayer(u))local location vJ=GetUnitLoc(uc)if GetUnitAbilityLevel(u,'A02R')>=1 thenset BW=BW+1.endifif GetRandomInt(1,4)==1 thencall DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl"))endifset cW=bW(u,uc,6.,9.,BW,'A02K')call gW(u,uc,cW)if GetUnitAbilityLevel(u,'A02V')>=1 and GetRandomInt(1,100)<=15+fR[i]/ 5 thencall PW(u,uc,6)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction rCv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local integer j=LoadInteger(Jv,GetHandleId(t),1)local real KF=550.local location vJ=GetUnitLoc(u)local integer kU=17if GetUnitAbilityLevel(u,'A071')>=1 thenset KF=KF+350.endifif GetUnitAbilityLevel(u,'A06J')>=1 thenset kU=25endifif j<kU thencall SaveInteger(Jv,GetHandleId(t),1,j+1)call SaveUnitHandle(Jv,10001,10001,u)call ForGroupBJ(pl(KF,vJ,Condition(function rBv)),function rcv)elsecall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))endifcall RemoveLocation(vJ)set t=nullset u=nullset vJ=nullendfunctionfunction rdv takes nothing returns booleanreturn(GetSpellAbilityId()=='A02K')endfunctionfunction rDv takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)local timer t=CreateTimer()call GW(GetTriggerUnit(),'A02K',140)call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A02L')if GetUnitAbilityLevel(u,'A071')>=1 thencall SetUnitAbilityLevel(bj_lastCreatedUnit,'A02L',2)endifif GetUnitAbilityLevel(u,'A06J')>=1 thencall SetUnitAbilityLevel(bj_lastCreatedUnit,'A02L',3)endifif GetUnitAbilityLevel(u,'A06J')>=1 and GetUnitAbilityLevel(u,'A071')>=1 thencall SetUnitAbilityLevel(bj_lastCreatedUnit,'A02L',4)endifcall IssueTargetOrderById(bj_lastCreatedUnit,$D008E,u)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call SaveUnitHandle(Jv,GetHandleId(t),0,u)call TimerStart(t,1,true,function rCv)if GetUnitAbilityLevel(u,'A07T')>=1 thencall UnitAddAbility(u,'A02D')call FL(4.)call UnitRemoveAbility(u,'A02D')endifcall RemoveLocation(vJ)set u=nullset vJ=nullset t=nullendfunctionfunction rfv takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A0CC')>=1 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))endfunctionfunction rFv takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(uc)local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local real BW=1.local real cW=0.if GetUnitAbilityLevel(u,'A071')>=1 thenset BW=BW+0.8endifset cW=bW(u,uc,40.,60.,BW,'A0CC')if GetRandomInt(1,100)<=15+fR[i]/ 6+GetUnitAbilityLevel(u,'A0CC')*2 thenif GetUnitAbilityLevel(u,'A06P')>=1 thencall PW(u,uc,12)elsecall PW(u,uc,11)endifcall gW(u,uc,cW)call GW(u,'A0CC',800)call SetUnitAnimation(u,"attack, slam")call DestroyEffect(AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl"))if GetUnitAbilityLevel(u,'A02R')>=1 thencall ModifyHeroStat(1,u,0,20*GetUnitAbilityLevel(u,'A0CC'))call FL(15.+2*GetUnitAbilityLevel(u,'A0CC'))call ModifyHeroStat(1,u,1,20*GetUnitAbilityLevel(u,'A0CC'))endifendifcall RemoveLocation(vJ)set u=nullset uc=nullset p=nullset vJ=nullendfunctionfunction rgv takes nothing returns booleanreturn(GetSpellAbilityId()=='A02M')endfunctionfunction rGv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetSpellTargetUnit()local location vJ=GetUnitLoc(uc)call GW(GetTriggerUnit(),'A02M',200)call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A02O')if GetUnitAbilityLevel(u,'A06H')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A02O')endifcall IssueTargetOrderById(bj_lastCreatedUnit,$D0097,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction rhv takes nothing returns booleanreturn GetEventDamage()==5.15endfunctionfunction rHv takes nothing returns nothinglocal unit u=ER[1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]local unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(uc)local real BW=1.local real cW=0.set cW=bW(u,uc,75.,20.,BW,'A02M')call gW(u,uc,cW)call CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A02P')if GetUnitAbilityLevel(u,'A0DN')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A02P')endifcall UnitAddAbility(bj_lastCreatedUnit,'A02Q')if GetUnitAbilityLevel(u,'A07T')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A02Q')endifcall IssueTargetOrderById(bj_lastCreatedUnit,$D00DD,uc)call IssueTargetOrderById(bj_lastCreatedUnit,$D00B5,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',4.)call RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction rjv takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A02V')>=1 and GetUnitAbilityLevel(GetAttacker(),'A02M')>=1endfunctionfunction rJv takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetTriggerUnit()local location vJ=GetUnitLoc(uc)if GetRandomInt(1,100)<=10 thencall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A02O')if GetUnitAbilityLevel(u,'A06H')>=1 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A02O')endifcall IssueTargetOrderById(bj_lastCreatedUnit,$D0097,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',2.)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction rkv takes nothing returns booleanreturn GetSpellAbilityId()=='A02R'endfunctionfunction rKv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local unit uc=LoadUnitHandle(Jv,GetHandleId(t),1)local real r=5.local real rlv=GetUnitLifePercent(uc)if GetUnitAbilityLevel(u,'A07Q')>=1 thenset r=10.endifif LoadBoolean(Jv,GetHandleId(u),10002)thenif GetUnitLifePercent(u)<=rlv-r thencall SetUnitLifePercentBJ(uc,rlv-r)elseif GetUnitLifePercent(u)<=rlv thenif rlv>r/ 2 thencall SetUnitLifePercentBJ(uc,RMinBJ(GetUnitLifePercent(u),rlv-r/ 2))elsecall SetWidgetLife(uc,1.)endifelseif rlv>2. thencall SetUnitLifePercentBJ(uc,rlv-2.)elsecall SetWidgetLife(uc,1.)endifendifendifelsecall UnitRemoveAbility(u,'A02T')call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))endifset t=nullset u=nullset uc=nullendfunctionfunction rLv takes nothing returns nothinglocal timer t=CreateTimer()call GW(GetTriggerUnit(),'A02R',120)call SaveBoolean(Jv,GetHandleId(GetTriggerUnit()),10002,true)call SaveUnitHandle(Jv,GetHandleId(t),0,GetTriggerUnit())call SaveUnitHandle(Jv,GetHandleId(t),1,GetSpellTargetUnit())call TimerStart(t,0.3,true,function rKv)if GetUnitAbilityLevel(GetTriggerUnit(),'A07Q')>=1 thencall UnitAddAbilityBJ('A02T',GetTriggerUnit())call SetPlayerAbilityAvailableBJ(false,'A02T',GetOwningPlayer(GetTriggerUnit()))endifset t=nullendfunctionfunction rmv takes nothing returns booleanreturn GetSpellAbilityId()=='A02R'endfunctionfunction rMv takes nothing returns nothingcall SaveBoolean(Jv,GetHandleId(GetTriggerUnit()),10002,false)endfunctionfunction rpv takes nothing returns booleanreturn LoadBoolean(Jv,GetHandleId(GetTriggerUnit()),10002)endfunctionfunction rPv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetAttacker()local location vJ=GetUnitLoc(uc)local real BW=1.local real cW=0.if GetUnitAbilityLevel(u,'A07W')>=1 thencall AddSpecialEffectLocBJ(vJ,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)set cW=bW(u,uc,50.,50.,BW,'A02R')call gW(u,uc,cW)endifif GetUnitAbilityLevel(u,'A071')>=1 thencall PW(u,uc,1)endifcall RemoveLocation(vJ)set u=nullset uc=nullset vJ=nullendfunctionfunction rqv takes nothing returns booleanreturn GetSpellAbilityId()=='A02V'endfunctionfunction rQv takes nothing returns nothingcall GW(GetTriggerUnit(),'A02V',300)endfunctionfunction rsv takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function rdv))call TriggerAddAction(t,function rDv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function rfv))call TriggerAddAction(t,function rFv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function rgv))call TriggerAddAction(t,function rGv)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function rhv))call TriggerAddAction(t,function rHv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function rjv))call TriggerAddAction(t,function rJv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function rkv))call TriggerAddAction(t,function rLv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(t,Condition(function rmv))call TriggerAddAction(t,function rMv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function rpv))call TriggerAddAction(t,function rPv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function rqv))call TriggerAddAction(t,function rQv)set t=nullendfunctionfunction rSv takes nothing returns booleanreturn(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and GetUnitAbilityLevel(GetAttacker(),'A030')>=1endfunctionfunction rtv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction rTv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local unit uc=LoadUnitHandle(Jv,GetHandleId(t),1)local real cW=LoadReal(Jv,GetHandleId(t),2)call gW(u,uc,cW)if GetUnitAbilityLevel(u,'A017')>=1 and GetRandomInt(1,5)==1 thencall PW(u,uc,7)endifcall PauseTimer(t)call DestroyTimer(t)set t=nullset u=nullset uc=nullendfunctionfunction ruv takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetEnumUnit()local real BW=1.local real cW=0.local integer i=1+GetPlayerId(GetOwningPlayer(u))local location vJ=GetUnitLoc(u)local timer t=CreateTimer()local real DD=SquareRoot((GetUnitX(u)-GetUnitX(uc))*(GetUnitX(u)-GetUnitX(uc))+(GetUnitY(u)-GetUnitY(uc))*(GetUnitY(u)-GetUnitY(uc)))set BW=1.8+0.2*DD*GetRandomReal(20.,50.)/ I2R(LoadInteger(Jv,GetHandleId(u),StringHash("鹰爪")))/ I2R(LoadInteger(Jv,GetHandleId(u),StringHash("鹰爪")))if GetUnitAbilityLevel(u,'A034')>=1 or GetUnitAbilityLevel(u,'A035')>=1 thenset BW=BW*2endifif GetUnitAbilityLevel(u,'A07W')>=1 thenset BW=BW*2endifset cW=bW(u,uc,0.3,0.4,BW,'A030')call CreateNUnitsAtLoc(1,'e014',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call SetUnitVertexColorBJ(bj_lastCreatedUnit,100,100,100,100)call UnitAddAbility(bj_lastCreatedUnit,'Aloc')call UnitAddAbility(bj_lastCreatedUnit,'A031')call IssueTargetOrderById(bj_lastCreatedUnit,$D0200,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',1.)call SaveUnitHandle(Jv,GetHandleId(t),0,u)call SaveUnitHandle(Jv,GetHandleId(t),1,uc)call SaveReal(Jv,GetHandleId(t),2,cW)call TimerStart(t,0.3,false,function rTv)call RemoveLocation(vJ)set vJ=nullset u=nullset uc=nullset t=nullendfunctionfunction rUv takes nothing returns nothinglocal unit u=GetAttacker()local group g=CreateGroup()local location vJ=GetUnitLoc(u)if GetRandomReal(1,100)<25+fR[1+GetPlayerId(GetOwningPlayer(u))]/ 3+GetUnitAbilityLevel(u,'A06L')*8 thencall GW(u,'A030',1000)call GroupEnumUnitsInRangeOfLoc(g,vJ,420+80*GetUnitAbilityLevel(u,'A030'),Condition(function rtv))call SaveInteger(Jv,GetHandleId(u),StringHash("鹰爪"),CountUnitsInGroup(g))call ForGroupBJ(g,function ruv)endifcall RemoveLocation(vJ)call DestroyGroup(g)set vJ=nullset g=nullset u=nullendfunctionfunction rwv takes nothing returns booleanreturn GetSpellAbilityId()=='A030'endfunctionfunction rWv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and IsUnitAliveBJ(GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),'Avul')<1 and GetUnitTypeId(GetFilterUnit())!='N008'endfunctionfunction ryv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEnumUnit()local real BW=1.local real cW=0.local integer i=1+GetPlayerId(GetOwningPlayer(u))local location vJ=GetUnitLoc(u)local timer t=CreateTimer()local real DD=SquareRoot((GetUnitX(u)-GetUnitX(uc))*(GetUnitX(u)-GetUnitX(uc))+(GetUnitY(u)-GetUnitY(uc))*(GetUnitY(u)-GetUnitY(uc)))set BW=1.8+0.2*DD*GetRandomReal(20.,50.)/ I2R(LoadInteger(Jv,GetHandleId(u),StringHash("鹰爪主动")))/ I2R(1+LoadInteger(Jv,GetHandleId(u),StringHash("鹰爪主动")))if GetUnitAbilityLevel(u,'A034')>=1 or GetUnitAbilityLevel(u,'A035')>=1 thenset BW=BW*2endifif GetUnitAbilityLevel(u,'A07W')>=1 thenset BW=BW*2endifset cW=bW(u,uc,0.7,0.9,BW,'A030')call CreateNUnitsAtLoc(1,'e014',GetOwningPlayer(u),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A031')call IssueTargetOrderById(bj_lastCreatedUnit,$D0200,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',1.)call SaveUnitHandle(Jv,GetHandleId(t),0,u)call SaveUnitHandle(Jv,GetHandleId(t),1,uc)call SaveReal(Jv,GetHandleId(t),2,cW)call TimerStart(t,0.3,false,function rTv)call RemoveLocation(vJ)set vJ=nullset u=nullset uc=nullset t=nullendfunctionfunction rYv takes nothing returns nothinglocal unit u=GetTriggerUnit()local group g=CreateGroup()local location vJ=GetUnitLoc(u)call GW(u,'A030',1000)call GroupEnumUnitsInRangeOfLoc(g,vJ,420+80*GetUnitAbilityLevel(u,'A030'),Condition(function rWv))call SaveInteger(Jv,GetHandleId(u),StringHash("鹰爪主动"),CountUnitsInGroup(g))call ForGroupBJ(g,function ryv)call RemoveLocation(vJ)call DestroyGroup(g)set vJ=nullset g=nullset u=nullendfunctionfunction rzv takes nothing returns booleanreturn GetSpellAbilityId()=='A032'endfunctionfunction rZv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local real r_v=LoadReal(Jv,GetHandleId(t),1)local real r0v=(mH((u)))-LoadReal(Jv,GetHandleId(t),2)call ih(u,RMaxBJ(RMinBJ(r_v,r0v),350.))call UnitRemoveAbility(u,'A02T')call UnitRemoveAbility(u,'A0DB')call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))set u=nullset t=nullendfunctionfunction r1v takes nothing returns booleanreturn IsUnitAliveBJ(GetFilterUnit())and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),0)))endfunctionfunction r2v takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),0)local unit uc=GetEnumUnit()if GetRandomInt(1,50)==1 thencall PW(u,uc,12)endifset u=nullset uc=nullendfunctionfunction r3v takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local group g=nulllocal location vJ=GetUnitLoc(u)local integer j=LoadInteger(Jv,GetHandleId(t),1)local integer kU=100if j<=kU thenset g=CreateGroup()call GroupEnumUnitsInRangeOfLoc(g,vJ,300,Condition(function r1v))call ForGroupBJ(g,function r2v)call DestroyGroup(g)call SaveInteger(Jv,GetHandleId(t),1,j+1)elsecall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))endifcall RemoveLocation(vJ)set t=nullset u=nullset vJ=nullset g=nullendfunctionfunction r4v takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=1+GetPlayerId(GetOwningPlayer(u))local real UM=5.+I2R(GetUnitAbilityLevel(u,'A032'))local real r_v=(mH((u)))local timer t=CreateTimer()local timer tm=nullcall GW(u,'A032',100)call ih(u,r_v+700+bR[i]*10)if GetUnitAbilityLevel(u,'A07W')>=1 thencall UnitAddAbilityBJ('A02T',u)call SetPlayerAbilityAvailableBJ(false,'A02T',GetOwningPlayer(u))endifif GetUnitAbilityLevel(u,'A0DN')>=1 thencall UnitAddAbility(u,'A0DB')call SetUnitAbilityLevel(u,'A0DB',GetUnitAbilityLevel(u,'A032')+1)endifcall SaveUnitHandle(Jv,GetHandleId(t),0,u)call SaveReal(Jv,GetHandleId(t),1,r_v)call SaveReal(Jv,GetHandleId(t),2,700+bR[i]*10)call TimerStart(t,UM,false,function rZv)if GetUnitAbilityLevel(u,'A017')>=1 thenset tm=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(tm),0,u)call TimerStart(tm,UM/ 100,true,function r3v)endifset u=nullset t=nullset tm=nullendfunctionfunction r5v takes nothing returns booleanreturn GetSpellAbilityId()=='A06R'endfunctionfunction r6v takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEnumUnit()local real BW=1.local real cW=0.local real DD=SquareRoot((GetUnitX(u)-GetUnitX(uc))*(GetUnitX(u)-GetUnitX(uc))+(GetUnitY(u)-GetUnitY(uc))*(GetUnitY(u)-GetUnitY(uc)))if GetUnitAbilityLevel(u,'A07W')>=1 thenset BW=BW+1.endifif GetUnitAbilityLevel(u,'A07M')>=1 thenset BW=BW+.7endifset cW=bW(u,uc,100.,200.,BW,'A06R')call JW(uc,Atan2(GetUnitY(uc)-GetUnitY(u),GetUnitX(uc)-GetUnitX(u)),GetRandomReal(320.,720.)+80*GetUnitAbilityLevel(u,'A030')-DD,1.,0.05,"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",0)call gW(u,uc,cW)if GetUnitAbilityLevel(u,'A0DN')>=1 and GetRandomInt(1,3)==2 thencall PW(u,uc,9)endifset u=nullset uc=nullendfunctionfunction r7v takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)local integer HJ=0local group g=CreateGroup()call GW(u,'A06R',200)call GroupEnumUnitsInRangeOfLoc(g,vJ,420+80*GetUnitAbilityLevel(u,'A030'),Condition(function rWv))call ForGroupBJ(g,function r6v)if(GetUnitAbilityLevel(u,'A034')>0 or GetUnitAbilityLevel(u,'A035')>=1)and GetRandomReal(0,100)>=30 thenset HJ=GetUnitAbilityLevel(u,'A06R')call UnitRemoveAbility(u,'A06R')call UnitAddAbility(u,'A06R')call SetUnitAbilityLevel(u,'A06R',HJ)endifendfunctionfunction r8v takes nothing returns booleanreturn GetSpellAbilityId()=='A034'endfunctionfunction r9v takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit uc=LoadUnitHandle(Jv,GetHandleId(t),0)local unit u=LoadUnitHandle(Jv,GetHandleId(t),1)local real fD=LoadReal(Jv,GetHandleId(t),2)local real DD=LoadReal(Jv,GetHandleId(t),3)local real ivv=LoadReal(Jv,GetHandleId(t),4)local real iev=LoadReal(Jv,GetHandleId(t),5)local location vJ=GetUnitLoc(u)local real x=.0local real y=.0if IsUnitAliveBJ(u)==false thencall KillUnit(uc)call RemoveUnit(uc)call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))endifif(DD>=0)and(GetUnitState(uc,UNIT_STATE_LIFE)>0)and(GetUnitState(u,UNIT_STATE_LIFE)>0)and((uc==Eb and Rb)or(uc==Xb and Ib)or(uc==Ob and Ab))thenset x=GetUnitX(u)+(DD+iev)*Cos(fD+ivv)set y=GetUnitY(u)+(DD+iev)*Sin(fD+ivv)call SaveReal(Jv,GetHandleId(t),4,fD+ivv)call SaveReal(Jv,GetHandleId(t),5,DD+iev)call SetUnitX(uc,tw(x))call SetUnitY(uc,uw(y))call SetUnitFacing(uc,Atan2(GetUnitY(uc)-GetUnitY(u),GetUnitX(uc)-GetUnitX(u)))elsecall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))endifcall RemoveLocation(vJ)set t=nullset u=nullset uc=nullset vJ=nullendfunctionfunction ixv takes unit uc,unit u,real fD,real DD returns nothinglocal real x1=GetUnitX(uc)local real y1=GetUnitY(uc)local real x2=GetUnitX(u)local real y2=GetUnitY(u)local timer t=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(t),0,uc)call SaveUnitHandle(Jv,GetHandleId(t),1,u)call SaveReal(Jv,GetHandleId(t),2,fD*(3.14159/ 180.))call SaveReal(Jv,GetHandleId(t),3,DD)call SaveReal(Jv,GetHandleId(t),4,Atan2(y2-y1,x2-x1))call SaveReal(Jv,GetHandleId(t),5,SquareRoot((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)))call TimerStart(t,0.01,true,function r9v)set t=nullendfunctionfunction iov takes nothing returns nothinglocal unit u=GetTriggerUnit()local location vJ=GetUnitLoc(u)call GW(u,'A034',100)call SaveInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A034'*5,GetUnitAbilityLevel(u,'A034'))call UnitRemoveAbility(u,'A034')call UnitAddAbility(u,'A035')call SetUnitAbilityLevel(u,'A035',LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A034'*5))call CreateNUnitsAtLoc(1,'e013',GetOwningPlayer(u),pu(vJ,325.,0),90)set Eb=bj_lastCreatedUnitcall IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)call ixv(Eb,u,1.,0.)set Rb=truecall CreateNUnitsAtLoc(1,'e013',GetOwningPlayer(u),pu(vJ,325.,120.),210)set Xb=bj_lastCreatedUnitcall IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)call ixv(Xb,u,1.,0.)set Ib=truecall CreateNUnitsAtLoc(1,'e013',GetOwningPlayer(u),pu(vJ,325.,240.),330)set Ob=bj_lastCreatedUnitcall IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)call ixv(Ob,u,1.,0.)set Ab=trueendfunctionfunction irv takes nothing returns booleanreturn GetSpellAbilityId()=='A035'endfunctionfunction iiv takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer p=GetHandleId(t)local unit u=LoadUnitHandle(Jv,p,0)local unit uc=LoadUnitHandle(Jv,p,1)local unit bU=LoadUnitHandle(Jv,p,2)local location vJ=LoadLocationHandle(Jv,p,3)local real d0=GetLocationX(vJ)local real F0=GetLocationY(vJ)local real g0=GetUnitX(uc)local real j0=GetUnitY(uc)local location Zz=nulllocal real DD=0.local real fD=0.local integer i=LoadInteger(Jv,p,4)local real K0=0.04local integer W0=25local real BW=1.local real cW=0set cW=bW(u,uc,400,300,BW,'A035')if i<=W0 thenset g0=GetUnitX(uc)set j0=GetUnitY(uc)set fD=Atan2(j0-F0,g0-d0)set DD=SquareRoot((g0-d0)*(g0-d0)+(j0-F0)*(j0-F0))set Zz=Location(d0+K0*i*DD*Cos(fD),F0+K0*i*DD*Sin(fD))call SetUnitPositionLoc(bU,Zz)call SaveInteger(Jv,p,4,i+1)elsecall gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",uc,"overhead"))call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,p)call KillUnit(bU)call RemoveUnit(bU)if GetUnitState(Eb,UNIT_STATE_LIFE)<1 and GetUnitState(Xb,UNIT_STATE_LIFE)<1 and GetUnitState(Ob,UNIT_STATE_LIFE)<1 thencall UnitRemoveAbility(u,'A035')call UnitAddAbility(u,'A034')call SetUnitAbilityLevel(u,'A034',LoadInteger(Jv,GetHandleId(GetOwningPlayer(u)),'A034'*5))endifcall RemoveLocation(vJ)endifcall RemoveLocation(Zz)set t=nullset u=nullset uc=nullset bU=nullset vJ=nullset Zz=nullendfunctionfunction iav takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetSpellTargetUnit()local location vJ=nulllocal timer t=CreateTimer()local integer p=GetHandleId(t)local unit bU=nullif GetUnitState(Eb,UNIT_STATE_LIFE)>0 thenset bU=Ebset Rb=falseelseif GetUnitState(Xb,UNIT_STATE_LIFE)>0 thenset bU=Xbset Ib=falseelseset bU=Obset Ab=falseendifset vJ=GetUnitLoc(bU)call SaveUnitHandle(Jv,p,0,u)call SaveUnitHandle(Jv,p,1,uc)call SaveUnitHandle(Jv,p,2,bU)call SaveLocationHandle(Jv,p,3,vJ)call SaveInteger(Jv,p,4,0)call TimerStart(t,0.03,true,function iiv)set u=nullset uc=nullset bU=nullset vJ=nullendfunctionfunction inv takes nothing returns booleanreturn(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())))and GetUnitAbilityLevel(GetTriggerUnit(),'A07W')>=2endfunctionfunction iVv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and IsUnitAliveBJ(GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),'Avul')<1endfunctionfunction iEv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEventDamageSource()local unit bU=nulllocal group g=CreateGroup()local location vJ=GetUnitLoc(u)local real cW=GetEventDamage()if GetRandomInt(0,100)<10+5*GetUnitAbilityLevel(u,'A07W')thencall Ww(u)call GroupEnumUnitsInRangeOfLoc(g,vJ,1000,Condition(function iVv))if g!=null thenset bU=GroupPickRandomUnit(g)call gW(u,bU,cW*50*GetUnitAbilityLevel(u,'A07W'))call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",bU,"overhead"))endifcall GW(u,'A07W',10000)endifcall RemoveLocation(vJ)call DestroyGroup(g)set u=nullset uc=nullset bU=nullset vJ=nullset g=nullendfunctionfunction iXv takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function rSv))call TriggerAddAction(t,function rUv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function rwv))call TriggerAddAction(t,function rYv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function rzv))call TriggerAddAction(t,function r4v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function r5v))call TriggerAddAction(t,function r7v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function r8v))call TriggerAddAction(t,function iov)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function irv))call TriggerAddAction(t,function iav)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function inv))call TriggerAddAction(t,function iEv)set t=nullendfunctionfunction iOv takes integer iRv,integer iIv returns integerlocal integer iAvset iAv=zF()set Kc[iAv]=iRvset mc[iAv]=iIvif iIv==1 thenset Qc[iAv]=GetRandomReal(0.7,1.1)elseif iIv==2 thenset Qc[iAv]=I2R(GetRandomInt(1,13))elseif iIv==3 thenset Qc[iAv]=GetRandomReal(0.9,1.3)elseif iIv==4 thenset Qc[iAv]=GetRandomReal(1.3,2.0)endifreturn iAvendfunctionfunction ibv takes integer wF,unit u,unit uc returns nothingif mc[wF]!=2 thenset pc[wF]=Qc[wF]elseif GetRandomReal(1,100)<=13 thencall PW(u,uc,R2I(Qc[wF]))endifendifendfunctionfunction icv takes nothing returns booleanreturn(GetRandomReal(0.,100)<15+fR[1+GetPlayerId(GetOwningPlayer(GetAttacker()))]/ 5)and(GetUnitAbilityLevel(GetAttacker(),'A036')>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))endfunctionfunction iCv takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction idv takes nothing returns nothinglocal unit u=GetAttacker()local unit uc=GetEnumUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer j=1local location vJ=GetUnitLoc(u)local real BW=(1.+I2R(qO[i])/ 3)local real cW=0.loopexitwhen j>oC[Nb[i]]if GetUnitAbilityLevel(u,Kc[cb[i*20+j]])>=1 thencall ibv(cb[i*20+j],u,uc)set BW=BW+pc[cb[i*20+j]]endifset j=j+1endloopset BW=BW*(1.+0.5*I2R(yc[Nb[i]]))set cW=bW(u,uc,25.,25.,BW,'A036')call CreateTextTagLocBJ(iC[Nb[i]],vJ,0,14.,GetRandomReal(0.,100),GetRandomReal(0.,100),GetRandomReal(0.,100),.0)call Nw(3,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,50.,90)call AddSpecialEffectTargetUnitBJ("overhead",uc,bb[eC[Nb[i]]])call DestroyEffect(GetLastCreatedEffectBJ())call gW(u,uc,cW)call RemoveLocation(vJ)set vJ=nullset uc=nullset u=nullset p=nullendfunctionfunction iDv takes nothing returns nothinglocal group g=CreateGroup()local unit u=GetAttacker()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer zz=Nb[i]call GW(u,'A036',1000.-I2R(rC[zz])*100.)call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),400.+100.*I2R(Zc[zz]),Condition(function iCv))call ForGroupBJ(g,function idv)call GroupClear(g)call DestroyGroup(g)set g=nullendfunctionfunction ifv takes nothing returns booleanreturn((IsUnitType((GetTriggerUnit()),(UNIT_TYPE_HERO))!=null)and(GetItemTypeId(GetManipulatedItem())=='I0BN' or GetItemTypeId(GetManipulatedItem())=='I0BI' or GetItemTypeId(GetManipulatedItem())=='I0BJ' or GetItemTypeId(GetManipulatedItem())=='I0BK' or GetItemTypeId(GetManipulatedItem())=='I0BL'))endfunctionfunction iFv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)if GetItemTypeId(GetManipulatedItem())=='I0BN' thenif Cb[i]thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00游坦之：|r |cFF99FFCC少侠已有自创武功|r
")elseif GetHeroLevel(u)<80 thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00游坦之：|r |cFF99FFCC少侠等级到80级之后再来吧|r
")elseset L7[i]=1loopexitwhen L7[i]>=cX[i]+1if(I7[(i-1)*20+L7[i]]!='AEfk')thenif L7[i]==cX[i]thencall DisplayTextToPlayer(p,0,0,"|cFFFFCC00游坦之：|r |cFF99FFCC少侠，你学的武功太多了，遗忘一些再来自创吧|r
")exitwhen trueendifelsecall UnitAddAbility(u,'A036')set I7[(((i-1)*20)+L7[i])]='A036'call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFFFF0033恭喜"+GetPlayerName(p)+"自创武功成功")set Cb[i]=trueexitwhen trueendifset L7[i]=L7[i]+1endloopendifendifelseif Bb[i]>=1 thenset Bb[i]=Bb[i]-1if GetItemTypeId(GetManipulatedItem())=='I0BI' thenset yc[Nb[i]]=yc[Nb[i]]+1call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游坦之：|r |cFF99FFCC分配一点至伤害系数|r
")endifif GetItemTypeId(GetManipulatedItem())=='I0BJ' thenset Zc[Nb[i]]=Zc[Nb[i]]+1call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游坦之：|r |cFF99FFCC分配一点至伤害范围|r
")endifif GetItemTypeId(GetManipulatedItem())=='I0BK' thenset oC[Nb[i]]=oC[Nb[i]]+1call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游坦之：|r |cFF99FFCC分配一点至武学搭配|r
")if GetRandomInt(1,10)<=7 thenset cb[i*20+oC[Nb[i]]]=iOv(LoadInteger(Jv,StringHash("武学")+GetRandomInt(1,18),2),GetRandomInt(1,2))elseif GetRandomInt(1,3)<=2 thenset cb[i*20+oC[Nb[i]]]=iOv(LoadInteger(Jv,StringHash("武学")+GetRandomInt(19,28),2),3)elseset cb[i*20+oC[Nb[i]]]=iOv(LoadInteger(Jv,StringHash("武学")+GetRandomInt(29,41),2),4)endifendifendifif GetItemTypeId(GetManipulatedItem())=='I0BL' thenset rC[Nb[i]]=rC[Nb[i]]+1call DisplayTextToPlayer(p,0,0,"|cFFFFCC00游坦之：|r |cFF99FFCC分配一点至升重速率|r
")endifelsecall DisplayTimedTextToPlayer(p,0,0,30.,"|cff66ff00自创武学点不足")endifendifset u=nullset p=nullendfunctionfunction igv takes nothing returns nothinglocal trigger t=CreateTrigger()set bb[1]="Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl"set bb[2]="Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"set bb[3]="Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"set bb[4]="Abilities\\Spells\\Items\\OrbDarkness\\OrbDarkness.mdl"set bb[5]="Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"set bb[6]="Abilities\\Spells\\Human\\Brilliance\\Brilliance.mdl"set bb[7]="Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"set bb[8]="Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl"set bb[9]="Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl"set bb[10]="Abilities\\Spells\\Other\\Transmute\\GoldBottleMissile.mdl"call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function icv))call TriggerAddAction(t,function iDv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function ifv))call TriggerAddAction(t,function iFv)set t=nullendfunctionfunction iGv takes nothing returns booleanreturn GetSpellAbilityId()=='A039'endfunctionfunction ihv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),Player(0))and UnitHasBuffBJ(GetFilterUnit(),'BHds')==false and GetUnitAbilityLevel(GetFilterUnit(),'Avul')<1)endfunctionfunction iHv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local integer i=LoadInteger(Jv,GetHandleId(t),2)local location vJ=LoadLocationHandle(Jv,GetHandleId(t),3)local unit bU=nulllocal group g=CreateGroup()call GroupEnumUnitsInRangeOfLoc(g,vJ,325,Condition(function ihv))set bU=GroupPickRandomUnit(g)if i-i/ 3*3==0 thencall ShowUnitShow(u)call IssueTargetOrderById(u,$D0200,bU)call AddSpecialEffectLocBJ(GetUnitLoc(bU),"war3mapImported\\ChaosExplosion.mdl")elsecall ShowUnitHide(u)endifcall SaveInteger(Jv,GetHandleId(t),2,i+1)if i>15 thencall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))call RemoveLocation(vJ)endifcall DestroyGroup(g)set u=nullset t=nullset bU=nullset vJ=nullset g=nullendfunctionfunction ijv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local integer i=LoadInteger(Jv,GetHandleId(t),2)local location vJ=LoadLocationHandle(Jv,GetHandleId(t),3)local unit bU=nulllocal group g=CreateGroup()call GroupEnumUnitsInRangeOfLoc(g,vJ,325,Condition(function ihv))set bU=GroupPickRandomUnit(g)if i-i/ 3*3==1 thencall ShowUnitShow(u)call IssueTargetOrderById(u,$D0200,bU)call AddSpecialEffectLocBJ(GetUnitLoc(bU),"war3mapImported\\FireStomp.mdx")elsecall ShowUnitHide(u)endifcall SaveInteger(Jv,GetHandleId(t),2,i+1)if i>15 thencall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))call RemoveLocation(vJ)endifcall DestroyGroup(g)set u=nullset t=nullset bU=nullset vJ=nullset g=nullendfunctionfunction iJv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local integer i=LoadInteger(Jv,GetHandleId(t),2)local location vJ=LoadLocationHandle(Jv,GetHandleId(t),3)local unit bU=nulllocal group g=CreateGroup()call GroupEnumUnitsInRangeOfLoc(g,vJ,350,Condition(function ihv))set bU=GroupPickRandomUnit(g)if i-i/ 3*3==2 thencall ShowUnitShow(u)call IssueTargetOrderById(u,$D0200,bU)call AddSpecialEffectLocBJ(GetUnitLoc(bU),"war3mapImported\\FireStomp.mdx")elsecall ShowUnitHide(u)endifcall SaveInteger(Jv,GetHandleId(t),2,i+1)if i>15 thencall PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))call RemoveLocation(vJ)endifcall DestroyGroup(g)set u=nullset t=nullset bU=nullset vJ=nullset g=nullendfunctionfunction ikv takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local location vJ=LoadLocationHandle(Jv,GetHandleId(t),1)local integer i=LoadInteger(Jv,GetHandleId(t),2)local location Zz=GetUnitLoc(u)if i<500 thenif DistanceBetweenPoints(Zz,vJ)>250 thencall SetUnitX(u,GetLocationX(vJ)+GetRandomReal(-250.,250.)*CosBJ(AngleBetweenPoints(vJ,Zz)))call SetUnitY(u,GetLocationY(vJ)+GetRandomReal(-250.,250.)*SinBJ(AngleBetweenPoints(vJ,Zz)))if(ModuloInteger(GetUnitPointValue(u),100)==0)thencall SetWidgetLife(u,GetWidgetLife(u)*0.5)elsecall SetWidgetLife(u,GetWidgetLife(u)*0.85)endifendifcall SaveInteger(Jv,GetHandleId(t),2,i+1)elsecall RemoveLocation(vJ)call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))endifset t=nullset u=nullset vJ=nullset Zz=nullendfunctionfunction iKv takes nothing returns nothinglocal unit bU=GetEnumUnit()local unit u=GetTriggerUnit()local location vJ=LoadLocationHandle(Jv,GetHandleId(u),StringHash("伏魔"))local timer t=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(t),0,bU)call SaveLocationHandle(Jv,GetHandleId(t),1,vJ)call TimerStart(t,0.03,true,function ikv)set t=nullset u=nullset bU=nullset vJ=nullendfunctionfunction ilv takes nothing returns nothinglocal timer t=GetExpiredTimer()local location vJ=LoadLocationHandle(Jv,GetHandleId(t),0)call mu(15.,AddSpecialEffectLoc("war3mapImported\\kineticfield_fx_stand.mdx",vJ))set t=nullset vJ=nullendfunctionfunction iLv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetSpellTargetUnit()local location vJ=GetUnitLoc(uc)local location Yz=pu(vJ,325,90)local location Zz=pu(vJ,325,210)local location c1=pu(vJ,325,330)local group g=CreateGroup()local timer imv=CreateTimer()local timer iMv=CreateTimer()local timer ipv=CreateTimer()local timer iPv=CreateTimer()call GroupEnumUnitsInRangeOfLoc(g,vJ,325,Condition(function ihv))call SaveLocationHandle(Jv,GetHandleId(u),StringHash("伏魔"),vJ)call mu(1.2,AddSpecialEffectLoc("war3mapImported\\kineticfield_fx_start.mdx",vJ))call SaveLocationHandle(Jv,GetHandleId(iPv),0,vJ)call TimerStart(iPv,1.2,false,function ilv)call ForGroupBJ(g,function iKv)call CreateNUnitsAtLoc(1,'e017',GetOwningPlayer(u),Yz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A03A')call SaveUnitHandle(Jv,GetHandleId(imv),0,bj_lastCreatedUnit)call SaveUnitHandle(Jv,GetHandleId(imv),1,uc)call SaveLocationHandle(Jv,GetHandleId(imv),3,vJ)call TimerStart(imv,1,true,function iHv)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',15.)call CreateNUnitsAtLoc(1,'e016',GetOwningPlayer(u),Zz,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A03B')call SaveUnitHandle(Jv,GetHandleId(iMv),0,bj_lastCreatedUnit)call SaveUnitHandle(Jv,GetHandleId(iMv),1,uc)call SaveLocationHandle(Jv,GetHandleId(iMv),3,vJ)call TimerStart(iMv,1,true,function ijv)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',15.)call CreateNUnitsAtLoc(1,'e018',GetOwningPlayer(u),c1,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A03C')call SaveUnitHandle(Jv,GetHandleId(ipv),0,bj_lastCreatedUnit)call SaveUnitHandle(Jv,GetHandleId(ipv),1,uc)call SaveLocationHandle(Jv,GetHandleId(ipv),3,vJ)call TimerStart(ipv,1,true,function iJv)call UnitApplyTimedLife(bj_lastCreatedUnit,'BHwe',15.)call RemoveLocation(Yz)call RemoveLocation(Zz)call RemoveLocation(c1)set u=nullset uc=nullset vJ=nullset Yz=nullset Zz=nullset c1=nullset imv=nullset iMv=nullset ipv=nullendfunctionfunction iqv takes nothing returns booleanreturn GetUnitTypeId(GetEventDamageSource())=='e017' or GetUnitTypeId(GetEventDamageSource())=='e016' or GetUnitTypeId(GetEventDamageSource())=='e018'endfunctionfunction iQv takes nothing returns nothinglocal unit uc=GetTriggerUnit()if GetUnitState(uc,UNIT_STATE_LIFE)<=0.10*GetUnitState(uc,UNIT_STATE_MAX_LIFE)thencall Ww(uc)call SetWidgetLife(uc,1.)elsecall SetWidgetLife(uc,GetUnitState(uc,UNIT_STATE_LIFE)-0.10*GetUnitState(uc,UNIT_STATE_MAX_LIFE))endifset uc=nullendfunctionfunction isv takes nothing returns booleanreturn GetSpellAbilityId()=='A03J'endfunctionfunction iSv takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local location itv=GetUnitLoc(u)local location iTv=Location(GetUnitX(u)-500,GetUnitY(u)-100)local location iuv=Location(GetUnitX(u)+500,GetUnitY(u)+100)local location iUv=Location(GetUnitX(u),GetUnitY(u)+300)local location iwv=Location(GetUnitX(u),GetUnitY(u)-500)local location iWv=Location(GetUnitX(u)+500,GetUnitY(u)-500)local location iyv=Location(GetUnitX(u)+500,GetUnitY(u)-300)call CreateNUnitsAtLocFacingLocBJ(1,'o02G',p,itv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03K')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02G',p,iTv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03K')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02G',p,iuv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03K')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02G',p,iUv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03K')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02G',p,iwv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03K')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02G',p,iWv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03K')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02G',p,iyv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03K')call Gw(10.,bj_lastCreatedUnit)call qu(10.,AddLightningLoc("SPLK",iWv,iyv))call qu(10.,AddLightningLoc("SPLK",iwv,iWv))call qu(10.,AddLightningLoc("SPLK",itv,iwv))call qu(10.,AddLightningLoc("SPLK",iUv,itv))call qu(10.,AddLightningLoc("SPLK",iTv,itv))call qu(10.,AddLightningLoc("SPLK",itv,iuv))call mu(7.,AddSpecialEffectLoc("war3mapImported\\divinering.mdx",itv))call mu(7.,AddSpecialEffectLoc("war3mapImported\\divinering.mdx",iTv))call mu(7.,AddSpecialEffectLoc("war3mapImported\\divinering.mdx",iUv))call mu(7.,AddSpecialEffectLoc("war3mapImported\\divinering.mdx",iuv))call mu(7.,AddSpecialEffectLoc("war3mapImported\\divinering.mdx",iwv))call mu(7.,AddSpecialEffectLoc("war3mapImported\\divinering.mdx",iWv))call mu(7.,AddSpecialEffectLoc("war3mapImported\\divinering.mdx",iyv))call RemoveLocation(itv)call RemoveLocation(iTv)call RemoveLocation(iUv)call RemoveLocation(iuv)call RemoveLocation(iwv)call RemoveLocation(iWv)call RemoveLocation(iyv)set u=nullset p=nullset itv=nullset iTv=nullset iuv=nullset iUv=nullset iwv=nullset iWv=nullset iyv=nullendfunctionfunction iYv takes nothing returns booleanreturn GetUnitTypeId(GetEventDamageSource())=='o02G'endfunctionfunction izv takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])local real cW=0.set cW=bW(u,uc,3000.,3000.,BW,'A03J')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction iZv takes nothing returns booleanreturn GetSpellAbilityId()=='A03G'endfunctionfunction i_v takes nothing returns nothinglocal unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local location itv=GetUnitLoc(u)local location iTv=Location(GetUnitX(u)+300,GetUnitY(u)-50)local location iuv=Location(GetUnitX(u)+500,GetUnitY(u)+250)local location iUv=Location(GetUnitX(u)-50,GetUnitY(u)+300)local location iwv=Location(GetUnitX(u)-300,GetUnitY(u)+500)local location iWv=Location(GetUnitX(u)-500,GetUnitY(u)+700)local location iyv=Location(GetUnitX(u)-800,GetUnitY(u)+700)call CreateNUnitsAtLocFacingLocBJ(1,'o02F',p,itv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03I')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02F',p,iTv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03I')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02F',p,iuv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03I')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02F',p,iUv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03I')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02F',p,iwv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03I')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02F',p,iWv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03I')call Gw(10.,bj_lastCreatedUnit)call CreateNUnitsAtLocFacingLocBJ(1,'o02F',p,iyv,itv)call UnitAddAbility(bj_lastCreatedUnit,'A03I')call Gw(10.,bj_lastCreatedUnit)call qu(10.,AddLightningLoc("SPLK",iyv,iWv))call qu(10.,AddLightningLoc("SPLK",iWv,iwv))call qu(10.,AddLightningLoc("SPLK",iwv,iUv))call qu(10.,AddLightningLoc("SPLK",iUv,itv))call qu(10.,AddLightningLoc("SPLK",itv,iTv))call qu(10.,AddLightningLoc("SPLK",iTv,iuv))call RemoveLocation(itv)call RemoveLocation(iTv)call RemoveLocation(iUv)call RemoveLocation(iuv)call RemoveLocation(iwv)call RemoveLocation(iWv)call RemoveLocation(iyv)set u=nullset p=nullset itv=nullset iTv=nullset iuv=nullset iUv=nullset iwv=nullset iWv=nullset iyv=nullendfunctionfunction i0v takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction i1v takes nothing returns nothinglocal unit u=GetAttacker()local location vJ=GetUnitLoc(u)local group g=CreateGroup()local group i2v=CreateGroup()local unit bU=nulllocal integer i=1local integer W0=0call GroupEnumUnitsInRangeOfLoc(g,vJ,600,Condition(function i0v))set W0=CountUnitsInGroup(g)if W0>=1 thenset i=1loopexitwhen i>W0set bU=FirstOfGroup(g)if GetUnitAbilityLevel(bU,'A03I')!=0 thencall GroupAddUnit(i2v,bU)endifcall GroupRemoveUnit(g,bU)set i=i+1endloopendifset W0=CountUnitsInGroup(i2v)if W0>=1 thenset i=1loopexitwhen i>W0set bU=FirstOfGroup(i2v)call IssueTargetOrderById(bU,$D0097,u)call GroupRemoveUnit(i2v,bU)set i=i+1endloopendifcall RemoveLocation(vJ)call DestroyGroup(g)call DestroyGroup(i2v)set u=nullset bU=nullset vJ=nullset g=nullset i2v=nullendfunctionfunction i3v takes nothing returns booleanreturn GetUnitTypeId(GetEventDamageSource())=='o02F'endfunctionfunction i4v takes nothing returns nothinglocal integer i=1+GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local unit u=ER[i]local unit uc=GetTriggerUnit()local real BW=1.+I2R(qO[i])local real cW=0.set cW=bW(u,uc,3000.,3000.,BW,'A03G')call gW(u,uc,cW)set u=nullset uc=nullendfunctionfunction i5v takes nothing returns booleanreturn GetItemTypeId(GetManipulatedItem())=='I0BY' or GetItemTypeId(GetManipulatedItem())=='I0BZ' or GetItemTypeId(GetManipulatedItem())=='I0C0' or GetItemTypeId(GetManipulatedItem())=='I0C1'endfunctionfunction i6v takes nothing returns nothinglocal integer id=GetItemTypeId(GetManipulatedItem())local unit u=GetTriggerUnit()local player p=GetOwningPlayer(u)local integer i=1+GetPlayerId(p)local integer j=0if(IsUnitType((u),(UNIT_TYPE_HERO))!=null)==false thencall DisplayTextToPlayer(p,0,0,"|cff00FF66侠侣不能修行阵法")elseif id=='I0C1' thenif GetUnitAbilityLevel(u,'A03J')!=0 thencall DisplayTextToPlayer(p,0,0,"|cff00FF66您已经修行过该阵法")elseif CX[i]==7 and GetUnitAbilityLevel(u,'A08R')==9 thenset j=1loopexitwhen j>cX[i]if(I7[(i-1)*20+j])!='AEfk' thenif j==cX[i]thencall DisplayTextToPlayer(p,0,0,"|CFF34FF00学习技能已达上限，请先遗忘部分技能")endifelsecall UnitAddAbility(u,'A03J')call DisplayTextToPlayer(p,0,0,"|cff00FF66恭喜领悟技能："+GetObjectName('A03J'))set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[(((i-1)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]='A03J'exitwhen trueendifset L7[i]=L7[i]+1endloopexitwhen trueendifset j=j+1endloopelsecall DisplayTextToPlayer(p,0,0,"|cff00FF66条件不足，无法修行此阵法")endifendifelseif id=='I0BZ' thenif GetUnitAbilityLevel(u,'A039')!=0 thencall DisplayTextToPlayer(p,0,0,"|cff00FF66您已经修行过该阵法")elseif CX[i]==6 and GetUnitAbilityLevel(u,'A05K')==9 thenset j=1loopexitwhen j>cX[i]if(I7[(i-1)*20+j])!='AEfk' thenif j==cX[i]thencall DisplayTextToPlayer(p,0,0,"|CFF34FF00学习技能已达上限，请先遗忘部分技能")endifelsecall UnitAddAbility(u,'A039')call DisplayTextToPlayer(p,0,0,"|cff00FF66恭喜领悟技能："+GetObjectName('A039'))set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[(((i-1)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]='A039'exitwhen trueendifset L7[i]=L7[i]+1endloopexitwhen trueendifset j=j+1endloopelsecall DisplayTextToPlayer(p,0,0,"|cff00FF66条件不足，无法修行此阵法")endifendifelseif id=='I0C0' thenif GetUnitAbilityLevel(u,'A03F')!=0 thencall DisplayTextToPlayer(p,0,0,"|cff00FF66您已经修行过该阵法")elseif CX[i]==5 and GetUnitAbilityLevel(u,'A09M')==9 thenset j=1loopexitwhen j>cX[i]if(I7[(i-1)*20+j])!='AEfk' thenif j==cX[i]thencall DisplayTextToPlayer(p,0,0,"|CFF34FF00学习技能已达上限，请先遗忘部分技能")endifelsecall UnitAddAbility(u,'A03F')call DisplayTextToPlayer(p,0,0,"|cff00FF66恭喜领悟技能："+GetObjectName('A03F'))set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[(((i-1)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]='A03F'exitwhen trueendifset L7[i]=L7[i]+1endloopexitwhen trueendifset j=j+1endloopelsecall DisplayTextToPlayer(p,0,0,"|cff00FF66条件不足，无法修行此阵法")endifendifelseif id=='I0BY' thenif GetUnitAbilityLevel(u,'A03G')!=0 thencall DisplayTextToPlayer(p,0,0,"|cff00FF66您已经修行过该阵法")elseif CX[i]==3 and GetUnitAbilityLevel(u,'A0CM')==9 thenset j=1loopexitwhen j>cX[i]if(I7[(i-1)*20+j])!='AEfk' thenif j==cX[i]thencall DisplayTextToPlayer(p,0,0,"|CFF34FF00学习技能已达上限，请先遗忘部分技能")endifelsecall UnitAddAbility(u,'A03G')call DisplayTextToPlayer(p,0,0,"|cff00FF66恭喜领悟技能："+GetObjectName('A03G'))set L7[i]=1loopexitwhen L7[i]>cX[i]if((I7[(((i-1)*20)+L7[i])]!='AEfk'))thenelseset I7[(((i-1)*20)+L7[i])]='A03G'exitwhen trueendifset L7[i]=L7[i]+1endloopexitwhen trueendifset j=j+1endloopelsecall DisplayTextToPlayer(p,0,0,"|cff00FF66条件不足，无法修行此阵法")endifendifendifendifset u=nullset p=nullendfunctionfunction i7v takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function iGv))call TriggerAddAction(t,function iLv)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function iqv))call TriggerAddAction(t,function iQv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function iZv))call TriggerAddAction(t,function i_v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddAction(t,function i1v)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function i3v))call TriggerAddAction(t,function i4v)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function isv))call TriggerAddAction(t,function iSv)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function iYv))call TriggerAddAction(t,function izv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function i5v))call TriggerAddAction(t,function i6v)set t=nullendfunctionfunction i8v takes nothing returns booleanreturn GetSpellAbilityId()=='A03L'endfunctionfunction i9v takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit bU=GetSpellTargetUnit()local player p=GetOwningPlayer(u)local location vJ=GetUnitLoc(bU)call CreateNUnitsAtLoc(1,'e000',p,vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A038')if GetUnitAbilityLevel(u,'A07T')!=0 or GetUnitAbilityLevel(u,'A07Q')!=0 thencall SetUnitAbilityLevel(bj_lastCreatedUnit,'A038',3)endifif GetUnitAbilityLevel(u,'A0DN')!=0 or GetUnitAbilityLevel(u,'A07O')!=0 thencall IncUnitAbilityLevel(bj_lastCreatedUnit,'A038')endifcall IssueTargetOrderById(bj_lastCreatedUnit,$D0101,bU)endfunctionfunction avv takes nothing returns booleanreturn GetSpellAbilityId()=='A03P'endfunctionfunction aev takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)call UnitRemoveAbility(u,'A03M')call PauseTimer(t)call DestroyTimer(t)call FlushChildHashtable(Jv,GetHandleId(t))set u=nullset t=nullendfunctionfunction axv takes nothing returns nothinglocal unit u=GetTriggerUnit()local timer t=CreateTimer()call UnitAddAbility(u,'A03M')call SaveUnitHandle(Jv,GetHandleId(t),0,u)call TimerStart(t,3600,false,function aev)set u=nullset t=nullendfunctionfunction aov takes nothing returns booleanreturn GetEventDamage()==1.58endfunctionfunction arv takes nothing returns nothinglocal unit bU=GetEventDamageSource()local unit uc=GetTriggerUnit()local integer i=1+GetPlayerId(GetOwningPlayer(bU))local unit u=ER[i]local real BW=1.local real cW=0.if GetUnitAbilityLevel(u,'A06H')>=1 thenset BW=BW+0.8endifif GetUnitAbilityLevel(u,'A07O')>=1 thenset BW=BW+0.6endifif UnitHasBuffBJ(uc,'Bfro')thenset BW=BW*3endifset BW=BW*(1.+I2R(HR[i])/ 20+I2R(qO[i]))set cW=bW(u,uc,14.,19.,BW,'A03P')call gW(u,uc,cW)if GetUnitAbilityLevel(u,'A06P')>=1 and GetRandomInt(1,100)<=8 thencall PW(u,uc,11)endifset u=nullset uc=nullendfunctionfunction aiv takes nothing returns booleanreturn((GetSpellAbilityId()=='A03N'))endfunctionfunction aav takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local real r=LoadReal(Jv,GetHandleId(t),1)if(((EVENT_UNIT_SPELL_EFFECT==GetTriggerEventId())==true))thenset Db[1+GetPlayerId(GetOwningPlayer(u))]=0.call DestroyTrigger(t)elseif Db[1+GetPlayerId(GetOwningPlayer(u))]<=0.00 thencall DestroyTrigger(t)elseset Db[1+GetPlayerId(GetOwningPlayer(u))]=Db[1+GetPlayerId(GetOwningPlayer(u))]-0.01endifendifendfunctionfunction anv takes nothing returns nothinglocal timer tm=GetExpiredTimer()local unit u=LoadUnitHandle(Jv,GetHandleId(tm),0)local trigger t=CreateTrigger()set Db[1+GetPlayerId(GetOwningPlayer(u))]=19.5call SaveUnitHandle(Jv,GetHandleId(t),0,u)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterTimerEventPeriodic(t,0.01)call TriggerAddCondition(t,Condition(function aav))call DestroyTimer(tm)set t=nullset tm=nullset u=nullendfunctionfunction aVv takes nothing returns nothinglocal timer t=CreateTimer()local unit u=GetTriggerUnit()call SaveUnitHandle(Jv,GetHandleId(t),0,u)call TimerStart(t,0.5,false,function anv)set t=nullset u=nullendfunctionfunction aEv takes nothing returns booleanreturn(IsUnitAlly(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==false)and(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==false)and Db[1+GetPlayerId(GetOwningPlayer(GetAttacker()))]>0.00endfunctionfunction aXv takes nothing returns nothinglocal unit u=GetKillingUnit()local integer HJ=0if GetUnitAbilityLevel(u,'A06L')!=0 thenset HJ=GetUnitAbilityLevel(u,'A03N')call UnitRemoveAbility(u,'A03N')call UnitAddAbility(u,'A03N')call SetUnitAbilityLevel(u,'A03N',HJ)endifset u=nullendfunctionfunction aOv takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local trigger t2=nulllocal unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local unit uc=LoadUnitHandle(Jv,GetHandleId(t),1)local integer i=1+GetPlayerId(GetOwningPlayer(u))local real BW=1+xR[i]local real cW=0.if GetUnitAbilityLevel(u,'A07T')>=1 thenset BW=BW+1.endifif GetUnitAbilityLevel(u,'A07X')>=1 thenset BW=BW+1.6endifset t2=CreateTrigger()call TriggerRegisterUnitEvent(t2,uc,EVENT_UNIT_DEATH)call TriggerAddAction(t2,function aXv)if(((EVENT_UNIT_DAMAGED==GetTriggerEventId())==true))thenif u==GetEventDamageSource()thencall DisableTrigger(t)set cW=bW(u,uc,140.,190.,BW,'A03N')call gW(u,uc,cW)call EnableTrigger(t)set fb[i]=ucall DestroyTrigger(t)endifelseset fb[i]=ucall DestroyTrigger(t)endifset t=nullset t2=nullset u=nullset uc=nullendfunctionfunction aRv takes nothing returns nothinglocal trigger t=CreateTrigger()local unit u=GetAttacker()local unit uc=GetAttackedUnitBJ()set Db[1+GetPlayerId(GetOwningPlayer(GetAttacker()))]=0.00call UnitRemoveAbility(GetAttacker(),'BOwk')if fb[1+GetPlayerId(GetOwningPlayer(u))]!=GetAttackedUnitBJ()thencall SaveUnitHandle(Jv,GetHandleId(t),0,u)call SaveUnitHandle(Jv,GetHandleId(t),1,uc)call TriggerRegisterUnitEvent(t,uc,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEventSingle(t,1.00)call TriggerAddCondition(t,Condition(function aOv))endifset t=nullset u=nullset uc=nullendfunctionfunction aIv takes nothing returns booleanreturn(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())))and GetUnitAbilityLevel(GetTriggerUnit(),'A03N')>=1endfunctionfunction aAv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit uc=GetEventDamageSource()local location vJ=GetUnitLoc(u)if GetRandomInt(0,100)<15*GetUnitAbilityLevel(u,'A07Q')thencall Ww(u)call CreateTextTagLocBJ("MISS",vJ,0,14.,GetRandomReal(0.,100),GetRandomReal(0.,100),GetRandomReal(0.,100),.0)call Nw(3,bj_lastCreatedTextTag)endifcall RemoveLocation(vJ)set vJ=nullset u=nullset uc=nullendfunctionfunction aNv takes nothing returns booleanreturn(IsUnitAlly(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==false)and(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==false)and GetUnitAbilityLevel(GetAttacker(),'A03O')!=0endfunctionfunction abv takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local unit u=LoadUnitHandle(Jv,GetHandleId(t),0)local unit uc=LoadUnitHandle(Jv,GetHandleId(t),1)local real BW=GetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD)local real cW=0.if(((EVENT_UNIT_DAMAGED==GetTriggerEventId())))thencall AdjustPlayerStateBJ(5*GetUnitLevel(uc),GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD)if(GetUnitAbilityLevel(u,'A03N'))!=0 thencall AdjustPlayerStateBJ(5*GetUnitLevel(uc),GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD)endifif sw(ER[1+GetPlayerId(GetOwningPlayer(u))],'I09Z')thencall AdjustPlayerStateBJ(5*GetUnitLevel(uc),GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD)set BW=BW*2endifif(GetUnitAbilityLevel(u,'A03Q'))!=0 thencall DisableTrigger(t)set cW=bW(u,uc,0.001,0.002,BW,'A03O')call gW(u,uc,cW)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",uc,"overhead"))call EnableTrigger(t)endifif(GetUnitAbilityLevel(u,'S002'))!=0 and GetRandomInt(1,100)<=15 thencall AdjustPlayerStateBJ(2,GetOwningPlayer(u),PLAYER_STATE_RESOURCE_LUMBER)endifset Fb[1+GetPlayerId(GetOwningPlayer(GetAttacker()))]=ucall DestroyTrigger(t)elseset Fb[1+GetPlayerId(GetOwningPlayer(GetAttacker()))]=ucall DestroyTrigger(t)endifset t=nullset u=nullset uc=nullendfunctionfunction aBv takes nothing returns nothinglocal trigger t=CreateTrigger()local unit u=GetAttacker()if Fb[1+GetPlayerId(GetOwningPlayer(GetAttacker()))]!=GetAttackedUnitBJ()thencall SaveUnitHandle(Jv,GetHandleId(t),0,ER[1+GetPlayerId(GetOwningPlayer(u))])call SaveUnitHandle(Jv,GetHandleId(t),1,GetAttackedUnitBJ())call TriggerRegisterUnitEvent(t,GetAttackedUnitBJ(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEventSingle(t,1.00)call TriggerAddCondition(t,Condition(function abv))endifset t=nullendfunctionfunction acv takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),'A0CE')!=0 and GetEventDamage()>=GetWidgetLife(GetTriggerUnit())endfunctionfunction aCv takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and IsUnitAliveBJ(GetFilterUnit())endfunctionfunction adv takes nothing returns nothinglocal unit uc=GetEnumUnit()local real BW=1.local real cW=0.local location vJ=GetUnitLoc(uc)set cW=bW(GetTriggerUnit(),uc,800,320,BW,'A0CH')call gW(GetTriggerUnit(),uc,cW)if GetUnitAbilityLevel(GetTriggerUnit(),'A07V')>=1 thenset BW=BW+1.endifif GetUnitAbilityLevel(GetTriggerUnit(),'A06P')>=1 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(GetTriggerUnit()),vJ,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093678412)call IssueTargetOrderById(bj_lastCreatedUnit,$D007F,uc)call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,2.)call ShowUnitHide(bj_lastCreatedUnit)call CreateTextTagLocBJ("封穴",vJ,0,12.,65.,55.,42.,0)call Nw(3.,bj_lastCreatedTextTag)call SetTextTagVelocityBJ(bj_lastCreatedTextTag,100.,90)endifif GetUnitAbilityLevel(GetTriggerUnit(),'A07O')>=1 thencall CreateNUnitsAtLoc(1,1697656880,GetOwningPlayer(GetTriggerUnit()),vJ,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A0DF')call IssueTargetOrderById(bj_lastCreatedUnit,$D0062,GetTriggerUnit())call UnitApplyTimedLife(bj_lastCreatedUnit,1112045413,3.)endifcall RemoveLocation(vJ)set vJ=nullset uc=nullendfunctionfunction aDv takes nothing returns nothinglocal unit u=GetTriggerUnit()local group g=CreateGroup()local location vJ=GetUnitLoc(u)local real KF=800.if(GetUnitState(u,UNIT_STATE_LIFE)>=0.99*GetUnitState(u,UNIT_STATE_MAX_LIFE))or(GetRandomReal(1,100)<=40)or(GetRandomReal(1,100)<=40 and GetUnitAbilityLevel(u,'A0DN')!=0)thencall Ww(u)call SetWidgetLife(u,1.)if GetUnitAbilityLevel(u,'A0CH')!=0 thenif GetUnitAbilityLevel(u,'A07W')>=0 thenset KF=KF+700endifcall GroupEnumUnitsInRangeOfLoc(g,vJ,KF,Condition(function aCv))call ForGroupBJ(g,function adv)endifif GetUnitAbilityLevel(u,'A080')!=0 thenset gb[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=20.call FL(2.)set gb[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0.endifendifcall GroupClear(g)call RemoveLocation(vJ)set vJ=nullset g=nullset u=nullendfunctionfunction afv takes nothing returns booleanlocal integer i=1set i=1loopexitwhen i>=6if GetUnitAbilityLevel(ER[i],'A0CE')!=0 thenif GetUnitMoveSpeed(ER[i])<=200 thencall UnitAddAbility(ER[i],'A03S')call UnitAddAbility(ER[i],'A03R')elseif GetUnitMoveSpeed(ER[i])<=300 thencall UnitRemoveAbility(ER[i],'A03S')call UnitAddAbility(ER[i],'A03R')elsecall UnitRemoveAbility(ER[i],'A03R')call UnitRemoveAbility(ER[i],'A03S')endifendifset i=i+1endloopreturn falseendfunctionfunction aFv takes nothing returns booleanreturn GetIssuedOrderId()==$D0057 and GetUnitAbilityLevel(GetTriggerUnit(),'A03T')>=1endfunctionfunction agv takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer HJ=GetUnitAbilityLevel(u,'A03T')call UnitAddAbility(u,'A0DB')if GetUnitAbilityLevel(u,'A09D')>=1 thencall SetUnitAbilityLevel(u,'A0DB',HJ+1)elsecall SetUnitAbilityLevel(u,'A0DB',HJ)endifset u=nullendfunctionfunction aGv takes nothing returns booleanreturn GetIssuedOrderId()==$D0058 and GetUnitAbilityLevel(GetTriggerUnit(),'A03T')>=1endfunctionfunction ahv takes nothing returns nothinglocal unit u=GetTriggerUnit()call UnitRemoveAbility(u,'A0DB')set u=nullendfunctionfunction aHv takes nothing returns booleanreturn(GetSpellAbilityId()=='A04V')endfunctionfunction ajv takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit bU=GetSpellTargetUnit()local location vJ=GetUnitLoc(u)local location Zz=GetUnitLoc(bU)local real UM=0.5local integer i=1+GetPlayerId(GetOwningPlayer(u))local integer j=1local real kM=5.call GM(u,AngleBetweenPoints(vJ,Zz),DistanceBetweenPoints(vJ,Zz),UM,0.01,0.)call FL(UM)call UnitAddAbility(u,'A04S')call SetPlayerAbilityAvailableBJ(false,'A04S',GetOwningPlayer(u))if IsUnitAlly(bU,GetOwningPlayer(u))thencall UnitAddAbility(bU,'A04S')call SetPlayerAbilityAvailableBJ(false,'A04S',GetOwningPlayer(bU))endifloopexitwhen j>6if(ER[i]==bd[j])thenif(ModuloInteger(j,2)==0)thenif(bd[j-1]!=null)and bd[j-1]==bU thencall SetUnitAbilityLevel(u,'A04T',3)call SetUnitAbilityLevel(u,'A04U',3)if IsUnitAlly(bU,GetOwningPlayer(u))thencall SetUnitAbilityLevel(bU,'A04T',3)call SetUnitAbilityLevel(bU,'A04U',3)endifendifelseif(bd[j+1]!=null)and bd[j+1]==bU thencall SetUnitAbilityLevel(u,'A04T',3)call SetUnitAbilityLevel(u,'A04U',3)if IsUnitAlly(bU,GetOwningPlayer(u))thencall SetUnitAbilityLevel(bU,'A04T',3)call SetUnitAbilityLevel(bU,'A04U',3)endifendifendifendifset j=j+1endloopif GetUnitAbilityLevel(u,'A09D')>=1 thenset kM=10.endifcall FL(kM)call UnitRemoveAbility(u,'A04S')if GetUnitAbilityLevel(u,'A04S')>=1 thencall UnitRemoveAbility(bU,'A04S')endifcall RemoveLocation(vJ)call RemoveLocation(Zz)set u=nullset bU=nullset vJ=nullset Zz=nullendfunctionfunction aJv takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function i8v))call TriggerAddAction(t,function i9v)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function aov))call TriggerAddAction(t,function arv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function avv))call TriggerAddAction(t,function axv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function aiv))call TriggerAddAction(t,function aVv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function aEv))call TriggerAddAction(t,function aRv)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function aIv))call TriggerAddAction(t,function aAv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function aNv))call TriggerAddAction(t,function aBv)set t=CreateTrigger()call tL(t)call TriggerAddCondition(t,Condition(function acv))call TriggerAddAction(t,function aDv)set t=CreateTrigger()call TriggerRegisterTimerEventPeriodic(t,0.1)call TriggerAddCondition(t,Condition(function afv))set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function aFv))call TriggerAddAction(t,function agv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function aGv))call TriggerAddAction(t,function ahv)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function aHv))call TriggerAddAction(t,function ajv)set t=nullendfunctionfunction akv takes nothing returns nothingcall SetPlayerStateBJ(Player(0),PLAYER_STATE_RESOURCE_FOOD_CAP,50)call SetPlayerStateBJ(Player(1),PLAYER_STATE_RESOURCE_FOOD_CAP,50)call SetPlayerStateBJ(Player(2),PLAYER_STATE_RESOURCE_FOOD_CAP,50)call SetPlayerStateBJ(Player(3),PLAYER_STATE_RESOURCE_FOOD_CAP,50)call SetPlayerStateBJ(Player(4),PLAYER_STATE_RESOURCE_FOOD_CAP,50)call SetPlayerStateBJ(Player(5),PLAYER_STATE_RESOURCE_FOOD_CAP,50)call ShowUnit(pV,false)call ShowUnit(qV,false)call ShowUnit(PV,true)call ShowUnit(mV,true)call xsv()call IssueImmediateOrder(MV,"lavamonster")call UnitApplyTimedLife(MV,'BHwe',20.00)endfunctionfunction aKv takes nothing returns nothingset BV=CreateTrigger()call TriggerAddAction(BV,function akv)endfunctionfunction alv takes nothing returns nothingcall Hl(GetTriggerUnit(),0,0,300)call oav()call ogv()call oWv()call rbv()call rsv()call iXv()call igv()call i7v()call aJv()call iP("R",(yl(((0.01)*1.0))*0.3010300))endfunctionfunction aLv takes nothing returns nothingset cV=CreateTrigger()call TriggerRegisterTimerEventSingle(cV,0.00)call TriggerAddAction(cV,function alv)endfunctionfunction Trig____________________005Conditions takes nothing returns booleanreturn((oM(GetTriggerUnit(),'texp')==true))endfunctionfunction Trig____________________005Actions takes nothing returns nothingcall xT('I099',1,'I09A',1,'I09P',1,'ches',0,'ches',0,'ches',0,'I09C')call SelectHeroSkill(mV,'AHbz')endfunctionfunction amv takes nothing returns nothingendfunctionfunction aMv takes nothing returns nothingcall Hl(GetTriggerUnit(),0,0,300)call Hl(GetTriggerUnit(),1,0,300)call Hl(GetTriggerUnit(),3,0,300)call Hl(GetTriggerUnit(),2,0,300)call GM(GetTriggerUnit(),0,0.00,2,0.01,GetRandomReal(100,500))call GM(GetTriggerUnit(),0,0.00,2,0.01,GetRandomReal(100,500))call mu(15.,AddSpecialEffectLoc("war3mapImported\\kineticfield_fx_stand.mdx",Location(0,0)))call qu(2,GetLastCreatedLightningBJ())endfunctionfunction apv takes nothing returns nothingset CV=CreateTrigger()call TriggerAddAction(CV,function aMv)endfunctionfunction aPv takes nothing returns nothingendfunctionfunction aqv takes nothing returns nothingset dV=CreateTrigger()call DisableTrigger(dV)call tL(dV)call zL(dV,GetCurrentCameraBoundsMapRectBJ())call TriggerAddAction(dV,function aPv)endfunctionfunction aQv takes nothing returns nothingset bj_forLoopBIndex=1set bj_forLoopBIndexEnd=6loopexitwhen bj_forLoopBIndex>bj_forLoopBIndexEndcall ZP(ConvertedPlayer(bj_forLoopBIndex),"JueZhan","JiangHu",1)set AV[bj_forLoopBIndex]=(AV[bj_forLoopBIndex]+iQ(ConvertedPlayer(bj_forLoopBIndex),"总积分",1))set bj_forLoopBIndex=bj_forLoopBIndex+1endloopendfunctionfunction asv takes nothing returns nothingset DV=CreateTrigger()call TriggerRegisterTimerEventSingle(DV,1.00)call TriggerAddAction(DV,function aQv)endfunctionfunction aSv takes nothing returns nothingset AV[1]=(AV[1]+500)call eQ(Player(0),"总积分",1,AV[1])call wq(Player(0),"JueZhan","JiangHu",1)endfunctionfunction atv takes nothing returns nothingset fV=CreateTrigger()call TriggerRegisterPlayerChatEvent(fV,Player(0),"-Test",true)call TriggerAddAction(fV,function aSv)endfunctionfunction aTv takes nothing returns booleanreturn(YX[1+GetPlayerId(GetTriggerPlayer())]>=1)and(((GetUnitTypeId(ER[1+GetPlayerId(GetTriggerPlayer())])=='O02H')or(GetUnitTypeId(ER[1+GetPlayerId(GetTriggerPlayer())])=='O023')or(GetUnitTypeId(ER[1+GetPlayerId(GetTriggerPlayer())])=='O02I')))endfunctionfunction auv takes nothing returns nothingif((GetUnitTypeId(ER[1+GetPlayerId(GetTriggerPlayer())])=='O02H'))thenif GetRandomInt(1,2)==1 thencall UnitAddAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A044')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A044')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'Avul')elsecall UnitAddAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A047')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A047')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'Avul')endifelseif((GetUnitTypeId(ER[1+GetPlayerId(GetTriggerPlayer())])=='O02I'))thenif GetRandomInt(1,2)==1 thencall UnitAddAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A045')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A045')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'Avul')elsecall UnitAddAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A048')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A048')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'Avul')endifelseif((GetUnitTypeId(ER[1+GetPlayerId(GetTriggerPlayer())])=='O023'))thenif GetRandomInt(1,2)==1 thencall UnitAddAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A043')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A043')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'Avul')elsecall UnitAddAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A046')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'A046')call UnitRemoveAbility(ER[1+GetPlayerId(GetTriggerPlayer())],'Avul')endifendifset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=11loopexitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(I7[(GetPlayerId(GetTriggerPlayer()))*20+bj_forLoopAIndex]!='AEfk')thencall UnitAddAbility(ER[1+GetPlayerId(GetTriggerPlayer())],I7[(GetPlayerId(GetTriggerPlayer()))*20+bj_forLoopAIndex])call SetUnitAbilityLevel(ER[1+GetPlayerId(GetTriggerPlayer())],I7[(GetPlayerId(GetTriggerPlayer()))*20+bj_forLoopAIndex],LoadInteger(Jv,GetHandleId(GetTriggerPlayer()),I7[(GetPlayerId(GetTriggerPlayer()))*20+bj_forLoopAIndex]*5))endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction aUv takes nothing returns nothingset FV=CreateTrigger()call TriggerRegisterPlayerChatEvent(FV,Player(0),"换装",true)call TriggerRegisterPlayerChatEvent(FV,Player(1),"换装",true)call TriggerRegisterPlayerChatEvent(FV,Player(2),"换装",true)call TriggerRegisterPlayerChatEvent(FV,Player(3),"换装",true)call TriggerRegisterPlayerChatEvent(FV,Player(4),"换装",true)call TriggerAddCondition(FV,Condition(function aTv))call TriggerAddAction(FV,function auv)endfunctionfunction awv takes nothing returns booleanreturn(((GetSpellAbilityId()=='A03V')and(GetSpellTargetUnit()!=LV)))endfunctionfunction aWv takes nothing returns nothingif((GetSpellTargetUnit()==GetTriggerUnit()))thencall nu(GetSpellTargetUnit(),GetUnitFacing(GetTriggerUnit()),1200.00,1.20,0.01,0,false,false,true,"origin","Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl","Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl")elseif((rK(GetTriggerUnit(),GetSpellTargetUnit())>=1000.00))thencall nu(GetSpellTargetUnit(),XK(GetSpellTargetUnit(),GetTriggerUnit()),RMinBJ(1200.00,rK(GetTriggerUnit(),GetLastCreatedUnit())),RMinBJ(1.20,(rK(GetTriggerUnit(),GetSpellTargetUnit())/ 1000.00)),0.01,0,false,false,true,"origin","Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl","Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl")elsecall nu(GetSpellTargetUnit(),XK(GetTriggerUnit(),GetSpellTargetUnit()),1200.00,1.20,0.01,0,false,false,true,"origin","Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl","Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl")endifendifif(((GetUnitAbilityLevel(GetTriggerUnit(),'A06L')!=0)and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true)))thencall SetUnitLifePercentBJ(GetSpellTargetUnit(),100)elseendifif(((GetUnitAbilityLevel(GetTriggerUnit(),'A0CE')!=0)and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false)))thencall PW(GetTriggerUnit(),GetSpellTargetUnit(),11)elseendifendfunctionfunction ayv takes nothing returns nothingset gV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(gV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(gV,Condition(function awv))call TriggerAddAction(gV,function aWv)endfunctionfunction aYv takes nothing returns booleanreturn((GetSpellAbilityId()=='A03W'))endfunctionfunction azv takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))endfunctionfunction aZv takes nothing returns nothinglocal unit u=LoadUnitHandle(Jv,GetHandleId(GetExpiredTimer()),0)if(((GetUnitLifePercent(u)>1.00)and(UnitHasBuffBJ(u,'BUsl')==true)))thencall SetUnitLifePercentBJ(u,(GetUnitLifePercent(u)-0.5))elsecall FlushChildHashtable(Jv,GetHandleId(GetExpiredTimer()))call DestroyTimer(GetExpiredTimer())endifendfunctionfunction a_v takes nothing returns nothinglocal timer a0vcall CreateNUnitsAtLoc(1,'e000',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetEnumUnit()),bj_UNIT_FACING)call UnitAddAbility(GetLastCreatedUnit(),'A03X')call ShowUnitHide(GetLastCreatedUnit())call UnitApplyTimedLife(GetLastCreatedUnit(),'BHwe',3.00)call IssueTargetOrderById(GetLastCreatedUnit(),852227,GetEnumUnit())set a0v=CreateTimer()call SaveUnitHandle(Jv,GetHandleId(a0v),0,GetEnumUnit())call TimerStart(a0v,1.00,true,function aZv)set a0v=nullendfunctionfunction a1v takes nothing returns nothinglocal group a2vlocal unit a3vlocal timer a0vlocal integer a4v=LoadInteger(Jv,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)set a4v=a4v+3call SaveInteger(Jv,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,a4v)call SaveInteger(Jv,GetHandleId(GetTriggeringTrigger()),0xECE825E7,a4v)call SaveReal(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0xE6BB3831,900.00)if((GetUnitAbilityLevel(GetTriggerUnit(),'A07A')!=0))thencall SaveReal(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0xE6BB3831,1300.00)elseendifcall ForGroupBJ(pl(LoadReal(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0xE6BB3831),GetUnitLoc(GetTriggerUnit()),Condition(function azv)),function a_v)call FlushChildHashtable(Jv,GetHandleId(GetTriggeringTrigger())*a4v)set a2v=nullset a3v=nullset a0v=nullendfunctionfunction a5v takes nothing returns nothingset GV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(GV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(GV,Condition(function aYv))call TriggerAddAction(GV,function a1v)endfunctionfunction a6v takes nothing returns booleanreturn((GetSpellAbilityId()=='A03Z'))endfunctionfunction a7v takes nothing returns nothinglocal integer a4v=LoadInteger(Jv,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)set a4v=a4v+3call SaveInteger(Jv,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,a4v)call SaveInteger(Jv,GetHandleId(GetTriggeringTrigger()),0xECE825E7,a4v)call SetUnitLifePercentBJ(GetTriggerUnit(),(GetUnitLifePercent(GetTriggerUnit())/ 2.00))call SaveInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820,150+150*JI[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])if((GetUnitAbilityLevel(GetKillingUnitBJ(),'A07P')!=0))thencall SaveInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820,500+500*JI[1+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])elseendifcall ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,LoadInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820))call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,LoadInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820))call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,LoadInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820))call FL(15.00)call SaveInteger(Jv,GetHandleId(GetTriggeringTrigger()),0xECE825E7,a4v)call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,LoadInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820))call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,LoadInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820))call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,LoadInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820))call FlushChildHashtable(Jv,GetHandleId(GetTriggeringTrigger())*a4v)endfunctionfunction a8v takes nothing returns nothingset hV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hV,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(hV,Condition(function a6v))call TriggerAddAction(hV,function a7v)endfunctionfunction a9v takes nothing returns booleanreturn((GetUnitAbilityLevel(GetKillingUnitBJ(),'A03Z')!=0))endfunctionfunction nvv takes nothing returns nothinglocal integer a4v=LoadInteger(Jv,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76)set a4v=a4v+3call SaveInteger(Jv,GetHandleId(GetTriggeringTrigger()),0xCFDE6C76,a4v)call SaveInteger(Jv,GetHandleId(GetTriggeringTrigger()),0xECE825E7,a4v)call SaveInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820,GetConvertedPlayerId(GetTriggerPlayer()))set NV[LoadInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820)]=(NV[LoadInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820)]+1)if((NV[LoadInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820)]>=300))thenset NV[LoadInteger(Jv,GetHandleId(GetTriggeringTrigger())*a4v,0x25DAB820)]=0if((GetUnitState(GetKillingUnitBJ(),UNIT_STATE_LIFE)>2000.00))thencall Hl(GetTriggerUnit(),2,1,10)call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,20)call ModifyHeroStat(bj_HEROSTAT_AGI,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,30)call ModifyHeroStat(bj_HEROSTAT_INT,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,10)if((GetUnitAbilityLevel(GetKillingUnitBJ(),'A07W')!=0))thencall ModifyHeroStat(bj_HEROSTAT_AGI,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,30)elseendifelseendifelseendifcall FlushChildHashtable(Jv,GetHandleId(GetTriggeringTrigger())*a4v)endfunctionfunction nev takes nothing returns nothingset HV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(HV,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(HV,Condition(function a9v))call TriggerAddAction(HV,function nvv)endfunctionfunction nxv takes nothing returns booleanreturn(((GetUnitAbilityLevel(GetAttacker(),'A03Z')!=0)and(GetUnitAbilityLevel(GetAttacker(),'A084')!=0)and(GetRandomReal(0.00,100.00)<=15.00)))endfunctionfunction nov takes nothing returns nothingcall SetUnitLifePercentBJ(GetTriggerUnit(),(GetUnitLifePercent(GetTriggerUnit())*0.90))endfunctionfunction nrv takes nothing returns nothingset jV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jV,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(jV,Condition(function nxv))call TriggerAddAction(jV,function nov)endfunctionfunction niv takes nothing returns nothingendfunctionfunction nav takes nothing returns nothingset JV=CreateTrigger()call TriggerAddAction(JV,function niv)endfunctionfunction nnv takes nothing returns booleanreturn(((GetIssuedOrderIdBJ()==String2OrderIdBJ("stoneform"))or(GetIssuedOrderIdBJ()==String2OrderIdBJ("hex"))))endfunctionfunction nVv takes nothing returns nothingif((GetIssuedOrderIdBJ()==String2OrderIdBJ("stoneform")))thencall IssueImmediateOrder(GetTriggerUnit(),"stop")elseendifif((GetIssuedOrderIdBJ()==String2OrderIdBJ("hex")))thencall IssueImmediateOrder(GetTriggerUnit(),"holdposition")elseendifendfunctionfunction nEv takes nothing returns nothingset kV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kV,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(kV,Condition(function nnv))call TriggerAddAction(kV,function nVv)endfunctionfunction nXv takes nothing returns booleanreturn(((GetIssuedOrderIdBJ()==String2OrderIdBJ("autoharvestgold"))or(GetIssuedOrderIdBJ()==String2OrderIdBJ("mount"))))endfunctionfunction nOv takes nothing returns nothingif((GetIssuedOrderIdBJ()==String2OrderIdBJ("mount")))thencall IssuePointOrderByIdLoc(GetTriggerUnit(),851986,GetOrderPointLoc())elseendifif((GetIssuedOrderIdBJ()==String2OrderIdBJ("autoharvestgold")))thencall IssuePointOrderByIdLoc(GetTriggerUnit(),851983,GetOrderPointLoc())elseendifendfunctionfunction nRv takes nothing returns nothingset KV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(KV,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)call TriggerAddCondition(KV,Condition(function nXv))call TriggerAddAction(KV,function nOv)endfunctionfunction nIv takes nothing returns booleanreturn(((GetIssuedOrderIdBJ()==String2OrderIdBJ("autoharvestgold"))or(GetIssuedOrderIdBJ()==String2OrderIdBJ("mount"))))endfunctionfunction nAv takes nothing returns nothingif((GetIssuedOrderIdBJ()==String2OrderIdBJ("mount")))thencall IssueTargetOrderById(GetTriggerUnit(),851986,GetOrderTargetUnit())elseendifif((GetIssuedOrderIdBJ()==String2OrderIdBJ("autoharvestgold")))thencall IssueTargetOrderById(GetTriggerUnit(),851983,GetOrderTargetUnit())elseendifendfunctionfunction nNv takes nothing returns nothingset lV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(lV,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(lV,Condition(function nIv))call TriggerAddAction(lV,function nAv)endfunctionfunction nbv takes nothing returns nothingcall aKv()call aLv()call amv()call apv()call aqv()call asv()call atv()call aUv()call ayv()call a5v()call a8v()call nev()call nrv()call nav()call nEv()call nRv()call nNv()endfunctionfunction RunInitializationTriggers takes nothing returns nothingcall ConditionalTriggerExecute(BV)endfunctionfunction nBv takes nothing returns nothingcall SetPlayerStartLocation(Player(0),0)call ForcePlayerStartLocation(Player(0),0)call SetPlayerColor(Player(0),ConvertPlayerColor(0))call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(0),false)call SetPlayerController(Player(0),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(1),1)call ForcePlayerStartLocation(Player(1),1)call SetPlayerColor(Player(1),ConvertPlayerColor(1))call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(1),false)call SetPlayerController(Player(1),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(2),2)call ForcePlayerStartLocation(Player(2),2)call SetPlayerColor(Player(2),ConvertPlayerColor(2))call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(2),false)call SetPlayerController(Player(2),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(3),3)call ForcePlayerStartLocation(Player(3),3)call SetPlayerColor(Player(3),ConvertPlayerColor(3))call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(3),false)call SetPlayerController(Player(3),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(4),4)call ForcePlayerStartLocation(Player(4),4)call SetPlayerColor(Player(4),ConvertPlayerColor(4))call SetPlayerRacePreference(Player(4),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(4),false)call SetPlayerController(Player(4),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(5),5)call ForcePlayerStartLocation(Player(5),5)call SetPlayerColor(Player(5),ConvertPlayerColor(5))call SetPlayerRacePreference(Player(5),RACE_PREF_ORC)call SetPlayerRaceSelectable(Player(5),false)call SetPlayerController(Player(5),MAP_CONTROL_COMPUTER)call SetPlayerStartLocation(Player(6),6)call ForcePlayerStartLocation(Player(6),6)call SetPlayerColor(Player(6),ConvertPlayerColor(6))call SetPlayerRacePreference(Player(6),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player(6),false)call SetPlayerController(Player(6),MAP_CONTROL_COMPUTER)call SetPlayerStartLocation(Player(7),7)call ForcePlayerStartLocation(Player(7),7)call SetPlayerColor(Player(7),ConvertPlayerColor(7))call SetPlayerRacePreference(Player(7),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(7),false)call SetPlayerController(Player(7),MAP_CONTROL_COMPUTER)call SetPlayerStartLocation(Player(8),8)call ForcePlayerStartLocation(Player(8),8)call SetPlayerColor(Player(8),ConvertPlayerColor(8))call SetPlayerRacePreference(Player(8),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(8),false)call SetPlayerController(Player(8),MAP_CONTROL_COMPUTER)endfunctionfunction InitCustomTeams takes nothing returns nothingcall SetPlayerTeam(Player(0),0)call SetPlayerState(Player(0),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(1),0)call SetPlayerState(Player(1),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(2),0)call SetPlayerState(Player(2),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(3),0)call SetPlayerState(Player(3),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(4),0)call SetPlayerState(Player(4),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(5),0)call SetPlayerState(Player(5),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerAllianceStateAllyBJ(Player(0),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(0),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(1),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(2),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(4),true)call SetPlayerAllianceStateVisionBJ(Player(3),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(4),Player(5),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(0),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(1),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(2),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(3),true)call SetPlayerAllianceStateVisionBJ(Player(5),Player(4),true)call SetPlayerTeam(Player(6),1)call SetPlayerState(Player(6),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(7),1)call SetPlayerState(Player(7),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerTeam(Player(8),1)call SetPlayerState(Player(8),PLAYER_STATE_ALLIED_VICTORY,1)call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(7),true)call SetPlayerAllianceStateVisionBJ(Player(6),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(7),Player(8),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(6),true)call SetPlayerAllianceStateVisionBJ(Player(8),Player(7),true)endfunctionfunction ncv takes nothing returns nothingcall SetStartLocPrioCount(0,4)call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(1,4)call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(2,4)call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(3,4)call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(4,4)call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)endfunctionfunction main takes nothing returns nothingcall SetCameraBounds(-15616.0+GetCameraMargin(CAMERA_MARGIN_LEFT),-15872.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM),15616.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),15360.0-GetCameraMargin(CAMERA_MARGIN_TOP),-15616.0+GetCameraMargin(CAMERA_MARGIN_LEFT),15360.0-GetCameraMargin(CAMERA_MARGIN_TOP),15616.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),-15872.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM))call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")call NewSoundEnvironment("Default")call SetAmbientDaySound("VillageDay")call SetAmbientNightSound("VillageNight")call SetMapMusic("Music",true,0)call VU()call cF()call ExecuteFunc("nCv")call ExecuteFunc("VJ")call ExecuteFunc("sJ")call ExecuteFunc("oK")call ExecuteFunc("UK")call ExecuteFunc("ml")call ExecuteFunc("dL")call ExecuteFunc("ML")call ExecuteFunc("nQ")call ExecuteFunc("eT")call ExecuteFunc("Bu")call ExecuteFunc("Tu")call vU()call nbv()call ConditionalTriggerExecute(BV)endfunctionfunction config takes nothing returns nothingcall SetMapName("TRIGSTR_5197")call SetMapDescription("TRIGSTR_5199")call SetPlayers(9)call SetTeams(9)call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)call DefineStartLocation(0,1728.0,-4160.0)call DefineStartLocation(1,1728.0,-4160.0)call DefineStartLocation(2,1728.0,-4160.0)call DefineStartLocation(3,1728.0,-4160.0)call DefineStartLocation(4,1728.0,-4160.0)call DefineStartLocation(5,-3328.0,-15616.0)call DefineStartLocation(6,1728.0,-4160.0)call DefineStartLocation(7,1728.0,-4160.0)call DefineStartLocation(8,1728.0,-4160.0)call nBv()call InitCustomTeams()call ncv()endfunctionfunction ndv takes nothing returns booleanlocal integer FF=jClocal integer KF=kClocal integer mF=lClocal integer pF=LClocal integer sF=mClocal integer zzset zz=SF()set yc[zz]=FFset Zc[zz]=KFset eC[zz]=mFset oC[zz]=pFset rC[zz]=sFset UC=zzreturn trueendfunctionfunction nDv takes nothing returns booleanlocal integer wF=sCset yc[wF]=0set Zc[wF]=0set eC[wF]=0set oC[wF]=0set rC[wF]=0return trueendfunctionfunction nfv takes nothing returns booleanlocal integer wF=sCset Kc[wF]=0set mc[wF]=0set pc[wF]=0return trueendfunctionfunction nFv takes nothing returns booleanlocal integer wF=sClocal string s=""set s=s+"+"+GetAbilityName(Kc[wF])+"："if mc[wF]!=2 thenset s=s+"伤害+"+I2S(R2I(Qc[wF]*100))+"%"elseif R2I(Qc[wF])==1 thenset s=s+"几率造成内伤"elseif R2I(Qc[wF])==2 thenset s=s+"几率造成走火入魔"elseif R2I(Qc[wF])==3 thenset s=s+"几率造成流血"elseif R2I(Qc[wF])==4 thenset s=s+"几率造成混乱"elseif R2I(Qc[wF])==5 thenset s=s+"几率造成昏迷"elseif R2I(Qc[wF])==6 thenset s=s+"几率造成重伤"elseif R2I(Qc[wF])==7 thenset s=s+"几率造成血流不止"elseif R2I(Qc[wF])==8 thenset s=s+"几率造成麻痹"elseif R2I(Qc[wF])==9 thenset s=s+"几率造成破防"elseif R2I(Qc[wF])==10 thenset s=s+"几率造成神经错乱"elseif R2I(Qc[wF])==11 thenset s=s+"几率造成封穴"elseif R2I(Qc[wF])==12 thenset s=s+"几率造成穴位全封"elseif R2I(Qc[wF])==13 thenset s=s+"几率造成中毒"endifendifset tC=sreturn trueendfunctionfunction ngv takes nothing returns booleanlocal integer wF=sCset bc[wF]=0set dc[wF]=0return trueendfunctionfunction nGv takes nothing returns booleanlocal integer wF=sCcall FlushChildHashtable(Jv,StringHash(("YDWEStringFormula."+I2S(wF))))return trueendfunctionfunction nhv takes nothing returns booleanlocal integer wF=sCcall RemoveSavedInteger(Jv,StringHash(("YDWETimerPattern.")),StringHash((I2S((GetHandleId(((MB[wF]))))))))call RemoveSavedInteger(Jv,StringHash(("YDWETimerPattern.")),StringHash((I2S((GetHandleId(((nc[wF]))))))))call GroupClear(ic[wF])call DestroyGroup(ic[wF])call PauseTimer(nc[wF])call DestroyTimer(nc[wF])call DG(JB[wF])call DG(kB[wF])call DG(KB[wF])set lB[wF]=nullset LB[wF]=nullset MB[wF]=nullset ic[wF]=nullset nc[wF]=nullset sB[wF]=0set uB[wF]=0set UB[wF]=0set WB[wF]=""set yB[wF]=""set YB[wF]=""set zB[wF]=""return trueendfunctionfunction nHv takes nothing returns booleanlocal integer wF=sClocal integer i=0loopexitwhen i==RBset OB[IB[wF]+i]=0set AB[NB[wF]+i]=0set i=i+1endloopset BB[wF]=""return trueendfunctionfunction njv takes nothing returns booleancall pH((pC),((qC)*1.0))return trueendfunctionfunction nCv takes nothing returns nothingset gC=CreateTrigger()call TriggerAddCondition(gC,Condition(function ndv))set GC=CreateTrigger()call TriggerAddCondition(GC,Condition(function nDv))set DC=CreateTrigger()call TriggerAddCondition(DC,Condition(function nfv))set fC=CreateTrigger()call TriggerAddCondition(fC,Condition(function nFv))set dC=CreateTrigger()call TriggerAddCondition(dC,Condition(function ngv))set XC[2]=CreateTrigger()set XC[3]=XC[2]call TriggerAddCondition(XC[2],Condition(function nGv))set RC[10]=CreateTrigger()set RC[11]=RC[10]set RC[12]=RC[10]set RC[13]=RC[10]call TriggerAddCondition(RC[10],Condition(function nhv))set bC=CreateTrigger()call TriggerAddCondition(bC,Condition(function nHv))set hC[1]=CreateTrigger()call TriggerAddAction(hC[1],function njv)call TriggerAddCondition(hC[1],Condition(function njv))call ExecuteFunc("s__ModSpeed_Init__onInit")call ExecuteFunc("gQ")call ExecuteFunc("qQ")endfunction